<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|1deb7a0e9615c4a038e19e7914cc76d31b7151d2|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"a9faf08e91022f\"";
WRM._unparsedData["project-id"]="12310230";
WRM._unparsedData["project-key"]="\"SOLR\"";
WRM._unparsedData["project-name"]="\"Solr\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310230";
WRM._unparsedData["projectKey"]="\"SOLR\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="SOLR-11278"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[SOLR-11278] Fix race in cdcr bootstrap process - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[SOLR-11278] Fix race in cdcr bootstrap process - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/SOLR" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-11278">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310230" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Solr'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310230&amp;avatarId=22151"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/SOLR">Solr</a></li>
                 <li><a class="issue-link" data-issue-key="SOLR-11278" href="/jira/browse/SOLR-11278" id="key-val" rel="13096857">SOLR-11278</a></li>
                </ol>
                <h1 id="summary-val">Fix race in cdcr bootstrap process</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-11278"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/SOLR-11278/SOLR-11278.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/SOLR-11278/SOLR-11278.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/SOLR-11278/SOLR-11278.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/SOLR-11278/SOLR-11278.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/critical.svg" title="Critical - Crashes, loss of data, severe memory leak." width="16"> Critical </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="6.6.1 Bugfix release after 6.6">6.6.1</span>, <span title="7.0 First 7x release, major release after 6.6">7.0</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+7.1" title="7.1 Minor release after 7.0">7.1</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+component+%3D+CDCR" title="CDCR Cross DataCenter Replication">CDCR</a> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Security Level:</strong> 
                   <span id="security-val" class="value"> <span class="note">Public</span> (Default Security Level. Issues are Public) </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <ul class="labels" id="labels-13096857-value"> 
                     <li><a class="lozenge" href="/jira/issues/?jql=labels+%3D+test" title="test"><span>test</span></a></li> 
                    </ul> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p><tt>CdcrBootstrapTest</tt> is failing while running beasts for significant iterations.</p> 
                  <p>The bootstrapping is failing in the test, after the first batch is indexed for each <tt>testmethod</tt>, which results in documents mismatch ::</p> 
                  <div class="code panel" style="border-width: 1px;">
                   <div class="codeContent panelContent"> 
                    <pre class="code-java">  [beaster]   2&gt; 39167 ERROR (updateExecutor-39-thread-1-processing-n:127.0.0.1:42155_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42155_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler Bootstrap operation failed
  [beaster]   2&gt; java.util.concurrent.ExecutionException: java.lang.AssertionError
  [beaster]   2&gt; 	at java.util.concurrent.FutureTask.report(FutureTask.java:122)
  [beaster]   2&gt; 	at java.util.concurrent.FutureTask.get(FutureTask.java:192)
  [beaster]   2&gt; 	at org.apache.solr.handler.CdcrRequestHandler.lambda$handleBootstrapAction$0(CdcrRequestHandler.java:654)
  [beaster]   2&gt; 	at com.codahale.metrics.InstrumentedExecutorService$InstrumentedRunnable.run(InstrumentedExecutorService.java:176)
  [beaster]   2&gt; 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
  [beaster]   2&gt; 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
  [beaster]   2&gt; 	at org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:188)
  [beaster]   2&gt; 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
  [beaster]   2&gt; 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
  [beaster]   2&gt; 	at java.lang.<span class="code-object">Thread</span>.run(<span class="code-object">Thread</span>.java:748)
  [beaster]   2&gt; Caused by: java.lang.AssertionError
  [beaster]   2&gt; 	at org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:813)
  [beaster]   2&gt; 	at org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:724)
  [beaster]   2&gt; 	at com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:197)
  [beaster]   2&gt; 	... 5 more
</pre> 
                   </div>
                  </div> 
                  <div class="code panel" style="border-width: 1px;">
                   <div class="codeContent panelContent"> 
                    <pre class="code-java">  [beaster] [01:37:16.282] FAILURE  153s | CdcrBootstrapTest.testBootstrapWithSourceCluster &lt;&lt;&lt;
  [beaster]    &gt; Throwable #1: java.lang.AssertionError: Document mismatch on target after sync expected:&lt;2000&gt; but was:&lt;1000&gt;
</pre> 
                   </div>
                  </div> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/SOLR-11278?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/SOLR-11278?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/SOLR-11278?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/SOLR-11278?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12884984" data-issue-id="13096857" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12884984/master-bs.patch" draggable="true" data-downloadurl="text/plain:master-bs.patch:https://issues.apache.org/jira/secure/attachment/12884984/master-bs.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12884984/master-bs.patch" title="Latest  01/Sep/17 17:36 - Amrit Sarkar" draggable="true" data-downloadurl="text/plain:master-bs.patch:https://issues.apache.org/jira/secure/attachment/12884984/master-bs.patch">master-bs.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-09-01T17:36:30.281Z">01/Sep/17 17:36</time>
                   </dd>
                   <dd class="attachment-size">
                    11 kB
                   </dd>
                   <dd class="attachment-author">
                    Amrit Sarkar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12888567" data-issue-id="13096857" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12888567/SOLR-11278.patch" draggable="true" data-downloadurl="text/plain:SOLR-11278.patch:https://issues.apache.org/jira/secure/attachment/12888567/SOLR-11278.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12888567/SOLR-11278.patch" title="Latest  22/Sep/17 20:56 - Amrit Sarkar" draggable="true" data-downloadurl="text/plain:SOLR-11278.patch:https://issues.apache.org/jira/secure/attachment/12888567/SOLR-11278.patch">SOLR-11278.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-09-22T20:56:21.392Z">22/Sep/17 20:56</time>
                   </dd>
                   <dd class="attachment-size">
                    3 kB
                   </dd>
                   <dd class="attachment-author">
                    Amrit Sarkar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12888164" data-issue-id="13096857" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12888164/SOLR-11278.patch" draggable="true" data-downloadurl="text/plain:SOLR-11278.patch:https://issues.apache.org/jira/secure/attachment/12888164/SOLR-11278.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12888164/SOLR-11278.patch" title=" 20/Sep/17 23:44 - Amrit Sarkar" draggable="true" data-downloadurl="text/plain:SOLR-11278.patch:https://issues.apache.org/jira/secure/attachment/12888164/SOLR-11278.patch">SOLR-11278.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-09-20T23:44:03.077Z">20/Sep/17 23:44</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Amrit Sarkar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12887794" data-issue-id="13096857" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12887794/SOLR-11278.patch" draggable="true" data-downloadurl="text/plain:SOLR-11278.patch:https://issues.apache.org/jira/secure/attachment/12887794/SOLR-11278.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12887794/SOLR-11278.patch" title=" 19/Sep/17 00:07 - Amrit Sarkar" draggable="true" data-downloadurl="text/plain:SOLR-11278.patch:https://issues.apache.org/jira/secure/attachment/12887794/SOLR-11278.patch">SOLR-11278.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-09-19T00:07:12.676Z">19/Sep/17 00:07</time>
                   </dd>
                   <dd class="attachment-size">
                    3 kB
                   </dd>
                   <dd class="attachment-author">
                    Amrit Sarkar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12884217" data-issue-id="13096857" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12884217/SOLR-11278.patch" draggable="true" data-downloadurl="text/plain:SOLR-11278.patch:https://issues.apache.org/jira/secure/attachment/12884217/SOLR-11278.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12884217/SOLR-11278.patch" title=" 29/Aug/17 09:40 - Amrit Sarkar" draggable="true" data-downloadurl="text/plain:SOLR-11278.patch:https://issues.apache.org/jira/secure/attachment/12884217/SOLR-11278.patch">SOLR-11278.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-08-29T09:40:30.931Z">29/Aug/17 09:40</time>
                   </dd>
                   <dd class="attachment-size">
                    7 kB
                   </dd>
                   <dd class="attachment-author">
                    Amrit Sarkar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12885097" data-issue-id="13096857" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12885097/SOLR-11278-awaits-fix.patch" draggable="true" data-downloadurl="text/plain:SOLR-11278-awaits-fix.patch:https://issues.apache.org/jira/secure/attachment/12885097/SOLR-11278-awaits-fix.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12885097/SOLR-11278-awaits-fix.patch" title="Latest  02/Sep/17 19:35 - Amrit Sarkar" draggable="true" data-downloadurl="text/plain:SOLR-11278-awaits-fix.patch:https://issues.apache.org/jira/secure/attachment/12885097/SOLR-11278-awaits-fix.patch">SOLR-11278-awaits-fix.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-09-02T19:35:14.399Z">02/Sep/17 19:35</time>
                   </dd>
                   <dd class="attachment-size">
                    0.7 kB
                   </dd>
                   <dd class="attachment-author">
                    Amrit Sarkar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12884483" data-issue-id="13096857" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12884483/SOLR-11278-cancel-bootstrap-on-stop.patch" draggable="true" data-downloadurl="text/plain:SOLR-11278-cancel-bootstrap-on-stop.patch:https://issues.apache.org/jira/secure/attachment/12884483/SOLR-11278-cancel-bootstrap-on-stop.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12884483/SOLR-11278-cancel-bootstrap-on-stop.patch" title="Latest  30/Aug/17 14:28 - Shalin Shekhar Mangar" draggable="true" data-downloadurl="text/plain:SOLR-11278-cancel-bootstrap-on-stop.patch:https://issues.apache.org/jira/secure/attachment/12884483/SOLR-11278-cancel-bootstrap-on-stop.patch">SOLR-11278-cancel-bootstrap-on-stop.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-08-30T14:28:21.165Z">30/Aug/17 14:28</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Shalin Shekhar Mangar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12883404" data-issue-id="13096857" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12883404/test_results" draggable="true" data-downloadurl="text/html:test_results:https://issues.apache.org/jira/secure/attachment/12883404/test_results"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-code" title="HTML File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12883404/test_results" title="Latest  23/Aug/17 20:00 - Amrit Sarkar" draggable="true" data-downloadurl="text/html:test_results:https://issues.apache.org/jira/secure/attachment/12883404/test_results">test_results</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-08-23T20:00:05.273Z">23/Aug/17 20:00</time>
                   </dd>
                   <dd class="attachment-size">
                    14.40 MB
                   </dd>
                   <dd class="attachment-author">
                    Amrit Sarkar
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_varunthacker" rel="varunthacker" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Varun Thacker&quot;,&quot;emailAddress&quot;:&quot;varun@apache.org&quot;,&quot;username&quot;:&quot;varunthacker&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="varunthacker"></span></span> Varun Thacker </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_sarkaramrit2@gmail.com" rel="sarkaramrit2@gmail.com" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Amrit Sarkar&quot;,&quot;emailAddress&quot;:&quot;sarkaramrit2@gmail.com&quot;,&quot;username&quot;:&quot;sarkaramrit2@gmail.com&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="sarkaramrit2@gmail.com"></span></span> Amrit Sarkar </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">6</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="22/Aug/17 22:24"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2017-08-22T22:24:19+0000">22/Aug/17 22:24</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="17/Oct/17 11:03"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2017-10-17T11:03:49+0000">17/Oct/17 11:03</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="11/Oct/17 04:41"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2017-10-11T04:41:44+0000">11/Oct/17 04:41</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-11278?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-11278?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-11278?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-11278?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-11278?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-11278?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-11278?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-11278?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/SOLR-11278?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-11278?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-11278?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/SOLR-11278?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-16138977\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16138977&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16138977\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16138977_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16138977_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Aug\\/17 20:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-23T20:00:06+0000\'\u003e23\\/Aug\\/17 20:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eattached entire log: test_results\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16138977_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16138977_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Aug\\/17 20:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-23T20:00:06+0000\'\u003e23\\/Aug\\/17 20:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    attached entire log: test_results              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16143436\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16143436&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16143436\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16143436_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143436_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 06:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T06:45:07+0000\'\u003e28\\/Aug\\/17 06:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIn waitForTargetToSync(), we are issuing commit to \\\"targetCollection\\\" every second, making it close old searcher and open a new one. Not sure whether this is the best way to verify documents indexed in \\\"target\\\" collection.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16143436_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143436_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 06:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T06:45:07+0000\'\u003e28\\/Aug\\/17 06:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    In waitForTargetToSync(), we are issuing commit to \\\"targetCollection\\\" every second, making it close old searcher and open a new one. Not sure whether this is the best way to verify documents indexed in \\\"target\\\" collection.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16143712\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16143712&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16143712\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16143712_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143712_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 12:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T12:13:51+0000\'\u003e28\\/Aug\\/17 12:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s another fail on branch_6_6 : \u003ca href=\\\"https:\\/\\/jenkins.thetaphi.de\\/job\\/Lucene-Solr-6.6-Windows\\/40\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/jenkins.thetaphi.de\\/job\\/Lucene-Solr-6.6-Windows\\/40\\/\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16143712_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143712_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 12:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T12:13:51+0000\'\u003e28\\/Aug\\/17 12:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here\'s another fail on branch_6_6 :  https:\\/\\/jenkins.thetaphi.de\\/job\\/Lucene-Solr-6.6-Windows\\/40\\/               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16143926\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16143926&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16143926\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16143926_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143926_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 15:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T15:50:30+0000\'\u003e28\\/Aug\\/17 15:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 28\\/Aug\\/17 16:05\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e \\n [beaster] Tests with failures [seed: 8D740119BA9589F1]:\\n  [beaster]   - org.apache.solr.cloud.CdcrBootstrapTest.testConvertClusterToCdcrAndBootstrap\\n  [beaster]   - org.apache.solr.cloud.CdcrBootstrapTest.testBootstrapWithSourceCluster\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eSafe to say, all the three tests are NOT passable at all the seeds.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16143926_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143926_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 15:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T15:50:30+0000\'\u003e28\\/Aug\\/17 15:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 28\\/Aug\\/17 16:05\\\"\u003eedited\u003c\\/span\u003e                    \\n  \\n [beaster] Tests with failures [seed: 8D740119BA9589F1]:\\n  [beaster]   - org.apache.solr.cloud.CdcrBootstrapTest.testConvertClusterToCdcrAndBootstrap\\n  [beaster]   - org.apache.solr.cloud.CdcrBootstrapTest.testBootstrapWithSourceCluster\\n \\n  \\n\\n Safe to say, all the three tests are NOT passable at all the seeds.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16143931\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16143931&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16143931\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_16143931_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143931_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 15:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T15:56:03+0000\'\u003e28\\/Aug\\/17 15:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMy bet, and this would be for verification purposes only:\u003c\\/p\u003e\\n\\n\u003cp\u003eIf on failure we added a single document to the source and tried again we wouldn\'t fail. Which would implicate \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11034\\\" title=\\\"Redundent\\/Unneccessary SolrCore reload when ManagedIndexSchema changes are made in cloud mode\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11034\\\"\u003eSOLR-11034\u003c\\/a\u003e and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11035\\\" title=\\\"(at least) 2 distinct failures possible when clients attempt searches during SolrCore reload\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11035\\\"\u003eSOLR-11035\u003c\\/a\u003e. Hmmm, let me give that a whirl. Those two JIRAs are holding up several other JIRAs,...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_16143931_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143931_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 15:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T15:56:03+0000\'\u003e28\\/Aug\\/17 15:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    My bet, and this would be for verification purposes only: \\n\\n If on failure we added a single document to the source and tried again we wouldn\'t fail. Which would implicate  SOLR-11034  and  SOLR-11035 . Hmmm, let me give that a whirl. Those two JIRAs are holding up several other JIRAs,...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16143949\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16143949&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16143949\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16143949_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143949_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 16:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T16:10:55+0000\'\u003e28\\/Aug\\/17 16:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePosting \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11003\\\" title=\\\"Enabling bi-directional CDCR on cluster for better failover\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11003\\\"\u003e\u003cdel\u003eSOLR-11003\u003c\\/del\u003e\u003c\\/a\u003e discussion here:\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eAll the tests in this class fails where we stop CDCR, index docs in source and then turns on CDCR again and expect BOOTSTRAP to happen. If I debug on IDE, all tests passes successfully (as the steps slows down), suggesting the time to wait for target to sync is low. But increasing it to 5 minutes even, instead of default 2 minutes, doesn\'t work. I increased explicit commit issued while waiting from 1 to 3 second, doesn\'t work either.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eLet me know if there are other tests which are failing too related to CDCR.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eThough the tests which are constantly failing I mentioned above, do Solr Core reload every second when it waits for target to sync. It can very well be variant of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11034\\\" title=\\\"Redundent\\/Unneccessary SolrCore reload when ManagedIndexSchema changes are made in cloud mode\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11034\\\"\u003eSOLR-11034\u003c\\/a\u003e and\\/or \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11035\\\" title=\\\"(at least) 2 distinct failures possible when clients attempt searches during SolrCore reload\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11035\\\"\u003eSOLR-11035\u003c\\/a\u003e, as we can see occasional NPE at IndexFetcher.java:753.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16143949_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143949_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 16:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T16:10:55+0000\'\u003e28\\/Aug\\/17 16:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Posting   SOLR-11003   discussion here: \\n\\n  All the tests in this class fails where we stop CDCR, index docs in source and then turns on CDCR again and expect BOOTSTRAP to happen. If I debug on IDE, all tests passes successfully (as the steps slows down), suggesting the time to wait for target to sync is low. But increasing it to 5 minutes even, instead of default 2 minutes, doesn\'t work. I increased explicit commit issued while waiting from 1 to 3 second, doesn\'t work either.  \\n Let me know if there are other tests which are failing too related to CDCR. \\n\\n  Though the tests which are constantly failing I mentioned above, do Solr Core reload every second when it waits for target to sync. It can very well be variant of  SOLR-11034  and\\/or  SOLR-11035 , as we can see occasional NPE at IndexFetcher.java:753.  \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16145007\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16145007&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16145007\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16145007_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16145007_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/17 09:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-29T09:40:31+0000\'\u003e29\\/Aug\\/17 09:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOk here\'s what I am able to diagnose and have some questions and observations:\u003c\\/p\u003e\\n\\n\u003cp\u003e1. Bootstrap process runs in a seperate thread, then what happens we issue a commit when BOOTSTRAPPING, replication \\/ fetchIndex is taking place. Something wrong? Solr core will reload when on the background index is getting copied.\u003cbr\\/\u003e\\n2. I bumped up the time \\/ sleep time b\\/w issuing CDCR and checking target collection for numDocs to 7 seconds, and lowered documents from 10K to 2K, since BOOTSTRAP will be issued anything above maxBatchSize: 1024.\u003cbr\\/\u003e\\n3. The new patch uploaded successfully ran on my system, but it is not a full-proof solution, just like: \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-10734\\\" title=\\\"Multithreaded test\\/support for AtomicURP broken\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-10734\\\"\u003eSOLR-10734\u003c\\/a\u003e, where we cannot agree on a batch \\/ thread count. It may fail for a seed in future or now.\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\" class=\\\"user-hover\\\" rel=\\\"varunthacker\\\"\u003eVarun Thacker\u003c\\/a\u003e, requesting if you can apply the patch and verify whether the tests are passing successfully.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16145007_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16145007_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/17 09:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-29T09:40:31+0000\'\u003e29\\/Aug\\/17 09:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Ok here\'s what I am able to diagnose and have some questions and observations: \\n\\n 1. Bootstrap process runs in a seperate thread, then what happens we issue a commit when BOOTSTRAPPING, replication \\/ fetchIndex is taking place. Something wrong? Solr core will reload when on the background index is getting copied. \\n2. I bumped up the time \\/ sleep time b\\/w issuing CDCR and checking target collection for numDocs to 7 seconds, and lowered documents from 10K to 2K, since BOOTSTRAP will be issued anything above maxBatchSize: 1024. \\n3. The new patch uploaded successfully ran on my system, but it is not a full-proof solution, just like:  SOLR-10734 , where we cannot agree on a batch \\/ thread count. It may fail for a seed in future or now. \\n\\n  Varun Thacker , requesting if you can apply the patch and verify whether the tests are passing successfully.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16145011\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16145011&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16145011\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16145011_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16145011_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/17 09:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-29T09:42:58+0000\'\u003e29\\/Aug\\/17 09:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI am running beasts of 100 rounds, if passed, we may very well be comfortable with these changes.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16145011_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16145011_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/17 09:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-29T09:42:58+0000\'\u003e29\\/Aug\\/17 09:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I am running beasts of 100 rounds, if passed, we may very well be comfortable with these changes.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16145012\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16145012&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16145012\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16145012_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16145012_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/17 09:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-29T09:47:26+0000\'\u003e29\\/Aug\\/17 09:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Amrit,\u003c\\/p\u003e\\n\\n\u003cp\u003eI removed 6.6 from the Affects Versions(s) as this test fails regularly on other branches too.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn general this has failed quite a bit while building out an RC for 6.6.1 so it will be nice if we can figure out a fix for it\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16145012_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16145012_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/17 09:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-29T09:47:26+0000\'\u003e29\\/Aug\\/17 09:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Amrit, \\n\\n I removed 6.6 from the Affects Versions(s) as this test fails regularly on other branches too. \\n\\n In general this has failed quite a bit while building out an RC for 6.6.1 so it will be nice if we can figure out a fix for it              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16145066\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16145066&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16145066\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16145066_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16145066_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/17 10:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-29T10:17:26+0000\'\u003e29\\/Aug\\/17 10:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt; 2. I bumped up the time \\/ sleep time b\\/w issuing CDCR and checking target collection for numDocs to 7 seconds, \u003c\\/p\u003e\\n\\n\u003cp\u003eI don\'t get the logic for this. Doesn\'t {[waitForTargetToSync}} already wait for 120 seconds ? Adding another 7 seconds shouldn\'t help much no?\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; and lowered documents from 10K to 2K\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m guessing this will help but don\'t you think the bigger problem is why can\'t replicate 10k documents ( 2 fields ) in 120 seconds? Perhaps we can add some more logging to the test case like when the bootstrapping starts etc .\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eBefore we wait for the target cluster to catch up , we print the queue size from the source cluster in the test case.\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e[junit4]   1&amp;gt; Cdcr queue response: {responseHeader={status=0,QTime=2},queues={127.0.0.1:64653\\/solr={cdcr-target={queueSize=2020,lastTimestamp=}}},tlogTotalSize=96279,tlogTotalCount=20,updateLogSynchronizer=stopped}\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eSo this doesn\'t seem like a lot of documents to take 120 seconds to catch up?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16145066_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16145066_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/17 10:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-29T10:17:26+0000\'\u003e29\\/Aug\\/17 10:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt; 2. I bumped up the time \\/ sleep time b\\/w issuing CDCR and checking target collection for numDocs to 7 seconds,  \\n\\n I don\'t get the logic for this. Doesn\'t {[waitForTargetToSync}} already wait for 120 seconds ? Adding another 7 seconds shouldn\'t help much no? \\n\\n &gt; and lowered documents from 10K to 2K \\n\\n I\'m guessing this will help but don\'t you think the bigger problem is why can\'t replicate 10k documents ( 2 fields ) in 120 seconds? Perhaps we can add some more logging to the test case like when the bootstrapping starts etc . \\n\\n\\n Before we wait for the target cluster to catch up , we print the queue size from the source cluster in the test case. \\n\\n  \\n [junit4]   1&amp;gt; Cdcr queue response: {responseHeader={status=0,QTime=2},queues={127.0.0.1:64653\\/solr={cdcr-target={queueSize=2020,lastTimestamp=}}},tlogTotalSize=96279,tlogTotalCount=20,updateLogSynchronizer=stopped}\\n \\n  \\n\\n So this doesn\'t seem like a lot of documents to take 120 seconds to catch up?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16145551\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16145551&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16145551\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_16145551_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16145551_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/17 16:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-29T16:02:43+0000\'\u003e29\\/Aug\\/17 16:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ebq: I\'m guessing this will help but don\'t you think the bigger problem is why can\'t replicate 10k documents ( 2 fields ) in 120 seconds? Perhaps we can add some more logging to the test case like when the bootstrapping starts etc .\u003c\\/p\u003e\\n\\n\u003cp\u003eThe evidence from a test I ran the other day (results in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11003\\\" title=\\\"Enabling bi-directional CDCR on cluster for better failover\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11003\\\"\u003e\u003cdel\u003eSOLR-11003\u003c\\/del\u003e\u003c\\/a\u003e) is that these delays won\'t help. Or if they do let the test pass they just mask a more fundamental problem. I changed one of the tests so if waitForTargetToSync didn\'t return the proper number of docs I\'d add one more document to the source and call waitForTargetToSync again. Here\'s the important bits:\u003c\\/p\u003e\\n\\n\u003cp\u003eAt the initial mismatch in waitForTargetToSync\u003cbr\\/\u003e\\ntarget: 1901\u003cbr\\/\u003e\\nsource: 2000\u003c\\/p\u003e\\n\\n\u003cp\u003eAfter my new loop that adds a single doc to source then calls waitForTargetToSync again I see counts of\u003cbr\\/\u003e\\ntarget: 1902\u003cbr\\/\u003e\\nsource: 2001\u003c\\/p\u003e\\n\\n\u003cp\u003eClearly my new doc is being indexed to the source and sent to the target so it\'s not just a matter of the docs getting to the target but somehow not being available to the currently-open searcher. They\'re just not on the target at all.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ll instrument the tests a little more. It\'s strange that the difference is 99 and the packet size is 100, kind of feels like an off-by-one error.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_16145551_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16145551_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/17 16:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-29T16:02:43+0000\'\u003e29\\/Aug\\/17 16:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    bq: I\'m guessing this will help but don\'t you think the bigger problem is why can\'t replicate 10k documents ( 2 fields ) in 120 seconds? Perhaps we can add some more logging to the test case like when the bootstrapping starts etc . \\n\\n The evidence from a test I ran the other day (results in   SOLR-11003  ) is that these delays won\'t help. Or if they do let the test pass they just mask a more fundamental problem. I changed one of the tests so if waitForTargetToSync didn\'t return the proper number of docs I\'d add one more document to the source and call waitForTargetToSync again. Here\'s the important bits: \\n\\n At the initial mismatch in waitForTargetToSync \\ntarget: 1901 \\nsource: 2000 \\n\\n After my new loop that adds a single doc to source then calls waitForTargetToSync again I see counts of \\ntarget: 1902 \\nsource: 2001 \\n\\n Clearly my new doc is being indexed to the source and sent to the target so it\'s not just a matter of the docs getting to the target but somehow not being available to the currently-open searcher. They\'re just not on the target at all. \\n\\n I\'ll instrument the tests a little more. It\'s strange that the difference is 99 and the packet size is 100, kind of feels like an off-by-one error.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16145553\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16145553&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16145553\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16145553_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16145553_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/17 16:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-29T16:04:29+0000\'\u003e29\\/Aug\\/17 16:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 30\\/Aug\\/17 12:00\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\" class=\\\"user-hover\\\" rel=\\\"varunthacker\\\"\u003eVarun Thacker\u003c\\/a\u003e \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\" class=\\\"user-hover\\\" rel=\\\"erickerickson\\\"\u003eErick Erickson\u003c\\/a\u003e :: This is on Solr Version: 6.3\u003c\\/p\u003e\\n\\n\u003cp\u003eYes you are right. This solution is not full-proofed.\u003c\\/p\u003e\\n\\n\u003cp\u003eI am able to narrow down one problem, still no solution on the way:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e   [junit4]   2&gt; 93761 ERROR (recoveryExecutor-5-thread-1-processing-n:127.0.0.1:55637_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:55637_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.ReplicationHandler Index fetch failed :org.apache.solr.common.SolrException: Index fetch failed : \\n   [junit4]   2&gt; \\tat org.apache.solr.handler.IndexFetcher.fetchLatestIndex(IndexFetcher.java:540)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.IndexFetcher.fetchLatestIndex(IndexFetcher.java:251)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:397)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:758)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:713)\\n   [junit4]   2&gt; \\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\\n   [junit4]   2&gt; \\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:229)\\n   [junit4]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n   [junit4]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n   [junit4]   2&gt; \\tat java.lang.\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.run(\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.java:745)\\n   [junit4]   2&gt; Caused by: java.lang.NullPointerException\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.IndexFetcher.openNewSearcherAndUpdateCommitPoint(IndexFetcher.java:753)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.IndexFetcher.fetchLatestIndex(IndexFetcher.java:517)\\n   [junit4]   2&gt; \\t... 9 more\\n   [junit4]   2&gt; \\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eThe problem is with \u003cb\u003e\u003ctt\u003etarget.shutdown\u003c\\/tt\u003e\u003c\\/b\u003e. While doing target shutdown, it doesn\'t shutdown properly.\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e   [junit4]   2&gt; 67512 INFO  (coreCloseExecutor-49-thread-1) [n:127.0.0.1:55637_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.CdcrRequestHandler Solr core is being closed - shutting down CDCR handler @ cdcr-target:shard1\\n   [junit4]   2&gt; 67515 WARN  (updateExecutor-4-thread-1-processing-n:127.0.0.1:55637_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:55637_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.CdcrRequestHandler Bootstrap was interrupted\\n   [junit4]   2&gt; java.lang.InterruptedException\\n   [junit4]   2&gt; \\tat java.util.concurrent.FutureTask.awaitDone(FutureTask.java:404)\\n   [junit4]   2&gt; \\tat java.util.concurrent.FutureTask.get(FutureTask.java:191)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler.lambda$handleBootstrapAction$0(CdcrRequestHandler.java:644)\\n   [junit4]   2&gt; \\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\\n   [junit4]   2&gt; \\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\\n   [junit4]   2&gt; \\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:229)\\n   [junit4]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n   [junit4]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n   [junit4]   2&gt; \\tat java.lang.\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.run(\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.java:745)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eand the core gets reloaded and throws NPE. I am diving into this properly, but it have a feeling this is a machine specific issue as we didn\'t see much of these in Jenkins failures as mentioned by Varun.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16145553_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16145553_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/17 16:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-29T16:04:29+0000\'\u003e29\\/Aug\\/17 16:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 30\\/Aug\\/17 12:00\\\"\u003eedited\u003c\\/span\u003e                    Varun Thacker   Erick Erickson  :: This is on Solr Version: 6.3 \\n\\n Yes you are right. This solution is not full-proofed. \\n\\n I am able to narrow down one problem, still no solution on the way: \\n\\n  \\n    [junit4]   2&gt; 93761 ERROR (recoveryExecutor-5-thread-1-processing-n:127.0.0.1:55637_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:55637_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.ReplicationHandler Index fetch failed :org.apache.solr.common.SolrException: Index fetch failed : \\n   [junit4]   2&gt; \\tat org.apache.solr.handler.IndexFetcher.fetchLatestIndex(IndexFetcher.java:540)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.IndexFetcher.fetchLatestIndex(IndexFetcher.java:251)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:397)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:758)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:713)\\n   [junit4]   2&gt; \\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\\n   [junit4]   2&gt; \\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:229)\\n   [junit4]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n   [junit4]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n   [junit4]   2&gt; \\tat java.lang. Thread .run( Thread .java:745)\\n   [junit4]   2&gt; Caused by: java.lang.NullPointerException\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.IndexFetcher.openNewSearcherAndUpdateCommitPoint(IndexFetcher.java:753)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.IndexFetcher.fetchLatestIndex(IndexFetcher.java:517)\\n   [junit4]   2&gt; \\t... 9 more\\n   [junit4]   2&gt; \\n \\n  \\n\\n The problem is with   target.shutdown  . While doing target shutdown, it doesn\'t shutdown properly. \\n\\n  \\n    [junit4]   2&gt; 67512 INFO  (coreCloseExecutor-49-thread-1) [n:127.0.0.1:55637_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.CdcrRequestHandler Solr core is being closed - shutting down CDCR handler @ cdcr-target:shard1\\n   [junit4]   2&gt; 67515 WARN  (updateExecutor-4-thread-1-processing-n:127.0.0.1:55637_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:55637_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.CdcrRequestHandler Bootstrap was interrupted\\n   [junit4]   2&gt; java.lang.InterruptedException\\n   [junit4]   2&gt; \\tat java.util.concurrent.FutureTask.awaitDone(FutureTask.java:404)\\n   [junit4]   2&gt; \\tat java.util.concurrent.FutureTask.get(FutureTask.java:191)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler.lambda$handleBootstrapAction$0(CdcrRequestHandler.java:644)\\n   [junit4]   2&gt; \\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\\n   [junit4]   2&gt; \\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\\n   [junit4]   2&gt; \\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:229)\\n   [junit4]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n   [junit4]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n   [junit4]   2&gt; \\tat java.lang. Thread .run( Thread .java:745)\\n \\n  \\n\\n and the core gets reloaded and throws NPE. I am diving into this properly, but it have a feeling this is a machine specific issue as we didn\'t see much of these in Jenkins failures as mentioned by Varun.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16145564\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16145564&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16145564\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_16145564_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16145564_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/17 16:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-29T16:10:52+0000\'\u003e29\\/Aug\\/17 16:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNow we\'re getting somewhere! I\'m re-running some tests and will see if I get the same error in failing cases.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis starts to hang together with the close-to-packet-size difference in doc counts: my bet is there\'s a segment missing on the target. I\'ll think about how to test that.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_16145564_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16145564_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/17 16:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-29T16:10:52+0000\'\u003e29\\/Aug\\/17 16:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Now we\'re getting somewhere! I\'m re-running some tests and will see if I get the same error in failing cases. \\n\\n This starts to hang together with the close-to-packet-size difference in doc counts: my bet is there\'s a segment missing on the target. I\'ll think about how to test that.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16145829\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16145829&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16145829\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16145829_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16145829_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/17 18:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-29T18:19:09+0000\'\u003e29\\/Aug\\/17 18:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eyeah! \u003cb\u003eI verified the bootstrap status comes out to be RUNNING instead of FINISHED even after all the operations are completed, assertions are true, and we are going to shut down both source and target next.\u003c\\/b\u003e \u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e.......\\n.......\\n        foundDocs = waitForTargetToSync(numDocs, targetSolrClient);\\n        assertEquals(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Document mismatch on target after sync\\\"\u003c\\/span\u003e, numDocs, foundDocs);\\n\\n        \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\" bs status 1 :: \\\"\u003c\\/span\u003e + invokeCdcrAction(targetSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n\\n        cdcrStop(targetSolrClient);\\n        cdcrStop(sourceSolrClient);\\n\\n        \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\" bs status 2 :: \\\"\u003c\\/span\u003e + invokeCdcrAction(targetSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n\\n      } \u003cspan class=\\\"code-keyword\\\"\u003efinally\u003c\\/span\u003e {\\n        source.shutdown();\\n        \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"source shutdown\\\"\u003c\\/span\u003e);\\n      }\\n    } \u003cspan class=\\\"code-keyword\\\"\u003efinally\u003c\\/span\u003e {\\n      target.shutdown();\\n      \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"target shutdown\\\"\u003c\\/span\u003e);\\n    }\\n  }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003esomething\'s off with bootstrap or bootstrap_status, they are not in sync.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16145829_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16145829_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/17 18:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-29T18:19:09+0000\'\u003e29\\/Aug\\/17 18:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    yeah!  I verified the bootstrap status comes out to be RUNNING instead of FINISHED even after all the operations are completed, assertions are true, and we are going to shut down both source and target next.   \\n\\n  \\n .......\\n.......\\n        foundDocs = waitForTargetToSync(numDocs, targetSolrClient);\\n        assertEquals( \\\"Document mismatch on target after sync\\\" , numDocs, foundDocs);\\n\\n         System .out.println( \\\" bs status 1 :: \\\"  + invokeCdcrAction(targetSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n\\n        cdcrStop(targetSolrClient);\\n        cdcrStop(sourceSolrClient);\\n\\n         System .out.println( \\\" bs status 2 :: \\\"  + invokeCdcrAction(targetSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n\\n      }  finally  {\\n        source.shutdown();\\n         System .out.println( \\\"source shutdown\\\" );\\n      }\\n    }  finally  {\\n      target.shutdown();\\n       System .out.println( \\\"target shutdown\\\" );\\n    }\\n  }\\n \\n  \\n\\n something\'s off with bootstrap or bootstrap_status, they are not in sync.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16146821\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16146821&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16146821\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16146821_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16146821_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/17 07:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-30T07:40:43+0000\'\u003e30\\/Aug\\/17 07:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOk here\'s what\'s happening :\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003cb\u003eBOOTSTRAP_STATUS\u003c\\/b\u003e is never calculated \\/ comes to be \u003cb\u003eFINISHED\u003c\\/b\u003e in target cluster for all the three tests in the testClass.\u003c\\/p\u003e\\n\\n\u003cp\u003eI need to confirm what happens if bootstrap is not completed and solrcore is requested to be closed.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16146821_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16146821_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/17 07:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-30T07:40:43+0000\'\u003e30\\/Aug\\/17 07:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Ok here\'s what\'s happening : \\n\\n  BOOTSTRAP_STATUS  is never calculated \\/ comes to be  FINISHED  in target cluster for all the three tests in the testClass. \\n\\n I need to confirm what happens if bootstrap is not completed and solrcore is requested to be closed.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16147149\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16147149&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16147149\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16147149_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16147149_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/17 12:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-30T12:30:54+0000\'\u003e30\\/Aug\\/17 12:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 30\\/Aug\\/17 12:31\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eStill rambling:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e  \\/**\\n   * This test start cdcr source, adds data,starts target cluster, verifies replication,\\n   * stops cdcr replication and buffering, adds more data, re-enables cdcr and verify replication\\n   *\\/\\n  \u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e void testBootstrapWithSourceCluster() \u003cspan class=\\\"code-keyword\\\"\u003ethrows\u003c\\/span\u003e Exception {\\n    \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ start the target first so that we know its zkhost\\n\u003c\\/span\u003e    MiniSolrCloudCluster target = \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e MiniSolrCloudCluster(1, createTempDir(\u003cspan class=\\\"code-quote\\\"\u003e\\\"cdcr-target\\\"\u003c\\/span\u003e), buildJettyConfig(\u003cspan class=\\\"code-quote\\\"\u003e\\\"\\/solr\\\"\u003c\\/span\u003e));\\n    \u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e {\\n      target.waitForAllNodes(30);\\n      \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Target zkHost = \\\"\u003c\\/span\u003e + target.getZkServer().getZkAddress());\\n      \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.setProperty(\u003cspan class=\\\"code-quote\\\"\u003e\\\"cdcr.target.zkHost\\\"\u003c\\/span\u003e, target.getZkServer().getZkAddress());\\n\\n      MiniSolrCloudCluster source = \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e MiniSolrCloudCluster(1, createTempDir(\u003cspan class=\\\"code-quote\\\"\u003e\\\"cdcr-source\\\"\u003c\\/span\u003e), buildJettyConfig(\u003cspan class=\\\"code-quote\\\"\u003e\\\"\\/solr\\\"\u003c\\/span\u003e));\\n      \u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e {\\n        source.waitForAllNodes(30);\\n        source.uploadConfigSet(configset(\u003cspan class=\\\"code-quote\\\"\u003e\\\"cdcr-source\\\"\u003c\\/span\u003e), \u003cspan class=\\\"code-quote\\\"\u003e\\\"cdcr-source\\\"\u003c\\/span\u003e);\\n\\n        CollectionAdminRequest.createCollection(\u003cspan class=\\\"code-quote\\\"\u003e\\\"cdcr-source\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"cdcr-source\\\"\u003c\\/span\u003e, 1, 1)\\n            .withProperty(\u003cspan class=\\\"code-quote\\\"\u003e\\\"solr.directoryFactory\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"solr.StandardDirectoryFactory\\\"\u003c\\/span\u003e)\\n            .process(source.getSolrClient());\\n\\n        CloudSolrClient sourceSolrClient = source.getSolrClient();\\n        sourceSolrClient.setDefaultCollection(\u003cspan class=\\\"code-quote\\\"\u003e\\\"cdcr-source\\\"\u003c\\/span\u003e);\\n        \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e docs = (TEST_NIGHTLY ? 100 : 10);\\n        \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e numDocs = 0;\\n        \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e (\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e k = 0; k &lt; docs; k++) {\\n          UpdateRequest req = \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e UpdateRequest();\\n          \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e (; numDocs &lt; (k + 1) * 100; numDocs++) {\\n            SolrInputDocument doc = \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e SolrInputDocument();\\n            doc.addField(\u003cspan class=\\\"code-quote\\\"\u003e\\\"id\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"source_\\\"\u003c\\/span\u003e + numDocs);\\n            doc.addField(\u003cspan class=\\\"code-quote\\\"\u003e\\\"xyz\\\"\u003c\\/span\u003e, numDocs);\\n            req.add(doc);\\n          }\\n          req.setAction(AbstractUpdateRequest.ACTION.COMMIT, \u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e, \u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e);\\n          \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Adding \\\"\u003c\\/span\u003e + docs + \u003cspan class=\\\"code-quote\\\"\u003e\\\" docs with commit=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e, numDocs=\\\"\u003c\\/span\u003e + numDocs);\\n          req.process(sourceSolrClient);\\n        }\\n\\n        QueryResponse response = sourceSolrClient.query(\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e SolrQuery(\u003cspan class=\\\"code-quote\\\"\u003e\\\"*:*\\\"\u003c\\/span\u003e));\\n        assertEquals(\\\"\\\", numDocs, response.getResults().getNumFound());\\n\\n        \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ setup the target cluster\\n\u003c\\/span\u003e        target.uploadConfigSet(configset(\u003cspan class=\\\"code-quote\\\"\u003e\\\"cdcr-target\\\"\u003c\\/span\u003e), \u003cspan class=\\\"code-quote\\\"\u003e\\\"cdcr-target\\\"\u003c\\/span\u003e);\\n        CollectionAdminRequest.createCollection(\u003cspan class=\\\"code-quote\\\"\u003e\\\"cdcr-target\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"cdcr-target\\\"\u003c\\/span\u003e, 1, 1)\\n            .process(target.getSolrClient());\\n        CloudSolrClient targetSolrClient = target.getSolrClient();\\n        targetSolrClient.setDefaultCollection(\u003cspan class=\\\"code-quote\\\"\u003e\\\"cdcr-target\\\"\u003c\\/span\u003e);\\n\\n        cdcrStart(targetSolrClient);\\n        cdcrStart(sourceSolrClient);\\n\\n        \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"bs status TX :: \\\"\u003c\\/span\u003e + invokeCdcrAction(targetSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n        \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"bs status SX :: \\\"\u003c\\/span\u003e + invokeCdcrAction(sourceSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n\\n        response = getCdcrQueue(sourceSolrClient);\\n        \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Cdcr queue response: \\\"\u003c\\/span\u003e + response.getResponse());\\n        \u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e foundDocs = waitForTargetToSync(numDocs, targetSolrClient);\\n\\n        \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"bs status TY :: \\\"\u003c\\/span\u003e + invokeCdcrAction(targetSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n        \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"bs status SY :: \\\"\u003c\\/span\u003e + invokeCdcrAction(sourceSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n\\n        assertEquals(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Document mismatch on target after sync\\\"\u003c\\/span\u003e, numDocs, foundDocs);\\n\\n        \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"bs status TZ :: \\\"\u003c\\/span\u003e + invokeCdcrAction(targetSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n        \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"bs status SZ :: \\\"\u003c\\/span\u003e + invokeCdcrAction(sourceSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n\\n        cdcrStop(sourceSolrClient);\\n        cdcrDisableBuffer(sourceSolrClient);\\n\\n        \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"bs status TA :: \\\"\u003c\\/span\u003e + invokeCdcrAction(targetSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n        \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"bs status SA :: \\\"\u003c\\/span\u003e + invokeCdcrAction(sourceSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n\\n        \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e c = 0;\\n        \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e (\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e k = 0; k &lt; 10; k++) {\\n          UpdateRequest req = \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e UpdateRequest();\\n          \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e (; c &lt; (k + 1) * 100; c++, numDocs++) {\\n            SolrInputDocument doc = \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e SolrInputDocument();\\n            doc.addField(\u003cspan class=\\\"code-quote\\\"\u003e\\\"id\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"source_\\\"\u003c\\/span\u003e + numDocs);\\n            doc.addField(\u003cspan class=\\\"code-quote\\\"\u003e\\\"xyz\\\"\u003c\\/span\u003e, numDocs);\\n            req.add(doc);\\n          }\\n          req.setAction(AbstractUpdateRequest.ACTION.COMMIT, \u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e, \u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e);\\n          \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Adding 100 docs with commit=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e, numDocs=\\\"\u003c\\/span\u003e + numDocs);\\n          req.process(sourceSolrClient);\\n        }\\n\\n        response = sourceSolrClient.query(\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e SolrQuery(\u003cspan class=\\\"code-quote\\\"\u003e\\\"*:*\\\"\u003c\\/span\u003e));\\n        assertEquals(\\\"\\\", numDocs, response.getResults().getNumFound());\\n\\n        cdcrStart(sourceSolrClient);\\n        cdcrEnableBuffer(sourceSolrClient);\\n\\n        \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"bs status T1 :: \\\"\u003c\\/span\u003e + invokeCdcrAction(targetSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n        \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"bs status S1 :: \\\"\u003c\\/span\u003e + invokeCdcrAction(sourceSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n\\n        foundDocs = waitForTargetToSync(numDocs, targetSolrClient);\\n\\n        \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"bs status T2 :: \\\"\u003c\\/span\u003e + invokeCdcrAction(targetSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n        \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"bs status S2 :: \\\"\u003c\\/span\u003e + invokeCdcrAction(sourceSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n\\n        assertEquals(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Document mismatch on target after sync\\\"\u003c\\/span\u003e, numDocs, foundDocs);\\n\\n        \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"bs status T3 :: \\\"\u003c\\/span\u003e + invokeCdcrAction(targetSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n        \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"bs status S3 :: \\\"\u003c\\/span\u003e + invokeCdcrAction(sourceSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n      } \u003cspan class=\\\"code-keyword\\\"\u003efinally\u003c\\/span\u003e {\\n        source.shutdown();\\n      }\\n    } \u003cspan class=\\\"code-keyword\\\"\u003efinally\u003c\\/span\u003e {\\n      target.shutdown();\\n    }\\n  }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eresponses for BS ::\u003c\\/p\u003e\\n\\n\u003cp\u003eT - target, S - source\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e   [junit4]   1&gt; bs status TX :: {responseHeader={status=0,QTime=0},STATUS=notfound,msg=No bootstrap found in running, completed or failed states}\\n   [junit4]   1&gt; bs status SX :: {responseHeader={status=0,QTime=0},STATUS=notfound,msg=No bootstrap found in running, completed or failed states}\\n   [junit4]   1&gt; bs status TY :: {responseHeader={status=0,QTime=0},STATUS=running}\\n   [junit4]   1&gt; bs status SY :: {responseHeader={status=0,QTime=0},STATUS=notfound,msg=No bootstrap found in running, completed or failed states}\\n   [junit4]   1&gt; bs status TZ :: {responseHeader={status=0,QTime=0},STATUS=running}\\n   [junit4]   1&gt; bs status SZ :: {responseHeader={status=0,QTime=0},STATUS=notfound,msg=No bootstrap found in running, completed or failed states}\\n   [junit4]   1&gt; bs status TA :: {responseHeader={status=0,QTime=0},STATUS=running}\\n   [junit4]   1&gt; bs status SA :: {responseHeader={status=0,QTime=0},STATUS=notfound,msg=No bootstrap found in running, completed or failed states}\\n   [junit4]   1&gt; bs status T1 :: {responseHeader={status=0,QTime=0},STATUS=running}\\n   [junit4]   1&gt; bs status S1 :: {responseHeader={status=0,QTime=0},STATUS=notfound,msg=No bootstrap found in running, completed or failed states}\\n   [junit4]   1&gt; bs status T2 :: {responseHeader={status=0,QTime=0},STATUS=cancelled}\\n   [junit4]   1&gt; bs status S2 :: {responseHeader={status=0,QTime=0},STATUS=notfound,msg=No bootstrap found in running, completed or failed states}\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003e\u003ctt\u003ebs status T3\u003c\\/tt\u003e was never written as assertion was failed. \u003cb\u003eBut why is bootstrap cancelled after waiting for the target for 120 sec?\u003c\\/b\u003e \u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e[junit4]   1&gt; bs status T2 :: {responseHeader={status=0,QTime=0},STATUS=cancelled}\\n   [junit4]   2&gt; 167151 INFO  (qtp666966491-24) [n:127.0.0.1:62331_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [junit4]   2&gt; 167153 INFO  (qtp666966491-24) [n:127.0.0.1:62331_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [junit4]   2&gt; 167153 INFO  (qtp1588339772-65) [n:127.0.0.1:62339_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;_stateVer_=cdcr-source:4&amp;action=bootstrap_status&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [junit4]   1&gt; bs status S2 :: {responseHeader={status=0,QTime=0},STATUS=notfound,msg=No bootstrap found in running, completed or failed states}\\n   [junit4]   2&gt; 167155 INFO  (qtp666966491-23) [n:127.0.0.1:62331_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [junit4]   2&gt; 167161 INFO  (qtp666966491-30) [n:127.0.0.1:62331_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [junit4]   2&gt; 167163 INFO  (qtp666966491-29) [n:127.0.0.1:62331_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [junit4]   2&gt; 167166 INFO  (qtp666966491-29) [n:127.0.0.1:62331_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [junit4]   2&gt; 167168 INFO  (jetty-closer-14-thread-1) [    ] o.e.j.s.AbstractConnector Stopped ServerConnector@4b790cef{HTTP\\/1.1,[http\\/1.1]}{127.0.0.1:0}\\n   [junit4]   2&gt; 167168 INFO  (qtp666966491-29) [n:127.0.0.1:62331_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [junit4]   2&gt; 167169 INFO  (jetty-closer-14-thread-1) [    ] o.a.s.c.CoreContainer Shutting down CoreContainer instance=820972786\\n   [junit4]   2&gt; 167169 INFO  (jetty-closer-14-thread-1) [    ] o.a.s.m.SolrMetricManager Closing metric reporters \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e: solr.node\\n   [junit4]   2&gt; 167170 INFO  (jetty-closer-14-thread-1) [    ] o.a.s.m.SolrMetricManager Closing metric reporters \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e: solr.jvm\\n   [junit4]   2&gt; 167170 INFO  (jetty-closer-14-thread-1) [    ] o.a.s.m.SolrMetricManager Closing metric reporters \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e: solr.jetty\\n[junit4]   2&gt; 167173 INFO  (qtp666966491-29) [n:127.0.0.1:62331_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [junit4]   2&gt; 167175 INFO  (qtp666966491-23) [n:127.0.0.1:62331_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [junit4]   2&gt; 167176 INFO  (coreCloseExecutor-44-thread-1) [n:127.0.0.1:62339_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.SolrCore [cdcr-source_shard1_replica1]  CLOSING SolrCore org.apache.solr.core.SolrCore@500834bb\\n   [junit4]   2&gt; 167176 INFO  (coreCloseExecutor-44-thread-1) [n:127.0.0.1:62339_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.h.CdcrRequestHandler Solr core is being closed - shutting down CDCR handler @ cdcr-source:shard1\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eSource solr cluster shut down before bootstrap gets completed and issues CANCEL_BOOSTRAP. The assertions fail way before that. The question being why 1000 docs are not getting bootstrapped?\u003c\\/p\u003e\\n\\n\u003cp\u003eIf you look above, the CDCR Bootstrap status from the beginning is \\\"running\\\" and even if the first batch is successfully fetched to target and we shut down CDCR on source. , the status is still being \\\"running\\\". \u003c\\/p\u003e\\n\\n\u003cp\u003eI am running more tests, will update shortly. This is the crux of the problem, no solution on the way still.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16147149_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16147149_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/17 12:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-30T12:30:54+0000\'\u003e30\\/Aug\\/17 12:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 30\\/Aug\\/17 12:31\\\"\u003eedited\u003c\\/span\u003e                   Still rambling: \\n\\n  \\n   \\/**\\n   * This test start cdcr source, adds data,starts target cluster, verifies replication,\\n   * stops cdcr replication and buffering, adds more data, re-enables cdcr and verify replication\\n   *\\/\\n   public  void testBootstrapWithSourceCluster()  throws  Exception {\\n     \\/\\/ start the target first so that we know its zkhost\\n     MiniSolrCloudCluster target =  new  MiniSolrCloudCluster(1, createTempDir( \\\"cdcr-target\\\" ), buildJettyConfig( \\\"\\/solr\\\" ));\\n     try  {\\n      target.waitForAllNodes(30);\\n       System .out.println( \\\"Target zkHost = \\\"  + target.getZkServer().getZkAddress());\\n       System .setProperty( \\\"cdcr.target.zkHost\\\" , target.getZkServer().getZkAddress());\\n\\n      MiniSolrCloudCluster source =  new  MiniSolrCloudCluster(1, createTempDir( \\\"cdcr-source\\\" ), buildJettyConfig( \\\"\\/solr\\\" ));\\n       try  {\\n        source.waitForAllNodes(30);\\n        source.uploadConfigSet(configset( \\\"cdcr-source\\\" ),  \\\"cdcr-source\\\" );\\n\\n        CollectionAdminRequest.createCollection( \\\"cdcr-source\\\" ,  \\\"cdcr-source\\\" , 1, 1)\\n            .withProperty( \\\"solr.directoryFactory\\\" ,  \\\"solr.StandardDirectoryFactory\\\" )\\n            .process(source.getSolrClient());\\n\\n        CloudSolrClient sourceSolrClient = source.getSolrClient();\\n        sourceSolrClient.setDefaultCollection( \\\"cdcr-source\\\" );\\n         int  docs = (TEST_NIGHTLY ? 100 : 10);\\n         int  numDocs = 0;\\n         for  ( int  k = 0; k &lt; docs; k++) {\\n          UpdateRequest req =  new  UpdateRequest();\\n           for  (; numDocs &lt; (k + 1) * 100; numDocs++) {\\n            SolrInputDocument doc =  new  SolrInputDocument();\\n            doc.addField( \\\"id\\\" ,  \\\"source_\\\"  + numDocs);\\n            doc.addField( \\\"xyz\\\" , numDocs);\\n            req.add(doc);\\n          }\\n          req.setAction(AbstractUpdateRequest.ACTION.COMMIT,  true ,  true );\\n           System .out.println( \\\"Adding \\\"  + docs +  \\\" docs with commit= true , numDocs=\\\"  + numDocs);\\n          req.process(sourceSolrClient);\\n        }\\n\\n        QueryResponse response = sourceSolrClient.query( new  SolrQuery( \\\"*:*\\\" ));\\n        assertEquals(\\\"\\\", numDocs, response.getResults().getNumFound());\\n\\n         \\/\\/ setup the target cluster\\n         target.uploadConfigSet(configset( \\\"cdcr-target\\\" ),  \\\"cdcr-target\\\" );\\n        CollectionAdminRequest.createCollection( \\\"cdcr-target\\\" ,  \\\"cdcr-target\\\" , 1, 1)\\n            .process(target.getSolrClient());\\n        CloudSolrClient targetSolrClient = target.getSolrClient();\\n        targetSolrClient.setDefaultCollection( \\\"cdcr-target\\\" );\\n\\n        cdcrStart(targetSolrClient);\\n        cdcrStart(sourceSolrClient);\\n\\n         System .out.println( \\\"bs status TX :: \\\"  + invokeCdcrAction(targetSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n         System .out.println( \\\"bs status SX :: \\\"  + invokeCdcrAction(sourceSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n\\n        response = getCdcrQueue(sourceSolrClient);\\n         System .out.println( \\\"Cdcr queue response: \\\"  + response.getResponse());\\n         long  foundDocs = waitForTargetToSync(numDocs, targetSolrClient);\\n\\n         System .out.println( \\\"bs status TY :: \\\"  + invokeCdcrAction(targetSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n         System .out.println( \\\"bs status SY :: \\\"  + invokeCdcrAction(sourceSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n\\n        assertEquals( \\\"Document mismatch on target after sync\\\" , numDocs, foundDocs);\\n\\n         System .out.println( \\\"bs status TZ :: \\\"  + invokeCdcrAction(targetSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n         System .out.println( \\\"bs status SZ :: \\\"  + invokeCdcrAction(sourceSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n\\n        cdcrStop(sourceSolrClient);\\n        cdcrDisableBuffer(sourceSolrClient);\\n\\n         System .out.println( \\\"bs status TA :: \\\"  + invokeCdcrAction(targetSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n         System .out.println( \\\"bs status SA :: \\\"  + invokeCdcrAction(sourceSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n\\n         int  c = 0;\\n         for  ( int  k = 0; k &lt; 10; k++) {\\n          UpdateRequest req =  new  UpdateRequest();\\n           for  (; c &lt; (k + 1) * 100; c++, numDocs++) {\\n            SolrInputDocument doc =  new  SolrInputDocument();\\n            doc.addField( \\\"id\\\" ,  \\\"source_\\\"  + numDocs);\\n            doc.addField( \\\"xyz\\\" , numDocs);\\n            req.add(doc);\\n          }\\n          req.setAction(AbstractUpdateRequest.ACTION.COMMIT,  true ,  true );\\n           System .out.println( \\\"Adding 100 docs with commit= true , numDocs=\\\"  + numDocs);\\n          req.process(sourceSolrClient);\\n        }\\n\\n        response = sourceSolrClient.query( new  SolrQuery( \\\"*:*\\\" ));\\n        assertEquals(\\\"\\\", numDocs, response.getResults().getNumFound());\\n\\n        cdcrStart(sourceSolrClient);\\n        cdcrEnableBuffer(sourceSolrClient);\\n\\n         System .out.println( \\\"bs status T1 :: \\\"  + invokeCdcrAction(targetSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n         System .out.println( \\\"bs status S1 :: \\\"  + invokeCdcrAction(sourceSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n\\n        foundDocs = waitForTargetToSync(numDocs, targetSolrClient);\\n\\n         System .out.println( \\\"bs status T2 :: \\\"  + invokeCdcrAction(targetSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n         System .out.println( \\\"bs status S2 :: \\\"  + invokeCdcrAction(sourceSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n\\n        assertEquals( \\\"Document mismatch on target after sync\\\" , numDocs, foundDocs);\\n\\n         System .out.println( \\\"bs status T3 :: \\\"  + invokeCdcrAction(targetSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n         System .out.println( \\\"bs status S3 :: \\\"  + invokeCdcrAction(sourceSolrClient, CdcrParams.CdcrAction.BOOTSTRAP_STATUS));\\n      }  finally  {\\n        source.shutdown();\\n      }\\n    }  finally  {\\n      target.shutdown();\\n    }\\n  }\\n \\n  \\n\\n responses for BS :: \\n\\n T - target, S - source \\n  \\n    [junit4]   1&gt; bs status TX :: {responseHeader={status=0,QTime=0},STATUS=notfound,msg=No bootstrap found in running, completed or failed states}\\n   [junit4]   1&gt; bs status SX :: {responseHeader={status=0,QTime=0},STATUS=notfound,msg=No bootstrap found in running, completed or failed states}\\n   [junit4]   1&gt; bs status TY :: {responseHeader={status=0,QTime=0},STATUS=running}\\n   [junit4]   1&gt; bs status SY :: {responseHeader={status=0,QTime=0},STATUS=notfound,msg=No bootstrap found in running, completed or failed states}\\n   [junit4]   1&gt; bs status TZ :: {responseHeader={status=0,QTime=0},STATUS=running}\\n   [junit4]   1&gt; bs status SZ :: {responseHeader={status=0,QTime=0},STATUS=notfound,msg=No bootstrap found in running, completed or failed states}\\n   [junit4]   1&gt; bs status TA :: {responseHeader={status=0,QTime=0},STATUS=running}\\n   [junit4]   1&gt; bs status SA :: {responseHeader={status=0,QTime=0},STATUS=notfound,msg=No bootstrap found in running, completed or failed states}\\n   [junit4]   1&gt; bs status T1 :: {responseHeader={status=0,QTime=0},STATUS=running}\\n   [junit4]   1&gt; bs status S1 :: {responseHeader={status=0,QTime=0},STATUS=notfound,msg=No bootstrap found in running, completed or failed states}\\n   [junit4]   1&gt; bs status T2 :: {responseHeader={status=0,QTime=0},STATUS=cancelled}\\n   [junit4]   1&gt; bs status S2 :: {responseHeader={status=0,QTime=0},STATUS=notfound,msg=No bootstrap found in running, completed or failed states}\\n \\n  \\n\\n  bs status T3  was never written as assertion was failed.  But why is bootstrap cancelled after waiting for the target for 120 sec?   \\n\\n  \\n [junit4]   1&gt; bs status T2 :: {responseHeader={status=0,QTime=0},STATUS=cancelled}\\n   [junit4]   2&gt; 167151 INFO  (qtp666966491-24) [n:127.0.0.1:62331_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [junit4]   2&gt; 167153 INFO  (qtp666966491-24) [n:127.0.0.1:62331_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [junit4]   2&gt; 167153 INFO  (qtp1588339772-65) [n:127.0.0.1:62339_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;_stateVer_=cdcr-source:4&amp;action=bootstrap_status&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [junit4]   1&gt; bs status S2 :: {responseHeader={status=0,QTime=0},STATUS=notfound,msg=No bootstrap found in running, completed or failed states}\\n   [junit4]   2&gt; 167155 INFO  (qtp666966491-23) [n:127.0.0.1:62331_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [junit4]   2&gt; 167161 INFO  (qtp666966491-30) [n:127.0.0.1:62331_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [junit4]   2&gt; 167163 INFO  (qtp666966491-29) [n:127.0.0.1:62331_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [junit4]   2&gt; 167166 INFO  (qtp666966491-29) [n:127.0.0.1:62331_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [junit4]   2&gt; 167168 INFO  (jetty-closer-14-thread-1) [    ] o.e.j.s.AbstractConnector Stopped ServerConnector@4b790cef{HTTP\\/1.1,[http\\/1.1]}{127.0.0.1:0}\\n   [junit4]   2&gt; 167168 INFO  (qtp666966491-29) [n:127.0.0.1:62331_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [junit4]   2&gt; 167169 INFO  (jetty-closer-14-thread-1) [    ] o.a.s.c.CoreContainer Shutting down CoreContainer instance=820972786\\n   [junit4]   2&gt; 167169 INFO  (jetty-closer-14-thread-1) [    ] o.a.s.m.SolrMetricManager Closing metric reporters  for : solr.node\\n   [junit4]   2&gt; 167170 INFO  (jetty-closer-14-thread-1) [    ] o.a.s.m.SolrMetricManager Closing metric reporters  for : solr.jvm\\n   [junit4]   2&gt; 167170 INFO  (jetty-closer-14-thread-1) [    ] o.a.s.m.SolrMetricManager Closing metric reporters  for : solr.jetty\\n[junit4]   2&gt; 167173 INFO  (qtp666966491-29) [n:127.0.0.1:62331_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [junit4]   2&gt; 167175 INFO  (qtp666966491-23) [n:127.0.0.1:62331_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [junit4]   2&gt; 167176 INFO  (coreCloseExecutor-44-thread-1) [n:127.0.0.1:62339_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.SolrCore [cdcr-source_shard1_replica1]  CLOSING SolrCore org.apache.solr.core.SolrCore@500834bb\\n   [junit4]   2&gt; 167176 INFO  (coreCloseExecutor-44-thread-1) [n:127.0.0.1:62339_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.h.CdcrRequestHandler Solr core is being closed - shutting down CDCR handler @ cdcr-source:shard1\\n \\n  \\n\\n Source solr cluster shut down before bootstrap gets completed and issues CANCEL_BOOSTRAP. The assertions fail way before that. The question being why 1000 docs are not getting bootstrapped? \\n\\n If you look above, the CDCR Bootstrap status from the beginning is \\\"running\\\" and even if the first batch is successfully fetched to target and we shut down CDCR on source. , the status is still being \\\"running\\\".  \\n\\n I am running more tests, will update shortly. This is the crux of the problem, no solution on the way still.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16147168\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16147168&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16147168\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16147168_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16147168_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/17 12:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-30T12:51:04+0000\'\u003e30\\/Aug\\/17 12:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWhen I commented out the second set of documents getting indexed in source, I didn\'t receive assertion failure, instead NPE returned back ::\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e   [junit4]   2&gt; 71670 ERROR (recoveryExecutor-6-thread-1-processing-n:127.0.0.1:62762_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:62762_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.ReplicationHandler Index fetch failed :org.apache.solr.common.SolrException: Index fetch failed : \\n   [junit4]   2&gt; \\tat org.apache.solr.handler.IndexFetcher.fetchLatestIndex(IndexFetcher.java:598)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.IndexFetcher.fetchLatestIndex(IndexFetcher.java:301)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:400)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:759)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:714)\\n   [junit4]   2&gt; \\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:197)\\n   [junit4]   2&gt; \\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\\n   [junit4]   2&gt; \\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:229)\\n   [junit4]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n   [junit4]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n   [junit4]   2&gt; \\tat java.lang.\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.run(\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.java:745)\\n   [junit4]   2&gt; Caused by: java.lang.NullPointerException\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.IndexFetcher.openNewSearcherAndUpdateCommitPoint(IndexFetcher.java:823)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.IndexFetcher.fetchLatestIndex(IndexFetcher.java:575)\\n   [junit4]   2&gt; \\t... 10 more\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16147168_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16147168_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/17 12:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-30T12:51:04+0000\'\u003e30\\/Aug\\/17 12:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    When I commented out the second set of documents getting indexed in source, I didn\'t receive assertion failure, instead NPE returned back :: \\n\\n  \\n    [junit4]   2&gt; 71670 ERROR (recoveryExecutor-6-thread-1-processing-n:127.0.0.1:62762_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:62762_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.ReplicationHandler Index fetch failed :org.apache.solr.common.SolrException: Index fetch failed : \\n   [junit4]   2&gt; \\tat org.apache.solr.handler.IndexFetcher.fetchLatestIndex(IndexFetcher.java:598)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.IndexFetcher.fetchLatestIndex(IndexFetcher.java:301)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:400)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:759)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:714)\\n   [junit4]   2&gt; \\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:197)\\n   [junit4]   2&gt; \\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\\n   [junit4]   2&gt; \\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:229)\\n   [junit4]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n   [junit4]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n   [junit4]   2&gt; \\tat java.lang. Thread .run( Thread .java:745)\\n   [junit4]   2&gt; Caused by: java.lang.NullPointerException\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.IndexFetcher.openNewSearcherAndUpdateCommitPoint(IndexFetcher.java:823)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.IndexFetcher.fetchLatestIndex(IndexFetcher.java:575)\\n   [junit4]   2&gt; \\t... 10 more\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16147309\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16147309&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16147309\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_16147309_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16147309_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/17 14:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-30T14:30:28+0000\'\u003e30\\/Aug\\/17 14:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis attached \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11278\\\" title=\\\"Fix race in cdcr bootstrap process\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11278\\\"\u003e\u003cdel\u003eSOLR-11278\u003c\\/del\u003e\u003c\\/a\u003e-cancel-bootstrap-on-stop.patch fixes the strange status messages seen in the logs by Amrit. What happens is that on stopping cdcr, we stop only the bootstrap status runnable (started on the source cluster) but we do not abort the bootstrap running on the target cluster. This causes the status to return RUNNING on the target even after cdcr is stopped. This patch cancels the running bootstrap on the target cluster.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_16147309_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16147309_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/17 14:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-30T14:30:28+0000\'\u003e30\\/Aug\\/17 14:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This attached   SOLR-11278  -cancel-bootstrap-on-stop.patch fixes the strange status messages seen in the logs by Amrit. What happens is that on stopping cdcr, we stop only the bootstrap status runnable (started on the source cluster) but we do not abort the bootstrap running on the target cluster. This causes the status to return RUNNING on the target even after cdcr is stopped. This patch cancels the running bootstrap on the target cluster.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16147647\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16147647&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16147647\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16147647_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16147647_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/17 17:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-30T17:29:41+0000\'\u003e30\\/Aug\\/17 17:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit b4c6bfafdb32127316b334ffdd195270e1077fbe in lucene-solr\'s branch refs\\/heads\\/master from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\" class=\\\"user-hover\\\" rel=\\\"shalinmangar\\\"\u003eShalin Shekhar Mangar\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=b4c6bfa\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=b4c6bfa\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11278\\\" title=\\\"Fix race in cdcr bootstrap process\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11278\\\"\u003e\u003cdel\u003eSOLR-11278\u003c\\/del\u003e\u003c\\/a\u003e: Stopping CDCR should cancel a running bootstrap operation\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16147647_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16147647_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/17 17:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-30T17:29:41+0000\'\u003e30\\/Aug\\/17 17:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit b4c6bfafdb32127316b334ffdd195270e1077fbe in lucene-solr\'s branch refs\\/heads\\/master from  Shalin Shekhar Mangar  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=b4c6bfa  ] \\n\\n   SOLR-11278  : Stopping CDCR should cancel a running bootstrap operation              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16147654\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16147654&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16147654\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16147654_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16147654_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/17 17:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-30T17:35:43+0000\'\u003e30\\/Aug\\/17 17:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 56ddf473bcf80d9a8f7c3c17d6869cdd3c674223 in lucene-solr\'s branch refs\\/heads\\/branch_7x from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\" class=\\\"user-hover\\\" rel=\\\"shalinmangar\\\"\u003eShalin Shekhar Mangar\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=56ddf47\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=56ddf47\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11278\\\" title=\\\"Fix race in cdcr bootstrap process\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11278\\\"\u003e\u003cdel\u003eSOLR-11278\u003c\\/del\u003e\u003c\\/a\u003e: Stopping CDCR should cancel a running bootstrap operation\u003c\\/p\u003e\\n\\n\u003cp\u003e(cherry picked from commit b4c6bfa)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16147654_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16147654_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/17 17:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-30T17:35:43+0000\'\u003e30\\/Aug\\/17 17:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 56ddf473bcf80d9a8f7c3c17d6869cdd3c674223 in lucene-solr\'s branch refs\\/heads\\/branch_7x from  Shalin Shekhar Mangar  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=56ddf47  ] \\n\\n   SOLR-11278  : Stopping CDCR should cancel a running bootstrap operation \\n\\n (cherry picked from commit b4c6bfa)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16148445\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16148445&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16148445\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_16148445_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16148445_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Aug\\/17 04:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-31T04:56:21+0000\'\u003e31\\/Aug\\/17 04:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThere are still failures in CdcrBootstrapTest.testBootstrapWithContinousIndexingOnSourceCluster after this fix. I don\'t have the time right now to dig but if someone is willing to do the investigation, I can help with reviews and fixes.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_16148445_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16148445_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Aug\\/17 04:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-31T04:56:21+0000\'\u003e31\\/Aug\\/17 04:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    There are still failures in CdcrBootstrapTest.testBootstrapWithContinousIndexingOnSourceCluster after this fix. I don\'t have the time right now to dig but if someone is willing to do the investigation, I can help with reviews and fixes.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16148468\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16148468&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16148468\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16148468_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16148468_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Aug\\/17 05:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-31T05:31:05+0000\'\u003e31\\/Aug\\/17 05:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eShalin, I am onto this. CdcrBootstrapTest.testBootstrapWithContinousIndexingOnSourceCluster is failing intermittently when Bootstrap gets failed due to unannounced SolrCore shutdown. This SolrCore shutdown may not be the root issue, but fetchIndex from source. Please see below:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e  [beaster]   1&gt; Adding 10 docs with commit=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e, numDocs=1100\\n  [beaster]   2&gt; 62998 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 start commit{,optimize=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,openSearcher=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,waitSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e,expungeDeletes=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,softCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,prepareCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e}\\n  [beaster]   2&gt; 62998 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.SolrIndexWriter Calling setCommitData with IW:org.apache.solr.update.SolrIndexWriter@10111fe6\\n  [beaster]   2&gt; 63003 INFO  (qtp358530981-502) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-source:3&amp;wt=javabin&amp;version=2} status=0 QTime=10\\n  [beaster]   2&gt; 63010 INFO  (qtp1081974557-457) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;masterUrl=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:36872\\/solr\\/cdcr-source_shard1_replica1\\/&amp;action=BOOTSTRAP&amp;wt=javabin&amp;version=2} status=0 QTime=32\\n\u003c\\/span\u003e  [beaster]   2&gt; 63012 INFO  (qtp1081974557-459) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n  [beaster]   2&gt; 63013 INFO  (cdcr-bootstrap-status-136-thread-1-processing-n:127.0.0.1:36872_solr x:cdcr-source_shard1_replica1 s:shard1 c:cdcr-source r:core_node1) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.h.CdcrReplicatorManager CDCR bootstrap running \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e 1 seconds, sleeping \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e 2000 ms\\n  [beaster]   2&gt; 63171 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.s.SolrIndexSearcher Opening [Searcher@7cd86816[cdcr-source_shard1_replica1] realtime]\\n  [beaster]   2&gt; 63171 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 end_commit_flush\\n  [beaster]   2&gt; 63171 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 start commit{,optimize=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,openSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e,waitSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e,expungeDeletes=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,softCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,prepareCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e}\\n  [beaster]   2&gt; 63171 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.SolrIndexWriter Calling setCommitData with IW:org.apache.solr.update.SolrIndexWriter@10111fe6\\n  [beaster]   2&gt; 63172 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/update params={waitSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;openSearcher=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e&amp;commit=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;softCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e&amp;commit_end_point=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=javabin&amp;version=2} status=0 QTime=174\\n  [beaster]   2&gt; 63175 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={qt=\\/replication&amp;wt=javabin&amp;version=2&amp;command=indexversion} status=0 QTime=0\\n  [beaster]   2&gt; 63176 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher Master\'s generation: 12\\n  [beaster]   2&gt; 63176 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher Master\'s version: 1504153213504\\n  [beaster]   2&gt; 63176 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher Slave\'s generation: 1\\n  [beaster]   2&gt; 63176 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher Slave\'s version: 0\\n  [beaster]   2&gt; 63176 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher Starting replication process\\n  [beaster]   2&gt; 63205 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.h.ReplicationHandler Adding tlog files to list: [{size=4649, name=tlog.0000000000000000000.1577218955048648704}, {size=4770, name=tlog.0000000000000000001.1577218955134631936}, {size=4770, name=tlog.0000000000000000002.1577218955245780992}, {size=4770, name=tlog.0000000000000000003.1577218955347492864}, {size=4770, name=tlog.0000000000000000004.1577218955448156160}, {size=4770, name=tlog.0000000000000000005.1577218955573985280}, {size=4770, name=tlog.0000000000000000006.1577218955690377216}, {size=4770, name=tlog.0000000000000000007.1577218955795234816}, {size=4770, name=tlog.0000000000000000008.1577218955899043840}, {size=4770, name=tlog.0000000000000000009.1577218956028018688}]\\n  [beaster]   2&gt; 63206 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;wt=javabin&amp;version=2&amp;command=filelist} status=0 QTime=28\\n  [beaster]   2&gt; 63217 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher \u003cspan class=\\\"code-object\\\"\u003eNumber\u003c\\/span\u003e of files in latest index in master: 39\\n  [beaster]   2&gt; 63217 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher \u003cspan class=\\\"code-object\\\"\u003eNumber\u003c\\/span\u003e of tlog files in master: 10\\n  [beaster]   2&gt; 63228 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.u.DefaultSolrCoreState New IndexWriter is ready to be used.\\n  [beaster]   2&gt; 63229 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher Starting download (fullCopy=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e) to MockDirectoryWrapper(RAMDirectory@799f4d8d lockFactory=org.apache.lucene.store.SingleInstanceLockFactory@633c5d00)\\n  [beaster]   2&gt; 63240 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_LuceneVarGapDocFreqInterval_0.tiv&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63246 INFO  (qtp358530981-502) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_Lucene50_0.pos&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63247 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.s.SolrIndexSearcher Opening [Searcher@3fed3b93[cdcr-source_shard1_replica1] main]\\n  [beaster]   2&gt; 63248 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 end_commit_flush\\n  [beaster]   2&gt; 63248 INFO  (searcherExecutor-170-thread-1-processing-n:127.0.0.1:36872_solr x:cdcr-source_shard1_replica1 s:shard1 c:cdcr-source r:core_node1) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.SolrCore [cdcr-source_shard1_replica1] Registered \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e searcher Searcher@3fed3b93[cdcr-source_shard1_replica1] main{ExitableDirectoryReader(UninvertingDirectoryReader(Uninverting(_a(6.6.1):C1000) Uninverting(_b(6.6.1):C1) Uninverting(_c(6.6.1):C99)))}\\n  [beaster]   2&gt; 63249 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a.fdt&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63254 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_Lucene50_0.doc&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63257 INFO  (qtp358530981-501) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_Lucene50_0.tim&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63260 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a.si&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63265 INFO  (qtp358530981-502) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a.fdx&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63269 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_LuceneVarGapDocFreqInterval_0.doc&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63273 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_Lucene50_0.tip&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63276 INFO  (qtp358530981-501) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_TestBloomFilteredLucenePostings_0.blm&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63279 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a.nvm&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63282 INFO  (qtp358530981-502) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a.fnm&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63286 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_TestBloomFilteredLucenePostings_0.doc&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63289 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_TestBloomFilteredLucenePostings_0.tim&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63293 INFO  (qtp358530981-501) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_LuceneVarGapDocFreqInterval_0.pos&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63296 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_TestBloomFilteredLucenePostings_0.tip&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63299 INFO  (qtp358530981-502) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a.nvd&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63302 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_LuceneVarGapDocFreqInterval_0.tib&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63306 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_TestBloomFilteredLucenePostings_0.pos&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63309 INFO  (qtp358530981-501) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_LuceneVarGapDocFreqInterval_0.doc&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63312 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b.nvd&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63316 INFO  (qtp358530981-502) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_TestBloomFilteredLucenePostings_0.blm&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63320 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b.si&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63324 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b.nvm&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63327 INFO  (qtp358530981-501) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b.fnm&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63330 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_LuceneVarGapDocFreqInterval_0.tiv&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63334 INFO  (qtp358530981-502) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_TestBloomFilteredLucenePostings_0.tip&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63337 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_Lucene50_0.pos&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63340 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_Lucene50_0.tip&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63343 INFO  (qtp358530981-501) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_TestBloomFilteredLucenePostings_0.doc&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63347 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_TestBloomFilteredLucenePostings_0.tim&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63348 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-source:3&amp;waitSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;commit=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;softCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e&amp;wt=javabin&amp;version=2} status=0 QTime=343\\n  [beaster]   1&gt; Adding 10 docs with commit=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e, numDocs=1200\\n  [beaster]   2&gt; 63350 INFO  (qtp358530981-502) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_Lucene50_0.doc&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63354 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_Lucene50_0.tim&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63356 INFO  (qtp358530981-498) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-source:3&amp;wt=javabin&amp;version=2} status=0 QTime=5\\n  [beaster]   2&gt; 63357 INFO  (qtp358530981-501) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b.fdx&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63358 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 start commit{,optimize=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,openSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e,waitSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e,expungeDeletes=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,softCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,prepareCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e}\\n  [beaster]   2&gt; 63358 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.SolrIndexWriter Calling setCommitData with IW:org.apache.solr.update.SolrIndexWriter@10111fe6\\n  [beaster]   2&gt; 63361 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_TestBloomFilteredLucenePostings_0.pos&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63410 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_LuceneVarGapDocFreqInterval_0.tib&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63416 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b.fdt&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63420 INFO  (qtp358530981-498) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_LuceneVarGapDocFreqInterval_0.pos&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63424 INFO  (qtp358530981-502) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=segments_c&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63425 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher Starting download of tlog files from master: [{size=4649, name=tlog.0000000000000000000.1577218955048648704}, {size=4770, name=tlog.0000000000000000001.1577218955134631936}, {size=4770, name=tlog.0000000000000000002.1577218955245780992}, {size=4770, name=tlog.0000000000000000003.1577218955347492864}, {size=4770, name=tlog.0000000000000000004.1577218955448156160}, {size=4770, name=tlog.0000000000000000005.1577218955573985280}, {size=4770, name=tlog.0000000000000000006.1577218955690377216}, {size=4770, name=tlog.0000000000000000007.1577218955795234816}, {size=4770, name=tlog.0000000000000000008.1577218955899043840}, {size=4770, name=tlog.0000000000000000009.1577218956028018688}]\\n  [beaster]   2&gt; 63428 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;tlogFile=tlog.0000000000000000000.1577218955048648704&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63433 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;tlogFile=tlog.0000000000000000001.1577218955134631936&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63437 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;tlogFile=tlog.0000000000000000002.1577218955245780992&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63442 INFO  (qtp358530981-498) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;tlogFile=tlog.0000000000000000003.1577218955347492864&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63447 INFO  (qtp358530981-498) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;tlogFile=tlog.0000000000000000004.1577218955448156160&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63451 INFO  (qtp358530981-498) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;tlogFile=tlog.0000000000000000005.1577218955573985280&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63468 INFO  (qtp358530981-498) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;tlogFile=tlog.0000000000000000006.1577218955690377216&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63472 INFO  (qtp358530981-498) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;tlogFile=tlog.0000000000000000007.1577218955795234816&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63479 INFO  (qtp358530981-498) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;tlogFile=tlog.0000000000000000008.1577218955899043840&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63483 INFO  (qtp358530981-498) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;tlogFile=tlog.0000000000000000009.1577218956028018688&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63484 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher Total time taken \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e download (fullCopy=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,bytesDownloaded=101357) : 0 secs (\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e bytes\\/sec) to MockDirectoryWrapper(RAMDirectory@799f4d8d lockFactory=org.apache.lucene.store.SingleInstanceLockFactory@633c5d00)\\n  [beaster]   2&gt; 63506 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.s.SolrIndexSearcher Opening [Searcher@4db46823[cdcr-source_shard1_replica1] main]\\n  [beaster]   2&gt; 63506 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 end_commit_flush\\n  [beaster]   2&gt; 63508 INFO  (searcherExecutor-170-thread-1-processing-n:127.0.0.1:36872_solr x:cdcr-source_shard1_replica1 s:shard1 c:cdcr-source r:core_node1) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.SolrCore [cdcr-source_shard1_replica1] Registered \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e searcher Searcher@4db46823[cdcr-source_shard1_replica1] main{ExitableDirectoryReader(UninvertingDirectoryReader(Uninverting(_a(6.6.1):C1000) Uninverting(_b(6.6.1):C1) Uninverting(_c(6.6.1):C99) Uninverting(_d(6.6.1):C100)))}\\n  [beaster]   2&gt; 63508 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-source:3&amp;waitSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;commit=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;softCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e&amp;wt=javabin&amp;version=2} status=0 QTime=150\\n  [beaster]   1&gt; Adding 10 docs with commit=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e, numDocs=1300\\n  [beaster]   2&gt; 63510 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.u.DefaultSolrCoreState New IndexWriter is ready to be used.\\n  [beaster]   2&gt; 63510 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher Reloading SolrCore cdcr-target_shard1_replica1\\n  [beaster]   2&gt; 63517 INFO  (qtp358530981-501) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-source:3&amp;wt=javabin&amp;version=2} status=0 QTime=5\\n  [beaster]   2&gt; 63520 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 start commit{,optimize=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,openSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e,waitSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e,expungeDeletes=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,softCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,prepareCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e}\\n  [beaster]   2&gt; 63520 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.SolrIndexWriter Calling setCommitData with IW:org.apache.solr.update.SolrIndexWriter@10111fe6\\n  [beaster]   2&gt; 63577 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.SolrConfig Using Lucene MatchVersion: 6.6.1\\n  [beaster]   2&gt; 63614 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.s.IndexSchema [cdcr-target_shard1_replica1] Schema name=minimal\\n  [beaster]   2&gt; 63621 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.s.IndexSchema Loaded schema minimal\\/1.1 with uniqueid field id\\n  [beaster]   2&gt; 63621 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.CoreContainer Reloading SolrCore \u003cspan class=\\\"code-quote\\\"\u003e\'cdcr-target_shard1_replica1\'\u003c\\/span\u003e using configuration from collection cdcr-target\\n  [beaster]   2&gt; 63621 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.s.SolrIndexSearcher Opening [Searcher@5e7f193f[cdcr-source_shard1_replica1] main]\\n  [beaster]   2&gt; 63622 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 end_commit_flush\\n  [beaster]   2&gt; 63624 INFO  (searcherExecutor-170-thread-1-processing-n:127.0.0.1:36872_solr x:cdcr-source_shard1_replica1 s:shard1 c:cdcr-source r:core_node1) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.SolrCore [cdcr-source_shard1_replica1] Registered \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e searcher Searcher@5e7f193f[cdcr-source_shard1_replica1] main{ExitableDirectoryReader(UninvertingDirectoryReader(Uninverting(_a(6.6.1):C1000) Uninverting(_b(6.6.1):C1) Uninverting(_c(6.6.1):C99) Uninverting(_d(6.6.1):C100) Uninverting(_e(6.6.1):C100)))}\\n  [beaster]   2&gt; 63625 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-source:3&amp;waitSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;commit=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;softCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e&amp;wt=javabin&amp;version=2} status=0 QTime=104\\n  [beaster]   1&gt; Adding 10 docs with commit=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e, numDocs=1400\\n  [beaster]   2&gt; 63629 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.SolrCore [[cdcr-target_shard1_replica1] ] Opening \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e SolrCore at [\\/home\\/jenkins\\/lucene-solr\\/solr\\/build\\/solr-core\\/test\\/J0\\/temp\\/solr.cloud.CdcrBootstrapTest_20C3001E01E3B41B-001\\/cdcr-target-004\\/node1\\/cdcr-target_shard1_replica1], dataDir=[\\/home\\/jenkins\\/lucene-solr\\/solr\\/build\\/solr-core\\/test\\/J0\\/temp\\/solr.cloud.CdcrBootstrapTest_20C3001E01E3B41B-001\\/cdcr-target-004\\/node1\\/.\\/cdcr-target_shard1_replica1\\/data\\/]\\n  [beaster]   2&gt; 63634 INFO  (qtp358530981-502) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-source:3&amp;wt=javabin&amp;version=2} status=0 QTime=6\\n  [beaster]   2&gt; 63636 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 start commit{,optimize=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,openSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e,waitSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e,expungeDeletes=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,softCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,prepareCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e}\\n  [beaster]   2&gt; 63636 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.SolrIndexWriter Calling setCommitData with IW:org.apache.solr.update.SolrIndexWriter@10111fe6\\n  [beaster]   2&gt; 63806 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.s.SolrIndexSearcher Opening [Searcher@48e60ebb[cdcr-source_shard1_replica1] main]\\n  [beaster]   2&gt; 63806 INFO  (searcherExecutor-170-thread-1-processing-n:127.0.0.1:36872_solr x:cdcr-source_shard1_replica1 s:shard1 c:cdcr-source r:core_node1) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.SolrCore [cdcr-source_shard1_replica1] Registered \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e searcher Searcher@48e60ebb[cdcr-source_shard1_replica1] main{ExitableDirectoryReader(UninvertingDirectoryReader(Uninverting(_a(6.6.1):C1000) Uninverting(_b(6.6.1):C1) Uninverting(_c(6.6.1):C99) Uninverting(_d(6.6.1):C100) Uninverting(_e(6.6.1):C100) Uninverting(_f(6.6.1):C100)))}\\n  [beaster]   2&gt; 63807 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.u.CommitTracker Hard AutoCommit: disabled\\n  [beaster]   2&gt; 63807 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.u.CommitTracker Soft AutoCommit: disabled\\n  [beaster]   2&gt; 63807 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 end_commit_flush\\n  [beaster]   2&gt; 63808 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-source:3&amp;waitSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;commit=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;softCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e&amp;wt=javabin&amp;version=2} status=0 QTime=171\\n  [beaster]   1&gt; Adding 10 docs with commit=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e, numDocs=1500\\n  [beaster]   2&gt; 63810 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.s.SolrIndexSearcher Opening [Searcher@28386b90[cdcr-target_shard1_replica1] main]\\n  [beaster]   2&gt; 63813 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.r.ManagedResourceStorage Configured ZooKeeperStorageIO with znodeBase: \\/configs\\/cdcr-target\\n  [beaster]   2&gt; 63814 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.r.ManagedResourceStorage Loaded \u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e at path _rest_managed.json using ZooKeeperStorageIO:path=\\/configs\\/cdcr-target\\n  [beaster]   2&gt; 63814 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.s.ZkIndexSchemaReader Creating ZooKeeper watch \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e the managed schema at \\/configs\\/cdcr-target\\/managed-schema\\n  [beaster]   2&gt; 63815 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.s.ZkIndexSchemaReader Current schema version 0 is already the latest\\n  [beaster]   2&gt; 63815 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.ReplicationHandler Commits will be reserved \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e  10000\\n  [beaster]   2&gt; 63827 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-source:3&amp;wt=javabin&amp;version=2} status=0 QTime=15\\n  [beaster]   2&gt; 63832 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 start commit{,optimize=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,openSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e,waitSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e,expungeDeletes=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,softCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,prepareCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e}\\n  [beaster]   2&gt; 63832 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.SolrIndexWriter Calling setCommitData with IW:org.apache.solr.update.SolrIndexWriter@10111fe6\\n  [beaster]   2&gt; 63853 INFO  (searcherExecutor-188-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.SolrCore [cdcr-target_shard1_replica1] Registered \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e searcher Searcher@28386b90[cdcr-target_shard1_replica1] main{ExitableDirectoryReader(UninvertingDirectoryReader(Uninverting(_a(6.6.1):C1000) Uninverting(_b(6.6.1):C1)))}\\n  [beaster]   2&gt; 63860 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.u.DefaultSolrCoreState New IndexWriter is ready to be used.\\n  [beaster]   2&gt; 63865 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.s.SolrIndexSearcher Opening [Searcher@4c22895c[cdcr-target_shard1_replica1] main]\\n  [beaster]   2&gt; 63866 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.SolrCore [cdcr-target_shard1_replica1]  CLOSING SolrCore org.apache.solr.core.SolrCore@ebbd9dc\\n  [beaster]   2&gt; 63866 INFO  (searcherExecutor-188-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.SolrCore [cdcr-target_shard1_replica1] Registered \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e searcher Searcher@4c22895c[cdcr-target_shard1_replica1] main{ExitableDirectoryReader(UninvertingDirectoryReader(Uninverting(_a(6.6.1):C1000) Uninverting(_b(6.6.1):C1)))}\\n  [beaster]   2&gt; 63866 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.CdcrRequestHandler Solr core is being closed - shutting down CDCR handler @ cdcr-target:shard1\\n  [beaster]   2&gt; 63868 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.m.SolrMetricManager Closing metric reporters \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e: solr.core.cdcr-target.shard1.replica1\\n  [beaster]   2&gt; 63869 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.CdcrRequestHandler No replay needed.\\n  [beaster]   2&gt; 63869 ERROR (updateExecutor-109-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.CdcrRequestHandler Bootstrap operation failed\\n  [beaster]   2&gt; java.util.concurrent.ExecutionException: java.lang.AssertionError\\n  [beaster]   2&gt; \\tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\\n  [beaster]   2&gt; \\tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\\n  [beaster]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler.lambda$handleBootstrapAction$0(CdcrRequestHandler.java:644)\\n  [beaster]   2&gt; \\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedRunnable.run(InstrumentedExecutorService.java:176)\\n  [beaster]   2&gt; \\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\\n  [beaster]   2&gt; \\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\\n  [beaster]   2&gt; \\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:229)\\n  [beaster]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n  [beaster]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n  [beaster]   2&gt; \\tat java.lang.\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.run(\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.java:748)\\n  [beaster]   2&gt; Caused by: java.lang.AssertionError\\n  [beaster]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:787)\\n  [beaster]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:714)\\n  [beaster]   2&gt; \\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:197)\\n  [beaster]   2&gt; \\t... 5 more\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eReplication takes place successfully once:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e [beaster]   2&gt; 63860 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.u.DefaultSolrCoreState New IndexWriter is ready to be used.\\n  [beaster]   2&gt; 63865 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.s.SolrIndexSearcher Opening [Searcher@4c22895c[cdcr-target_shard1_replica1] main]\\n  [beaster]   2&gt; 63866 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.SolrCore [cdcr-target_shard1_replica1]  CLOSING SolrCore org.apache.solr.core.SolrCore@ebbd9dc\\n  [beaster]   2&gt; 63866 INFO  (searcherExecutor-188-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.SolrCore [cdcr-target_shard1_replica1] Registered \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e searcher Searcher@4c22895c[cdcr-target_shard1_replica1] main{ExitableDirectoryReader(UninvertingDirectoryReader(Uninverting(_a(6.6.1):C1000) Uninverting(_b(6.6.1):C1)))}\\n  [beaster]   2&gt; 63484 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher Total time taken \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e download (fullCopy=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,bytesDownloaded=101357) : 0 secs (\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e bytes\\/sec) to MockDirectoryWrapper(RAMDirectory@799f4d8d lockFactory=org.apache.lucene.store.SingleInstanceLockFactory@633c5d00)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003ethen \u003ctt\u003ecdcr-target\u003c\\/tt\u003e abruptly closes, with bootstrap operation failed, giving status \\\"cancelled\\\":\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e[beaster]   2&gt; 63866 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.CdcrRequestHandler Solr core is being closed - shutting down CDCR handler @ cdcr-target:shard1\\n  [beaster]   2&gt; 63868 INFO  (\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e-98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.m.SolrMetricManager Closing metric reporters \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e: solr.core.cdcr-target.shard1.replica1\\n  [beaster]   2&gt; 63869 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.CdcrRequestHandler No replay needed.\\n  [beaster]   2&gt; 63869 ERROR (updateExecutor-109-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.CdcrRequestHandler Bootstrap operation failed\\n  [beaster]   2&gt; java.util.concurrent.ExecutionException: java.lang.AssertionError\\n  .......\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eI am adding addition logging in CdcrRequesHandler to catch and print the root problem of failed bootstrap operation. will post the results soon. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16148468_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16148468_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Aug\\/17 05:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-31T05:31:05+0000\'\u003e31\\/Aug\\/17 05:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Shalin, I am onto this. CdcrBootstrapTest.testBootstrapWithContinousIndexingOnSourceCluster is failing intermittently when Bootstrap gets failed due to unannounced SolrCore shutdown. This SolrCore shutdown may not be the root issue, but fetchIndex from source. Please see below: \\n\\n  \\n   [beaster]   1&gt; Adding 10 docs with commit= true , numDocs=1100\\n  [beaster]   2&gt; 62998 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 start commit{,optimize= false ,openSearcher= false ,waitSearcher= true ,expungeDeletes= false ,softCommit= false ,prepareCommit= false }\\n  [beaster]   2&gt; 62998 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.SolrIndexWriter Calling setCommitData with IW:org.apache.solr.update.SolrIndexWriter@10111fe6\\n  [beaster]   2&gt; 63003 INFO  (qtp358530981-502) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-source:3&amp;wt=javabin&amp;version=2} status=0 QTime=10\\n  [beaster]   2&gt; 63010 INFO  (qtp1081974557-457) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;masterUrl=http: \\/\\/127.0.0.1:36872\\/solr\\/cdcr-source_shard1_replica1\\/&amp;action=BOOTSTRAP&amp;wt=javabin&amp;version=2} status=0 QTime=32\\n   [beaster]   2&gt; 63012 INFO  (qtp1081974557-459) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.S.Request [cdcr-target_shard1_replica1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n  [beaster]   2&gt; 63013 INFO  (cdcr-bootstrap-status-136-thread-1-processing-n:127.0.0.1:36872_solr x:cdcr-source_shard1_replica1 s:shard1 c:cdcr-source r:core_node1) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.h.CdcrReplicatorManager CDCR bootstrap running  for  1 seconds, sleeping  for  2000 ms\\n  [beaster]   2&gt; 63171 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.s.SolrIndexSearcher Opening [Searcher@7cd86816[cdcr-source_shard1_replica1] realtime]\\n  [beaster]   2&gt; 63171 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 end_commit_flush\\n  [beaster]   2&gt; 63171 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 start commit{,optimize= false ,openSearcher= true ,waitSearcher= true ,expungeDeletes= false ,softCommit= false ,prepareCommit= false }\\n  [beaster]   2&gt; 63171 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.SolrIndexWriter Calling setCommitData with IW:org.apache.solr.update.SolrIndexWriter@10111fe6\\n  [beaster]   2&gt; 63172 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/update params={waitSearcher= true &amp;openSearcher= false &amp;commit= true &amp;softCommit= false &amp;commit_end_point= true &amp;wt=javabin&amp;version=2} status=0 QTime=174\\n  [beaster]   2&gt; 63175 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={qt=\\/replication&amp;wt=javabin&amp;version=2&amp;command=indexversion} status=0 QTime=0\\n  [beaster]   2&gt; 63176 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher Master\'s generation: 12\\n  [beaster]   2&gt; 63176 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher Master\'s version: 1504153213504\\n  [beaster]   2&gt; 63176 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher Slave\'s generation: 1\\n  [beaster]   2&gt; 63176 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher Slave\'s version: 0\\n  [beaster]   2&gt; 63176 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher Starting replication process\\n  [beaster]   2&gt; 63205 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.h.ReplicationHandler Adding tlog files to list: [{size=4649, name=tlog.0000000000000000000.1577218955048648704}, {size=4770, name=tlog.0000000000000000001.1577218955134631936}, {size=4770, name=tlog.0000000000000000002.1577218955245780992}, {size=4770, name=tlog.0000000000000000003.1577218955347492864}, {size=4770, name=tlog.0000000000000000004.1577218955448156160}, {size=4770, name=tlog.0000000000000000005.1577218955573985280}, {size=4770, name=tlog.0000000000000000006.1577218955690377216}, {size=4770, name=tlog.0000000000000000007.1577218955795234816}, {size=4770, name=tlog.0000000000000000008.1577218955899043840}, {size=4770, name=tlog.0000000000000000009.1577218956028018688}]\\n  [beaster]   2&gt; 63206 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;wt=javabin&amp;version=2&amp;command=filelist} status=0 QTime=28\\n  [beaster]   2&gt; 63217 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher  Number  of files in latest index in master: 39\\n  [beaster]   2&gt; 63217 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher  Number  of tlog files in master: 10\\n  [beaster]   2&gt; 63228 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.u.DefaultSolrCoreState New IndexWriter is ready to be used.\\n  [beaster]   2&gt; 63229 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher Starting download (fullCopy= false ) to MockDirectoryWrapper(RAMDirectory@799f4d8d lockFactory=org.apache.lucene.store.SingleInstanceLockFactory@633c5d00)\\n  [beaster]   2&gt; 63240 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_LuceneVarGapDocFreqInterval_0.tiv&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63246 INFO  (qtp358530981-502) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_Lucene50_0.pos&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63247 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.s.SolrIndexSearcher Opening [Searcher@3fed3b93[cdcr-source_shard1_replica1] main]\\n  [beaster]   2&gt; 63248 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 end_commit_flush\\n  [beaster]   2&gt; 63248 INFO  (searcherExecutor-170-thread-1-processing-n:127.0.0.1:36872_solr x:cdcr-source_shard1_replica1 s:shard1 c:cdcr-source r:core_node1) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.SolrCore [cdcr-source_shard1_replica1] Registered  new  searcher Searcher@3fed3b93[cdcr-source_shard1_replica1] main{ExitableDirectoryReader(UninvertingDirectoryReader(Uninverting(_a(6.6.1):C1000) Uninverting(_b(6.6.1):C1) Uninverting(_c(6.6.1):C99)))}\\n  [beaster]   2&gt; 63249 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a.fdt&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63254 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_Lucene50_0.doc&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63257 INFO  (qtp358530981-501) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_Lucene50_0.tim&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63260 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a.si&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63265 INFO  (qtp358530981-502) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a.fdx&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63269 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_LuceneVarGapDocFreqInterval_0.doc&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63273 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_Lucene50_0.tip&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63276 INFO  (qtp358530981-501) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_TestBloomFilteredLucenePostings_0.blm&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63279 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a.nvm&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63282 INFO  (qtp358530981-502) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a.fnm&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63286 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_TestBloomFilteredLucenePostings_0.doc&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63289 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_TestBloomFilteredLucenePostings_0.tim&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63293 INFO  (qtp358530981-501) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_LuceneVarGapDocFreqInterval_0.pos&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63296 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_TestBloomFilteredLucenePostings_0.tip&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63299 INFO  (qtp358530981-502) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a.nvd&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63302 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_LuceneVarGapDocFreqInterval_0.tib&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63306 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_TestBloomFilteredLucenePostings_0.pos&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63309 INFO  (qtp358530981-501) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_LuceneVarGapDocFreqInterval_0.doc&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63312 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b.nvd&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63316 INFO  (qtp358530981-502) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_TestBloomFilteredLucenePostings_0.blm&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63320 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b.si&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63324 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b.nvm&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63327 INFO  (qtp358530981-501) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b.fnm&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63330 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_LuceneVarGapDocFreqInterval_0.tiv&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63334 INFO  (qtp358530981-502) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_TestBloomFilteredLucenePostings_0.tip&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63337 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_Lucene50_0.pos&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63340 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_Lucene50_0.tip&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63343 INFO  (qtp358530981-501) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_TestBloomFilteredLucenePostings_0.doc&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63347 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_TestBloomFilteredLucenePostings_0.tim&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63348 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-source:3&amp;waitSearcher= true &amp;commit= true &amp;softCommit= false &amp;wt=javabin&amp;version=2} status=0 QTime=343\\n  [beaster]   1&gt; Adding 10 docs with commit= true , numDocs=1200\\n  [beaster]   2&gt; 63350 INFO  (qtp358530981-502) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_Lucene50_0.doc&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63354 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_Lucene50_0.tim&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63356 INFO  (qtp358530981-498) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-source:3&amp;wt=javabin&amp;version=2} status=0 QTime=5\\n  [beaster]   2&gt; 63357 INFO  (qtp358530981-501) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b.fdx&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63358 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 start commit{,optimize= false ,openSearcher= true ,waitSearcher= true ,expungeDeletes= false ,softCommit= false ,prepareCommit= false }\\n  [beaster]   2&gt; 63358 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.SolrIndexWriter Calling setCommitData with IW:org.apache.solr.update.SolrIndexWriter@10111fe6\\n  [beaster]   2&gt; 63361 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_TestBloomFilteredLucenePostings_0.pos&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63410 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_LuceneVarGapDocFreqInterval_0.tib&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63416 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b.fdt&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63420 INFO  (qtp358530981-498) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_b_LuceneVarGapDocFreqInterval_0.pos&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63424 INFO  (qtp358530981-502) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=segments_c&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63425 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher Starting download of tlog files from master: [{size=4649, name=tlog.0000000000000000000.1577218955048648704}, {size=4770, name=tlog.0000000000000000001.1577218955134631936}, {size=4770, name=tlog.0000000000000000002.1577218955245780992}, {size=4770, name=tlog.0000000000000000003.1577218955347492864}, {size=4770, name=tlog.0000000000000000004.1577218955448156160}, {size=4770, name=tlog.0000000000000000005.1577218955573985280}, {size=4770, name=tlog.0000000000000000006.1577218955690377216}, {size=4770, name=tlog.0000000000000000007.1577218955795234816}, {size=4770, name=tlog.0000000000000000008.1577218955899043840}, {size=4770, name=tlog.0000000000000000009.1577218956028018688}]\\n  [beaster]   2&gt; 63428 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;checksum= true &amp;tlogFile=tlog.0000000000000000000.1577218955048648704&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63433 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;checksum= true &amp;tlogFile=tlog.0000000000000000001.1577218955134631936&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63437 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;checksum= true &amp;tlogFile=tlog.0000000000000000002.1577218955245780992&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63442 INFO  (qtp358530981-498) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;checksum= true &amp;tlogFile=tlog.0000000000000000003.1577218955347492864&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63447 INFO  (qtp358530981-498) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;checksum= true &amp;tlogFile=tlog.0000000000000000004.1577218955448156160&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63451 INFO  (qtp358530981-498) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;checksum= true &amp;tlogFile=tlog.0000000000000000005.1577218955573985280&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63468 INFO  (qtp358530981-498) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;checksum= true &amp;tlogFile=tlog.0000000000000000006.1577218955690377216&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63472 INFO  (qtp358530981-498) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;checksum= true &amp;tlogFile=tlog.0000000000000000007.1577218955795234816&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63479 INFO  (qtp358530981-498) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;checksum= true &amp;tlogFile=tlog.0000000000000000008.1577218955899043840&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63483 INFO  (qtp358530981-498) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;checksum= true &amp;tlogFile=tlog.0000000000000000009.1577218956028018688&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 63484 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher Total time taken  for  download (fullCopy= false ,bytesDownloaded=101357) : 0 secs ( null  bytes\\/sec) to MockDirectoryWrapper(RAMDirectory@799f4d8d lockFactory=org.apache.lucene.store.SingleInstanceLockFactory@633c5d00)\\n  [beaster]   2&gt; 63506 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.s.SolrIndexSearcher Opening [Searcher@4db46823[cdcr-source_shard1_replica1] main]\\n  [beaster]   2&gt; 63506 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 end_commit_flush\\n  [beaster]   2&gt; 63508 INFO  (searcherExecutor-170-thread-1-processing-n:127.0.0.1:36872_solr x:cdcr-source_shard1_replica1 s:shard1 c:cdcr-source r:core_node1) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.SolrCore [cdcr-source_shard1_replica1] Registered  new  searcher Searcher@4db46823[cdcr-source_shard1_replica1] main{ExitableDirectoryReader(UninvertingDirectoryReader(Uninverting(_a(6.6.1):C1000) Uninverting(_b(6.6.1):C1) Uninverting(_c(6.6.1):C99) Uninverting(_d(6.6.1):C100)))}\\n  [beaster]   2&gt; 63508 INFO  (qtp358530981-500) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-source:3&amp;waitSearcher= true &amp;commit= true &amp;softCommit= false &amp;wt=javabin&amp;version=2} status=0 QTime=150\\n  [beaster]   1&gt; Adding 10 docs with commit= true , numDocs=1300\\n  [beaster]   2&gt; 63510 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.u.DefaultSolrCoreState New IndexWriter is ready to be used.\\n  [beaster]   2&gt; 63510 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher Reloading SolrCore cdcr-target_shard1_replica1\\n  [beaster]   2&gt; 63517 INFO  (qtp358530981-501) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-source:3&amp;wt=javabin&amp;version=2} status=0 QTime=5\\n  [beaster]   2&gt; 63520 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 start commit{,optimize= false ,openSearcher= true ,waitSearcher= true ,expungeDeletes= false ,softCommit= false ,prepareCommit= false }\\n  [beaster]   2&gt; 63520 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.SolrIndexWriter Calling setCommitData with IW:org.apache.solr.update.SolrIndexWriter@10111fe6\\n  [beaster]   2&gt; 63577 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.SolrConfig Using Lucene MatchVersion: 6.6.1\\n  [beaster]   2&gt; 63614 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.s.IndexSchema [cdcr-target_shard1_replica1] Schema name=minimal\\n  [beaster]   2&gt; 63621 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.s.IndexSchema Loaded schema minimal\\/1.1 with uniqueid field id\\n  [beaster]   2&gt; 63621 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.CoreContainer Reloading SolrCore  \'cdcr-target_shard1_replica1\'  using configuration from collection cdcr-target\\n  [beaster]   2&gt; 63621 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.s.SolrIndexSearcher Opening [Searcher@5e7f193f[cdcr-source_shard1_replica1] main]\\n  [beaster]   2&gt; 63622 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 end_commit_flush\\n  [beaster]   2&gt; 63624 INFO  (searcherExecutor-170-thread-1-processing-n:127.0.0.1:36872_solr x:cdcr-source_shard1_replica1 s:shard1 c:cdcr-source r:core_node1) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.SolrCore [cdcr-source_shard1_replica1] Registered  new  searcher Searcher@5e7f193f[cdcr-source_shard1_replica1] main{ExitableDirectoryReader(UninvertingDirectoryReader(Uninverting(_a(6.6.1):C1000) Uninverting(_b(6.6.1):C1) Uninverting(_c(6.6.1):C99) Uninverting(_d(6.6.1):C100) Uninverting(_e(6.6.1):C100)))}\\n  [beaster]   2&gt; 63625 INFO  (qtp358530981-503) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-source:3&amp;waitSearcher= true &amp;commit= true &amp;softCommit= false &amp;wt=javabin&amp;version=2} status=0 QTime=104\\n  [beaster]   1&gt; Adding 10 docs with commit= true , numDocs=1400\\n  [beaster]   2&gt; 63629 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.SolrCore [[cdcr-target_shard1_replica1] ] Opening  new  SolrCore at [\\/home\\/jenkins\\/lucene-solr\\/solr\\/build\\/solr-core\\/test\\/J0\\/temp\\/solr.cloud.CdcrBootstrapTest_20C3001E01E3B41B-001\\/cdcr-target-004\\/node1\\/cdcr-target_shard1_replica1], dataDir=[\\/home\\/jenkins\\/lucene-solr\\/solr\\/build\\/solr-core\\/test\\/J0\\/temp\\/solr.cloud.CdcrBootstrapTest_20C3001E01E3B41B-001\\/cdcr-target-004\\/node1\\/.\\/cdcr-target_shard1_replica1\\/data\\/]\\n  [beaster]   2&gt; 63634 INFO  (qtp358530981-502) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-source:3&amp;wt=javabin&amp;version=2} status=0 QTime=6\\n  [beaster]   2&gt; 63636 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 start commit{,optimize= false ,openSearcher= true ,waitSearcher= true ,expungeDeletes= false ,softCommit= false ,prepareCommit= false }\\n  [beaster]   2&gt; 63636 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.SolrIndexWriter Calling setCommitData with IW:org.apache.solr.update.SolrIndexWriter@10111fe6\\n  [beaster]   2&gt; 63806 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.s.SolrIndexSearcher Opening [Searcher@48e60ebb[cdcr-source_shard1_replica1] main]\\n  [beaster]   2&gt; 63806 INFO  (searcherExecutor-170-thread-1-processing-n:127.0.0.1:36872_solr x:cdcr-source_shard1_replica1 s:shard1 c:cdcr-source r:core_node1) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.SolrCore [cdcr-source_shard1_replica1] Registered  new  searcher Searcher@48e60ebb[cdcr-source_shard1_replica1] main{ExitableDirectoryReader(UninvertingDirectoryReader(Uninverting(_a(6.6.1):C1000) Uninverting(_b(6.6.1):C1) Uninverting(_c(6.6.1):C99) Uninverting(_d(6.6.1):C100) Uninverting(_e(6.6.1):C100) Uninverting(_f(6.6.1):C100)))}\\n  [beaster]   2&gt; 63807 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.u.CommitTracker Hard AutoCommit: disabled\\n  [beaster]   2&gt; 63807 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.u.CommitTracker Soft AutoCommit: disabled\\n  [beaster]   2&gt; 63807 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 end_commit_flush\\n  [beaster]   2&gt; 63808 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-source:3&amp;waitSearcher= true &amp;commit= true &amp;softCommit= false &amp;wt=javabin&amp;version=2} status=0 QTime=171\\n  [beaster]   1&gt; Adding 10 docs with commit= true , numDocs=1500\\n  [beaster]   2&gt; 63810 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.s.SolrIndexSearcher Opening [Searcher@28386b90[cdcr-target_shard1_replica1] main]\\n  [beaster]   2&gt; 63813 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.r.ManagedResourceStorage Configured ZooKeeperStorageIO with znodeBase: \\/configs\\/cdcr-target\\n  [beaster]   2&gt; 63814 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.r.ManagedResourceStorage Loaded  null  at path _rest_managed.json using ZooKeeperStorageIO:path=\\/configs\\/cdcr-target\\n  [beaster]   2&gt; 63814 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.s.ZkIndexSchemaReader Creating ZooKeeper watch  for  the managed schema at \\/configs\\/cdcr-target\\/managed-schema\\n  [beaster]   2&gt; 63815 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.s.ZkIndexSchemaReader Current schema version 0 is already the latest\\n  [beaster]   2&gt; 63815 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.ReplicationHandler Commits will be reserved  for   10000\\n  [beaster]   2&gt; 63827 INFO  (qtp358530981-504) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.c.S.Request [cdcr-source_shard1_replica1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-source:3&amp;wt=javabin&amp;version=2} status=0 QTime=15\\n  [beaster]   2&gt; 63832 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.DirectUpdateHandler2 start commit{,optimize= false ,openSearcher= true ,waitSearcher= true ,expungeDeletes= false ,softCommit= false ,prepareCommit= false }\\n  [beaster]   2&gt; 63832 INFO  (qtp358530981-497) [n:127.0.0.1:36872_solr c:cdcr-source s:shard1 r:core_node1 x:cdcr-source_shard1_replica1] o.a.s.u.SolrIndexWriter Calling setCommitData with IW:org.apache.solr.update.SolrIndexWriter@10111fe6\\n  [beaster]   2&gt; 63853 INFO  (searcherExecutor-188-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.SolrCore [cdcr-target_shard1_replica1] Registered  new  searcher Searcher@28386b90[cdcr-target_shard1_replica1] main{ExitableDirectoryReader(UninvertingDirectoryReader(Uninverting(_a(6.6.1):C1000) Uninverting(_b(6.6.1):C1)))}\\n  [beaster]   2&gt; 63860 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.u.DefaultSolrCoreState New IndexWriter is ready to be used.\\n  [beaster]   2&gt; 63865 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.s.SolrIndexSearcher Opening [Searcher@4c22895c[cdcr-target_shard1_replica1] main]\\n  [beaster]   2&gt; 63866 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.SolrCore [cdcr-target_shard1_replica1]  CLOSING SolrCore org.apache.solr.core.SolrCore@ebbd9dc\\n  [beaster]   2&gt; 63866 INFO  (searcherExecutor-188-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.SolrCore [cdcr-target_shard1_replica1] Registered  new  searcher Searcher@4c22895c[cdcr-target_shard1_replica1] main{ExitableDirectoryReader(UninvertingDirectoryReader(Uninverting(_a(6.6.1):C1000) Uninverting(_b(6.6.1):C1)))}\\n  [beaster]   2&gt; 63866 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.CdcrRequestHandler Solr core is being closed - shutting down CDCR handler @ cdcr-target:shard1\\n  [beaster]   2&gt; 63868 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.m.SolrMetricManager Closing metric reporters  for : solr.core.cdcr-target.shard1.replica1\\n  [beaster]   2&gt; 63869 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.CdcrRequestHandler No replay needed.\\n  [beaster]   2&gt; 63869 ERROR (updateExecutor-109-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.CdcrRequestHandler Bootstrap operation failed\\n  [beaster]   2&gt; java.util.concurrent.ExecutionException: java.lang.AssertionError\\n  [beaster]   2&gt; \\tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\\n  [beaster]   2&gt; \\tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\\n  [beaster]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler.lambda$handleBootstrapAction$0(CdcrRequestHandler.java:644)\\n  [beaster]   2&gt; \\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedRunnable.run(InstrumentedExecutorService.java:176)\\n  [beaster]   2&gt; \\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\\n  [beaster]   2&gt; \\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\\n  [beaster]   2&gt; \\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:229)\\n  [beaster]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n  [beaster]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n  [beaster]   2&gt; \\tat java.lang. Thread .run( Thread .java:748)\\n  [beaster]   2&gt; Caused by: java.lang.AssertionError\\n  [beaster]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:787)\\n  [beaster]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:714)\\n  [beaster]   2&gt; \\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:197)\\n  [beaster]   2&gt; \\t... 5 more\\n \\n  \\n\\n Replication takes place successfully once: \\n\\n  \\n  [beaster]   2&gt; 63860 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.u.DefaultSolrCoreState New IndexWriter is ready to be used.\\n  [beaster]   2&gt; 63865 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.s.SolrIndexSearcher Opening [Searcher@4c22895c[cdcr-target_shard1_replica1] main]\\n  [beaster]   2&gt; 63866 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.SolrCore [cdcr-target_shard1_replica1]  CLOSING SolrCore org.apache.solr.core.SolrCore@ebbd9dc\\n  [beaster]   2&gt; 63866 INFO  (searcherExecutor-188-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.c.SolrCore [cdcr-target_shard1_replica1] Registered  new  searcher Searcher@4c22895c[cdcr-target_shard1_replica1] main{ExitableDirectoryReader(UninvertingDirectoryReader(Uninverting(_a(6.6.1):C1000) Uninverting(_b(6.6.1):C1)))}\\n  [beaster]   2&gt; 63484 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.IndexFetcher Total time taken  for  download (fullCopy= false ,bytesDownloaded=101357) : 0 secs ( null  bytes\\/sec) to MockDirectoryWrapper(RAMDirectory@799f4d8d lockFactory=org.apache.lucene.store.SingleInstanceLockFactory@633c5d00)\\n \\n  \\n\\n then  cdcr-target  abruptly closes, with bootstrap operation failed, giving status \\\"cancelled\\\": \\n\\n  \\n [beaster]   2&gt; 63866 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.CdcrRequestHandler Solr core is being closed - shutting down CDCR handler @ cdcr-target:shard1\\n  [beaster]   2&gt; 63868 INFO  ( Thread -98) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.m.SolrMetricManager Closing metric reporters  for : solr.core.cdcr-target.shard1.replica1\\n  [beaster]   2&gt; 63869 INFO  (recoveryExecutor-110-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.CdcrRequestHandler No replay needed.\\n  [beaster]   2&gt; 63869 ERROR (updateExecutor-109-thread-1-processing-n:127.0.0.1:36154_solr x:cdcr-target_shard1_replica1 s:shard1 c:cdcr-target r:core_node1) [n:127.0.0.1:36154_solr c:cdcr-target s:shard1 r:core_node1 x:cdcr-target_shard1_replica1] o.a.s.h.CdcrRequestHandler Bootstrap operation failed\\n  [beaster]   2&gt; java.util.concurrent.ExecutionException: java.lang.AssertionError\\n  .......\\n \\n  \\n\\n I am adding addition logging in CdcrRequesHandler to catch and print the root problem of failed bootstrap operation. will post the results soon.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16148943\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16148943&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16148943\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16148943_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16148943_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Aug\\/17 12:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-31T12:56:44+0000\'\u003e31\\/Aug\\/17 12:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOk.\u003c\\/p\u003e\\n\\n\u003cp\u003eI had three successful beast runs w\\/o any assertion failure :\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ctt\u003ebranch_6_6\u003c\\/tt\u003e :: without applying Shalin\'s bootstrap status fix patch\u003cbr\\/\u003e\\n1. ant beast -Dbeast.iters=50 -Dtestcase=CdcrBootstrapTest\u003cbr\\/\u003e\\n2. ant beast -Dtests.dups=2 -Dtests.iters=2 -Dbeast.iters=35 -Dtestcase=CdcrBootstrapTest\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ctt\u003emaster\u003c\\/tt\u003e :: patch is committed yesterday\u003cbr\\/\u003e\\n1. ant beast -Dbeast.iters=50 -Dtestcase=CdcrBootstrapTest -Dtests.dups=2 -Dtests.iters=2\u003c\\/p\u003e\\n\\n\u003cp\u003eSuddenly life\'s good. Will keep testing more.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16148943_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16148943_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Aug\\/17 12:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-31T12:56:44+0000\'\u003e31\\/Aug\\/17 12:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Ok. \\n\\n I had three successful beast runs w\\/o any assertion failure : \\n\\n  branch_6_6  :: without applying Shalin\'s bootstrap status fix patch \\n1. ant beast -Dbeast.iters=50 -Dtestcase=CdcrBootstrapTest \\n2. ant beast -Dtests.dups=2 -Dtests.iters=2 -Dbeast.iters=35 -Dtestcase=CdcrBootstrapTest \\n\\n  master  :: patch is committed yesterday \\n1. ant beast -Dbeast.iters=50 -Dtestcase=CdcrBootstrapTest -Dtests.dups=2 -Dtests.iters=2 \\n\\n Suddenly life\'s good. Will keep testing more.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16150114\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16150114&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16150114\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16150114_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16150114_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/17 06:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-01T06:35:34+0000\'\u003e01\\/Sep\\/17 06:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 01\\/Sep\\/17 06:41\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eRambling again:\u003c\\/p\u003e\\n\\n\u003cp\u003eWhat is the use of bootstrapFuture essentially? to get status of the current operation, right?\u003c\\/p\u003e\\n\\n\u003cp\u003eIn CdcrRequestHandler.java :: there are some custom log lines, ignore them:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e \u003cspan class=\\\"code-object\\\"\u003eRunnable\u003c\\/span\u003e runnable = () -&gt; {\\n      Lock recoveryLock = req.getCore().getSolrCoreState().getRecoveryLock();\\n      \u003cspan class=\\\"code-object\\\"\u003eboolean\u003c\\/span\u003e locked = recoveryLock.tryLock();\\n      SolrCoreState coreState = core.getSolrCoreState();\\n      \u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e {\\n        \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (!locked)  {\\n          log.info(\u003cspan class=\\\"code-quote\\\"\u003e\\\"we reached \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e point :: CANCEL BOOTSTRAP, locked :: \\\"\u003c\\/span\u003e + locked);\\n          handleCancelBootstrap(req, rsp);\\n        } \u003cspan class=\\\"code-keyword\\\"\u003eelse\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (leaderStateManager.amILeader())  {\\n          coreState.setCdcrBootstrapRunning(\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e);\\n          \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/running.set(\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e);\\n\u003c\\/span\u003e          \u003cspan class=\\\"code-object\\\"\u003eString\u003c\\/span\u003e masterUrl = req.getParams().get(ReplicationHandler.MASTER_URL);\\n          BootstrapCallable bootstrapCallable = \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e BootstrapCallable(masterUrl, core);\\n          coreState.setCdcrBootstrapCallable(bootstrapCallable);\\n          Future&lt;\u003cspan class=\\\"code-object\\\"\u003eBoolean\u003c\\/span\u003e&gt; bootstrapFuture = core.getCoreContainer().getUpdateShardHandler().getRecoveryExecutor()\\n              .submit(bootstrapCallable);\\n          \u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e {\\n            log.info(\u003cspan class=\\\"code-quote\\\"\u003e\\\"we reached \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e point :: all good, bootstrapFuture.get :: \\\"\u003c\\/span\u003e + bootstrapFuture.get());\\n          } \u003cspan class=\\\"code-keyword\\\"\u003ecatch\u003c\\/span\u003e (Exception e) {\\n            log.error(\u003cspan class=\\\"code-quote\\\"\u003e\\\"bootstrapFuture.get :: \\\"\u003c\\/span\u003e,e);\\n          }\\n          coreState.setCdcrBootstrapFuture(bootstrapFuture);\\n          \u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e {\\n            bootstrapFuture.get();\\n          } \u003cspan class=\\\"code-keyword\\\"\u003ecatch\u003c\\/span\u003e (InterruptedException e) {\\n            \u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.currentThread().interrupt();\\n            log.warn(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Bootstrap was interrupted\\\"\u003c\\/span\u003e, e);\\n          } \u003cspan class=\\\"code-keyword\\\"\u003ecatch\u003c\\/span\u003e (ExecutionException e) {\\n            log.error(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Bootstrap operation failed\\\"\u003c\\/span\u003e, e);\\n          }\\n        } \u003cspan class=\\\"code-keyword\\\"\u003eelse\u003c\\/span\u003e  {\\n          log.error(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Action {} sent to non-leader replica @ {}:{}. Aborting bootstrap.\\\"\u003c\\/span\u003e, CdcrParams.CdcrAction.BOOTSTRAP, collectionName, shard);\\n        }\\n      } \u003cspan class=\\\"code-keyword\\\"\u003efinally\u003c\\/span\u003e {\\n        \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (locked) {\\n          coreState.setCdcrBootstrapRunning(\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e);\\n          recoveryLock.unlock();\\n        }\\n      }\\n    };\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003e\u003cb\u003ebootstrapFuture.get()\u003c\\/b\u003e throws:\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\\n\u003cp\u003e  \u003cspan class=\\\"error\\\"\u003e&#91;beaster&#93;\u003c\\/span\u003e   2&gt; 43072 ERROR (updateExecutor-39-thread-1-processing-n:127.0.0.1:41488_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) \u003cspan class=\\\"error\\\"\u003e&#91;n:127.0.0.1:41488_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;\u003c\\/span\u003e o.a.s.h.CdcrRequestHandler Bootstrap operation failed\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;beaster&#93;\u003c\\/span\u003e   2&gt; java.util.concurrent.ExecutionException: java.lang.AssertionError\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;beaster&#93;\u003c\\/span\u003e   2&gt; \\tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;beaster&#93;\u003c\\/span\u003e   2&gt; \\tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;beaster&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler.lambda$handleBootstrapAction$0(CdcrRequestHandler.java:653)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;beaster&#93;\u003c\\/span\u003e   2&gt; \\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedRunnable.run(InstrumentedExecutorService.java:176)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;beaster&#93;\u003c\\/span\u003e   2&gt; \\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;beaster&#93;\u003c\\/span\u003e   2&gt; \\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;beaster&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:188)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;beaster&#93;\u003c\\/span\u003e   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;beaster&#93;\u003c\\/span\u003e   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;beaster&#93;\u003c\\/span\u003e   2&gt; \\tat java.lang.Thread.run(Thread.java:748)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;beaster&#93;\u003c\\/span\u003e   2&gt; Caused by: java.lang.AssertionError\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;beaster&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:804)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;beaster&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:723)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;beaster&#93;\u003c\\/span\u003e   2&gt; \\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:197)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;beaster&#93;\u003c\\/span\u003e   2&gt; \\t... 5 more\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eand bootstrap operation fails.\u003c\\/p\u003e\\n\\n\u003cp\u003eFutureTask.java ::\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e    \\/**\\n     * Returns result or \u003cspan class=\\\"code-keyword\\\"\u003ethrows\u003c\\/span\u003e exception \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e completed task.\\n     * @param s completed state value\\n     *\\/\\n    @SuppressWarnings(\u003cspan class=\\\"code-quote\\\"\u003e\\\"unchecked\\\"\u003c\\/span\u003e)\\n    \u003cspan class=\\\"code-keyword\\\"\u003eprivate\u003c\\/span\u003e V report(\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e s) \u003cspan class=\\\"code-keyword\\\"\u003ethrows\u003c\\/span\u003e ExecutionException {\\n        \u003cspan class=\\\"code-object\\\"\u003eObject\u003c\\/span\u003e x = outcome;\\n        \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (s == NORMAL)\\n            \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e (V)x;\\n        \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (s &gt;= CANCELLED)\\n            \u003cspan class=\\\"code-keyword\\\"\u003ethrow\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e CancellationException();\\n        \u003cspan class=\\\"code-keyword\\\"\u003ethrow\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e ExecutionException((Throwable)x);\\n    }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eand the assertion failure is at BootstrapCallable call function \u003ctt\u003efinally\u003c\\/tt\u003e block ::\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e        \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (closed || !success) {\\n          \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ we cannot apply the buffer in \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003ecase\u003c\\/span\u003e because it will introduce newer versions in the\\n\u003c\\/span\u003e          \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ update log and then the source cluster will get those versions via collectioncheckpoint\\n\u003c\\/span\u003e          \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ causing the versions in between to be completely missed\\n\u003c\\/span\u003e          \u003cspan class=\\\"code-object\\\"\u003eboolean\u003c\\/span\u003e dropped = ulog.dropBufferedUpdates();\\n          \u003cspan class=\\\"code-keyword\\\"\u003eassert\u003c\\/span\u003e dropped;\\n        }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003e\u003ctt\u003edropped\u003c\\/tt\u003e is false, \u003ctt\u003ebufferredUpdates\u003c\\/tt\u003e are not cleared \\/ dropped?\u003c\\/p\u003e\\n\\n\u003cp\u003eEarlier the assertion failure is for \u003ctt\u003e2000 to 1000 or 1001\u003c\\/tt\u003e, recently I got \u003ctt\u003e2000 to 1100\u003c\\/tt\u003e.\u003c\\/p\u003e\\n\\n\u003cp\u003eI will test with disabled buffer and see if there\'s any change.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16150114_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16150114_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/17 06:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-01T06:35:34+0000\'\u003e01\\/Sep\\/17 06:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 01\\/Sep\\/17 06:41\\\"\u003eedited\u003c\\/span\u003e                   Rambling again: \\n\\n What is the use of bootstrapFuture essentially? to get status of the current operation, right? \\n\\n In CdcrRequestHandler.java :: there are some custom log lines, ignore them: \\n\\n  \\n   Runnable  runnable = () -&gt; {\\n      Lock recoveryLock = req.getCore().getSolrCoreState().getRecoveryLock();\\n       boolean  locked = recoveryLock.tryLock();\\n      SolrCoreState coreState = core.getSolrCoreState();\\n       try  {\\n         if  (!locked)  {\\n          log.info( \\\"we reached  this  point :: CANCEL BOOTSTRAP, locked :: \\\"  + locked);\\n          handleCancelBootstrap(req, rsp);\\n        }  else   if  (leaderStateManager.amILeader())  {\\n          coreState.setCdcrBootstrapRunning( true );\\n           \\/\\/running.set( true );\\n            String  masterUrl = req.getParams().get(ReplicationHandler.MASTER_URL);\\n          BootstrapCallable bootstrapCallable =  new  BootstrapCallable(masterUrl, core);\\n          coreState.setCdcrBootstrapCallable(bootstrapCallable);\\n          Future&lt; Boolean &gt; bootstrapFuture = core.getCoreContainer().getUpdateShardHandler().getRecoveryExecutor()\\n              .submit(bootstrapCallable);\\n           try  {\\n            log.info( \\\"we reached  this  point :: all good, bootstrapFuture.get :: \\\"  + bootstrapFuture.get());\\n          }  catch  (Exception e) {\\n            log.error( \\\"bootstrapFuture.get :: \\\" ,e);\\n          }\\n          coreState.setCdcrBootstrapFuture(bootstrapFuture);\\n           try  {\\n            bootstrapFuture.get();\\n          }  catch  (InterruptedException e) {\\n             Thread .currentThread().interrupt();\\n            log.warn( \\\"Bootstrap was interrupted\\\" , e);\\n          }  catch  (ExecutionException e) {\\n            log.error( \\\"Bootstrap operation failed\\\" , e);\\n          }\\n        }  else   {\\n          log.error( \\\"Action {} sent to non-leader replica @ {}:{}. Aborting bootstrap.\\\" , CdcrParams.CdcrAction.BOOTSTRAP, collectionName, shard);\\n        }\\n      }  finally  {\\n         if  (locked) {\\n          coreState.setCdcrBootstrapRunning( false );\\n          recoveryLock.unlock();\\n        }\\n      }\\n    };\\n \\n  \\n\\n  bootstrapFuture.get()  throws: \\n\\n \\n    &#91;beaster&#93;    2&gt; 43072 ERROR (updateExecutor-39-thread-1-processing-n:127.0.0.1:41488_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2)  &#91;n:127.0.0.1:41488_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;  o.a.s.h.CdcrRequestHandler Bootstrap operation failed \\n   &#91;beaster&#93;    2&gt; java.util.concurrent.ExecutionException: java.lang.AssertionError \\n   &#91;beaster&#93;    2&gt; \\tat java.util.concurrent.FutureTask.report(FutureTask.java:122) \\n   &#91;beaster&#93;    2&gt; \\tat java.util.concurrent.FutureTask.get(FutureTask.java:192) \\n   &#91;beaster&#93;    2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler.lambda$handleBootstrapAction$0(CdcrRequestHandler.java:653) \\n   &#91;beaster&#93;    2&gt; \\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedRunnable.run(InstrumentedExecutorService.java:176) \\n   &#91;beaster&#93;    2&gt; \\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) \\n   &#91;beaster&#93;    2&gt; \\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) \\n   &#91;beaster&#93;    2&gt; \\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:188) \\n   &#91;beaster&#93;    2&gt; \\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) \\n   &#91;beaster&#93;    2&gt; \\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) \\n   &#91;beaster&#93;    2&gt; \\tat java.lang.Thread.run(Thread.java:748) \\n   &#91;beaster&#93;    2&gt; Caused by: java.lang.AssertionError \\n   &#91;beaster&#93;    2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:804) \\n   &#91;beaster&#93;    2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:723) \\n   &#91;beaster&#93;    2&gt; \\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:197) \\n   &#91;beaster&#93;    2&gt; \\t... 5 more  \\n\\n and bootstrap operation fails. \\n\\n FutureTask.java :: \\n  \\n     \\/**\\n     * Returns result or  throws  exception  for  completed task.\\n     * @param s completed state value\\n     *\\/\\n    @SuppressWarnings( \\\"unchecked\\\" )\\n     private  V report( int  s)  throws  ExecutionException {\\n         Object  x = outcome;\\n         if  (s == NORMAL)\\n             return  (V)x;\\n         if  (s &gt;= CANCELLED)\\n             throw   new  CancellationException();\\n         throw   new  ExecutionException((Throwable)x);\\n    }\\n \\n  \\n\\n and the assertion failure is at BootstrapCallable call function  finally  block :: \\n  \\n          if  (closed || !success) {\\n           \\/\\/ we cannot apply the buffer in  this   case  because it will introduce newer versions in the\\n            \\/\\/ update log and then the source cluster will get those versions via collectioncheckpoint\\n            \\/\\/ causing the versions in between to be completely missed\\n            boolean  dropped = ulog.dropBufferedUpdates();\\n           assert  dropped;\\n        }\\n \\n  \\n\\n  dropped  is false,  bufferredUpdates  are not cleared \\/ dropped? \\n\\n Earlier the assertion failure is for  2000 to 1000 or 1001 , recently I got  2000 to 1100 . \\n\\n I will test with disabled buffer and see if there\'s any change.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16150247\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16150247&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16150247\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16150247_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16150247_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/17 09:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-01T09:04:01+0000\'\u003e01\\/Sep\\/17 09:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eRoot cause of the assertion error ::\u003c\\/p\u003e\\n\\n\u003cp\u003eIn bootstrap process, in bootstrap callable process,\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e        Future&lt;UpdateLog.RecoveryInfo&gt; \u003cspan class=\\\"code-keyword\\\"\u003efuture\u003c\\/span\u003e = ulog.applyBufferedUpdates();\\n          ....................\\n        }\\n        \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e success;\\n      } \u003cspan class=\\\"code-keyword\\\"\u003efinally\u003c\\/span\u003e {\\n        \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (closed || !success) {\\n          ...................\\n          \u003cspan class=\\\"code-object\\\"\u003eboolean\u003c\\/span\u003e dropped = ulog.dropBufferedUpdates();\\n          log.info(\u003cspan class=\\\"code-quote\\\"\u003e\\\"boostrap callable dropped :: \\\"\u003c\\/span\u003e + dropped);\\n          \u003cspan class=\\\"code-keyword\\\"\u003eassert\u003c\\/span\u003e dropped;\\n        }\\n      }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003e\u003ctt\u003eulog.dropBufferedUpdates()\u003c\\/tt\u003e is getting calculated as \u003ctt\u003efalse\u003c\\/tt\u003e at ::\u003c\\/p\u003e\\n\\n\u003cp\u003eUpdateLog::dropBufferedUpdates::\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e  \u003cspan class=\\\"code-comment\\\"\u003e\\/** Returns \u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e we were able to drop buffered updates and \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e to the ACTIVE state *\\/\u003c\\/span\u003e\\n  \u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e \u003cspan class=\\\"code-object\\\"\u003eboolean\u003c\\/span\u003e dropBufferedUpdates() {\\n    versionInfo.blockUpdates();\\n    \u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e {\\n      log.info(\u003cspan class=\\\"code-quote\\\"\u003e\\\"dropBufferedUpdates :: state :: start \\\"\u003c\\/span\u003e + state);\\n      \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (state != State.BUFFERING){\\n        \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e;\\n      }\\n...............\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eThis state is assigned \u003cb\u003e\u003ctt\u003eACTIVE\u003c\\/tt\u003e\u003c\\/b\u003e instead of buffering and it returns \u003cb\u003e\u003ctt\u003efalse\u003c\\/tt\u003e\u003c\\/b\u003e and returns..\u003c\\/p\u003e\\n\\n\u003cp\u003ein UpdateLog, I cannot figure out where exactly \u003ctt\u003estate\u003c\\/tt\u003e is getting assigned as \u003cb\u003eACTIVE\u003c\\/b\u003e b\\/w \u003ctt\u003eapplybufferedupdates\u003c\\/tt\u003e and \u003ctt\u003edropbufferedupdates\u003c\\/tt\u003e and running test to detect the same. Ideally the initial value of \u003ctt\u003estate\u003c\\/tt\u003e is assigned \u003ctt\u003eACTIVE\u003c\\/tt\u003e.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16150247_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16150247_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/17 09:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-01T09:04:01+0000\'\u003e01\\/Sep\\/17 09:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Root cause of the assertion error :: \\n\\n In bootstrap process, in bootstrap callable process, \\n\\n  \\n         Future&lt;UpdateLog.RecoveryInfo&gt;  future  = ulog.applyBufferedUpdates();\\n          ....................\\n        }\\n         return  success;\\n      }  finally  {\\n         if  (closed || !success) {\\n          ...................\\n           boolean  dropped = ulog.dropBufferedUpdates();\\n          log.info( \\\"boostrap callable dropped :: \\\"  + dropped);\\n           assert  dropped;\\n        }\\n      }\\n \\n  \\n\\n  ulog.dropBufferedUpdates()  is getting calculated as  false  at :: \\n\\n UpdateLog::dropBufferedUpdates:: \\n\\n  \\n    \\/** Returns  true   if  we were able to drop buffered updates and  return  to the ACTIVE state *\\/ \\n   public   boolean  dropBufferedUpdates() {\\n    versionInfo.blockUpdates();\\n     try  {\\n      log.info( \\\"dropBufferedUpdates :: state :: start \\\"  + state);\\n       if  (state != State.BUFFERING){\\n         return   false ;\\n      }\\n...............\\n \\n  \\n\\n This state is assigned   ACTIVE   instead of buffering and it returns   false   and returns.. \\n\\n in UpdateLog, I cannot figure out where exactly  state  is getting assigned as  ACTIVE  b\\/w  applybufferedupdates  and  dropbufferedupdates  and running test to detect the same. Ideally the initial value of  state  is assigned  ACTIVE .              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16150251\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16150251&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16150251\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16150251_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16150251_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/17 09:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-01T09:06:54+0000\'\u003e01\\/Sep\\/17 09:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDue to this assertion error, the \u003ctt\u003ewaitForTargetSync\u003c\\/tt\u003e emits the same 1000 \\/ 1001 \\/ 1100 numFound for target for 120 seconds, as bootstrap has failed due to \\\"UNABLE TO DROP BUFFER UPDATES\\\". I am not sure what is the significance of dropping updates in \u003ctt\u003efinally\u003c\\/tt\u003e block in bootstrap process. Would appreciate some advice on this.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16150251_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16150251_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/17 09:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-01T09:06:54+0000\'\u003e01\\/Sep\\/17 09:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Due to this assertion error, the  waitForTargetSync  emits the same 1000 \\/ 1001 \\/ 1100 numFound for target for 120 seconds, as bootstrap has failed due to \\\"UNABLE TO DROP BUFFER UPDATES\\\". I am not sure what is the significance of dropping updates in  finally  block in bootstrap process. Would appreciate some advice on this.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16150469\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16150469&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16150469\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16150469_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16150469_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/17 13:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-01T13:01:09+0000\'\u003e01\\/Sep\\/17 13:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAlright!\u003c\\/p\u003e\\n\\n\u003cp\u003eThere are two issues in the troubled CDCR test :\u003c\\/p\u003e\\n\\n\u003cp\u003e1. Why bootstrap is called two seperate times in single life cycle\u003c\\/p\u003e\\n\\n\u003cp\u003e-&gt; first time bootstrap is called when we enable CDCR, and 1000 documents are boostrapped to target\u003c\\/p\u003e\\n\\n\u003cp\u003e-&gt; the second one is when bootstrapping is happening in background and new updates are getting shoved down to source. Once the first boostrap is successfully completed, target sees (I speculate) it is much behind and issues bootstrap again, which I don\'t really understand and putting extra logging doesn\'t really helps too. I am seeing more. OR all this is wrong, and boostrap is happening just one time in a weird manner.\u003c\\/p\u003e\\n\\n\u003cp\u003e-&gt; as above listed, the first bootstrap and indexing into source cluster happens simulteneouly at one point. How it is suppose to behave that time.\u003c\\/p\u003e\\n\\n\u003cp\u003eaccording to code: CdcrRequestHandler:BootstrapCallable:call()::\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e........\\n @Override\\n    \u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e \u003cspan class=\\\"code-object\\\"\u003eBoolean\u003c\\/span\u003e call() \u003cspan class=\\\"code-keyword\\\"\u003ethrows\u003c\\/span\u003e Exception {\\n      \u003cspan class=\\\"code-object\\\"\u003eboolean\u003c\\/span\u003e success = \u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e;\\n      Throwable exception = \u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e;\\n      UpdateLog ulog = core.getUpdateHandler().getUpdateLog();\\n      \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ we start buffering updates as a safeguard however we \u003cspan class=\\\"code-keyword\\\"\u003edo\u003c\\/span\u003e not expect\\n\u003c\\/span\u003e      \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ to receive any updates from the source during bootstrap\\n\u003c\\/span\u003e      ulog.bufferUpdates();\\n      \u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e {\\n        commitOnLeader(masterUrl);\\n........\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003e2. Why bootstrap issues at the second time (if it is) fails miserably\u003c\\/p\u003e\\n\\n\u003cp\u003e-&gt; when the bootstrap is issued, it calls boostrapCallable to apply buffer updates and if \\\"fetchIndex is not successful OR boostrapCallable is closed\\\", drop those updates from UpdateLog in \u003ctt\u003efinally\u003c\\/tt\u003e block\u003c\\/p\u003e\\n\\n\u003cp\u003e-&gt; in this case, when bootstrap gets issued :: it checks whether it can get the LOCK ::\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\u003cspan class=\\\"code-keyword\\\"\u003eprivate\u003c\\/span\u003e void handleBootstrapAction(SolrQueryRequest req, SolrQueryResponse rsp) \u003cspan class=\\\"code-keyword\\\"\u003ethrows\u003c\\/span\u003e IOException, SolrServerException {\\n    .......................\\n\\n    \u003cspan class=\\\"code-object\\\"\u003eRunnable\u003c\\/span\u003e runnable = () -&gt; {\\n      Lock recoveryLock = req.getCore().getSolrCoreState().getRecoveryLock();\\n      \u003cspan class=\\\"code-object\\\"\u003eboolean\u003c\\/span\u003e locked = recoveryLock.tryLock();\\n      SolrCoreState coreState = core.getSolrCoreState();\\n      \u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e {\\n        \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (!locked)  {\\n          log.info(\u003cspan class=\\\"code-quote\\\"\u003e\\\"we reached \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e point :: CANCEL BOOTSTRAP, locked :: \\\"\u003c\\/span\u003e + locked);\\n          handleCancelBootstrap(req, rsp);\\n        } \\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eand if not, it issues CANCEL BOOTSTRAP, which happend exactly in this case. CANCEL_BOOSTRAP is issued and applied QUIETLY.\u003c\\/p\u003e\\n\\n\u003cp\u003e-&gt;  in the background within the bootstrap,  applyBufferUpdates, in ulog, \u003ctt\u003etlog\u003c\\/tt\u003e is mysteriously NULL, suggesting no updates were recieved, umm why? and return bootstrapFuture as null and set the STATE of replication as ACTIVE.\u003c\\/p\u003e\\n\\n\u003cp\u003eaccording to code :: UpdatesLog.java ::\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\u003cspan class=\\\"code-comment\\\"\u003e\\/** Returns the Future to wait on, or \u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e no replay was needed *\\/\u003c\\/span\u003e\\n  \u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e Future&lt;RecoveryInfo&gt; applyBufferedUpdates() {\\n    \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ recovery trips \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003eassert\u003c\\/span\u003e under some race - even when\\n\u003c\\/span\u003e    \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ it checks the state first\\n\u003c\\/span\u003e    \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ \u003cspan class=\\\"code-keyword\\\"\u003eassert\u003c\\/span\u003e state == State.BUFFERING;\\n\u003c\\/span\u003e\\n    \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ block all updates to eliminate race conditions\\n\u003c\\/span\u003e    \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ reading state and acting on it in the update processor\\n\u003c\\/span\u003e    versionInfo.blockUpdates();\\n    \u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e {\\n      cancelApplyBufferUpdate = \u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e;\\n      log.info(\u003cspan class=\\\"code-quote\\\"\u003e\\\"applyBufferedUpdates :: state :: start :: \\\"\u003c\\/span\u003e + state);\\n      \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (state != State.BUFFERING){\\n        \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e;\\n      }\\n      operationFlags &amp;= ~FLAG_GAP;\\n\\n      \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ handle \u003cspan class=\\\"code-keyword\\\"\u003ecase\u003c\\/span\u003e when no log was even created because no updates\\n\u003c\\/span\u003e      \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ were received.\\n\u003c\\/span\u003e      \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (tlog == \u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e) {\\n        log.info(\u003cspan class=\\\"code-quote\\\"\u003e\\\"applyBufferedUpdates :: state :: middle 1 :: \\\"\u003c\\/span\u003e + state);\\n        state = State.ACTIVE;\\n        \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e;\\n      }\\n      log.info(\u003cspan class=\\\"code-quote\\\"\u003e\\\"applyBufferedUpdates :: state :: middle 2 :: \\\"\u003c\\/span\u003e + state);\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003e-&gt; now in finally block, the fetchIndex is successfull but \\\"closed\\\" is true (DUE TO CANCEL BOOTSTRAP apprently) which is initialised to false:: it tries to drop the buffer updates from ulog where ::\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e \u003cspan class=\\\"code-comment\\\"\u003e\\/** Returns \u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e we were able to drop buffered updates and \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e to the ACTIVE state *\\/\u003c\\/span\u003e\\n  \u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e \u003cspan class=\\\"code-object\\\"\u003eboolean\u003c\\/span\u003e dropBufferedUpdates() {\\n    versionInfo.blockUpdates();\\n    \u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e {\\n      log.info(\u003cspan class=\\\"code-quote\\\"\u003e\\\"dropBufferedUpdates :: state :: start \\\"\u003c\\/span\u003e + state);\\n      \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (state != State.BUFFERING){\\n        \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e;\\n      }\\n.......\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eSTATE is ACTIVE and returns \u003ctt\u003efalse\u003c\\/tt\u003e.\u003c\\/p\u003e\\n\\n\u003cp\u003efaling the \\\"assert dropped\\\" in BootstrapCallable and eventually emitting: \\\"bootstrap operation failed\\\".\u003c\\/p\u003e\\n\\n\u003cp\u003eOnce bootstrap fails, in CdcrBootsrapTest::waitTargetToSync :: it waits for 120 seconds, and recieves constant numFound from target, == 1000 \\/ 1001 \\/ 1100, any number basically before boostrap failed and eventually Assertion at CdcrBootsrapTest fails.\u003c\\/p\u003e\\n\\n\u003cp\u003eThere are still some unanswered questions like:\u003c\\/p\u003e\\n\\n\u003cp\u003e1. Why in the first place two boostrap command are issued OR we think we two are issued and it one wrapped up in an awkward life time. Why the conventional forwarding not happening?\u003cbr\\/\u003e\\n2. When it tries to drop the buffer updates, why the tlog is null? It has recieved updates from source, but why it is NULL in target cluster. Is there a synchrnization issue?\u003c\\/p\u003e\\n\\n\u003cp\u003eso the matter of the question is this lock ::\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003eLock recoveryLock = req.getCore().getSolrCoreState().getRecoveryLock();\\n      \u003cspan class=\\\"code-object\\\"\u003eboolean\u003c\\/span\u003e locked = recoveryLock.tryLock();\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eMore insights will be deeply appreciated. I believe we are very close.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16150469_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16150469_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/17 13:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-01T13:01:09+0000\'\u003e01\\/Sep\\/17 13:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Alright! \\n\\n There are two issues in the troubled CDCR test : \\n\\n 1. Why bootstrap is called two seperate times in single life cycle \\n\\n -&gt; first time bootstrap is called when we enable CDCR, and 1000 documents are boostrapped to target \\n\\n -&gt; the second one is when bootstrapping is happening in background and new updates are getting shoved down to source. Once the first boostrap is successfully completed, target sees (I speculate) it is much behind and issues bootstrap again, which I don\'t really understand and putting extra logging doesn\'t really helps too. I am seeing more. OR all this is wrong, and boostrap is happening just one time in a weird manner. \\n\\n -&gt; as above listed, the first bootstrap and indexing into source cluster happens simulteneouly at one point. How it is suppose to behave that time. \\n\\n according to code: CdcrRequestHandler:BootstrapCallable:call():: \\n\\n  \\n ........\\n @Override\\n     public   Boolean  call()  throws  Exception {\\n       boolean  success =  false ;\\n      Throwable exception =  null ;\\n      UpdateLog ulog = core.getUpdateHandler().getUpdateLog();\\n       \\/\\/ we start buffering updates as a safeguard however we  do  not expect\\n        \\/\\/ to receive any updates from the source during bootstrap\\n       ulog.bufferUpdates();\\n       try  {\\n        commitOnLeader(masterUrl);\\n........\\n \\n  \\n\\n 2. Why bootstrap issues at the second time (if it is) fails miserably \\n\\n -&gt; when the bootstrap is issued, it calls boostrapCallable to apply buffer updates and if \\\"fetchIndex is not successful OR boostrapCallable is closed\\\", drop those updates from UpdateLog in  finally  block \\n\\n -&gt; in this case, when bootstrap gets issued :: it checks whether it can get the LOCK :: \\n\\n  \\n  private  void handleBootstrapAction(SolrQueryRequest req, SolrQueryResponse rsp)  throws  IOException, SolrServerException {\\n    .......................\\n\\n     Runnable  runnable = () -&gt; {\\n      Lock recoveryLock = req.getCore().getSolrCoreState().getRecoveryLock();\\n       boolean  locked = recoveryLock.tryLock();\\n      SolrCoreState coreState = core.getSolrCoreState();\\n       try  {\\n         if  (!locked)  {\\n          log.info( \\\"we reached  this  point :: CANCEL BOOTSTRAP, locked :: \\\"  + locked);\\n          handleCancelBootstrap(req, rsp);\\n        } \\n \\n  \\n\\n and if not, it issues CANCEL BOOTSTRAP, which happend exactly in this case. CANCEL_BOOSTRAP is issued and applied QUIETLY. \\n\\n -&gt;  in the background within the bootstrap,  applyBufferUpdates, in ulog,  tlog  is mysteriously NULL, suggesting no updates were recieved, umm why? and return bootstrapFuture as null and set the STATE of replication as ACTIVE. \\n\\n according to code :: UpdatesLog.java :: \\n\\n  \\n  \\/** Returns the Future to wait on, or  null   if  no replay was needed *\\/ \\n   public  Future&lt;RecoveryInfo&gt; applyBufferedUpdates() {\\n     \\/\\/ recovery trips  this   assert  under some race - even when\\n      \\/\\/ it checks the state first\\n      \\/\\/  assert  state == State.BUFFERING;\\n \\n     \\/\\/ block all updates to eliminate race conditions\\n      \\/\\/ reading state and acting on it in the update processor\\n     versionInfo.blockUpdates();\\n     try  {\\n      cancelApplyBufferUpdate =  false ;\\n      log.info( \\\"applyBufferedUpdates :: state :: start :: \\\"  + state);\\n       if  (state != State.BUFFERING){\\n         return   null ;\\n      }\\n      operationFlags &amp;= ~FLAG_GAP;\\n\\n       \\/\\/ handle  case  when no log was even created because no updates\\n        \\/\\/ were received.\\n        if  (tlog ==  null ) {\\n        log.info( \\\"applyBufferedUpdates :: state :: middle 1 :: \\\"  + state);\\n        state = State.ACTIVE;\\n         return   null ;\\n      }\\n      log.info( \\\"applyBufferedUpdates :: state :: middle 2 :: \\\"  + state);\\n \\n  \\n\\n -&gt; now in finally block, the fetchIndex is successfull but \\\"closed\\\" is true (DUE TO CANCEL BOOTSTRAP apprently) which is initialised to false:: it tries to drop the buffer updates from ulog where :: \\n\\n  \\n   \\/** Returns  true   if  we were able to drop buffered updates and  return  to the ACTIVE state *\\/ \\n   public   boolean  dropBufferedUpdates() {\\n    versionInfo.blockUpdates();\\n     try  {\\n      log.info( \\\"dropBufferedUpdates :: state :: start \\\"  + state);\\n       if  (state != State.BUFFERING){\\n         return   false ;\\n      }\\n.......\\n \\n  \\n\\n STATE is ACTIVE and returns  false . \\n\\n faling the \\\"assert dropped\\\" in BootstrapCallable and eventually emitting: \\\"bootstrap operation failed\\\". \\n\\n Once bootstrap fails, in CdcrBootsrapTest::waitTargetToSync :: it waits for 120 seconds, and recieves constant numFound from target, == 1000 \\/ 1001 \\/ 1100, any number basically before boostrap failed and eventually Assertion at CdcrBootsrapTest fails. \\n\\n There are still some unanswered questions like: \\n\\n 1. Why in the first place two boostrap command are issued OR we think we two are issued and it one wrapped up in an awkward life time. Why the conventional forwarding not happening? \\n2. When it tries to drop the buffer updates, why the tlog is null? It has recieved updates from source, but why it is NULL in target cluster. Is there a synchrnization issue? \\n\\n so the matter of the question is this lock :: \\n\\n  \\n Lock recoveryLock = req.getCore().getSolrCoreState().getRecoveryLock();\\n       boolean  locked = recoveryLock.tryLock();\\n \\n  \\n\\n More insights will be deeply appreciated. I believe we are very close.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16150771\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16150771&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16150771\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16150771_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16150771_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/17 16:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-01T16:01:08+0000\'\u003e01\\/Sep\\/17 16:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eConfirmed there are two seperate bootstrap threads initiated, one acquires lock, one fails ::\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e[beaster]   2&gt; 34430 INFO  (updateExecutor-39-thread-1-processing-n:127.0.0.1:35690_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:35690_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler what\' the lock \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e time :: \u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e\\n  [beaster]   2&gt; 34431 INFO  (qtp510024884-173) [n:127.0.0.1:35690_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.c.S.Request [cdcr-target_shard1_replica_n1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;masterUrl=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:38721\\/solr\\/cdcr-source_shard1_replica_n1\\/&amp;action=BOOTSTRAP&amp;wt=javabin&amp;version=2} status=0 QTime=10\\n\u003c\\/span\u003e  [beaster]   2&gt; 34432 INFO  (qtp600983226-216) [n:127.0.0.1:38721_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.c.S.Request [cdcr-source_shard1_replica_n1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-source:4&amp;wt=javabin&amp;version=2} status=0 QTime=13\\n  [beaster]   2&gt; 34433 INFO  (updateExecutor-39-thread-2-processing-n:127.0.0.1:35690_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:35690_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler what\' the lock \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e time :: \u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003e\u003ctt\u003eupdateExecutor-39-thread-1-processing\u003c\\/tt\u003e.....\u003cbr\\/\u003e\\n\u003ctt\u003eupdateExecutor-39-thread-2-processing\u003c\\/tt\u003e.....\u003c\\/p\u003e\\n\\n\u003cp\u003eThere are only three lines printed (two added for extensive logging) for \u003ctt\u003eupdateExecutor-39-thread-2-processing\u003c\\/tt\u003e, why? and why it is introduced at first place.\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e  [beaster]   2&gt; 34433 INFO  (updateExecutor-39-thread-2-processing-n:127.0.0.1:35690_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:35690_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler what\' the lock \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e time :: \u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e\\n  [beaster]   2&gt; 34433 INFO  (updateExecutor-39-thread-2-processing-n:127.0.0.1:35690_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:35690_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler we reached \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e point :: CANCEL BOOTSTRAP, locked :: \u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e\\n  [beaster]   2&gt; 34433 INFO  (updateExecutor-39-thread-2-processing-n:127.0.0.1:35690_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:35690_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler someone called me, yes they did\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eMy best guess :\u003c\\/p\u003e\\n\\n\u003cp\u003eSee after \u003ctt\u003eupdateExecutor-39-thread-1-processing\u003c\\/tt\u003e gets the lock and invoke BOOTSTRAP api. An update is received on \u003ctt\u003esource\u003c\\/tt\u003e collection and right after that another \u003cb\u003e\\\"updateExecutor-39-thread-2-processing\\\"\u003c\\/b\u003e is invoked trying to acquire the lock and eventually when it fails, invoke CANCEL_BOOTSTRAP, creating chaos.\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003cb\u003eThe fine time frame b\\/w INVOKING bootstrap, CHANGING bootstrap status to running and RECEIVING a new update on source is creating confusion\\/chaos, as handleBootrapStatus is runnable thread, so more than one can gets invoked.\u003c\\/b\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eGot the cause, need the solution.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16150771_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16150771_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/17 16:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-01T16:01:08+0000\'\u003e01\\/Sep\\/17 16:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Confirmed there are two seperate bootstrap threads initiated, one acquires lock, one fails :: \\n  \\n [beaster]   2&gt; 34430 INFO  (updateExecutor-39-thread-1-processing-n:127.0.0.1:35690_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:35690_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler what\' the lock  this  time ::  true \\n  [beaster]   2&gt; 34431 INFO  (qtp510024884-173) [n:127.0.0.1:35690_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.c.S.Request [cdcr-target_shard1_replica_n1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;masterUrl=http: \\/\\/127.0.0.1:38721\\/solr\\/cdcr-source_shard1_replica_n1\\/&amp;action=BOOTSTRAP&amp;wt=javabin&amp;version=2} status=0 QTime=10\\n   [beaster]   2&gt; 34432 INFO  (qtp600983226-216) [n:127.0.0.1:38721_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.c.S.Request [cdcr-source_shard1_replica_n1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-source:4&amp;wt=javabin&amp;version=2} status=0 QTime=13\\n  [beaster]   2&gt; 34433 INFO  (updateExecutor-39-thread-2-processing-n:127.0.0.1:35690_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:35690_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler what\' the lock  this  time ::  false \\n \\n  \\n\\n  updateExecutor-39-thread-1-processing ..... \\n updateExecutor-39-thread-2-processing ..... \\n\\n There are only three lines printed (two added for extensive logging) for  updateExecutor-39-thread-2-processing , why? and why it is introduced at first place. \\n\\n  \\n   [beaster]   2&gt; 34433 INFO  (updateExecutor-39-thread-2-processing-n:127.0.0.1:35690_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:35690_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler what\' the lock  this  time ::  false \\n  [beaster]   2&gt; 34433 INFO  (updateExecutor-39-thread-2-processing-n:127.0.0.1:35690_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:35690_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler we reached  this  point :: CANCEL BOOTSTRAP, locked ::  false \\n  [beaster]   2&gt; 34433 INFO  (updateExecutor-39-thread-2-processing-n:127.0.0.1:35690_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:35690_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler someone called me, yes they did\\n \\n  \\n\\n My best guess : \\n\\n See after  updateExecutor-39-thread-1-processing  gets the lock and invoke BOOTSTRAP api. An update is received on  source  collection and right after that another  \\\"updateExecutor-39-thread-2-processing\\\"  is invoked trying to acquire the lock and eventually when it fails, invoke CANCEL_BOOTSTRAP, creating chaos. \\n\\n  The fine time frame b\\/w INVOKING bootstrap, CHANGING bootstrap status to running and RECEIVING a new update on source is creating confusion\\/chaos, as handleBootrapStatus is runnable thread, so more than one can gets invoked.  \\n\\n Got the cause, need the solution.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16150879\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16150879&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16150879\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16150879_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16150879_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/17 17:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-01T17:32:48+0000\'\u003e01\\/Sep\\/17 17:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAnother example, why two simultaneous threads are getting created to invoke BOOTSTRAP?\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e  [beaster]   2&gt; 38858 INFO  (updateExecutor-39-thread-1-processing-n:127.0.0.1:42155_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42155_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler what\' the lock \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e time :: \u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e :: thread :: org.apache.solr.handler.CdcrRequestHandler@64d1ccf3\\n  [beaster]   2&gt; 38858 INFO  (qtp1415866434-168) [n:127.0.0.1:42155_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.c.S.Request [cdcr-target_shard1_replica_n1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n  [beaster]   2&gt; 38859 WARN  (cdcr-bootstrap-status-66-thread-1-processing-n:127.0.0.1:36193_solr x:cdcr-source_shard1_replica_n1 s:shard1 c:cdcr-source r:core_node2) [n:127.0.0.1:36193_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.h.CdcrReplicatorManager Bootstrap process was not found on target collection: cdcr-target shard: shard1, leader: http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:42155\\/solr\\/cdcr-target_shard1_replica_n1\\/\\n\u003c\\/span\u003e  [beaster]   2&gt; 38860 INFO  (cdcr-bootstrap-status-66-thread-1-processing-n:127.0.0.1:36193_solr x:cdcr-source_shard1_replica_n1 s:shard1 c:cdcr-source r:core_node2) [n:127.0.0.1:36193_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.h.CdcrReplicatorManager Attempting to bootstrap target collection: cdcr-target shard: shard1 leader: http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:42155\\/solr\\/cdcr-target_shard1_replica_n1\\/\\n\u003c\\/span\u003e  [beaster]   2&gt; 38860 INFO  (qtp1415866434-173) [n:127.0.0.1:42155_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler Boostrap is issued now. Request :: {action=BOOTSTRAP&amp;qt=\\/cdcr&amp;masterUrl=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:36193\\/solr\\/cdcr-source_shard1_replica_n1\\/&amp;wt=javabin&amp;version=2} : collection : cdcr-target\\n\u003c\\/span\u003e  [beaster]   2&gt; 38865 INFO  (recoveryExecutor-40-thread-1-processing-n:127.0.0.1:42155_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42155_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.u.UpdateLog Starting to buffer updates. FSUpdateLog{state=ACTIVE, tlog=\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e}\\n  [beaster]   2&gt; 38865 INFO  (qtp1415866434-173) [n:127.0.0.1:42155_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.c.S.Request [cdcr-target_shard1_replica_n1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;masterUrl=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:36193\\/solr\\/cdcr-source_shard1_replica_n1\\/&amp;action=BOOTSTRAP&amp;wt=javabin&amp;version=2} status=0 QTime=4\\n\u003c\\/span\u003e  [beaster]   2&gt; 38865 INFO  (updateExecutor-39-thread-2-processing-n:127.0.0.1:42155_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42155_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler what\' the lock \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e time :: \u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e :: thread :: org.apache.solr.handler.CdcrRequestHandler@64d1ccf3\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003ethe code is like this:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\u003cspan class=\\\"code-keyword\\\"\u003eprivate\u003c\\/span\u003e void handleBootstrapAction(SolrQueryRequest req, SolrQueryResponse rsp) \u003cspan class=\\\"code-keyword\\\"\u003ethrows\u003c\\/span\u003e IOException, SolrServerException {\\n...................\\n...................\\n    \u003cspan class=\\\"code-object\\\"\u003eRunnable\u003c\\/span\u003e runnable = () -&gt; {\\n      Lock recoveryLock = req.getCore().getSolrCoreState().getRecoveryLock();\\n      \u003cspan class=\\\"code-object\\\"\u003eboolean\u003c\\/span\u003e locked = recoveryLock.tryLock();\\n      log.info(\u003cspan class=\\\"code-quote\\\"\u003e\\\"what\' the lock \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e time :: \\\"\u003c\\/span\u003e + locked + \u003cspan class=\\\"code-quote\\\"\u003e\\\" :: thread :: \\\"\u003c\\/span\u003e + \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e);\\n      SolrCoreState coreState = core.getSolrCoreState();\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16150879_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16150879_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/17 17:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-01T17:32:48+0000\'\u003e01\\/Sep\\/17 17:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Another example, why two simultaneous threads are getting created to invoke BOOTSTRAP? \\n\\n  \\n   [beaster]   2&gt; 38858 INFO  (updateExecutor-39-thread-1-processing-n:127.0.0.1:42155_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42155_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler what\' the lock  this  time ::  true  :: thread :: org.apache.solr.handler.CdcrRequestHandler@64d1ccf3\\n  [beaster]   2&gt; 38858 INFO  (qtp1415866434-168) [n:127.0.0.1:42155_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.c.S.Request [cdcr-target_shard1_replica_n1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n  [beaster]   2&gt; 38859 WARN  (cdcr-bootstrap-status-66-thread-1-processing-n:127.0.0.1:36193_solr x:cdcr-source_shard1_replica_n1 s:shard1 c:cdcr-source r:core_node2) [n:127.0.0.1:36193_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.h.CdcrReplicatorManager Bootstrap process was not found on target collection: cdcr-target shard: shard1, leader: http: \\/\\/127.0.0.1:42155\\/solr\\/cdcr-target_shard1_replica_n1\\/\\n   [beaster]   2&gt; 38860 INFO  (cdcr-bootstrap-status-66-thread-1-processing-n:127.0.0.1:36193_solr x:cdcr-source_shard1_replica_n1 s:shard1 c:cdcr-source r:core_node2) [n:127.0.0.1:36193_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.h.CdcrReplicatorManager Attempting to bootstrap target collection: cdcr-target shard: shard1 leader: http: \\/\\/127.0.0.1:42155\\/solr\\/cdcr-target_shard1_replica_n1\\/\\n   [beaster]   2&gt; 38860 INFO  (qtp1415866434-173) [n:127.0.0.1:42155_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler Boostrap is issued now. Request :: {action=BOOTSTRAP&amp;qt=\\/cdcr&amp;masterUrl=http: \\/\\/127.0.0.1:36193\\/solr\\/cdcr-source_shard1_replica_n1\\/&amp;wt=javabin&amp;version=2} : collection : cdcr-target\\n   [beaster]   2&gt; 38865 INFO  (recoveryExecutor-40-thread-1-processing-n:127.0.0.1:42155_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42155_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.u.UpdateLog Starting to buffer updates. FSUpdateLog{state=ACTIVE, tlog= null }\\n  [beaster]   2&gt; 38865 INFO  (qtp1415866434-173) [n:127.0.0.1:42155_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.c.S.Request [cdcr-target_shard1_replica_n1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;masterUrl=http: \\/\\/127.0.0.1:36193\\/solr\\/cdcr-source_shard1_replica_n1\\/&amp;action=BOOTSTRAP&amp;wt=javabin&amp;version=2} status=0 QTime=4\\n   [beaster]   2&gt; 38865 INFO  (updateExecutor-39-thread-2-processing-n:127.0.0.1:42155_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42155_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler what\' the lock  this  time ::  false  :: thread :: org.apache.solr.handler.CdcrRequestHandler@64d1ccf3\\n \\n  \\n\\n the code is like this: \\n\\n  \\n  private  void handleBootstrapAction(SolrQueryRequest req, SolrQueryResponse rsp)  throws  IOException, SolrServerException {\\n...................\\n...................\\n     Runnable  runnable = () -&gt; {\\n      Lock recoveryLock = req.getCore().getSolrCoreState().getRecoveryLock();\\n       boolean  locked = recoveryLock.tryLock();\\n      log.info( \\\"what\' the lock  this  time :: \\\"  + locked +  \\\" :: thread :: \\\"  +  this );\\n      SolrCoreState coreState = core.getSolrCoreState();\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16150889\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16150889&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16150889\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16150889_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16150889_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/17 17:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-01T17:36:38+0000\'\u003e01\\/Sep\\/17 17:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUploading patch I used for testing:: master-bs.patch\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16150889_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16150889_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/17 17:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-01T17:36:38+0000\'\u003e01\\/Sep\\/17 17:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Uploading patch I used for testing:: master-bs.patch              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16151552\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16151552&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16151552\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_16151552_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16151552_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Sep\\/17 17:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-02T17:40:37+0000\'\u003e02\\/Sep\\/17 17:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI just ran the patch against 7x with two different modes:\u003c\\/p\u003e\\n\\n\u003cp\u003e1&gt; the original patch x 100\u003cbr\\/\u003e\\n2&gt; removed the three second wait in the test case x 250\u003c\\/p\u003e\\n\\n\u003cp\u003e&lt;1&gt; had no errors\u003cbr\\/\u003e\\n&lt;2&gt; had one error, not the same one and I haven\'t pursued it yet, excerpt below. I have the full test case. I\'m going to put the 3 second wait back in and try 1,000 iterations to see if this error occurs again.\u003c\\/p\u003e\\n\\n\u003cp\u003eNOTE: I don\'t think then sleep is something we \u003cem\u003ewant\u003c\\/em\u003e to leave in the code, just seeing if it alters the results for a clue where to look next.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis is good progress! Oh, I haven\'t reviewed the patch in detail yet either, just trying to get a sense of what the behavior is before diving in.\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; 49759 INFO  (Thread-83) \u003cspan class=\\\"error\\\"\u003e&#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;\u003c\\/span\u003e o.a.s.c.SolrCore \u003cspan class=\\\"error\\\"\u003e&#91;cdcr-target_shard1_replica_n1&#93;\u003c\\/span\u003e  CLOSING SolrCore org.apache.solr.core.SolrCore@2fdc6dad\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; 49759 INFO  (Thread-83) \u003cspan class=\\\"error\\\"\u003e&#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;\u003c\\/span\u003e o.a.s.m.SolrMetricManager Closing metric reporters for registry=solr.core.cdcr-target.shard1.replica_n1, tag=802975149\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; 49759 INFO  (Thread-83) \u003cspan class=\\\"error\\\"\u003e&#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;\u003c\\/span\u003e o.a.s.m.r.SolrJmxReporter Closing reporter \u003cspan class=\\\"error\\\"\u003e&#91;org.apache.solr.metrics.reporters.SolrJmxReporter@7b017431: rootName = solr_59962, domain = solr.core.cdcr-target.shard1.replica_n1, service url = null, agent id = null&#93;\u003c\\/span\u003e for registry solr.core.cdcr-target.shard1.replica_n1 \\/ com.codahale.metrics.MetricRegistry@67a56b63\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; 49760 INFO  (searcherExecutor-150-thread-1-processing-n:127.0.0.1:59962_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) \u003cspan class=\\\"error\\\"\u003e&#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;\u003c\\/span\u003e o.a.s.c.SolrCore \u003cspan class=\\\"error\\\"\u003e&#91;cdcr-target_shard1_replica_n1&#93;\u003c\\/span\u003e Registered new searcher Searcher@51a42485\u003cspan class=\\\"error\\\"\u003e&#91;cdcr-target_shard1_replica_n1&#93;\u003c\\/span\u003e main\u003c\\/p\u003e\\n{ExitableDirectoryReader(UninvertingDirectoryReader(Uninverting(_k(7.1.0):C1900) Uninverting(_l(7.1.0):C100)))}\\n\u003cp\u003e   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; 49774 INFO  (Thread-83) \u003cspan class=\\\"error\\\"\u003e&#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;\u003c\\/span\u003e o.a.s.m.SolrMetricManager Closing metric reporters for registry=solr.collection.cdcr-target.shard1.leader, tag=802975149\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; 49775 INFO  (Thread-83) \u003cspan class=\\\"error\\\"\u003e&#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;\u003c\\/span\u003e o.a.s.h.CdcrRequestHandler Solr core is being closed - shutting down CDCR handler @ cdcr-target:shard1\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; 62525 ERROR (Thread-83) \u003cspan class=\\\"error\\\"\u003e&#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;\u003c\\/span\u003e o.a.s.c.CachingDirectoryFactory Timeout waiting for all directory ref counts to be released - gave up waiting on CachedDir&lt;&lt;refCount=1;path=\\/Users\\/Erick\\/apache\\/solrJiras\\/beast\\/results\\/beast-tmp\\/203\\/J0\\/temp\\/solr.cloud.CdcrBootstrapTest_DCBEC103DFB44964-001\\/cdcr-target-003\\/node1\\/.\\/cdcr-target_shard1_replica_n1\\/data\\/index.20170902102657976;done=false&gt;&gt;\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; 62526 ERROR (Thread-83) \u003cspan class=\\\"error\\\"\u003e&#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;\u003c\\/span\u003e o.a.s.c.CachingDirectoryFactory Error closing directory:org.apache.solr.common.SolrException: Timeout waiting for all directory ref counts to be released - gave up waiting on CachedDir&lt;&lt;refCount=1;path=\\/Users\\/Erick\\/apache\\/solrJiras\\/beast\\/results\\/beast-tmp\\/203\\/J0\\/temp\\/solr.cloud.CdcrBootstrapTest_DCBEC103DFB44964-001\\/cdcr-target-003\\/node1\\/.\\/cdcr-target_shard1_replica_n1\\/data\\/index.20170902102657976;done=false&gt;&gt;\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.core.CachingDirectoryFactory.close(CachingDirectoryFactory.java:178)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.core.SolrCore.close(SolrCore.java:1613)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.core.CoreContainer.registerCore(CoreContainer.java:859)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.core.CoreContainer.reload(CoreContainer.java:1232)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.handler.IndexFetcher.lambda$reloadCore$0(IndexFetcher.java:900)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat java.lang.Thread.run(Thread.java:745)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; 75243 ERROR (Thread-83) \u003cspan class=\\\"error\\\"\u003e&#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;\u003c\\/span\u003e o.a.s.c.CachingDirectoryFactory Timeout waiting for all directory ref counts to be released - gave up waiting on CachedDir&lt;&lt;refCount=1;path=\\/Users\\/Erick\\/apache\\/solrJiras\\/beast\\/results\\/beast-tmp\\/203\\/J0\\/temp\\/solr.cloud.CdcrBootstrapTest_DCBEC103DFB44964-001\\/cdcr-target-003\\/node1\\/.\\/cdcr-target_shard1_replica_n1\\/data\\/index;done=false&gt;&gt;\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; 75243 ERROR (Thread-83) \u003cspan class=\\\"error\\\"\u003e&#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;\u003c\\/span\u003e o.a.s.c.CachingDirectoryFactory Error closing directory:org.apache.solr.common.SolrException: Timeout waiting for all directory ref counts to be released - gave up waiting on CachedDir&lt;&lt;refCount=1;path=\\/Users\\/Erick\\/apache\\/solrJiras\\/beast\\/results\\/beast-tmp\\/203\\/J0\\/temp\\/solr.cloud.CdcrBootstrapTest_DCBEC103DFB44964-001\\/cdcr-target-003\\/node1\\/.\\/cdcr-target_shard1_replica_n1\\/data\\/index;done=false&gt;&gt;\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.core.CachingDirectoryFactory.close(CachingDirectoryFactory.java:178)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.core.SolrCore.close(SolrCore.java:1613)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.core.CoreContainer.registerCore(CoreContainer.java:859)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.core.CoreContainer.reload(CoreContainer.java:1232)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.handler.IndexFetcher.lambda$reloadCore$0(IndexFetcher.java:900)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat java.lang.Thread.run(Thread.java:745)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; 75244 ERROR (Thread-83) \u003cspan class=\\\"error\\\"\u003e&#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;\u003c\\/span\u003e o.a.s.c.SolrCore java.lang.AssertionError: 1\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.core.CachingDirectoryFactory.close(CachingDirectoryFactory.java:192)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.core.SolrCore.close(SolrCore.java:1613)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.core.CoreContainer.registerCore(CoreContainer.java:859)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.core.CoreContainer.reload(CoreContainer.java:1232)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.handler.IndexFetcher.lambda$reloadCore$0(IndexFetcher.java:900)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat java.lang.Thread.run(Thread.java:745)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; 75245 ERROR (recoveryExecutor-81-thread-1-processing-n:127.0.0.1:59962_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) \u003cspan class=\\\"error\\\"\u003e&#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;\u003c\\/span\u003e o.a.s.h.ReplicationHandler Index fetch failed :org.apache.solr.common.SolrException: Index fetch failed : \u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.handler.IndexFetcher.fetchLatestIndex(IndexFetcher.java:655)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.handler.IndexFetcher.fetchLatestIndex(IndexFetcher.java:332)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:419)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:773)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:724)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:197)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:188)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat java.lang.Thread.run(Thread.java:745)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; Caused by: java.lang.NullPointerException\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.handler.IndexFetcher.openNewSearcherAndUpdateCommitPoint(IndexFetcher.java:888)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\tat org.apache.solr.handler.IndexFetcher.fetchLatestIndex(IndexFetcher.java:632)\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \\t... 10 more\u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; \u003cbr\\/\u003e\\n   \u003cspan class=\\\"error\\\"\u003e&#91;junit4&#93;\u003c\\/span\u003e   2&gt; 75245 INFO  (recoveryExecutor-81-thread-1-processing-n:127.0.0.1:59962_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) \u003cspan class=\\\"error\\\"\u003e&#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;\u003c\\/span\u003e o.a.s.h.CdcrRequestHandler boostrap cal\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_16151552_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16151552_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Sep\\/17 17:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-02T17:40:37+0000\'\u003e02\\/Sep\\/17 17:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I just ran the patch against 7x with two different modes: \\n\\n 1&gt; the original patch x 100 \\n2&gt; removed the three second wait in the test case x 250 \\n\\n &lt;1&gt; had no errors \\n&lt;2&gt; had one error, not the same one and I haven\'t pursued it yet, excerpt below. I have the full test case. I\'m going to put the 3 second wait back in and try 1,000 iterations to see if this error occurs again. \\n\\n NOTE: I don\'t think then sleep is something we  want  to leave in the code, just seeing if it alters the results for a clue where to look next. \\n\\n This is good progress! Oh, I haven\'t reviewed the patch in detail yet either, just trying to get a sense of what the behavior is before diving in. \\n\\n  &#91;junit4&#93;    2&gt; 49759 INFO  (Thread-83)  &#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;  o.a.s.c.SolrCore  &#91;cdcr-target_shard1_replica_n1&#93;   CLOSING SolrCore org.apache.solr.core.SolrCore@2fdc6dad \\n    &#91;junit4&#93;    2&gt; 49759 INFO  (Thread-83)  &#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;  o.a.s.m.SolrMetricManager Closing metric reporters for registry=solr.core.cdcr-target.shard1.replica_n1, tag=802975149 \\n    &#91;junit4&#93;    2&gt; 49759 INFO  (Thread-83)  &#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;  o.a.s.m.r.SolrJmxReporter Closing reporter  &#91;org.apache.solr.metrics.reporters.SolrJmxReporter@7b017431: rootName = solr_59962, domain = solr.core.cdcr-target.shard1.replica_n1, service url = null, agent id = null&#93;  for registry solr.core.cdcr-target.shard1.replica_n1 \\/ com.codahale.metrics.MetricRegistry@67a56b63 \\n    &#91;junit4&#93;    2&gt; 49760 INFO  (searcherExecutor-150-thread-1-processing-n:127.0.0.1:59962_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2)  &#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;  o.a.s.c.SolrCore  &#91;cdcr-target_shard1_replica_n1&#93;  Registered new searcher Searcher@51a42485 &#91;cdcr-target_shard1_replica_n1&#93;  main \\n{ExitableDirectoryReader(UninvertingDirectoryReader(Uninverting(_k(7.1.0):C1900) Uninverting(_l(7.1.0):C100)))}\\n     &#91;junit4&#93;    2&gt; 49774 INFO  (Thread-83)  &#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;  o.a.s.m.SolrMetricManager Closing metric reporters for registry=solr.collection.cdcr-target.shard1.leader, tag=802975149 \\n    &#91;junit4&#93;    2&gt; 49775 INFO  (Thread-83)  &#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;  o.a.s.h.CdcrRequestHandler Solr core is being closed - shutting down CDCR handler @ cdcr-target:shard1 \\n    &#91;junit4&#93;    2&gt; 62525 ERROR (Thread-83)  &#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;  o.a.s.c.CachingDirectoryFactory Timeout waiting for all directory ref counts to be released - gave up waiting on CachedDir&lt;&lt;refCount=1;path=\\/Users\\/Erick\\/apache\\/solrJiras\\/beast\\/results\\/beast-tmp\\/203\\/J0\\/temp\\/solr.cloud.CdcrBootstrapTest_DCBEC103DFB44964-001\\/cdcr-target-003\\/node1\\/.\\/cdcr-target_shard1_replica_n1\\/data\\/index.20170902102657976;done=false&gt;&gt; \\n    &#91;junit4&#93;    2&gt; 62526 ERROR (Thread-83)  &#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;  o.a.s.c.CachingDirectoryFactory Error closing directory:org.apache.solr.common.SolrException: Timeout waiting for all directory ref counts to be released - gave up waiting on CachedDir&lt;&lt;refCount=1;path=\\/Users\\/Erick\\/apache\\/solrJiras\\/beast\\/results\\/beast-tmp\\/203\\/J0\\/temp\\/solr.cloud.CdcrBootstrapTest_DCBEC103DFB44964-001\\/cdcr-target-003\\/node1\\/.\\/cdcr-target_shard1_replica_n1\\/data\\/index.20170902102657976;done=false&gt;&gt; \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.core.CachingDirectoryFactory.close(CachingDirectoryFactory.java:178) \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.core.SolrCore.close(SolrCore.java:1613) \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.core.CoreContainer.registerCore(CoreContainer.java:859) \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.core.CoreContainer.reload(CoreContainer.java:1232) \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.handler.IndexFetcher.lambda$reloadCore$0(IndexFetcher.java:900) \\n    &#91;junit4&#93;    2&gt; \\tat java.lang.Thread.run(Thread.java:745) \\n    &#91;junit4&#93;    2&gt;  \\n    &#91;junit4&#93;    2&gt; 75243 ERROR (Thread-83)  &#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;  o.a.s.c.CachingDirectoryFactory Timeout waiting for all directory ref counts to be released - gave up waiting on CachedDir&lt;&lt;refCount=1;path=\\/Users\\/Erick\\/apache\\/solrJiras\\/beast\\/results\\/beast-tmp\\/203\\/J0\\/temp\\/solr.cloud.CdcrBootstrapTest_DCBEC103DFB44964-001\\/cdcr-target-003\\/node1\\/.\\/cdcr-target_shard1_replica_n1\\/data\\/index;done=false&gt;&gt; \\n    &#91;junit4&#93;    2&gt; 75243 ERROR (Thread-83)  &#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;  o.a.s.c.CachingDirectoryFactory Error closing directory:org.apache.solr.common.SolrException: Timeout waiting for all directory ref counts to be released - gave up waiting on CachedDir&lt;&lt;refCount=1;path=\\/Users\\/Erick\\/apache\\/solrJiras\\/beast\\/results\\/beast-tmp\\/203\\/J0\\/temp\\/solr.cloud.CdcrBootstrapTest_DCBEC103DFB44964-001\\/cdcr-target-003\\/node1\\/.\\/cdcr-target_shard1_replica_n1\\/data\\/index;done=false&gt;&gt; \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.core.CachingDirectoryFactory.close(CachingDirectoryFactory.java:178) \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.core.SolrCore.close(SolrCore.java:1613) \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.core.CoreContainer.registerCore(CoreContainer.java:859) \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.core.CoreContainer.reload(CoreContainer.java:1232) \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.handler.IndexFetcher.lambda$reloadCore$0(IndexFetcher.java:900) \\n    &#91;junit4&#93;    2&gt; \\tat java.lang.Thread.run(Thread.java:745) \\n    &#91;junit4&#93;    2&gt;  \\n    &#91;junit4&#93;    2&gt; 75244 ERROR (Thread-83)  &#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;  o.a.s.c.SolrCore java.lang.AssertionError: 1 \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.core.CachingDirectoryFactory.close(CachingDirectoryFactory.java:192) \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.core.SolrCore.close(SolrCore.java:1613) \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.core.CoreContainer.registerCore(CoreContainer.java:859) \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.core.CoreContainer.reload(CoreContainer.java:1232) \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.handler.IndexFetcher.lambda$reloadCore$0(IndexFetcher.java:900) \\n    &#91;junit4&#93;    2&gt; \\tat java.lang.Thread.run(Thread.java:745) \\n    &#91;junit4&#93;    2&gt;  \\n    &#91;junit4&#93;    2&gt; 75245 ERROR (recoveryExecutor-81-thread-1-processing-n:127.0.0.1:59962_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2)  &#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;  o.a.s.h.ReplicationHandler Index fetch failed :org.apache.solr.common.SolrException: Index fetch failed :  \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.handler.IndexFetcher.fetchLatestIndex(IndexFetcher.java:655) \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.handler.IndexFetcher.fetchLatestIndex(IndexFetcher.java:332) \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:419) \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:773) \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:724) \\n    &#91;junit4&#93;    2&gt; \\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:197) \\n    &#91;junit4&#93;    2&gt; \\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:188) \\n    &#91;junit4&#93;    2&gt; \\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) \\n    &#91;junit4&#93;    2&gt; \\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) \\n    &#91;junit4&#93;    2&gt; \\tat java.lang.Thread.run(Thread.java:745) \\n    &#91;junit4&#93;    2&gt; Caused by: java.lang.NullPointerException \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.handler.IndexFetcher.openNewSearcherAndUpdateCommitPoint(IndexFetcher.java:888) \\n    &#91;junit4&#93;    2&gt; \\tat org.apache.solr.handler.IndexFetcher.fetchLatestIndex(IndexFetcher.java:632) \\n    &#91;junit4&#93;    2&gt; \\t... 10 more \\n    &#91;junit4&#93;    2&gt;  \\n    &#91;junit4&#93;    2&gt; 75245 INFO  (recoveryExecutor-81-thread-1-processing-n:127.0.0.1:59962_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2)  &#91;n:127.0.0.1:59962_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1&#93;  o.a.s.h.CdcrRequestHandler boostrap cal \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16151569\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16151569&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16151569\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16151569_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16151569_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Sep\\/17 19:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-02T19:35:15+0000\'\u003e02\\/Sep\\/17 19:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Erick, I was also seeing that NPE earlier, but after Shalin\'s patch I didn\'t came across it again.\u003c\\/p\u003e\\n\\n\u003cp\u003eMeanwhile I am also running a beaster: \u003ctt\u003eant beast -Dbeast.iters=100 -Dtestcase=CdcrBootstrapTest -Dtests.dups=2 -Dtests.iters=2\u003c\\/tt\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eI think we should put \u003ctt\u003eAwaitsFix(...)\u003c\\/tt\u003e if the problem is only with: \u003cem\u003etestBootstrapWithContinousIndexingOnSourceCluster\u003c\\/em\u003e to give us some cushion to work upon it. if we are seeing the same issue with other testMethods, we can ignore the entire test, whatever\'s best. I have uploaded AwaitsFix patch. \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\" class=\\\"user-hover\\\" rel=\\\"erickerickson\\\"\u003eErick Erickson\u003c\\/a\u003e \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\" class=\\\"user-hover\\\" rel=\\\"shalinmangar\\\"\u003eShalin Shekhar Mangar\u003c\\/a\u003e please do the necessary.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16151569_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16151569_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Sep\\/17 19:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-02T19:35:15+0000\'\u003e02\\/Sep\\/17 19:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks Erick, I was also seeing that NPE earlier, but after Shalin\'s patch I didn\'t came across it again. \\n\\n Meanwhile I am also running a beaster:  ant beast -Dbeast.iters=100 -Dtestcase=CdcrBootstrapTest -Dtests.dups=2 -Dtests.iters=2  \\n\\n I think we should put  AwaitsFix(...)  if the problem is only with:  testBootstrapWithContinousIndexingOnSourceCluster  to give us some cushion to work upon it. if we are seeing the same issue with other testMethods, we can ignore the entire test, whatever\'s best. I have uploaded AwaitsFix patch.  Erick Erickson   Shalin Shekhar Mangar  please do the necessary.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16152103\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16152103&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16152103\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16152103_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16152103_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Sep\\/17 04:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-04T04:13:06+0000\'\u003e04\\/Sep\\/17 04:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit e782082e711286a4c1a6ca101a9fa11bafab7b0d in lucene-solr\'s branch refs\\/heads\\/master from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\" class=\\\"user-hover\\\" rel=\\\"shalinmangar\\\"\u003eShalin Shekhar Mangar\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=e782082\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=e782082\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11278\\\" title=\\\"Fix race in cdcr bootstrap process\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11278\\\"\u003e\u003cdel\u003eSOLR-11278\u003c\\/del\u003e\u003c\\/a\u003e: Disable frequently failing method with AwaitsFix\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16152103_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16152103_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Sep\\/17 04:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-04T04:13:06+0000\'\u003e04\\/Sep\\/17 04:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit e782082e711286a4c1a6ca101a9fa11bafab7b0d in lucene-solr\'s branch refs\\/heads\\/master from  Shalin Shekhar Mangar  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=e782082  ] \\n\\n   SOLR-11278  : Disable frequently failing method with AwaitsFix              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16152105\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16152105&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16152105\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16152105_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16152105_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Sep\\/17 04:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-04T04:13:50+0000\'\u003e04\\/Sep\\/17 04:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit f8906b6533bc2c3f4aebe48d3caa93a9634f6a31 in lucene-solr\'s branch refs\\/heads\\/branch_7x from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\" class=\\\"user-hover\\\" rel=\\\"shalinmangar\\\"\u003eShalin Shekhar Mangar\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=f8906b6\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=f8906b6\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11278\\\" title=\\\"Fix race in cdcr bootstrap process\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11278\\\"\u003e\u003cdel\u003eSOLR-11278\u003c\\/del\u003e\u003c\\/a\u003e: Disable frequently failing method with AwaitsFix\u003c\\/p\u003e\\n\\n\u003cp\u003e(cherry picked from commit e782082)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16152105_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16152105_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Sep\\/17 04:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-04T04:13:50+0000\'\u003e04\\/Sep\\/17 04:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit f8906b6533bc2c3f4aebe48d3caa93a9634f6a31 in lucene-solr\'s branch refs\\/heads\\/branch_7x from  Shalin Shekhar Mangar  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=f8906b6  ] \\n\\n   SOLR-11278  : Disable frequently failing method with AwaitsFix \\n\\n (cherry picked from commit e782082)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16152106\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16152106&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16152106\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16152106_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16152106_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Sep\\/17 04:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-04T04:14:30+0000\'\u003e04\\/Sep\\/17 04:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit b6cbf75d003bff603d8a2a5fe67de841be7b1e78 in lucene-solr\'s branch refs\\/heads\\/branch_7_0 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\" class=\\\"user-hover\\\" rel=\\\"shalinmangar\\\"\u003eShalin Shekhar Mangar\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=b6cbf75\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=b6cbf75\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11278\\\" title=\\\"Fix race in cdcr bootstrap process\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11278\\\"\u003e\u003cdel\u003eSOLR-11278\u003c\\/del\u003e\u003c\\/a\u003e: Disable frequently failing method with AwaitsFix\u003c\\/p\u003e\\n\\n\u003cp\u003e(cherry picked from commit e782082)\u003c\\/p\u003e\\n\\n\u003cp\u003e(cherry picked from commit f8906b6)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16152106_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16152106_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Sep\\/17 04:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-04T04:14:30+0000\'\u003e04\\/Sep\\/17 04:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit b6cbf75d003bff603d8a2a5fe67de841be7b1e78 in lucene-solr\'s branch refs\\/heads\\/branch_7_0 from  Shalin Shekhar Mangar  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=b6cbf75  ] \\n\\n   SOLR-11278  : Disable frequently failing method with AwaitsFix \\n\\n (cherry picked from commit e782082) \\n\\n (cherry picked from commit f8906b6)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16153335\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16153335&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16153335\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16153335_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16153335_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Sep\\/17 09:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-05T09:11:37+0000\'\u003e05\\/Sep\\/17 09:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMore detailing,\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e  [beaster]   2&gt; 76078 INFO  (zkCallback-171-thread-1-processing-n:127.0.0.1:39903_solr) [n:127.0.0.1:39903_solr    ] o.a.s.h.CdcrProcessStateManager Received \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e CDCR process state from watcher: STARTED @ cdcr-source:shard1\\n  [beaster]   2&gt; 76079 INFO  (qtp499216332-625) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler Boostrap is issued now. Request :: {action=BOOTSTRAP&amp;qt=\\/cdcr&amp;masterUrl=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:39903\\/solr\\/cdcr-source_shard1_replica_n1\\/&amp;wt=javabin&amp;version=2} : collection : cdcr-target\\n\u003c\\/span\u003e  [beaster]   2&gt; 76079 INFO  (qtp499216332-625) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler bs runnable : org.apache.solr.handler.CdcrRequestHandler$$Lambda$256\\/1608384375@cfd51e6\\n  [beaster]   2&gt; 76079 INFO  (qtp499216332-625) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler bs service : com.codahale.metrics.InstrumentedExecutorService@23aae09\\n  [beaster]   2&gt; 76079 INFO  (qtp499216332-625) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.c.S.Request [cdcr-target_shard1_replica_n1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;masterUrl=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:39903\\/solr\\/cdcr-source_shard1_replica_n1\\/&amp;action=BOOTSTRAP&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n\u003c\\/span\u003e  [beaster]   2&gt; 76079 INFO  (qtp1089963867-718) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.c.S.Request [cdcr-source_shard1_replica_n1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;_stateVer_=cdcr-source:7&amp;action=queues&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n  [beaster]   1&gt; Cdcr queue response: {responseHeader={status=0,QTime=0},queues={127.0.0.1:37043\\/solr={cdcr-target={queueSize=-1703936001,lastTimestamp=}}},tlogTotalSize=4773,tlogTotalCount=1,updateLogSynchronizer=stopped}\\n  [beaster]   2&gt; 76081 INFO  (qtp499216332-629) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.u.DirectUpdateHandler2 start commit{_version_=1577620265858236416,optimize=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,openSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e,waitSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e,expungeDeletes=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,softCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,prepareCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e}\\n  [beaster]   2&gt; 76082 INFO  (qtp499216332-629) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.u.DirectUpdateHandler2 No uncommitted changes. Skipping IW.commit.\\n  [beaster]   2&gt; 76082 INFO  (updateExecutor-143-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler what the fuck is happening :: \u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e[updateExecutor-143-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2,5,TGRP-CdcrBootstrapTest]\\n  [beaster]   2&gt; 76083 INFO  (updateExecutor-143-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler what\' the lock \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e time :: \u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e :: thread :: org.apache.solr.handler.CdcrRequestHandler@259eac66\\n  [beaster]   2&gt; 76083 INFO  (updateExecutor-143-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler we reached \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e point :: BOOTSTRAP will go on, locked :: \u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e\\n  [beaster]   2&gt; 76083 INFO  (qtp499216332-628) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.c.S.Request [cdcr-target_shard1_replica_n1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n  [beaster]   2&gt; 76082 INFO  (qtp499216332-629) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.u.DirectUpdateHandler2 end_commit_flush\\n  [beaster]   2&gt; 76083 INFO  (qtp499216332-629) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.c.S.Request [cdcr-target_shard1_replica_n1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-target:4&amp;waitSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;commit=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;softCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e&amp;wt=javabin&amp;version=2} status=0 QTime=2\\n  [beaster]   2&gt; 76084 WARN  (cdcr-bootstrap-status-177-thread-1-processing-n:127.0.0.1:39903_solr x:cdcr-source_shard1_replica_n1 s:shard1 c:cdcr-source r:core_node2) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.h.CdcrReplicatorManager Bootstrap process was not found on target collection: cdcr-target shard: shard1, leader: http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:42370\\/solr\\/cdcr-target_shard1_replica_n1\\/\\n\u003c\\/span\u003e  [beaster]   2&gt; 76085 INFO  (qtp499216332-623) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.c.S.Request [cdcr-target_shard1_replica_n1]  webapp=\\/solr path=\\/select params={q=*:*&amp;_stateVer_=cdcr-target:4&amp;wt=javabin&amp;version=2} hits=0 status=0 QTime=0\\n  [beaster]   2&gt; 76085 INFO  (TEST-CdcrBootstrapTest.testConvertClusterToCdcrAndBootstrap-seed#[950E76D71DFD418]) [    ] o.a.s.c.CdcrBootstrapTest numDocs found \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e now :: 1 :: 0\\n  [beaster]   2&gt; 76085 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.u.UpdateLog Starting to buffer updates. FSUpdateLog{state=ACTIVE, tlog=\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e}\\n  [beaster]   2&gt; 76092 INFO  (cdcr-bootstrap-status-177-thread-1-processing-n:127.0.0.1:39903_solr x:cdcr-source_shard1_replica_n1 s:shard1 c:cdcr-source r:core_node2) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.h.CdcrReplicatorManager Attempting to bootstrap target collection: cdcr-target shard: shard1 leader: http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:42370\\/solr\\/cdcr-target_shard1_replica_n1\\/\\n\u003c\\/span\u003e  [beaster]   2&gt; 76093 INFO  (qtp499216332-627) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler Boostrap is issued now. Request :: {action=BOOTSTRAP&amp;qt=\\/cdcr&amp;masterUrl=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:39903\\/solr\\/cdcr-source_shard1_replica_n1\\/&amp;wt=javabin&amp;version=2} : collection : cdcr-target\\n\u003c\\/span\u003e  [beaster]   2&gt; 76093 INFO  (qtp499216332-627) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler bs runnable : org.apache.solr.handler.CdcrRequestHandler$$Lambda$256\\/1608384375@785b9b5f\\n  [beaster]   2&gt; 76093 INFO  (qtp499216332-627) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler bs service : com.codahale.metrics.InstrumentedExecutorService@23aae09\\n  [beaster]   2&gt; 76094 INFO  (qtp1089963867-721) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.u.DirectUpdateHandler2 start commit{_version_=1577620265871867904,optimize=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,openSearcher=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,waitSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e,expungeDeletes=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,softCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e,prepareCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e}\\n  [beaster]   2&gt; 76094 INFO  (qtp499216332-627) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.c.S.Request [cdcr-target_shard1_replica_n1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;masterUrl=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:39903\\/solr\\/cdcr-source_shard1_replica_n1\\/&amp;action=BOOTSTRAP&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n\u003c\\/span\u003e  [beaster]   2&gt; 76100 INFO  (qtp1089963867-721) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.u.DirectUpdateHandler2 No uncommitted changes. Skipping IW.commit.\\n  [beaster]   2&gt; 76101 INFO  (qtp1089963867-721) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.u.DirectUpdateHandler2 end_commit_flush\\n  [beaster]   2&gt; 76102 INFO  (qtp1089963867-721) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.c.S.Request [cdcr-source_shard1_replica_n1]  webapp=\\/solr path=\\/update params={waitSearcher=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;openSearcher=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e&amp;commit=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;softCommit=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e&amp;commit_end_point=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=javabin&amp;version=2} status=0 QTime=8\\n  [beaster]   2&gt; 76102 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler boostrap callable closed :: \u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e\\n  [beaster]   2&gt; 76104 INFO  (updateExecutor-143-thread-2-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler what the fuck is happening :: \u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e[updateExecutor-143-thread-2-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2,5,TGRP-CdcrBootstrapTest]\\n  [beaster]   2&gt; 76104 INFO  (updateExecutor-143-thread-2-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler what\' the lock \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e time :: \u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e :: thread :: org.apache.solr.handler.CdcrRequestHandler@259eac66\\n  [beaster]   2&gt; 76104 INFO  (updateExecutor-143-thread-2-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler we reached \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e point :: CANCEL BOOTSTRAP, locked :: \u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e\\n  [beaster]   2&gt; 76104 INFO  (updateExecutor-143-thread-2-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler someone called me, yes they did\\n  [beaster]   2&gt; 76104 INFO  (qtp1089963867-722) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.c.S.Request [cdcr-source_shard1_replica_n1]  webapp=\\/solr path=\\/replication params={qt=\\/replication&amp;wt=javabin&amp;version=2&amp;command=indexversion} status=0 QTime=0\\n  [beaster]   2&gt; 76104 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.IndexFetcher Master\'s generation: 12\\n  [beaster]   2&gt; 76104 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.IndexFetcher Master\'s version: 1504535923111\\n  [beaster]   2&gt; 76105 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.IndexFetcher Slave\'s generation: 1\\n  [beaster]   2&gt; 76105 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.IndexFetcher Slave\'s version: 0\\n  [beaster]   2&gt; 76105 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.IndexFetcher Starting replication process\\n  [beaster]   2&gt; 76111 INFO  (qtp1089963867-722) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.h.ReplicationHandler Adding tlog files to list: [{size=4773, name=tlog.0000000000000000009}]\\n  [beaster]   2&gt; 76111 INFO  (qtp1089963867-722) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.c.S.Request [cdcr-source_shard1_replica_n1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;wt=javabin&amp;version=2&amp;command=filelist} status=0 QTime=5\\n  [beaster]   2&gt; 76111 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.IndexFetcher \u003cspan class=\\\"code-object\\\"\u003eNumber\u003c\\/span\u003e of files in latest index in master: 13\\n  [beaster]   2&gt; 76111 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.IndexFetcher \u003cspan class=\\\"code-object\\\"\u003eNumber\u003c\\/span\u003e of tlog files in master: 1\\n  [beaster]   2&gt; 76112 INFO  (qtp499216332-622) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.c.S.Request [cdcr-target_shard1_replica_n1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n  [beaster]   2&gt; 76113 INFO  (cdcr-bootstrap-status-177-thread-1-processing-n:127.0.0.1:39903_solr x:cdcr-source_shard1_replica_n1 s:shard1 c:cdcr-source r:core_node2) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.h.CdcrReplicatorManager CDCR bootstrap running \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e 1 seconds, sleeping \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e 2000 ms\\n  [beaster]   2&gt; 76119 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.u.DefaultSolrCoreState New IndexWriter is ready to be used.\\n  [beaster]   2&gt; 76119 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.IndexFetcher Starting download (fullCopy=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e) to MockDirectoryWrapper(RAMDirectory@1ec60471 lockFactory=org.apache.lucene.store.SingleInstanceLockFactory@1b16e27d)\\n  [beaster]   2&gt; 76120 INFO  (qtp1089963867-723) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.c.S.Request [cdcr-source_shard1_replica_n1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_Lucene50_0.pos&amp;checksum=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 76122 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.u.DefaultSolrCoreState New IndexWriter is ready to be used.\\n  [beaster]   2&gt; 76122 ERROR (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.IndexFetcher User aborted Replication\\n  [beaster]   2&gt; 76122 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler boostrap callable status :: \u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e\\n  [beaster]   2&gt; 76122 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler boostrap callable closed :: \u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e\\n  [beaster]   2&gt; 76122 ERROR (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler fetch failed \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e bootstrap :: org.apache.solr.handler.IndexFetcher$ReplicationHandlerException: User aborted replication\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eFirst time the Bootstrap is called, it checks whether the BOOTSTRAP is started or not.\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e[beaster]   2&gt; 76084 WARN  (cdcr-bootstrap-status-177-thread-1-processing-n:127.0.0.1:39903_solr x:cdcr-source_shard1_replica_n1 s:shard1 c:cdcr-source r:core_node2) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.h.CdcrReplicatorManager Bootstrap process was not found on target collection: cdcr-target shard: shard1, leader: http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:42370\\/solr\\/cdcr-target_shard1_replica_n1\\/\u003c\\/span\u003e\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eand then attempts to starts BOOTSTRAP again. Please MIND, the first call is still in play and second one is called too ::\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e [beaster]   2&gt; 76092 INFO  (cdcr-bootstrap-status-177-thread-1-processing-n:127.0.0.1:39903_solr x:cdcr-source_shard1_replica_n1 s:shard1 c:cdcr-source r:core_node2) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.h.CdcrReplicatorManager Attempting to bootstrap target collection: cdcr-target shard: shard1 leader: http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:42370\\/solr\\/cdcr-target_shard1_replica_n1\\/\u003c\\/span\u003e\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eReplication begins successfully:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e  [beaster]   2&gt; 76105 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.IndexFetcher Starting replication process\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003ebut in the end: its gets aborted saying \\\"Uber aborted .......\\\". THIS ABORT is due to CANCEL_BOOTSTRAP called by 2nd thread.\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e  [beaster]   2&gt; 76122 ERROR (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler fetch failed \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e bootstrap :: org.apache.solr.handler.IndexFetcher$ReplicationHandlerException: User aborted replication\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16153335_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16153335_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Sep\\/17 09:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-05T09:11:37+0000\'\u003e05\\/Sep\\/17 09:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    More detailing, \\n\\n  \\n   [beaster]   2&gt; 76078 INFO  (zkCallback-171-thread-1-processing-n:127.0.0.1:39903_solr) [n:127.0.0.1:39903_solr    ] o.a.s.h.CdcrProcessStateManager Received  new  CDCR process state from watcher: STARTED @ cdcr-source:shard1\\n  [beaster]   2&gt; 76079 INFO  (qtp499216332-625) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler Boostrap is issued now. Request :: {action=BOOTSTRAP&amp;qt=\\/cdcr&amp;masterUrl=http: \\/\\/127.0.0.1:39903\\/solr\\/cdcr-source_shard1_replica_n1\\/&amp;wt=javabin&amp;version=2} : collection : cdcr-target\\n   [beaster]   2&gt; 76079 INFO  (qtp499216332-625) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler bs runnable : org.apache.solr.handler.CdcrRequestHandler$$Lambda$256\\/1608384375@cfd51e6\\n  [beaster]   2&gt; 76079 INFO  (qtp499216332-625) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler bs service : com.codahale.metrics.InstrumentedExecutorService@23aae09\\n  [beaster]   2&gt; 76079 INFO  (qtp499216332-625) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.c.S.Request [cdcr-target_shard1_replica_n1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;masterUrl=http: \\/\\/127.0.0.1:39903\\/solr\\/cdcr-source_shard1_replica_n1\\/&amp;action=BOOTSTRAP&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [beaster]   2&gt; 76079 INFO  (qtp1089963867-718) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.c.S.Request [cdcr-source_shard1_replica_n1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;_stateVer_=cdcr-source:7&amp;action=queues&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n  [beaster]   1&gt; Cdcr queue response: {responseHeader={status=0,QTime=0},queues={127.0.0.1:37043\\/solr={cdcr-target={queueSize=-1703936001,lastTimestamp=}}},tlogTotalSize=4773,tlogTotalCount=1,updateLogSynchronizer=stopped}\\n  [beaster]   2&gt; 76081 INFO  (qtp499216332-629) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.u.DirectUpdateHandler2 start commit{_version_=1577620265858236416,optimize= false ,openSearcher= true ,waitSearcher= true ,expungeDeletes= false ,softCommit= false ,prepareCommit= false }\\n  [beaster]   2&gt; 76082 INFO  (qtp499216332-629) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.u.DirectUpdateHandler2 No uncommitted changes. Skipping IW.commit.\\n  [beaster]   2&gt; 76082 INFO  (updateExecutor-143-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler what the fuck is happening ::  Thread [updateExecutor-143-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2,5,TGRP-CdcrBootstrapTest]\\n  [beaster]   2&gt; 76083 INFO  (updateExecutor-143-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler what\' the lock  this  time ::  true  :: thread :: org.apache.solr.handler.CdcrRequestHandler@259eac66\\n  [beaster]   2&gt; 76083 INFO  (updateExecutor-143-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler we reached  this  point :: BOOTSTRAP will go on, locked ::  true \\n  [beaster]   2&gt; 76083 INFO  (qtp499216332-628) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.c.S.Request [cdcr-target_shard1_replica_n1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n  [beaster]   2&gt; 76082 INFO  (qtp499216332-629) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.u.DirectUpdateHandler2 end_commit_flush\\n  [beaster]   2&gt; 76083 INFO  (qtp499216332-629) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.c.S.Request [cdcr-target_shard1_replica_n1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-target:4&amp;waitSearcher= true &amp;commit= true &amp;softCommit= false &amp;wt=javabin&amp;version=2} status=0 QTime=2\\n  [beaster]   2&gt; 76084 WARN  (cdcr-bootstrap-status-177-thread-1-processing-n:127.0.0.1:39903_solr x:cdcr-source_shard1_replica_n1 s:shard1 c:cdcr-source r:core_node2) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.h.CdcrReplicatorManager Bootstrap process was not found on target collection: cdcr-target shard: shard1, leader: http: \\/\\/127.0.0.1:42370\\/solr\\/cdcr-target_shard1_replica_n1\\/\\n   [beaster]   2&gt; 76085 INFO  (qtp499216332-623) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.c.S.Request [cdcr-target_shard1_replica_n1]  webapp=\\/solr path=\\/select params={q=*:*&amp;_stateVer_=cdcr-target:4&amp;wt=javabin&amp;version=2} hits=0 status=0 QTime=0\\n  [beaster]   2&gt; 76085 INFO  (TEST-CdcrBootstrapTest.testConvertClusterToCdcrAndBootstrap-seed#[950E76D71DFD418]) [    ] o.a.s.c.CdcrBootstrapTest numDocs found  for  now :: 1 :: 0\\n  [beaster]   2&gt; 76085 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.u.UpdateLog Starting to buffer updates. FSUpdateLog{state=ACTIVE, tlog= null }\\n  [beaster]   2&gt; 76092 INFO  (cdcr-bootstrap-status-177-thread-1-processing-n:127.0.0.1:39903_solr x:cdcr-source_shard1_replica_n1 s:shard1 c:cdcr-source r:core_node2) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.h.CdcrReplicatorManager Attempting to bootstrap target collection: cdcr-target shard: shard1 leader: http: \\/\\/127.0.0.1:42370\\/solr\\/cdcr-target_shard1_replica_n1\\/\\n   [beaster]   2&gt; 76093 INFO  (qtp499216332-627) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler Boostrap is issued now. Request :: {action=BOOTSTRAP&amp;qt=\\/cdcr&amp;masterUrl=http: \\/\\/127.0.0.1:39903\\/solr\\/cdcr-source_shard1_replica_n1\\/&amp;wt=javabin&amp;version=2} : collection : cdcr-target\\n   [beaster]   2&gt; 76093 INFO  (qtp499216332-627) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler bs runnable : org.apache.solr.handler.CdcrRequestHandler$$Lambda$256\\/1608384375@785b9b5f\\n  [beaster]   2&gt; 76093 INFO  (qtp499216332-627) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler bs service : com.codahale.metrics.InstrumentedExecutorService@23aae09\\n  [beaster]   2&gt; 76094 INFO  (qtp1089963867-721) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.u.DirectUpdateHandler2 start commit{_version_=1577620265871867904,optimize= false ,openSearcher= false ,waitSearcher= true ,expungeDeletes= false ,softCommit= false ,prepareCommit= false }\\n  [beaster]   2&gt; 76094 INFO  (qtp499216332-627) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.c.S.Request [cdcr-target_shard1_replica_n1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;masterUrl=http: \\/\\/127.0.0.1:39903\\/solr\\/cdcr-source_shard1_replica_n1\\/&amp;action=BOOTSTRAP&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n   [beaster]   2&gt; 76100 INFO  (qtp1089963867-721) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.u.DirectUpdateHandler2 No uncommitted changes. Skipping IW.commit.\\n  [beaster]   2&gt; 76101 INFO  (qtp1089963867-721) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.u.DirectUpdateHandler2 end_commit_flush\\n  [beaster]   2&gt; 76102 INFO  (qtp1089963867-721) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.c.S.Request [cdcr-source_shard1_replica_n1]  webapp=\\/solr path=\\/update params={waitSearcher= true &amp;openSearcher= false &amp;commit= true &amp;softCommit= false &amp;commit_end_point= true &amp;wt=javabin&amp;version=2} status=0 QTime=8\\n  [beaster]   2&gt; 76102 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler boostrap callable closed ::  false \\n  [beaster]   2&gt; 76104 INFO  (updateExecutor-143-thread-2-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler what the fuck is happening ::  Thread [updateExecutor-143-thread-2-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2,5,TGRP-CdcrBootstrapTest]\\n  [beaster]   2&gt; 76104 INFO  (updateExecutor-143-thread-2-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler what\' the lock  this  time ::  false  :: thread :: org.apache.solr.handler.CdcrRequestHandler@259eac66\\n  [beaster]   2&gt; 76104 INFO  (updateExecutor-143-thread-2-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler we reached  this  point :: CANCEL BOOTSTRAP, locked ::  false \\n  [beaster]   2&gt; 76104 INFO  (updateExecutor-143-thread-2-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler someone called me, yes they did\\n  [beaster]   2&gt; 76104 INFO  (qtp1089963867-722) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.c.S.Request [cdcr-source_shard1_replica_n1]  webapp=\\/solr path=\\/replication params={qt=\\/replication&amp;wt=javabin&amp;version=2&amp;command=indexversion} status=0 QTime=0\\n  [beaster]   2&gt; 76104 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.IndexFetcher Master\'s generation: 12\\n  [beaster]   2&gt; 76104 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.IndexFetcher Master\'s version: 1504535923111\\n  [beaster]   2&gt; 76105 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.IndexFetcher Slave\'s generation: 1\\n  [beaster]   2&gt; 76105 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.IndexFetcher Slave\'s version: 0\\n  [beaster]   2&gt; 76105 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.IndexFetcher Starting replication process\\n  [beaster]   2&gt; 76111 INFO  (qtp1089963867-722) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.h.ReplicationHandler Adding tlog files to list: [{size=4773, name=tlog.0000000000000000009}]\\n  [beaster]   2&gt; 76111 INFO  (qtp1089963867-722) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.c.S.Request [cdcr-source_shard1_replica_n1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;wt=javabin&amp;version=2&amp;command=filelist} status=0 QTime=5\\n  [beaster]   2&gt; 76111 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.IndexFetcher  Number  of files in latest index in master: 13\\n  [beaster]   2&gt; 76111 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.IndexFetcher  Number  of tlog files in master: 1\\n  [beaster]   2&gt; 76112 INFO  (qtp499216332-622) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.c.S.Request [cdcr-target_shard1_replica_n1]  webapp=\\/solr path=\\/cdcr params={qt=\\/cdcr&amp;action=BOOTSTRAP_STATUS&amp;wt=javabin&amp;version=2} status=0 QTime=0\\n  [beaster]   2&gt; 76113 INFO  (cdcr-bootstrap-status-177-thread-1-processing-n:127.0.0.1:39903_solr x:cdcr-source_shard1_replica_n1 s:shard1 c:cdcr-source r:core_node2) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.h.CdcrReplicatorManager CDCR bootstrap running  for  1 seconds, sleeping  for  2000 ms\\n  [beaster]   2&gt; 76119 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.u.DefaultSolrCoreState New IndexWriter is ready to be used.\\n  [beaster]   2&gt; 76119 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.IndexFetcher Starting download (fullCopy= false ) to MockDirectoryWrapper(RAMDirectory@1ec60471 lockFactory=org.apache.lucene.store.SingleInstanceLockFactory@1b16e27d)\\n  [beaster]   2&gt; 76120 INFO  (qtp1089963867-723) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.c.S.Request [cdcr-source_shard1_replica_n1]  webapp=\\/solr path=\\/replication params={generation=12&amp;qt=\\/replication&amp;file=_a_Lucene50_0.pos&amp;checksum= true &amp;wt=filestream&amp;command=filecontent} status=0 QTime=0\\n  [beaster]   2&gt; 76122 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.u.DefaultSolrCoreState New IndexWriter is ready to be used.\\n  [beaster]   2&gt; 76122 ERROR (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.IndexFetcher User aborted Replication\\n  [beaster]   2&gt; 76122 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler boostrap callable status ::  false \\n  [beaster]   2&gt; 76122 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler boostrap callable closed ::  true \\n  [beaster]   2&gt; 76122 ERROR (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler fetch failed  for  bootstrap :: org.apache.solr.handler.IndexFetcher$ReplicationHandlerException: User aborted replication\\n \\n  \\n\\n First time the Bootstrap is called, it checks whether the BOOTSTRAP is started or not. \\n\\n  \\n [beaster]   2&gt; 76084 WARN  (cdcr-bootstrap-status-177-thread-1-processing-n:127.0.0.1:39903_solr x:cdcr-source_shard1_replica_n1 s:shard1 c:cdcr-source r:core_node2) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.h.CdcrReplicatorManager Bootstrap process was not found on target collection: cdcr-target shard: shard1, leader: http: \\/\\/127.0.0.1:42370\\/solr\\/cdcr-target_shard1_replica_n1\\/ \\n \\n  \\n\\n and then attempts to starts BOOTSTRAP again. Please MIND, the first call is still in play and second one is called too :: \\n\\n  \\n  [beaster]   2&gt; 76092 INFO  (cdcr-bootstrap-status-177-thread-1-processing-n:127.0.0.1:39903_solr x:cdcr-source_shard1_replica_n1 s:shard1 c:cdcr-source r:core_node2) [n:127.0.0.1:39903_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1] o.a.s.h.CdcrReplicatorManager Attempting to bootstrap target collection: cdcr-target shard: shard1 leader: http: \\/\\/127.0.0.1:42370\\/solr\\/cdcr-target_shard1_replica_n1\\/ \\n \\n  \\n\\n Replication begins successfully: \\n\\n  \\n   [beaster]   2&gt; 76105 INFO  (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.IndexFetcher Starting replication process\\n \\n  \\n\\n but in the end: its gets aborted saying \\\"Uber aborted .......\\\". THIS ABORT is due to CANCEL_BOOTSTRAP called by 2nd thread. \\n\\n  \\n   [beaster]   2&gt; 76122 ERROR (recoveryExecutor-144-thread-1-processing-n:127.0.0.1:42370_solr x:cdcr-target_shard1_replica_n1 s:shard1 c:cdcr-target r:core_node2) [n:127.0.0.1:42370_solr c:cdcr-target s:shard1 r:core_node2 x:cdcr-target_shard1_replica_n1] o.a.s.h.CdcrRequestHandler fetch failed  for  bootstrap :: org.apache.solr.handler.IndexFetcher$ReplicationHandlerException: User aborted replication\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16170958\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16170958&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16170958\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16170958_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16170958_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Sep\\/17 00:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-19T00:43:13+0000\'\u003e19\\/Sep\\/17 00:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 19\\/Sep\\/17 00:58\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI had an offline discussion with Shalin and Varun and we are able to figure out what\'s wrong in the Cdcr Bootstrap.\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003esince issuing bootstrap is an asynchronous call, there is a probable race around condition where after issuing a bootstrap, it immediately checks for bootstrap status and if not found, another bootstrap gets issued.\u003c\\/li\u003e\\n\\t\u003cli\u003ethis 2nd bootstrap fails to acquire lock issues cancel boostrap\u003c\\/li\u003e\\n\\t\u003cli\u003esince the bootstrap at target is now \\\"cancelled\\\", the bootstrap status in CdcrReplicatorManager goes into rigorous infinite loop as the condition \\\"cancelled\\\" is not handled.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eIn the patch both \\\"\u003cb\u003esubmitted\u003c\\/b\u003e\\\" and \\\"\u003cb\u003ecancelled\u003c\\/b\u003e\\\" bootstrap status conditions and \'what to do next\' is covered, which will nullify the extensive bootstrap calling and even the bootstrap should complete successfully. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16170958_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16170958_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Sep\\/17 00:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-19T00:43:13+0000\'\u003e19\\/Sep\\/17 00:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 19\\/Sep\\/17 00:58\\\"\u003eedited\u003c\\/span\u003e                   I had an offline discussion with Shalin and Varun and we are able to figure out what\'s wrong in the Cdcr Bootstrap. \\n\\n \\n\\t since issuing bootstrap is an asynchronous call, there is a probable race around condition where after issuing a bootstrap, it immediately checks for bootstrap status and if not found, another bootstrap gets issued. \\n\\t this 2nd bootstrap fails to acquire lock issues cancel boostrap \\n\\t since the bootstrap at target is now \\\"cancelled\\\", the bootstrap status in CdcrReplicatorManager goes into rigorous infinite loop as the condition \\\"cancelled\\\" is not handled. \\n \\n\\n\\n In the patch both \\\" submitted \\\" and \\\" cancelled \\\" bootstrap status conditions and \'what to do next\' is covered, which will nullify the extensive bootstrap calling and even the bootstrap should complete successfully.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16171988\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16171988&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16171988\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16171988_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16171988_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Sep\\/17 16:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-19T16:28:48+0000\'\u003e19\\/Sep\\/17 16:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'m going to commit this to master and see how Jenkins behaves for the next couple of days\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16171988_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16171988_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Sep\\/17 16:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-19T16:28:48+0000\'\u003e19\\/Sep\\/17 16:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'m going to commit this to master and see how Jenkins behaves for the next couple of days              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16171992\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16171992&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16171992\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16171992_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16171992_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Sep\\/17 16:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-19T16:30:41+0000\'\u003e19\\/Sep\\/17 16:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 8e12f201131d44034efe0cd97dee23df4b16b015 in lucene-solr\'s branch refs\\/heads\\/master from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\" class=\\\"user-hover\\\" rel=\\\"varunthacker\\\"\u003eVarun Thacker\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=8e12f20\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=8e12f20\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11278\\\" title=\\\"Fix race in cdcr bootstrap process\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11278\\\"\u003e\u003cdel\u003eSOLR-11278\u003c\\/del\u003e\u003c\\/a\u003e: Fix race-condition in CDCR submitting a bootstrap call and checking it\'s status\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16171992_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16171992_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Sep\\/17 16:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-19T16:30:41+0000\'\u003e19\\/Sep\\/17 16:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 8e12f201131d44034efe0cd97dee23df4b16b015 in lucene-solr\'s branch refs\\/heads\\/master from  Varun Thacker  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=8e12f20  ] \\n\\n   SOLR-11278  : Fix race-condition in CDCR submitting a bootstrap call and checking it\'s status              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16172036\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16172036&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16172036\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16172036_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16172036_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Sep\\/17 17:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-19T17:13:33+0000\'\u003e19\\/Sep\\/17 17:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Varun, \u003c\\/p\u003e\\n\\n\u003cp\u003eSuccessfully beasted: ant beast -Dtestcase=CdcrBootstrapTest -Dbeast.iters=500 -Dtests.iters=3 for the committed patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16172036_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16172036_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Sep\\/17 17:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-19T17:13:33+0000\'\u003e19\\/Sep\\/17 17:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks Varun,  \\n\\n Successfully beasted: ant beast -Dtestcase=CdcrBootstrapTest -Dbeast.iters=500 -Dtests.iters=3 for the committed patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16174015\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16174015&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16174015\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16174015_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16174015_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Sep\\/17 23:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-20T23:44:03+0000\'\u003e20\\/Sep\\/17 23:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 20\\/Sep\\/17 23:49\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUploading another patch which makes sure if we request bootstrap status after submitting a bootstrap, we get the correct status: RUNNING. Used CountDownLatch internally in the function.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16174015_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16174015_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Sep\\/17 23:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-20T23:44:03+0000\'\u003e20\\/Sep\\/17 23:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 20\\/Sep\\/17 23:49\\\"\u003eedited\u003c\\/span\u003e                   Uploading another patch which makes sure if we request bootstrap status after submitting a bootstrap, we get the correct status: RUNNING. Used CountDownLatch internally in the function.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16177106\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16177106&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16177106\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16177106_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16177106_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Sep\\/17 20:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-22T20:56:22+0000\'\u003e22\\/Sep\\/17 20:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSlight modifications on discussion with Shalin offline. Patch uploaded.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16177106_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16177106_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Sep\\/17 20:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-22T20:56:22+0000\'\u003e22\\/Sep\\/17 20:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Slight modifications on discussion with Shalin offline. Patch uploaded.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16183297\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16183297&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16183297\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16183297_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16183297_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Sep\\/17 21:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-27T21:34:53+0000\'\u003e27\\/Sep\\/17 21:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 26677ab2b041a074fd984457677cbea8b58363ab in lucene-solr\'s branch refs\\/heads\\/master from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\" class=\\\"user-hover\\\" rel=\\\"varunthacker\\\"\u003eVarun Thacker\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=26677ab\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=26677ab\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11278\\\" title=\\\"Fix race in cdcr bootstrap process\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11278\\\"\u003e\u003cdel\u003eSOLR-11278\u003c\\/del\u003e\u003c\\/a\u003e: Fix a race condition in the CDCR bootstrap process which could lead to bootstraps cancelling itself\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16183297_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16183297_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Sep\\/17 21:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-27T21:34:53+0000\'\u003e27\\/Sep\\/17 21:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 26677ab2b041a074fd984457677cbea8b58363ab in lucene-solr\'s branch refs\\/heads\\/master from  Varun Thacker  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=26677ab  ] \\n\\n   SOLR-11278  : Fix a race condition in the CDCR bootstrap process which could lead to bootstraps cancelling itself              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16183361\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16183361&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16183361\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16183361_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16183361_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Sep\\/17 22:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-27T22:21:41+0000\'\u003e27\\/Sep\\/17 22:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1de25182370dec69a34a9999721127aee0ecc0fe in lucene-solr\'s branch refs\\/heads\\/branch_7x from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\" class=\\\"user-hover\\\" rel=\\\"varunthacker\\\"\u003eVarun Thacker\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=1de2518\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=1de2518\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11278\\\" title=\\\"Fix race in cdcr bootstrap process\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11278\\\"\u003e\u003cdel\u003eSOLR-11278\u003c\\/del\u003e\u003c\\/a\u003e: Fix a race condition in the CDCR bootstrap process which could lead to bootstraps cancelling itself\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16183361_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16183361_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Sep\\/17 22:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-27T22:21:41+0000\'\u003e27\\/Sep\\/17 22:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1de25182370dec69a34a9999721127aee0ecc0fe in lucene-solr\'s branch refs\\/heads\\/branch_7x from  Varun Thacker  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=1de2518  ] \\n\\n   SOLR-11278  : Fix a race condition in the CDCR bootstrap process which could lead to bootstraps cancelling itself              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16183362\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16183362&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16183362\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16183362_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16183362_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Sep\\/17 22:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-27T22:21:53+0000\'\u003e27\\/Sep\\/17 22:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Amrit and Shalin!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16183362_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16183362_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Sep\\/17 22:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-27T22:21:53+0000\'\u003e27\\/Sep\\/17 22:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks Amrit and Shalin!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16186578\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16186578&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16186578\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_16186578_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16186578_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Sep\\/17 22:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-29T22:08:28+0000\'\u003e29\\/Sep\\/17 22:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eShould the commits on this issue be backported to branch_7_0, to be included in Solr 7.0.1?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_16186578_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16186578_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Sep\\/17 22:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-29T22:08:28+0000\'\u003e29\\/Sep\\/17 22:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Should the commits on this issue be backported to branch_7_0, to be included in Solr 7.0.1?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16186592\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16186592&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16186592\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16186592_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16186592_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Sep\\/17 22:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-29T22:20:24+0000\'\u003e29\\/Sep\\/17 22:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eLooks like it was happy for 1 day but today I see a failure : \u003ca href=\\\"https:\\/\\/jenkins.thetaphi.de\\/job\\/Lucene-Solr-7.x-Linux\\/517\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/jenkins.thetaphi.de\\/job\\/Lucene-Solr-7.x-Linux\\/517\\/\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eI won\'t get time to look at this for another till tuesday atleast . Let\'s not hold up 7.0.1 for this? \u003c\\/p\u003e\\n\\n\u003cp\u003ePeople who hit this race condition in 7.0 can fix it by restarting the target cluster as the bootstrap will fail. Not the best experience but they are starting a new cluster so hopefully not a big deal.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16186592_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16186592_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Sep\\/17 22:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-29T22:20:24+0000\'\u003e29\\/Sep\\/17 22:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Looks like it was happy for 1 day but today I see a failure :  https:\\/\\/jenkins.thetaphi.de\\/job\\/Lucene-Solr-7.x-Linux\\/517\\/  \\n\\n I won\'t get time to look at this for another till tuesday atleast . Let\'s not hold up 7.0.1 for this?  \\n\\n People who hit this race condition in 7.0 can fix it by restarting the target cluster as the bootstrap will fail. Not the best experience but they are starting a new cluster so hopefully not a big deal.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16187021\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16187021&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16187021\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_16187021_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16187021_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Sep\\/17 10:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-30T10:45:12+0000\'\u003e30\\/Sep\\/17 10:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;...&#93;\u003c\\/span\u003e today I see a failure \u003cspan class=\\\"error\\\"\u003e&#91;....&#93;\u003c\\/span\u003e Let\'s not hold up 7.0.1 for this?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003e+1\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_16187021_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16187021_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Sep\\/17 10:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-30T10:45:12+0000\'\u003e30\\/Sep\\/17 10:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                      &#91;...&#93;  today I see a failure  &#91;....&#93;  Let\'s not hold up 7.0.1 for this?  \\n\\n +1              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16188903\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16188903&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16188903\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16188903_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16188903_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Oct\\/17 21:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-02T21:44:11+0000\'\u003e02\\/Oct\\/17 21:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eStill seeing failures on Jenkins\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16188903_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16188903_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Oct\\/17 21:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-02T21:44:11+0000\'\u003e02\\/Oct\\/17 21:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Still seeing failures on Jenkins              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16195690\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16195690&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16195690\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16195690_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16195690_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Oct\\/17 13:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-07T13:16:35+0000\'\u003e07\\/Oct\\/17 13:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 07\\/Oct\\/17 15:05\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\" class=\\\"user-hover\\\" rel=\\\"varunthacker\\\"\u003eVarun Thacker\u003c\\/a\u003e,\u003c\\/p\u003e\\n\\n\u003cp\u003eFailure is very inconsistent. None of the failuers accessible at \u003ca href=\\\"https:\\/\\/jenkins.thetaphi.de\\/job\\/Lucene-Solr-7.x-Linux\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/jenkins.thetaphi.de\\/job\\/Lucene-Solr-7.x-Linux\\/\u003c\\/a\u003e have the test failing and I am unable to produce it for 100 and 500 beasts. Not sure, how to proceed on this now.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16195690_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16195690_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Oct\\/17 13:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-07T13:16:35+0000\'\u003e07\\/Oct\\/17 13:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 07\\/Oct\\/17 15:05\\\"\u003eedited\u003c\\/span\u003e                    Varun Thacker , \\n\\n Failure is very inconsistent. None of the failuers accessible at  https:\\/\\/jenkins.thetaphi.de\\/job\\/Lucene-Solr-7.x-Linux\\/  have the test failing and I am unable to produce it for 100 and 500 beasts. Not sure, how to proceed on this now.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16195727\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16195727&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16195727\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_16195727_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16195727_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Oct\\/17 14:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-07T14:32:02+0000\'\u003e07\\/Oct\\/17 14:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAmrit:\u003c\\/p\u003e\\n\\n\u003cp\u003eOne strategy is to put debugging only code into master (not 7x) to test hypotheses. Be sure to track it carefully and take it out as soon as you can of course.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_16195727_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16195727_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Oct\\/17 14:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-07T14:32:02+0000\'\u003e07\\/Oct\\/17 14:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Amrit: \\n\\n One strategy is to put debugging only code into master (not 7x) to test hypotheses. Be sure to track it carefully and take it out as soon as you can of course.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16199800\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16199800&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16199800\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16199800_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16199800_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Oct\\/17 04:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-11T04:41:44+0000\'\u003e11\\/Oct\\/17 04:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eClosing this issue out as the fix will be part of the 7.1 release.\u003c\\/p\u003e\\n\\n\u003cp\u003eLet\'s open a new Jira to fix the new failures\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16199800_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16199800_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Oct\\/17 04:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-11T04:41:44+0000\'\u003e11\\/Oct\\/17 04:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Closing this issue out as the fix will be part of the 7.1 release. \\n\\n Let\'s open a new Jira to fix the new failures              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16207379\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11278?focusedCommentId=16207379&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16207379\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_16207379_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16207379_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Oct\\/17 11:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-17T11:03:49+0000\'\u003e17\\/Oct\\/17 11:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBulk close after 7.1.0 release\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_16207379_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16207379_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Oct\\/17 11:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-17T11:03:49+0000\'\u003e17\\/Oct\\/17 11:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Bulk close after 7.1.0 release              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310230";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310230&amp;avatarId=22151\\\" alt=\\\"Solr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\"\u003eSolr\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520343270302"> 
    <input type="hidden" title="jira.request.server.time" value="388"> 
    <input type="hidden" title="jira.request.id" value="814x97551741x1"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="3"> 
    <input type="hidden" title="db.reads.time.in.ms" value="59"> 
    <input type="hidden" title="db.conns.time.in.ms" value="66"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 814x97551741x1
	          REQUEST TIMESTAMP : [06/Mar/2018:13:34:30 +0000]
	               REQUEST TIME : 0.3880
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 3

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=45, elapsedTotal=59247563, elapsedMin=566879, elapsedMax=19293697, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=49, elapsedTotal=66496169, elapsedMin=497293, elapsedMax=19315414, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>