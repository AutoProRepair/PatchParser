<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|40c0fcba3483a760728952712b00d4648670b86f|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"b9711e67fad9c4\"";
WRM._unparsedData["project-id"]="12310110";
WRM._unparsedData["project-key"]="\"LUCENE\"";
WRM._unparsedData["project-name"]="\"Lucene - Core\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310110";
WRM._unparsedData["projectKey"]="\"LUCENE\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="LUCENE-6956"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[LUCENE-6956] TestBKDTree.testRandomMedium() failure: some hits were wrong - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[LUCENE-6956] TestBKDTree.testRandomMedium() failure: some hits were wrong - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/LUCENE" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FLUCENE-6956">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310110" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Lucene - Core'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310110&amp;avatarId=10061"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/LUCENE">Lucene - Core</a></li>
                 <li><a class="issue-link" data-issue-key="LUCENE-6956" href="/jira/browse/LUCENE-6956" id="key-val" rel="12925199">LUCENE-6956</a></li>
                </ol>
                <h1 id="summary-val">TestBKDTree.testRandomMedium() failure: some hits were wrong</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FLUCENE-6956"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/LUCENE-6956/LUCENE-6956.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/LUCENE-6956/LUCENE-6956.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/LUCENE-6956/LUCENE-6956.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/LUCENE-6956/LUCENE-6956.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Resolved</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.</span>">Resolved</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> None </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> None </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> None </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12925199-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
                <div id="customfieldmodule"> 
                 <div class="aui-tabs horizontal-tabs" id="customfield-tabs"> 
                  <div id="customfield-panel-1" class="tabs-pane active-pane"> 
                   <ul class="property-list"> 
                    <li id="rowForcustomfield_12310120" class="item"> 
                     <div class="wrap"> 
                      <strong title="Lucene Fields" class="name">Lucene Fields:</strong> 
                      <div id="customfield_12310120-val" class="value type-multicheckboxes" data-fieldtype="multicheckboxes" data-fieldtypecompletekey="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"> 
                       <div class="shorten" id="customfield_12310120-field"> 
                        <span>New</span> 
                       </div> 
                      </div> 
                     </div> </li> 
                   </ul> 
                  </div> 
                 </div>
                </div> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>My Jenkins found a reproducible seed for a failure of <tt>TestBKDTree.testRandomMedium()</tt> on branch_5x with Java8:</p> 
                  <div class="preformatted panel" style="border-width: 1px;">
                   <div class="preformattedContent panelContent"> 
                    <pre>  [junit4] Suite: org.apache.lucene.bkdtree.TestBKDTree
   [junit4]   1&gt; T1: id=29784 should match but did not
   [junit4]   1&gt;   small=true query=BKDPointInPolygonQuery: field=point: Points: [-9.594408497214317, 86.83882305398583] [-9.594408497214317, 86.8827043287456] [-8.752231243997812, 86.8827043287456] [-8.752231243997812, 86.83882305398583] [-9.594408497214317, 86.83882305398583]  docID=29528
   [junit4]   1&gt;   lat=86.88086835667491 lon=-8.821268286556005
   [junit4]   1&gt;   deleted?=false
   [junit4]   1&gt; T1: id=29801 should match but did not
   [junit4]   1&gt;   small=true query=BKDPointInPolygonQuery: field=point: Points: [-9.594408497214317, 86.83882305398583] [-9.594408497214317, 86.8827043287456] [-8.752231243997812, 86.8827043287456] [-8.752231243997812, 86.83882305398583] [-9.594408497214317, 86.83882305398583]  docID=29545
   [junit4]   1&gt;   lat=86.88149104826152 lon=-9.34366637840867
   [junit4]   1&gt;   deleted?=false
   [junit4]   1&gt; T1: id=29961 should match but did not
   [junit4]   1&gt;   small=true query=BKDPointInPolygonQuery: field=point: Points: [-9.594408497214317, 86.83882305398583] [-9.594408497214317, 86.8827043287456] [-8.752231243997812, 86.8827043287456] [-8.752231243997812, 86.83882305398583] [-9.594408497214317, 86.83882305398583]  docID=29705
   [junit4]   1&gt;   lat=86.8706679996103 lon=-9.38328042626381
   [junit4]   1&gt;   deleted?=false
   [junit4]   1&gt; T1: id=30015 should match but did not
   [junit4]   1&gt;   small=true query=BKDPointInPolygonQuery: field=point: Points: [-9.594408497214317, 86.83882305398583] [-9.594408497214317, 86.8827043287456] [-8.752231243997812, 86.8827043287456] [-8.752231243997812, 86.83882305398583] [-9.594408497214317, 86.83882305398583]  docID=29759
   [junit4]   1&gt;   lat=86.84762765653431 lon=-9.44802425801754
   [junit4]   1&gt;   deleted?=false
   [junit4]   1&gt; T1: id=30017 should match but did not
   [junit4]   1&gt;   small=true query=BKDPointInPolygonQuery: field=point: Points: [-9.594408497214317, 86.83882305398583] [-9.594408497214317, 86.8827043287456] [-8.752231243997812, 86.8827043287456] [-8.752231243997812, 86.83882305398583] [-9.594408497214317, 86.83882305398583]  docID=29761
   [junit4]   1&gt;   lat=86.8753323610872 lon=-9.091365560889244
   [junit4]   1&gt;   deleted?=false
   [junit4]   1&gt; T1: id=30042 should match but did not
   [junit4]   1&gt;   small=true query=BKDPointInPolygonQuery: field=point: Points: [-9.594408497214317, 86.83882305398583] [-9.594408497214317, 86.8827043287456] [-8.752231243997812, 86.8827043287456] [-8.752231243997812, 86.83882305398583] [-9.594408497214317, 86.83882305398583]  docID=29786
   [junit4]   1&gt;   lat=86.85837233439088 lon=-9.127480667084455
   [junit4]   1&gt;   deleted?=false
   [junit4]   1&gt; T1: id=30061 should match but did not
   [junit4]   1&gt;   small=true query=BKDPointInPolygonQuery: field=point: Points: [-9.594408497214317, 86.83882305398583] [-9.594408497214317, 86.8827043287456] [-8.752231243997812, 86.8827043287456] [-8.752231243997812, 86.83882305398583] [-9.594408497214317, 86.83882305398583]  docID=29805
   [junit4]   1&gt;   lat=86.85876209288836 lon=-9.408821929246187
   [junit4]   1&gt;   deleted?=false
   [junit4]   1&gt; T1: id=30077 should match but did not
   [junit4]   1&gt;   small=true query=BKDPointInPolygonQuery: field=point: Points: [-9.594408497214317, 86.83882305398583] [-9.594408497214317, 86.8827043287456] [-8.752231243997812, 86.8827043287456] [-8.752231243997812, 86.83882305398583] [-9.594408497214317, 86.83882305398583]  docID=29821
   [junit4]   1&gt;   lat=86.84681385755539 lon=-8.837449550628662
   [junit4]   1&gt;   deleted?=false
   [junit4]   1&gt; T1: id=30185 should match but did not
   [junit4]   1&gt;   small=true query=BKDPointInPolygonQuery: field=point: Points: [-9.594408497214317, 86.83882305398583] [-9.594408497214317, 86.8827043287456] [-8.752231243997812, 86.8827043287456] [-8.752231243997812, 86.83882305398583] [-9.594408497214317, 86.83882305398583]  docID=29929
   [junit4]   1&gt;   lat=86.84285902418196 lon=-9.196635894477367
   [junit4]   1&gt;   deleted?=false
   [junit4]   1&gt; T1: id=30457 should match but did not
   [junit4]   1&gt;   small=true query=BKDPointInPolygonQuery: field=point: Points: [-9.594408497214317, 86.83882305398583] [-9.594408497214317, 86.8827043287456] [-8.752231243997812, 86.8827043287456] [-8.752231243997812, 86.83882305398583] [-9.594408497214317, 86.83882305398583]  docID=30201
   [junit4]   1&gt;   lat=86.85951378196478 lon=-9.43030072376132
   [junit4]   1&gt;   deleted?=false
   [junit4]   1&gt; T1: id=30510 should match but did not
   [junit4]   1&gt;   small=true query=BKDPointInPolygonQuery: field=point: Points: [-9.594408497214317, 86.83882305398583] [-9.594408497214317, 86.8827043287456] [-8.752231243997812, 86.8827043287456] [-8.752231243997812, 86.83882305398583] [-9.594408497214317, 86.83882305398583]  docID=30254
   [junit4]   1&gt;   lat=86.87674303539097 lon=-9.011097270995378
   [junit4]   1&gt;   deleted?=false
   [junit4]   1&gt; T1: id=30541 should match but did not
   [junit4]   1&gt;   small=true query=BKDPointInPolygonQuery: field=point: Points: [-9.594408497214317, 86.83882305398583] [-9.594408497214317, 86.8827043287456] [-8.752231243997812, 86.8827043287456] [-8.752231243997812, 86.83882305398583] [-9.594408497214317, 86.83882305398583]  docID=30285
   [junit4]   1&gt;   lat=86.8406930565834 lon=-9.17652016505599
   [junit4]   1&gt;   deleted?=false
   [junit4]   2&gt; 1? 01, 2016 8:21:44 ?? com.carrotsearch.randomizedtesting.RandomizedRunner$QueueUncaughtExceptionsHandler uncaughtException
   [junit4]   2&gt; WARNING: Uncaught exception in thread: Thread[T1,5,TGRP-TestBKDTree]
   [junit4]   2&gt; java.lang.AssertionError: some hits were wrong
   [junit4]   2&gt;        at __randomizedtesting.SeedInfo.seed([17908CAA7FD53E04]:0)
   [junit4]   2&gt;        at org.junit.Assert.fail(Assert.java:93)
   [junit4]   2&gt;        at org.apache.lucene.util.BaseGeoPointTestCase$VerifyHits.test(BaseGeoPointTestCase.java:547)
   [junit4]   2&gt;        at org.apache.lucene.util.BaseGeoPointTestCase$2._run(BaseGeoPointTestCase.java:753)
   [junit4]   2&gt;        at org.apache.lucene.util.BaseGeoPointTestCase$2.run(BaseGeoPointTestCase.java:618)
   [junit4]   2&gt; 
   [junit4]   2&gt; NOTE: download the large Jenkins line-docs file by running 'ant get-jenkins-line-docs' in the lucene directory.
   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestBKDTree -Dtests.method=testRandomMedium -Dtests.seed=17908CAA7FD53E04 -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=/home/jenkins/lucene-data/enwiki.random.lines.txt -Dtests.locale=zh_HK -Dtests.timezone=Europe/Jersey -Dtests.asserts=true -Dtests.file.encoding=US-ASCII
   [junit4] ERROR   7.46s | TestBKDTree.testRandomMedium &lt;&lt;&lt;
   [junit4]    &gt; Throwable #1: com.carrotsearch.randomizedtesting.UncaughtExceptionError: Captured an uncaught exception in thread: Thread[id=25, name=T1, state=RUNNABLE, group=TGRP-TestBKDTree]
   [junit4]    &gt;        at __randomizedtesting.SeedInfo.seed([17908CAA7FD53E04:AA4EBB023EB05D62]:0)
   [junit4]    &gt; Caused by: java.lang.AssertionError: some hits were wrong
   [junit4]    &gt;        at __randomizedtesting.SeedInfo.seed([17908CAA7FD53E04]:0)
   [junit4]    &gt;        at org.apache.lucene.util.BaseGeoPointTestCase$VerifyHits.test(BaseGeoPointTestCase.java:547)
   [junit4]    &gt;        at org.apache.lucene.util.BaseGeoPointTestCase$2._run(BaseGeoPointTestCase.java:753)
   [junit4]    &gt;        at org.apache.lucene.util.BaseGeoPointTestCase$2.run(BaseGeoPointTestCase.java:618)
   [junit4]   2&gt; NOTE: test params are: codec=Asserting(Lucene54): {}, docValues:{}, sim=RandomSimilarityProvider(queryNorm=true,coord=crazy): {}, locale=zh_HK, timezone=Europe/Jersey
   [junit4]   2&gt; NOTE: Linux 4.1.0-custom2-amd64 amd64/Oracle Corporation 1.8.0_45 (64-bit)/cpus=16,threads=1,free=381269328,total=513802240
   [junit4]   2&gt; NOTE: All tests run in this JVM: [TestBKDTree]
   [junit4]   2&gt; NOTE: download the large Jenkins line-docs file by running 'ant get-jenkins-line-docs' in the lucene directory.
   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestBKDTree -Dtests.seed=17908CAA7FD53E04 -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=/home/jenkins/lucene-data/enwiki.random.lines.txt -Dtests.locale=zh_HK -Dtests.timezone=Europe/Jersey -Dtests.asserts=true -Dtests.file.encoding=US-ASCII
   [junit4] ERROR   0.00s | TestBKDTree (suite) &lt;&lt;&lt;
   [junit4]    &gt; Throwable #1: java.lang.AssertionError: The test or suite printed 11178 bytes to stdout and stderr, even though the limit was set to 8192 bytes. Increase the limit with @Limit, ignore it completely with @SuppressSysoutChecks or run with -Dtests.verbose=true
   [junit4]    &gt;        at __randomizedtesting.SeedInfo.seed([17908CAA7FD53E04]:0)
   [junit4]    &gt;        at java.lang.Thread.run(Thread.java:745)
   [junit4] Completed [1/1 (1!)] in 7.90s, 1 test, 1 failure, 1 error &lt;&lt;&lt; FAILURES!
   [junit4] 
   [junit4] 
   [junit4] Tests with failures [seed: 17908CAA7FD53E04]:
   [junit4]   - org.apache.lucene.bkdtree.TestBKDTree.testRandomMedium
   [junit4]   - org.apache.lucene.bkdtree.TestBKDTree (suite)
   [junit4] 
   [junit4] 
   [junit4] JVM J0:     1.00 ..     9.75 =     8.75s
   [junit4] Execution time total: 9.76 sec.
   [junit4] Tests summary: 1 suite, 1 test, 1 suite-level error, 1 error
</pre> 
                   </div>
                  </div> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/LUCENE-6956?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/LUCENE-6956?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/LUCENE-6956?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/LUCENE-6956?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12784439" data-issue-id="12925199" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12784439/LUCENE-6956.patch" draggable="true" data-downloadurl="text/x-patch:LUCENE-6956.patch:https://issues.apache.org/jira/secure/attachment/12784439/LUCENE-6956.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12784439/LUCENE-6956.patch" title="Latest  26/Jan/16 16:57 - Nicholas Knize" draggable="true" data-downloadurl="text/x-patch:LUCENE-6956.patch:https://issues.apache.org/jira/secure/attachment/12784439/LUCENE-6956.patch">LUCENE-6956.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-01-26T16:57:43.972Z">26/Jan/16 16:57</time>
                   </dd>
                   <dd class="attachment-size">
                    26 kB
                   </dd>
                   <dd class="attachment-author">
                    Nicholas Knize
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12784266" data-issue-id="12925199" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12784266/LUCENE-6956.patch" draggable="true" data-downloadurl="text/x-patch:LUCENE-6956.patch:https://issues.apache.org/jira/secure/attachment/12784266/LUCENE-6956.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12784266/LUCENE-6956.patch" title=" 25/Jan/16 22:57 - Nicholas Knize" draggable="true" data-downloadurl="text/x-patch:LUCENE-6956.patch:https://issues.apache.org/jira/secure/attachment/12784266/LUCENE-6956.patch">LUCENE-6956.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-01-25T22:57:37.730Z">25/Jan/16 22:57</time>
                   </dd>
                   <dd class="attachment-size">
                    24 kB
                   </dd>
                   <dd class="attachment-author">
                    Nicholas Knize
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12784099" data-issue-id="12925199" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12784099/LUCENE-6956.patch" draggable="true" data-downloadurl="text/x-patch:LUCENE-6956.patch:https://issues.apache.org/jira/secure/attachment/12784099/LUCENE-6956.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12784099/LUCENE-6956.patch" title=" 25/Jan/16 05:15 - Nicholas Knize" draggable="true" data-downloadurl="text/x-patch:LUCENE-6956.patch:https://issues.apache.org/jira/secure/attachment/12784099/LUCENE-6956.patch">LUCENE-6956.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-01-25T05:15:15.288Z">25/Jan/16 05:15</time>
                   </dd>
                   <dd class="attachment-size">
                    19 kB
                   </dd>
                   <dd class="attachment-author">
                    Nicholas Knize
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12783691" data-issue-id="12925199" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12783691/LUCENE-6956.patch" draggable="true" data-downloadurl="text/x-patch:LUCENE-6956.patch:https://issues.apache.org/jira/secure/attachment/12783691/LUCENE-6956.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12783691/LUCENE-6956.patch" title=" 21/Jan/16 22:39 - Nicholas Knize" draggable="true" data-downloadurl="text/x-patch:LUCENE-6956.patch:https://issues.apache.org/jira/secure/attachment/12783691/LUCENE-6956.patch">LUCENE-6956.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-01-21T22:39:29.272Z">21/Jan/16 22:39</time>
                   </dd>
                   <dd class="attachment-size">
                    10 kB
                   </dd>
                   <dd class="attachment-author">
                    Nicholas Knize
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12783668" data-issue-id="12925199" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12783668/LUCENE-6956.patch" draggable="true" data-downloadurl="text/x-patch:LUCENE-6956.patch:https://issues.apache.org/jira/secure/attachment/12783668/LUCENE-6956.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12783668/LUCENE-6956.patch" title=" 21/Jan/16 20:50 - Nicholas Knize" draggable="true" data-downloadurl="text/x-patch:LUCENE-6956.patch:https://issues.apache.org/jira/secure/attachment/12783668/LUCENE-6956.patch">LUCENE-6956.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-01-21T20:50:54.652Z">21/Jan/16 20:50</time>
                   </dd>
                   <dd class="attachment-size">
                    10 kB
                   </dd>
                   <dd class="attachment-author">
                    Nicholas Knize
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12784385" data-issue-id="12925199" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12784385/LUCENE-6956-enc.patch" draggable="true" data-downloadurl="text/plain:LUCENE-6956-enc.patch:https://issues.apache.org/jira/secure/attachment/12784385/LUCENE-6956-enc.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12784385/LUCENE-6956-enc.patch" title="Latest  26/Jan/16 10:03 - Michael McCandless" draggable="true" data-downloadurl="text/plain:LUCENE-6956-enc.patch:https://issues.apache.org/jira/secure/attachment/12784385/LUCENE-6956-enc.patch">LUCENE-6956-enc.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-01-26T10:03:58.073Z">26/Jan/16 10:03</time>
                   </dd>
                   <dd class="attachment-size">
                    5 kB
                   </dd>
                   <dd class="attachment-author">
                    Michael McCandless
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_mikemccand" rel="mikemccand" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Michael McCandless&quot;,&quot;emailAddress&quot;:&quot;lucene@mikemccandless.com&quot;,&quot;username&quot;:&quot;mikemccand&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="mikemccand"></span></span> Michael McCandless </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_steve_rowe" rel="steve_rowe" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Steve Rowe&quot;,&quot;emailAddress&quot;:&quot;sarowe@gmail.com&quot;,&quot;username&quot;:&quot;steve_rowe&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="steve_rowe"></span></span> Steve Rowe </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">3</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="01/Jan/16 20:30"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2016-01-01T20:30:32+0000">01/Jan/16 20:30</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="27/Jan/16 14:13"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2016-01-27T14:13:13+0000">27/Jan/16 14:13</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="27/Jan/16 14:13"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2016-01-27T14:13:13+0000">27/Jan/16 14:13</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-6956?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/LUCENE-6956?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-6956?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-6956?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/LUCENE-6956?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-6956?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/LUCENE-6956?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-6956?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/LUCENE-6956?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-6956?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/LUCENE-6956?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/LUCENE-6956?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-15081010\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15081010&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15081010\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15081010_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15081010_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/16 11:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-04T11:09:20+0000\'\u003e04\\/Jan\\/16 11:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1722841 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\" class=\\\"user-hover\\\" rel=\\\"mikemccand\\\"\u003eMichael McCandless\u003c\\/a\u003e in branch \'dev\\/branches\\/branch_5x\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1722841\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1722841\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-6956\\\" title=\\\"TestBKDTree.testRandomMedium() failure: some hits were wrong\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-6956\\\"\u003e\u003cdel\u003eLUCENE-6956\u003c\\/del\u003e\u003c\\/a\u003e: make sure specific test method fails, instead of relying on \'unhandled exc in thread\' from test framework\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15081010_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15081010_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/16 11:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-04T11:09:20+0000\'\u003e04\\/Jan\\/16 11:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1722841 from  Michael McCandless  in branch \'dev\\/branches\\/branch_5x\' \\n[  https:\\/\\/svn.apache.org\\/r1722841  ] \\n\\n   LUCENE-6956  : make sure specific test method fails, instead of relying on \'unhandled exc in thread\' from test framework              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15081012\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15081012&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15081012\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15081012_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15081012_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/16 11:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-04T11:10:36+0000\'\u003e04\\/Jan\\/16 11:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1722843 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\" class=\\\"user-hover\\\" rel=\\\"mikemccand\\\"\u003eMichael McCandless\u003c\\/a\u003e in branch \'dev\\/trunk\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1722843\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1722843\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-6956\\\" title=\\\"TestBKDTree.testRandomMedium() failure: some hits were wrong\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-6956\\\"\u003e\u003cdel\u003eLUCENE-6956\u003c\\/del\u003e\u003c\\/a\u003e: make sure specific test method fails, instead of relying on \'unhandled exc in thread\' from test framework\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15081012_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15081012_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/16 11:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-04T11:10:36+0000\'\u003e04\\/Jan\\/16 11:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1722843 from  Michael McCandless  in branch \'dev\\/trunk\' \\n[  https:\\/\\/svn.apache.org\\/r1722843  ] \\n\\n   LUCENE-6956  : make sure specific test method fails, instead of relying on \'unhandled exc in thread\' from test framework              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15082856\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15082856&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15082856\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15082856_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15082856_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jan\\/16 11:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-05T11:13:08+0000\'\u003e05\\/Jan\\/16 11:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOK I finally isolated this test failure to an apparently bug\\/lossy double point precision issue in \u003ctt\u003eGeoRelationUtils.rectCrossesPoly\u003c\\/tt\u003e; if you add this test case to \u003ctt\u003eTestGeoUtils.java\u003c\\/tt\u003e, the 2nd (last) assert in the test fails:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e  public void testBKDCase1() throws Exception {\\n    double[] polyLats = new double[] {86.83882305398583, 86.8827043287456, 86.8827043287456, 86.83882305398583, 86.83882305398583};\\n    double[] polyLons = new double[] {-9.594408497214317, -9.594408497214317, -8.752231243997812, -8.752231243997812, -9.594408497214317};\\n    double polyMinLat = 86.83882305398583;\\n    double polyMaxLat = 86.8827043287456;\\n    double polyMinLon = -9.594408497214317;\\n    double polyMaxLon = -8.752231243997812;\\n\\n    double cellMinLat = -89.99999997904524;\\n    double cellMaxLat = 86.8827033836041;\\n    double cellMinLon = -179.99999995809048;\\n    double cellMaxLon = 179.99999995809048;\\n\\n    \\/\\/ Cell is massive vs small poly so it\'s definitely NOT within:\\n    assertFalse(GeoRelationUtils.rectWithinPoly(cellMinLon, cellMinLat, cellMaxLon, cellMaxLat, polyLons, polyLats, polyMinLon, polyMinLat, polyMaxLon, polyMaxLat));\\n\\n    \\/\\/ But cell does cross the poly (barely!):\\n    assertTrue(GeoRelationUtils.rectCrossesPoly(cellMinLon, cellMinLat, cellMaxLon, cellMaxLat, polyLons, polyLats, polyMinLon, polyMinLat, polyMaxLon, polyMaxLat));\\n  }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eI think the problem is that the \u003ctt\u003epolyMaxLat\u003c\\/tt\u003e is just a wee bit over \u003ctt\u003ecellMaxLat\u003c\\/tt\u003e and floating point errors in \u003ctt\u003elineCrossesLine\u003c\\/tt\u003e must then incorrectly conclude the poly is fully contained inside the cell?\u003c\\/p\u003e\\n\\n\u003cp\u003eThis causes BKD tree on recursing to incorrectly skip a whole part of the sub-tree, missing hits that are well within the query polygon.\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\" class=\\\"user-hover\\\" rel=\\\"nknize\\\"\u003eNicholas Knize\u003c\\/a\u003e any ideas what we can do to fix this?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15082856_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15082856_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jan\\/16 11:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-05T11:13:08+0000\'\u003e05\\/Jan\\/16 11:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    OK I finally isolated this test failure to an apparently bug\\/lossy double point precision issue in  GeoRelationUtils.rectCrossesPoly ; if you add this test case to  TestGeoUtils.java , the 2nd (last) assert in the test fails: \\n\\n  \\n   public void testBKDCase1() throws Exception {\\n    double[] polyLats = new double[] {86.83882305398583, 86.8827043287456, 86.8827043287456, 86.83882305398583, 86.83882305398583};\\n    double[] polyLons = new double[] {-9.594408497214317, -9.594408497214317, -8.752231243997812, -8.752231243997812, -9.594408497214317};\\n    double polyMinLat = 86.83882305398583;\\n    double polyMaxLat = 86.8827043287456;\\n    double polyMinLon = -9.594408497214317;\\n    double polyMaxLon = -8.752231243997812;\\n\\n    double cellMinLat = -89.99999997904524;\\n    double cellMaxLat = 86.8827033836041;\\n    double cellMinLon = -179.99999995809048;\\n    double cellMaxLon = 179.99999995809048;\\n\\n    \\/\\/ Cell is massive vs small poly so it\'s definitely NOT within:\\n    assertFalse(GeoRelationUtils.rectWithinPoly(cellMinLon, cellMinLat, cellMaxLon, cellMaxLat, polyLons, polyLats, polyMinLon, polyMinLat, polyMaxLon, polyMaxLat));\\n\\n    \\/\\/ But cell does cross the poly (barely!):\\n    assertTrue(GeoRelationUtils.rectCrossesPoly(cellMinLon, cellMinLat, cellMaxLon, cellMaxLat, polyLons, polyLats, polyMinLon, polyMinLat, polyMaxLon, polyMaxLat));\\n  }\\n \\n  \\n\\n I think the problem is that the  polyMaxLat  is just a wee bit over  cellMaxLat  and floating point errors in  lineCrossesLine  must then incorrectly conclude the poly is fully contained inside the cell? \\n\\n This causes BKD tree on recursing to incorrectly skip a whole part of the sub-tree, missing hits that are well within the query polygon. \\n\\n  Nicholas Knize  any ideas what we can do to fix this?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15111272\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15111272&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15111272\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15111272_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111272_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/16 20:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-21T20:50:54+0000\'\u003e21\\/Jan\\/16 20:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe issue is related to the performance improvements added in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-6951\\\" title=\\\"GeoPointInPolygonQuery can be improved\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-6951\\\"\u003e\u003cdel\u003eLUCENE-6951\u003c\\/del\u003e\u003c\\/a\u003e. That approximation exploits characteristics of the range based GeoPoint encoding which are \\\"well formed\\\" quad cells.  Much like the issue seen with range queries and BKD\'s tendency to create exotic splits, the polygon approximation can fail with these irregular rectangles.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe attached patch changes the following:\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eadd the original rectCrossesPoly method and uses it for more \\\"precise\\\" relations required by BKD.\u003c\\/li\u003e\\n\\t\u003cli\u003eremove tolerance comparisons from \u003ctt\u003eGeoRelationUtils.pointInRect\u003c\\/tt\u003e. This method should operate independent of the tolerance factor.\u003c\\/li\u003e\\n\\t\u003cli\u003efor LatLonPoint BoundingBox queries, ignore false positives\\/negatives that are within TOLERANCE rounding error\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15111272_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111272_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/16 20:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-21T20:50:54+0000\'\u003e21\\/Jan\\/16 20:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The issue is related to the performance improvements added in   LUCENE-6951  . That approximation exploits characteristics of the range based GeoPoint encoding which are \\\"well formed\\\" quad cells.  Much like the issue seen with range queries and BKD\'s tendency to create exotic splits, the polygon approximation can fail with these irregular rectangles. \\n\\n The attached patch changes the following: \\n\\n \\n\\t add the original rectCrossesPoly method and uses it for more \\\"precise\\\" relations required by BKD. \\n\\t remove tolerance comparisons from  GeoRelationUtils.pointInRect . This method should operate independent of the tolerance factor. \\n\\t for LatLonPoint BoundingBox queries, ignore false positives\\/negatives that are within TOLERANCE rounding error \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15111280\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15111280&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15111280\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15111280_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111280_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/16 20:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-21T20:56:34+0000\'\u003e21\\/Jan\\/16 20:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePatch has been successfully beast tested and passes on the jenkins failures I was able to reproduce. I\'m unable to reproduce some of the java 9 failures due to a \u003ctt\u003ejava.util.IllformedLocaleException\u003c\\/tt\u003e so if there are no objections I\'ll commit this fix shortly and get jenkins working on it. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15111280_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111280_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/16 20:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-21T20:56:34+0000\'\u003e21\\/Jan\\/16 20:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Patch has been successfully beast tested and passes on the jenkins failures I was able to reproduce. I\'m unable to reproduce some of the java 9 failures due to a  java.util.IllformedLocaleException  so if there are no objections I\'ll commit this fix shortly and get jenkins working on it.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15111346\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15111346&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15111346\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15111346_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111346_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/16 21:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-21T21:42:58+0000\'\u003e21\\/Jan\\/16 21:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHmm I\'m having trouble understanding this change \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/wink.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e   public static double compare(final double v1, final double v2) {\\n-    final double delta = v1-v2;\\n-    return Math.abs(delta) &lt;= TOLERANCE ? 0 : delta;\\n+    final int delta = (int)(v1*TOLERANCE - v2*TOLERANCE);\\n+    return Math.abs(delta\\/TOLERANCE) &lt;= TOLERANCE ? 0 : delta;\\n   }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eCan you maybe add a comment here, and break it out as an \u003ctt\u003eif\u003c\\/tt\u003e statement not ternary?\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ctt\u003eTOLERANCE\u003c\\/tt\u003e is 1e-6 right?  So isn\'t \u003ctt\u003efinal int delta\u003c\\/tt\u003e always going to be 0 when \u003ctt\u003ev1\\/v2\u003c\\/tt\u003e are typical lat\\/lon values?\u003c\\/p\u003e\\n\\n\u003cp\u003eThe way it is today is much clearer I think?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15111346_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111346_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/16 21:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-21T21:42:58+0000\'\u003e21\\/Jan\\/16 21:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hmm I\'m having trouble understanding this change   \\n\\n  \\n    public static double compare(final double v1, final double v2) {\\n-    final double delta = v1-v2;\\n-    return Math.abs(delta) &lt;= TOLERANCE ? 0 : delta;\\n+    final int delta = (int)(v1*TOLERANCE - v2*TOLERANCE);\\n+    return Math.abs(delta\\/TOLERANCE) &lt;= TOLERANCE ? 0 : delta;\\n   }\\n \\n  \\n\\n Can you maybe add a comment here, and break it out as an  if  statement not ternary? \\n\\n  TOLERANCE  is 1e-6 right?  So isn\'t  final int delta  always going to be 0 when  v1\\/v2  are typical lat\\/lon values? \\n\\n The way it is today is much clearer I think?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15111361\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15111361&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15111361\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_15111361_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111361_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/16 21:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-21T21:51:57+0000\'\u003e21\\/Jan\\/16 21:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Uwe Schindler - 21\\/Jan\\/16 21:54\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eI was able to reproduce. I\'m unable to reproduce some of the java 9 failures due to a java.util.IllformedLocaleException\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eCan you give a short note with reproduce line? This could be related to my changes last weekend. Could be that I missed a forbidden Locale.toString() when printing reproduce line.\u003c\\/p\u003e\\n\\n\u003cp\u003eIf this only happens in Java 9, it could be some JVM bug.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_15111361_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111361_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/16 21:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-21T21:51:57+0000\'\u003e21\\/Jan\\/16 21:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Uwe Schindler - 21\\/Jan\\/16 21:54\\\"\u003eedited\u003c\\/span\u003e                    I was able to reproduce. I\'m unable to reproduce some of the java 9 failures due to a java.util.IllformedLocaleException  \\n\\n Can you give a short note with reproduce line? This could be related to my changes last weekend. Could be that I missed a forbidden Locale.toString() when printing reproduce line. \\n\\n If this only happens in Java 9, it could be some JVM bug.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15111376\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15111376&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15111376\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_15111376_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111376_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/16 21:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-21T21:59:40+0000\'\u003e21\\/Jan\\/16 21:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAh, I think I know. The issue is older. Could it be that you tried to use an old reproduce line from last week, e.g.:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e[junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestBKDTree -Dtests.seed=17908CAA7FD53E04 -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=\\/home\\/jenkins\\/lucene-data\\/enwiki.random.lines.txt -Dtests.locale=zh_HK -Dtests.timezone=Europe\\/Jersey -Dtests.asserts=true -Dtests.file.encoding=US-ASCII\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eThis line no longer works, unless you change the underscore in the Locale to a dash. Since \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-6978\\\" title=\\\"Make LuceneTestCase use language tags instead of parsing locales by hand\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-6978\\\"\u003e\u003cdel\u003eLUCENE-6978\u003c\\/del\u003e\u003c\\/a\u003e you have to pass a IETF standardized locale (en-US instead en_US). So you seem to have used an old reprodiuce line with newer test-framework.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_15111376_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111376_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/16 21:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-21T21:59:40+0000\'\u003e21\\/Jan\\/16 21:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Ah, I think I know. The issue is older. Could it be that you tried to use an old reproduce line from last week, e.g.: \\n\\n  \\n [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestBKDTree -Dtests.seed=17908CAA7FD53E04 -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=\\/home\\/jenkins\\/lucene-data\\/enwiki.random.lines.txt -Dtests.locale=zh_HK -Dtests.timezone=Europe\\/Jersey -Dtests.asserts=true -Dtests.file.encoding=US-ASCII\\n \\n  \\n\\n This line no longer works, unless you change the underscore in the Locale to a dash. Since   LUCENE-6978   you have to pass a IETF standardized locale (en-US instead en_US). So you seem to have used an old reprodiuce line with newer test-framework.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15111382\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15111382&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15111382\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15111382_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111382_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/16 22:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-21T22:02:52+0000\'\u003e21\\/Jan\\/16 22:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSure \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\" class=\\\"user-hover\\\" rel=\\\"thetaphi\\\"\u003eUwe Schindler\u003c\\/a\u003e. Just tried w\\/ java 7, 8, and 9. Same exception on all. Looks like its related to the \u003ctt\u003emer_KE\u003c\\/tt\u003e locale tag.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe exception:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e   [junit4]   2&gt; Jan 21, 2016 3:57:10 PM com.carrotsearch.randomizedtesting.RandomizedRunner runSuite\\n   [junit4]   2&gt; SEVERE: Panic: RunListener hook shouldn\'t throw exceptions.\\n   [junit4]   2&gt; java.lang.NullPointerException\\n   [junit4]   2&gt; \\tat org.apache.lucene.util.RunListenerPrintReproduceInfo.printDebuggingInformation(RunListenerPrintReproduceInfo.java:132)\\n   [junit4]   2&gt; \\tat org.apache.lucene.util.RunListenerPrintReproduceInfo.testRunFinished(RunListenerPrintReproduceInfo.java:119)\\n   [junit4]   2&gt; \\tat com.carrotsearch.randomizedtesting.RandomizedRunner.runSuite(RandomizedRunner.java:706)\\n   [junit4]   2&gt; \\tat com.carrotsearch.randomizedtesting.RandomizedRunner.access$200(RandomizedRunner.java:140)\\n   [junit4]   2&gt; \\tat com.carrotsearch.randomizedtesting.RandomizedRunner$2.run(RandomizedRunner.java:591)\\n   [junit4]   2&gt; \\n   [junit4] ERROR   0.00s | TestGeoPointQuery (suite) &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: java.util.IllformedLocaleException: Invalid subtag: mer_KE [at index 0]\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([30950A47BB2DFA04]:0)\\n   [junit4]    &gt; \\tat java.util.Locale$Builder.setLanguageTag(Locale.java:2426)\\n   [junit4]    &gt; \\tat org.apache.lucene.util.LuceneTestCase.localeForLanguageTag(LuceneTestCase.java:1530)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4] Completed [1\\/1 (1!)] in 0.29s, 0 tests, 1 error &lt;&lt;&lt; FAILURES!\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003ereproduce with:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eant test  -Dtestcase=TestGeoPointQuery -Dtests.method=testRandomTiny -Dtests.seed=30950A47BB2DFA04 -Dtests.multiplier=3 -Dtests.slow=true -Dtests.locale=mer_KE -Dtests.timezone=America\\/Martinique -Dtests.asserts=true -Dtests.file.encoding=US-ASCII\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15111382_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111382_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/16 22:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-21T22:02:52+0000\'\u003e21\\/Jan\\/16 22:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Sure  Uwe Schindler . Just tried w\\/ java 7, 8, and 9. Same exception on all. Looks like its related to the  mer_KE  locale tag. \\n\\n The exception: \\n\\n  \\n    [junit4]   2&gt; Jan 21, 2016 3:57:10 PM com.carrotsearch.randomizedtesting.RandomizedRunner runSuite\\n   [junit4]   2&gt; SEVERE: Panic: RunListener hook shouldn\'t throw exceptions.\\n   [junit4]   2&gt; java.lang.NullPointerException\\n   [junit4]   2&gt; \\tat org.apache.lucene.util.RunListenerPrintReproduceInfo.printDebuggingInformation(RunListenerPrintReproduceInfo.java:132)\\n   [junit4]   2&gt; \\tat org.apache.lucene.util.RunListenerPrintReproduceInfo.testRunFinished(RunListenerPrintReproduceInfo.java:119)\\n   [junit4]   2&gt; \\tat com.carrotsearch.randomizedtesting.RandomizedRunner.runSuite(RandomizedRunner.java:706)\\n   [junit4]   2&gt; \\tat com.carrotsearch.randomizedtesting.RandomizedRunner.access$200(RandomizedRunner.java:140)\\n   [junit4]   2&gt; \\tat com.carrotsearch.randomizedtesting.RandomizedRunner$2.run(RandomizedRunner.java:591)\\n   [junit4]   2&gt; \\n   [junit4] ERROR   0.00s | TestGeoPointQuery (suite) &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: java.util.IllformedLocaleException: Invalid subtag: mer_KE [at index 0]\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([30950A47BB2DFA04]:0)\\n   [junit4]    &gt; \\tat java.util.Locale$Builder.setLanguageTag(Locale.java:2426)\\n   [junit4]    &gt; \\tat org.apache.lucene.util.LuceneTestCase.localeForLanguageTag(LuceneTestCase.java:1530)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4] Completed [1\\/1 (1!)] in 0.29s, 0 tests, 1 error &lt;&lt;&lt; FAILURES!\\n \\n  \\n\\n reproduce with: \\n\\n  \\n ant test  -Dtestcase=TestGeoPointQuery -Dtests.method=testRandomTiny -Dtests.seed=30950A47BB2DFA04 -Dtests.multiplier=3 -Dtests.slow=true -Dtests.locale=mer_KE -Dtests.timezone=America\\/Martinique -Dtests.asserts=true -Dtests.file.encoding=US-ASCII \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15111384\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15111384&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15111384\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15111384_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111384_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/16 22:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-21T22:03:43+0000\'\u003e21\\/Jan\\/16 22:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003egot it.. posted my reply 3 mins too late \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/wink.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e  Thanks!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15111384_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111384_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/16 22:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-21T22:03:43+0000\'\u003e21\\/Jan\\/16 22:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    got it.. posted my reply 3 mins too late    Thanks!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15111495\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15111495&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15111495\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_15111495_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111495_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/16 22:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-21T22:22:41+0000\'\u003e21\\/Jan\\/16 22:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNo prob. So it was as I thought? You tried to run the old reproduce line with newer checkout?\u003c\\/p\u003e\\n\\n\u003cp\u003eSo I assume test passes fine if you fix the reproduce line with \\\"zh-HK\\\" or \\\"zh-hk\\\" instead of the old-style \\\"zh_HK\\\".\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_15111495_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111495_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/16 22:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-21T22:22:41+0000\'\u003e21\\/Jan\\/16 22:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    No prob. So it was as I thought? You tried to run the old reproduce line with newer checkout? \\n\\n So I assume test passes fine if you fix the reproduce line with \\\"zh-HK\\\" or \\\"zh-hk\\\" instead of the old-style \\\"zh_HK\\\".              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15111530\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15111530&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15111530\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15111530_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111530_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/16 22:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-21T22:40:32+0000\'\u003e21\\/Jan\\/16 22:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCorrect. I was testing against an old failure in an open issue. New style locale fixed it. Thx for the help!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15111530_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111530_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/16 22:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-21T22:40:32+0000\'\u003e21\\/Jan\\/16 22:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Correct. I was testing against an old failure in an open issue. New style locale fixed it. Thx for the help!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15111532\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15111532&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15111532\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15111532_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111532_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/16 22:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-21T22:41:46+0000\'\u003e21\\/Jan\\/16 22:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThat was my fault, stale change. Reverted and updated the patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15111532_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111532_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/16 22:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-21T22:41:46+0000\'\u003e21\\/Jan\\/16 22:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    That was my fault, stale change. Reverted and updated the patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15111658\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15111658&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15111658\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15111658_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111658_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Jan\\/16 00:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-22T00:11:40+0000\'\u003e22\\/Jan\\/16 00:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks, I\'m glad that change was stale \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eInstead of passing a boolean \u003ctt\u003eapprox\u003c\\/tt\u003e can we make both precise and approx methods public and fix callers to invoke the one they need?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15111658_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15111658_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Jan\\/16 00:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-22T00:11:40+0000\'\u003e22\\/Jan\\/16 00:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks, I\'m glad that change was stale   \\n\\n Instead of passing a boolean  approx  can we make both precise and approx methods public and fix callers to invoke the one they need?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15112455\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15112455&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15112455\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15112455_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15112455_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Jan\\/16 14:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-22T14:28:11+0000\'\u003e22\\/Jan\\/16 14:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCurrently we use \u003ctt\u003e1e-7\u003c\\/tt\u003e (\u003ctt\u003ePOLY_TOLERANCE\u003c\\/tt\u003e) as the tolerance for incorrect results in the test for polygon queries, but this patch makes that 10X larger (1e-6) ... is that really necessary?  1e-6 works out to +\\/- ~11cm in the worst case.\u003c\\/p\u003e\\n\\n\u003cp\u003eCan we De Morganize this change?\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e-    return (GeoUtils.compare(lon, minLon) &gt;= 0 &amp;&amp; GeoUtils.compare(lon, maxLon) &lt;= 0\\n-        &amp;&amp; GeoUtils.compare(lat, minLat) &gt;= 0 &amp;&amp; GeoUtils.compare(lat, maxLat) &lt;= 0);\\n+    return !(lon &lt; minLon || lon &gt; maxLon || lat &lt; minLat || lat &gt; maxLat);\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eI.e., remove the leading \u003ctt\u003e!\u003c\\/tt\u003e and push change the \u003ctt\u003e||\u003c\\/tt\u003e to \u003ctt\u003e&amp;&amp;\u003c\\/tt\u003e and reverse the comparisons?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15112455_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15112455_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Jan\\/16 14:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-22T14:28:11+0000\'\u003e22\\/Jan\\/16 14:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Currently we use  1e-7  ( POLY_TOLERANCE ) as the tolerance for incorrect results in the test for polygon queries, but this patch makes that 10X larger (1e-6) ... is that really necessary?  1e-6 works out to +\\/- ~11cm in the worst case. \\n\\n Can we De Morganize this change? \\n\\n  \\n -    return (GeoUtils.compare(lon, minLon) &gt;= 0 &amp;&amp; GeoUtils.compare(lon, maxLon) &lt;= 0\\n-        &amp;&amp; GeoUtils.compare(lat, minLat) &gt;= 0 &amp;&amp; GeoUtils.compare(lat, maxLat) &lt;= 0);\\n+    return !(lon &lt; minLon || lon &gt; maxLon || lat &lt; minLat || lat &gt; maxLat);\\n \\n  \\n\\n I.e., remove the leading  !  and push change the  ||  to  &amp;&amp;  and reverse the comparisons?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15112464\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15112464&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15112464\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15112464_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15112464_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Jan\\/16 14:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-22T14:32:43+0000\'\u003e22\\/Jan\\/16 14:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAlso, can we fix this test weakness now?\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e      \\/\\/ TODO: GeoUtils APIs are still buggy for large distances:\\n      if (true || useSmallRanges) {\\n        \\/\\/ Approx 3 degrees lon at the equator:\\n        radiusMeters = random().nextDouble() * 333000;\\n      } else {\\n        radiusMeters = random().nextDouble() * GeoProjectionUtils.SEMIMAJOR_AXIS * Math.PI \\/ 2.0;\\n      }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eIe, remove that \u003ctt\u003etrue ||\u003c\\/tt\u003e?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15112464_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15112464_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Jan\\/16 14:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-22T14:32:43+0000\'\u003e22\\/Jan\\/16 14:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Also, can we fix this test weakness now? \\n\\n  \\n       \\/\\/ TODO: GeoUtils APIs are still buggy for large distances:\\n      if (true || useSmallRanges) {\\n        \\/\\/ Approx 3 degrees lon at the equator:\\n        radiusMeters = random().nextDouble() * 333000;\\n      } else {\\n        radiusMeters = random().nextDouble() * GeoProjectionUtils.SEMIMAJOR_AXIS * Math.PI \\/ 2.0;\\n      }\\n \\n  \\n\\n Ie, remove that  true || ?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15114557\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15114557&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15114557\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15114557_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15114557_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jan\\/16 21:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-24T21:58:34+0000\'\u003e24\\/Jan\\/16 21:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\" class=\\\"user-hover\\\" rel=\\\"nknize\\\"\u003eNicholas Knize\u003c\\/a\u003e can you fold the revert of this change into this patch?: \u003ca href=\\\"https:\\/\\/git1-us-west.apache.org\\/repos\\/asf?p=lucene-solr.git;a=commitdiff;h=b62c6715;hp=9d35aafc565a880c5cae7c21fa6c10fbdd0399ec\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git1-us-west.apache.org\\/repos\\/asf?p=lucene-solr.git;a=commitdiff;h=b62c6715;hp=9d35aafc565a880c5cae7c21fa6c10fbdd0399ec\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15114557_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15114557_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jan\\/16 21:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-24T21:58:34+0000\'\u003e24\\/Jan\\/16 21:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Nicholas Knize  can you fold the revert of this change into this patch?:  https:\\/\\/git1-us-west.apache.org\\/repos\\/asf?p=lucene-solr.git;a=commitdiff;h=b62c6715;hp=9d35aafc565a880c5cae7c21fa6c10fbdd0399ec  \\n\\n Thanks.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15114771\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15114771&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15114771\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15114771_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15114771_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/16 05:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-25T05:15:15+0000\'\u003e25\\/Jan\\/16 05:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUpdated patch that includes all feedback.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15114771_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15114771_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/16 05:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-25T05:15:15+0000\'\u003e25\\/Jan\\/16 05:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Updated patch that includes all feedback.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15114772\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15114772&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15114772\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15114772_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15114772_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/16 05:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-25T05:15:41+0000\'\u003e25\\/Jan\\/16 05:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003edone!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15114772_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15114772_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/16 05:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-25T05:15:41+0000\'\u003e25\\/Jan\\/16 05:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    done!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15115897\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15115897&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15115897\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15115897_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15115897_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/16 20:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-25T20:12:40+0000\'\u003e25\\/Jan\\/16 20:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\" class=\\\"user-hover\\\" rel=\\\"nknize\\\"\u003eNicholas Knize\u003c\\/a\u003e, I like seeing further fixing of previous test castrations like this \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e :\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e   @Override\\n   protected boolean forceSmall() {\\n-    \\/\\/ TODO: GeoUtils are potentially slow if we use small=false with heavy testing\\n-    return true;\\n+    return false;\\n   }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eBut what about my worries on 10x increase on tolerance for test\u003cbr\\/\u003e\\nfailures?  I\'d rather not weaken tests by increasing the allowed\u003cbr\\/\u003e\\n\\\"fuzz\\\" unless it\'s really necessary ... it\'s 1e-7 now but the patch\u003cbr\\/\u003e\\nchanges it to 1e-6 for poly and rect tests.\u003c\\/p\u003e\\n\\n\u003cp\u003eCan we rename \u003ctt\u003eGeoRelationUtils.pointInRect\u003c\\/tt\u003e to\u003cbr\\/\u003e\\n\u003ctt\u003e.pointInRectPrecise\u003c\\/tt\u003e since it\'s now comparing doubles directly?\u003c\\/p\u003e\\n\\n\u003cp\u003eHmm I hit this failure with the patch after a some beasting:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e[junit4:pickseed] Seed property \'tests.seed\' already defined: CDA594C3EF930919\\n   [junit4] &lt;JUnit4&gt; says hallo! Master seed: CDA594C3EF930919                                                                                                                                                                 \\n   [junit4] Executing 1 suite with 1 JVM.                                                                                                                                                                                      \\n   [junit4]                                                                                                                                                                                                                    \\n   [junit4] Started J0 PID(71413@localhost).                                                                                                                                                                                   \\n   [junit4] Suite: org.apache.lucene.util.TestGeoUtils                                                                                                                                                                         \\n   [junit4]   1&gt; doc=983 matched but should not on iteration 49                                                                                                                                                                \\n   [junit4]   1&gt;   lon=139.60821881890297 lat=69.31676804088056 distanceMeters=4715192.068461553 vs radiusMeters=4698375.33421177                                                                                              \\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestGeoUtils -Dtests.method=testGeoRelations -Dtests.seed=CDA594C3EF930919 -Dtests.slow=true -Dtests.linedocsfile=\\/lucenedata\\/hudson.enwiki.random.lines.txt.fixed\\\\\\n -Dtests.locale=tr-TR -Dtests.timezone=America\\/Matamoros -Dtests.asserts=true -Dtests.file.encoding=UTF-8                                                                                                                      \\n   [junit4] FAILURE 0.43s | TestGeoUtils.testGeoRelations &lt;&lt;&lt;                                                                                                                                                                  \\n   [junit4]    &gt; Throwable #1: java.lang.AssertionError: 1 incorrect hits (see above)                                                                                                                                          \\n   [junit4]    &gt;        at __randomizedtesting.SeedInfo.seed([CDA594C3EF930919:F8680769B647FA7]:0)                                                                                                                             \\n   [junit4]    &gt;        at org.apache.lucene.util.TestGeoUtils.testGeoRelations(TestGeoUtils.java:532)                                                                                                                         \\n   [junit4]    &gt;        at java.lang.Thread.run(Thread.java:745)                                                                                                                                                               \\n   [junit4]   2&gt; NOTE: test params are: codec=Lucene60, sim=RandomSimilarity(queryNorm=true,coord=no): {}, locale=tr-TR, timezone=America\\/Matamoros                                                                            \\n   [junit4]   2&gt; NOTE: Linux 3.19.0-21-generic amd64\\/Oracle Corporation 1.8.0_65 (64-bit)\\/cpus=72,threads=1,free=428760240,total=514850816                                                                                     \\n   [junit4]   2&gt; NOTE: All tests run in this JVM: [TestGeoUtils]                                                                                                                                                               \\n   [junit4] Completed [1\\/1 (1!)] in 0.83s, 1 test, 1 failure &lt;&lt;&lt; FAILURES!                                                                                                                                                     \\n   [junit4]                                                                                                                                                                                                                    \\n   [junit4]                                                                                                                                                                                                                    \\n   [junit4] Tests with failures [seed: CDA594C3EF930919]:                                                                                                                                                                      \\n   [junit4]   - org.apache.lucene.util.TestGeoUtils.testGeoRelations                                                                                                                                                           \\n   [junit4]                                                                                                                                                                                                                    \\n   [junit4]                                                                                                                                                                                                                    \\n   [junit4] JVM J0:     0.41 ..     1.79 =     1.38s                                                                                                                                                                           \\n   [junit4] Execution time total: 1.80 sec.                                                                                                                                                                                    \\n   [junit4] Tests summary: 1 suite, 1 test, 1 failure              \\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15115897_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15115897_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/16 20:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-25T20:12:40+0000\'\u003e25\\/Jan\\/16 20:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks  Nicholas Knize , I like seeing further fixing of previous test castrations like this   : \\n\\n  \\n    @Override\\n   protected boolean forceSmall() {\\n-    \\/\\/ TODO: GeoUtils are potentially slow if we use small=false with heavy testing\\n-    return true;\\n+    return false;\\n   }\\n \\n  \\n\\n But what about my worries on 10x increase on tolerance for test \\nfailures?  I\'d rather not weaken tests by increasing the allowed \\n\\\"fuzz\\\" unless it\'s really necessary ... it\'s 1e-7 now but the patch \\nchanges it to 1e-6 for poly and rect tests. \\n\\n Can we rename  GeoRelationUtils.pointInRect  to \\n .pointInRectPrecise  since it\'s now comparing doubles directly? \\n\\n Hmm I hit this failure with the patch after a some beasting: \\n\\n  \\n [junit4:pickseed] Seed property \'tests.seed\' already defined: CDA594C3EF930919\\n   [junit4] &lt;JUnit4&gt; says hallo! Master seed: CDA594C3EF930919                                                                                                                                                                 \\n   [junit4] Executing 1 suite with 1 JVM.                                                                                                                                                                                      \\n   [junit4]                                                                                                                                                                                                                    \\n   [junit4] Started J0 PID(71413@localhost).                                                                                                                                                                                   \\n   [junit4] Suite: org.apache.lucene.util.TestGeoUtils                                                                                                                                                                         \\n   [junit4]   1&gt; doc=983 matched but should not on iteration 49                                                                                                                                                                \\n   [junit4]   1&gt;   lon=139.60821881890297 lat=69.31676804088056 distanceMeters=4715192.068461553 vs radiusMeters=4698375.33421177                                                                                              \\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestGeoUtils -Dtests.method=testGeoRelations -Dtests.seed=CDA594C3EF930919 -Dtests.slow=true -Dtests.linedocsfile=\\/lucenedata\\/hudson.enwiki.random.lines.txt.fixed\\\\\\n -Dtests.locale=tr-TR -Dtests.timezone=America\\/Matamoros -Dtests.asserts=true -Dtests.file.encoding=UTF-8                                                                                                                      \\n   [junit4] FAILURE 0.43s | TestGeoUtils.testGeoRelations &lt;&lt;&lt;                                                                                                                                                                  \\n   [junit4]    &gt; Throwable #1: java.lang.AssertionError: 1 incorrect hits (see above)                                                                                                                                          \\n   [junit4]    &gt;        at __randomizedtesting.SeedInfo.seed([CDA594C3EF930919:F8680769B647FA7]:0)                                                                                                                             \\n   [junit4]    &gt;        at org.apache.lucene.util.TestGeoUtils.testGeoRelations(TestGeoUtils.java:532)                                                                                                                         \\n   [junit4]    &gt;        at java.lang.Thread.run(Thread.java:745)                                                                                                                                                               \\n   [junit4]   2&gt; NOTE: test params are: codec=Lucene60, sim=RandomSimilarity(queryNorm=true,coord=no): {}, locale=tr-TR, timezone=America\\/Matamoros                                                                            \\n   [junit4]   2&gt; NOTE: Linux 3.19.0-21-generic amd64\\/Oracle Corporation 1.8.0_65 (64-bit)\\/cpus=72,threads=1,free=428760240,total=514850816                                                                                     \\n   [junit4]   2&gt; NOTE: All tests run in this JVM: [TestGeoUtils]                                                                                                                                                               \\n   [junit4] Completed [1\\/1 (1!)] in 0.83s, 1 test, 1 failure &lt;&lt;&lt; FAILURES!                                                                                                                                                     \\n   [junit4]                                                                                                                                                                                                                    \\n   [junit4]                                                                                                                                                                                                                    \\n   [junit4] Tests with failures [seed: CDA594C3EF930919]:                                                                                                                                                                      \\n   [junit4]   - org.apache.lucene.util.TestGeoUtils.testGeoRelations                                                                                                                                                           \\n   [junit4]                                                                                                                                                                                                                    \\n   [junit4]                                                                                                                                                                                                                    \\n   [junit4] JVM J0:     0.41 ..     1.79 =     1.38s                                                                                                                                                                           \\n   [junit4] Execution time total: 1.80 sec.                                                                                                                                                                                    \\n   [junit4] Tests summary: 1 suite, 1 test, 1 failure              \\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15115991\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15115991&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15115991\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15115991_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15115991_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/16 20:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-25T20:40:40+0000\'\u003e25\\/Jan\\/16 20:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOh, sorry for not addressing the \u003ctt\u003e1e-7\u003c\\/tt\u003e question. With the 32 bit quantization encoding error can exceed \u003ctt\u003e1e-7\u003c\\/tt\u003e but not \u003ctt\u003e1e-6\u003c\\/tt\u003e. So its not that its weakening the test, its that once a point is indexed (quantized from two doubles to two 32 bit ints) the location can be affected by that much. I\'m not exactly sure where 1e-7 came from? I can reduce it from 1e-6 but, in all honesty, I haven\'t worked out the exact maximum error. That could be a fun and useful exercise, just haven\'t had the time.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eHmm I hit this failure with the patch after a some beasting:\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eLooks like the TestGeoUtils distance test doesn\'t have any boundary checks, so this is related to above. I thought I added a boundary check (e.g., return null boolean)? Maybe it was stepped on? I can add it back.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eCan we rename GeoRelationUtils.pointInRect to .pointInRectPrecise since it\'s now comparing doubles directly?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eAbsolutely!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15115991_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15115991_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/16 20:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-25T20:40:40+0000\'\u003e25\\/Jan\\/16 20:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Oh, sorry for not addressing the  1e-7  question. With the 32 bit quantization encoding error can exceed  1e-7  but not  1e-6 . So its not that its weakening the test, its that once a point is indexed (quantized from two doubles to two 32 bit ints) the location can be affected by that much. I\'m not exactly sure where 1e-7 came from? I can reduce it from 1e-6 but, in all honesty, I haven\'t worked out the exact maximum error. That could be a fun and useful exercise, just haven\'t had the time. \\n\\n  Hmm I hit this failure with the patch after a some beasting:  \\n\\n Looks like the TestGeoUtils distance test doesn\'t have any boundary checks, so this is related to above. I thought I added a boundary check (e.g., return null boolean)? Maybe it was stepped on? I can add it back. \\n\\n  Can we rename GeoRelationUtils.pointInRect to .pointInRectPrecise since it\'s now comparing doubles directly?  \\n\\n Absolutely!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15116244\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15116244&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15116244\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15116244_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15116244_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/16 22:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-25T22:57:37+0000\'\u003e25\\/Jan\\/16 22:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUpdated patch to address comments.  Note: distance size restriction was added back and new issue \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-6994\\\" title=\\\"GeoUtils Distance accuracy degrades with irregular rectangles\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-6994\\\"\u003eLUCENE-6994\u003c\\/a\u003e was opened to investigate distance accuracy issues.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15116244_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15116244_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/16 22:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-25T22:57:37+0000\'\u003e25\\/Jan\\/16 22:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Updated patch to address comments.  Note: distance size restriction was added back and new issue  LUCENE-6994  was opened to investigate distance accuracy issues.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15116246\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15116246&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15116246\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15116246_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15116246_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/16 23:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-25T23:00:48+0000\'\u003e25\\/Jan\\/16 23:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eHmm I hit this failure with the patch after a some beasting\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eDug deeper and this error revealed a 2x accuracy issue with large exotic rectangles created by the BKD split approach. (different from the pole crossing). I added back the distance restriction and opened \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-6994\\\" title=\\\"GeoUtils Distance accuracy degrades with irregular rectangles\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-6994\\\"\u003eLUCENE-6994\u003c\\/a\u003e to address the accuracy issue.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15116246_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15116246_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/16 23:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-25T23:00:48+0000\'\u003e25\\/Jan\\/16 23:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Hmm I hit this failure with the patch after a some beasting  \\n\\n Dug deeper and this error revealed a 2x accuracy issue with large exotic rectangles created by the BKD split approach. (different from the pole crossing). I added back the distance restriction and opened  LUCENE-6994  to address the accuracy issue.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15117015\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15117015&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15117015\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15117015_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15117015_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jan\\/16 10:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-26T10:03:58+0000\'\u003e26\\/Jan\\/16 10:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt; With the 32 bit quantization encoding error can exceed 1e-7 but not 1e-6.\u003c\\/p\u003e\\n\\n\u003cp\u003eHmm I don\'t think that\'s true?  E.g.:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e&gt;&gt;&gt; 360.\\/(1&lt;&lt;32)\\n8.381903171539307e-08\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eI made a test case (attached) for \u003ctt\u003eLatLonPoint\u003c\\/tt\u003e\'s encoding, and it\u003cbr\\/\u003e\\nindeed passes with 1e-7 \u003ctt\u003eTOLERANCE\u003c\\/tt\u003e.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo then I made the same test case for \u003ctt\u003eGeoPoint\u003c\\/tt\u003e\'s encoding and it\u003cbr\\/\u003e\\nfails!\u003c\\/p\u003e\\n\\n\u003cp\u003eI dug into why, and it\'s because \u003ctt\u003eGeoPoint\u003c\\/tt\u003e is only use 31 bits\u003cbr\\/\u003e\\n(\u003ctt\u003eGeoUtils.BITS\u003c\\/tt\u003e) to encode each value, and indeed with 31 bits the\u003cbr\\/\u003e\\nquantization errors becomes:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e&gt;&gt;&gt; 360.\\/(1&lt;&lt;31)\\n1.6763806343078613e-07\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eWhy do we only use 31 bits to encode?  Since we are breaking the\u003cbr\\/\u003e\\nformat now in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-6930\\\" title=\\\"Decouple GeoPointField from NumericType\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-6930\\\"\u003e\u003cdel\u003eLUCENE-6930\u003c\\/del\u003e\u003c\\/a\u003e maybe we can fix that?\u003c\\/p\u003e\\n\\n\u003cp\u003e(I also separately added tests to confirm the encode\\/decode are\u003cbr\\/\u003e\\nstable, thanks to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=rcmuir\\\" class=\\\"user-hover\\\" rel=\\\"rcmuir\\\"\u003eRobert Muir\u003c\\/a\u003e\'s suggestion, and they seem to pass).\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ll commit these new tests...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15117015_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15117015_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jan\\/16 10:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-26T10:03:58+0000\'\u003e26\\/Jan\\/16 10:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt; With the 32 bit quantization encoding error can exceed 1e-7 but not 1e-6. \\n\\n Hmm I don\'t think that\'s true?  E.g.: \\n\\n  \\n &gt;&gt;&gt; 360.\\/(1&lt;&lt;32)\\n8.381903171539307e-08\\n \\n  \\n\\n I made a test case (attached) for  LatLonPoint \'s encoding, and it \\nindeed passes with 1e-7  TOLERANCE . \\n\\n So then I made the same test case for  GeoPoint \'s encoding and it \\nfails! \\n\\n I dug into why, and it\'s because  GeoPoint  is only use 31 bits \\n( GeoUtils.BITS ) to encode each value, and indeed with 31 bits the \\nquantization errors becomes: \\n\\n  \\n &gt;&gt;&gt; 360.\\/(1&lt;&lt;31)\\n1.6763806343078613e-07\\n \\n  \\n\\n Why do we only use 31 bits to encode?  Since we are breaking the \\nformat now in   LUCENE-6930   maybe we can fix that? \\n\\n (I also separately added tests to confirm the encode\\/decode are \\nstable, thanks to  Robert Muir \'s suggestion, and they seem to pass). \\n\\n I\'ll commit these new tests...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15117389\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15117389&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15117389\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15117389_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15117389_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jan\\/16 15:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-26T15:33:40+0000\'\u003e26\\/Jan\\/16 15:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e++ Thanks for reminding me where that came from! I forgot we are using 2 different encoding methods for BKD and GeoPoint. The GeoPointEncoding of 31 bits was for supporting the GeoHash bit twiddle methods in \u003ctt\u003eGeoHashUtils\u003c\\/tt\u003e. We had issue \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-6710\\\" title=\\\"GeoPointField should use full 64 bit encoding\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-6710\\\"\u003e\u003cdel\u003eLUCENE-6710\u003c\\/del\u003e\u003c\\/a\u003e that used the full 32 bits but I reverted it because of conflicts the the GeoHash string encoding.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ll go back to 32 bits so BKD and GeoUtils encoding methods and rounding error are consistent and we can use the same encoding methods for BKD and GeoPoint. Separately I\'ll fix up the GeoHash string encoding to work with the 32 bit encoding changes and deconflict tests.  \u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eI also separately added tests to confirm the encode\\/decode are stable\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eWhich encoding, BKD? \u003ctt\u003eTestGeoUtils.testGeoHash\u003c\\/tt\u003e tests morton and geohash stabilization for GeoUtils. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15117389_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15117389_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jan\\/16 15:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-26T15:33:40+0000\'\u003e26\\/Jan\\/16 15:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    ++ Thanks for reminding me where that came from! I forgot we are using 2 different encoding methods for BKD and GeoPoint. The GeoPointEncoding of 31 bits was for supporting the GeoHash bit twiddle methods in  GeoHashUtils . We had issue   LUCENE-6710   that used the full 32 bits but I reverted it because of conflicts the the GeoHash string encoding. \\n\\n I\'ll go back to 32 bits so BKD and GeoUtils encoding methods and rounding error are consistent and we can use the same encoding methods for BKD and GeoPoint. Separately I\'ll fix up the GeoHash string encoding to work with the 32 bit encoding changes and deconflict tests.   \\n\\n  I also separately added tests to confirm the encode\\/decode are stable  \\n\\n Which encoding, BKD?  TestGeoUtils.testGeoHash  tests morton and geohash stabilization for GeoUtils.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15117554\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15117554&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15117554\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15117554_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15117554_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jan\\/16 16:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-26T16:57:43+0000\'\u003e26\\/Jan\\/16 16:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUpdated patch that reverts BKD tolerance back to \u003ctt\u003e1e-7\u003c\\/tt\u003e. I opened \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-6996\\\" title=\\\"Deconflict GeoPointField and BKD LatLonField Encoding, Decoding, and Tolerance\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-6996\\\"\u003eLUCENE-6996\u003c\\/a\u003e as a separate issue to reconcile encoding\\/decoding resolution and tolerance between BKD and GeoPoint.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis should be ready, I\'d like to get this committed before \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-6930\\\" title=\\\"Decouple GeoPointField from NumericType\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-6930\\\"\u003e\u003cdel\u003eLUCENE-6930\u003c\\/del\u003e\u003c\\/a\u003e and then tackle the encoding resolution.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nknize\\\" id=\\\"commentauthor_15117554_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nknize\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicholas Knize\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15117554_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jan\\/16 16:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-26T16:57:43+0000\'\u003e26\\/Jan\\/16 16:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Updated patch that reverts BKD tolerance back to  1e-7 . I opened  LUCENE-6996  as a separate issue to reconcile encoding\\/decoding resolution and tolerance between BKD and GeoPoint. \\n\\n This should be ready, I\'d like to get this committed before   LUCENE-6930   and then tackle the encoding resolution.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15118212\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15118212&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15118212\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15118212_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15118212_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jan\\/16 22:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-26T22:40:24+0000\'\u003e26\\/Jan\\/16 22:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=nknize\\\" class=\\\"user-hover\\\" rel=\\\"nknize\\\"\u003eNicholas Knize\u003c\\/a\u003e, the latest patch looks great!  +1\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15118212_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15118212_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jan\\/16 22:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-26T22:40:24+0000\'\u003e26\\/Jan\\/16 22:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks  Nicholas Knize , the latest patch looks great!  +1              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15118528\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15118528&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15118528\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15118528_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15118528_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Jan\\/16 03:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-27T03:02:14+0000\'\u003e27\\/Jan\\/16 03:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit f3ca357802be7d492a5cdfaac26c6bdb1f0c48d9 in lucene-solr\'s branch refs\\/heads\\/master from Nick Knize\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=f3ca357\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=f3ca357\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-6956\\\" title=\\\"TestBKDTree.testRandomMedium() failure: some hits were wrong\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-6956\\\"\u003e\u003cdel\u003eLUCENE-6956\u003c\\/del\u003e\u003c\\/a\u003e: Fix polygon approximation for LatLonPoint Queries\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15118528_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15118528_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Jan\\/16 03:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-27T03:02:14+0000\'\u003e27\\/Jan\\/16 03:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit f3ca357802be7d492a5cdfaac26c6bdb1f0c48d9 in lucene-solr\'s branch refs\\/heads\\/master from Nick Knize \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=f3ca357  ] \\n\\n   LUCENE-6956  : Fix polygon approximation for LatLonPoint Queries              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15118584\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6956?focusedCommentId=15118584&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15118584\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15118584_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15118584_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Jan\\/16 03:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-27T03:45:23+0000\'\u003e27\\/Jan\\/16 03:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 257413bbe18eb4d7a8de085b0d6d12373732be80 in lucene-solr\'s branch refs\\/heads\\/branch_5x from Nick Knize\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=257413b\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=257413b\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-6956\\\" title=\\\"TestBKDTree.testRandomMedium() failure: some hits were wrong\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-6956\\\"\u003e\u003cdel\u003eLUCENE-6956\u003c\\/del\u003e\u003c\\/a\u003e: Fix polygon approximation for LatLonPoint Queries\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15118584_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15118584_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Jan\\/16 03:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-01-27T03:45:23+0000\'\u003e27\\/Jan\\/16 03:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 257413bbe18eb4d7a8de085b0d6d12373732be80 in lucene-solr\'s branch refs\\/heads\\/branch_5x from Nick Knize \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=257413b  ] \\n\\n   LUCENE-6956  : Fix polygon approximation for LatLonPoint Queries              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310110";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/LUCENE\\/summary\\\" title=\\\"Lucene - Core\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310110&amp;avatarId=10061\\\" alt=\\\"Lucene - Core\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/LUCENE\\/summary\\\" title=\\\"Lucene - Core\\\"\u003eLucene - Core\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/LUCENE\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/LUCENE?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/LUCENE?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520246798622"> 
    <input type="hidden" title="jira.request.server.time" value="206"> 
    <input type="hidden" title="jira.request.id" value="646x94658399x2"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="2"> 
    <input type="hidden" title="db.reads.time.in.ms" value="40"> 
    <input type="hidden" title="db.conns.time.in.ms" value="47"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 646x94658399x2
	          REQUEST TIMESTAMP : [05/Mar/2018:10:46:38 +0000]
	               REQUEST TIME : 0.2060
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 2

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=27, elapsedTotal=40446051, elapsedMin=590104, elapsedMax=11010687, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=31, elapsedTotal=47312501, elapsedMin=601615, elapsedMax=11043468, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>