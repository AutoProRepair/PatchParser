<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|be0282eee97675dfc0bc3aeb2efb3cd8aa45f805|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"7f8d684467a5fa\"";
WRM._unparsedData["project-id"]="12310110";
WRM._unparsedData["project-key"]="\"LUCENE\"";
WRM._unparsedData["project-name"]="\"Lucene - Core\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310110";
WRM._unparsedData["projectKey"]="\"LUCENE\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="LUCENE-7132"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[LUCENE-7132] BooleanQuery scores can be diff for same docs+sim when using coord (disagree with Explanation which doesn't change) - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[LUCENE-7132] BooleanQuery scores can be diff for same docs+sim when using coord (disagree with Explanation which doesn't change) - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/LUCENE" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FLUCENE-7132">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310110" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Lucene - Core'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310110&amp;avatarId=10061"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/LUCENE">Lucene - Core</a></li>
                 <li><a class="issue-link" data-issue-key="LUCENE-7132" href="/jira/browse/LUCENE-7132" id="key-val" rel="12952498">LUCENE-7132</a></li>
                </ol>
                <h1 id="summary-val">BooleanQuery scores can be diff for same docs+sim when using coord (disagree with Explanation which doesn't change)</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FLUCENE-7132"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/LUCENE-7132/LUCENE-7132.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/LUCENE-7132/LUCENE-7132.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/LUCENE-7132/LUCENE-7132.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/LUCENE-7132/LUCENE-7132.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/blocker.svg" title="Blocker - Blocks development and/or testing work, production could not run" width="16"> Blocker </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="5.5 Bugfix release after 5.4">5.5</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+LUCENE+AND+fixVersion+%3D+6.1" title="6.1 Minor release after 6.0">6.1</a>, <a href="/jira/issues/?jql=project+%3D+LUCENE+AND+fixVersion+%3D+5.5.2" title="5.5.2 Bugfix release after 5.5.1">5.5.2</a>, <a href="/jira/issues/?jql=project+%3D+LUCENE+AND+fixVersion+%3D+7.0" title="7.0 First 7x release, major release after 6.6">7.0</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+LUCENE+AND+component+%3D+%22core%2Fsearch%22" title="core/search issues with search code">core/search</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12952498-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
                <div id="customfieldmodule"> 
                 <div class="aui-tabs horizontal-tabs" id="customfield-tabs"> 
                  <div id="customfield-panel-1" class="tabs-pane active-pane"> 
                   <ul class="property-list"> 
                    <li id="rowForcustomfield_12310120" class="item"> 
                     <div class="wrap"> 
                      <strong title="Lucene Fields" class="name">Lucene Fields:</strong> 
                      <div id="customfield_12310120-val" class="value type-multicheckboxes" data-fieldtype="multicheckboxes" data-fieldtypecompletekey="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"> 
                       <div class="shorten" id="customfield_12310120-field"> 
                        <span>New</span> 
                       </div> 
                      </div> 
                     </div> </li> 
                   </ul> 
                  </div> 
                 </div>
                </div> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>Some of the folks <a href="http://find.searchhub.org/document/80666f5c3b86ddda" class="external-link" rel="nofollow">reported</a> that sometimes explain's score can be different than the score requested by fields parameter. Interestingly, Explain's scores would create a different ranking than the original result list. This is something users experience, but it cannot be re-produced deterministically.</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/LUCENE-7132?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/LUCENE-7132?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/LUCENE-7132?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/LUCENE-7132?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12794786" data-issue-id="12952498" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12794786/debug.xml" draggable="true" data-downloadurl="text/xml:debug.xml:https://issues.apache.org/jira/secure/attachment/12794786/debug.xml"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-code" title="XML File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12794786/debug.xml" title="Latest  22/Mar/16 16:09 - Ahmet Arslan" draggable="true" data-downloadurl="text/xml:debug.xml:https://issues.apache.org/jira/secure/attachment/12794786/debug.xml">debug.xml</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-03-22T16:09:33.653Z">22/Mar/16 16:09</time>
                   </dd>
                   <dd class="attachment-size">
                    5 kB
                   </dd>
                   <dd class="attachment-author">
                    Ahmet Arslan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12808207" data-issue-id="12952498" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12808207/LUCENE-7132.patch" draggable="true" data-downloadurl="text/x-patch:LUCENE-7132.patch:https://issues.apache.org/jira/secure/attachment/12808207/LUCENE-7132.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12808207/LUCENE-7132.patch" title="Latest  05/Jun/16 12:11 - Michael McCandless" draggable="true" data-downloadurl="text/x-patch:LUCENE-7132.patch:https://issues.apache.org/jira/secure/attachment/12808207/LUCENE-7132.patch">LUCENE-7132.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-06-05T12:11:32.461Z">05/Jun/16 12:11</time>
                   </dd>
                   <dd class="attachment-size">
                    27 kB
                   </dd>
                   <dd class="attachment-author">
                    Michael McCandless
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12808106" data-issue-id="12952498" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12808106/LUCENE-7132.patch" draggable="true" data-downloadurl="text/x-patch:LUCENE-7132.patch:https://issues.apache.org/jira/secure/attachment/12808106/LUCENE-7132.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12808106/LUCENE-7132.patch" title=" 04/Jun/16 01:42 - Hoss Man" draggable="true" data-downloadurl="text/x-patch:LUCENE-7132.patch:https://issues.apache.org/jira/secure/attachment/12808106/LUCENE-7132.patch">LUCENE-7132.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-06-04T01:42:43.145Z">04/Jun/16 01:42</time>
                   </dd>
                   <dd class="attachment-size">
                    36 kB
                   </dd>
                   <dd class="attachment-author">
                    Hoss Man
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12808027" data-issue-id="12952498" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12808027/LUCENE-7132.patch" draggable="true" data-downloadurl="text/x-patch:LUCENE-7132.patch:https://issues.apache.org/jira/secure/attachment/12808027/LUCENE-7132.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12808027/LUCENE-7132.patch" title=" 03/Jun/16 17:47 - Hoss Man" draggable="true" data-downloadurl="text/x-patch:LUCENE-7132.patch:https://issues.apache.org/jira/secure/attachment/12808027/LUCENE-7132.patch">LUCENE-7132.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-06-03T17:47:42.866Z">03/Jun/16 17:47</time>
                   </dd>
                   <dd class="attachment-size">
                    740 kB
                   </dd>
                   <dd class="attachment-author">
                    Hoss Man
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12807951" data-issue-id="12952498" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12807951/LUCENE-7132.patch" draggable="true" data-downloadurl="text/x-patch:LUCENE-7132.patch:https://issues.apache.org/jira/secure/attachment/12807951/LUCENE-7132.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12807951/LUCENE-7132.patch" title=" 03/Jun/16 13:06 - Michael McCandless" draggable="true" data-downloadurl="text/x-patch:LUCENE-7132.patch:https://issues.apache.org/jira/secure/attachment/12807951/LUCENE-7132.patch">LUCENE-7132.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-06-03T13:06:29.098Z">03/Jun/16 13:06</time>
                   </dd>
                   <dd class="attachment-size">
                    11 kB
                   </dd>
                   <dd class="attachment-author">
                    Michael McCandless
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12807866" data-issue-id="12952498" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12807866/LUCENE-7132.patch" draggable="true" data-downloadurl="text/x-patch:LUCENE-7132.patch:https://issues.apache.org/jira/secure/attachment/12807866/LUCENE-7132.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12807866/LUCENE-7132.patch" title=" 03/Jun/16 00:43 - Hoss Man" draggable="true" data-downloadurl="text/x-patch:LUCENE-7132.patch:https://issues.apache.org/jira/secure/attachment/12807866/LUCENE-7132.patch">LUCENE-7132.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-06-03T00:43:54.484Z">03/Jun/16 00:43</time>
                   </dd>
                   <dd class="attachment-size">
                    736 kB
                   </dd>
                   <dd class="attachment-author">
                    Hoss Man
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12796686" data-issue-id="12952498" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12796686/LUCENE-7132.patch" draggable="true" data-downloadurl="text/x-patch:LUCENE-7132.patch:https://issues.apache.org/jira/secure/attachment/12796686/LUCENE-7132.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12796686/LUCENE-7132.patch" title=" 02/Apr/16 18:34 - Hoss Man" draggable="true" data-downloadurl="text/x-patch:LUCENE-7132.patch:https://issues.apache.org/jira/secure/attachment/12796686/LUCENE-7132.patch">LUCENE-7132.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-04-02T18:34:06.547Z">02/Apr/16 18:34</time>
                   </dd>
                   <dd class="attachment-size">
                    734 kB
                   </dd>
                   <dd class="attachment-author">
                    Hoss Man
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12795064" data-issue-id="12952498" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12795064/LUCENE-7132.patch" draggable="true" data-downloadurl="text/plain:LUCENE-7132.patch:https://issues.apache.org/jira/secure/attachment/12795064/LUCENE-7132.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12795064/LUCENE-7132.patch" title=" 23/Mar/16 20:56 - Ahmet Arslan" draggable="true" data-downloadurl="text/plain:LUCENE-7132.patch:https://issues.apache.org/jira/secure/attachment/12795064/LUCENE-7132.patch">LUCENE-7132.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-03-23T20:56:25.345Z">23/Mar/16 20:56</time>
                   </dd>
                   <dd class="attachment-size">
                    717 kB
                   </dd>
                   <dd class="attachment-author">
                    Ahmet Arslan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12795042" data-issue-id="12952498" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12795042/SOLR-8884.patch" draggable="true" data-downloadurl="text/plain:SOLR-8884.patch:https://issues.apache.org/jira/secure/attachment/12795042/SOLR-8884.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12795042/SOLR-8884.patch" title="Latest  23/Mar/16 18:24 - Ahmet Arslan" draggable="true" data-downloadurl="text/plain:SOLR-8884.patch:https://issues.apache.org/jira/secure/attachment/12795042/SOLR-8884.patch">SOLR-8884.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-03-23T18:24:38.847Z">23/Mar/16 18:24</time>
                   </dd>
                   <dd class="attachment-size">
                    1.48 MB
                   </dd>
                   <dd class="attachment-author">
                    Ahmet Arslan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12794814" data-issue-id="12952498" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12794814/SOLR-8884.patch" draggable="true" data-downloadurl="text/plain:SOLR-8884.patch:https://issues.apache.org/jira/secure/attachment/12794814/SOLR-8884.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12794814/SOLR-8884.patch" title=" 22/Mar/16 18:33 - Ahmet Arslan" draggable="true" data-downloadurl="text/plain:SOLR-8884.patch:https://issues.apache.org/jira/secure/attachment/12794814/SOLR-8884.patch">SOLR-8884.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-03-22T18:33:24.718Z">22/Mar/16 18:33</time>
                   </dd>
                   <dd class="attachment-size">
                    4 kB
                   </dd>
                   <dd class="attachment-author">
                    Ahmet Arslan
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is duplicated by">
                   is duplicated by
                  </dt> 
                  <dd id="internal-12953562_12310000"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="LUCENE-7138: TestMinShouldMatch2 assertion failure"> <a href="/jira/browse/LUCENE-7138" data-issue-key="LUCENE-7138" class="issue-link link-title resolution">LUCENE-7138</a> <span class="link-summary">TestMinShouldMatch2 assertion failure</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Resolved</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.</span>">Resolved</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="is related to">
                   is related to
                  </dt> 
                  <dd id="internal-12982045_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="LUCENE-7352: TestSimpleExplanationsWithFillerDocs failures"> <a href="/jira/browse/LUCENE-7352" data-issue-key="LUCENE-7352" class="issue-link link-title resolution">LUCENE-7352</a> <span class="link-summary">TestSimpleExplanationsWithFillerDocs failures</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_steve_rowe" rel="steve_rowe" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Steve Rowe&quot;,&quot;emailAddress&quot;:&quot;sarowe@gmail.com&quot;,&quot;username&quot;:&quot;steve_rowe&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="steve_rowe"></span></span> Steve Rowe </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_iorixxx" rel="iorixxx" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Ahmet Arslan&quot;,&quot;emailAddress&quot;:&quot;iorixxx@yahoo.com&quot;,&quot;username&quot;:&quot;iorixxx&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="iorixxx"></span></span> Ahmet Arslan </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">9</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="22/Mar/16 16:02"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2016-03-22T16:02:38+0000">22/Mar/16 16:02</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="14/Feb/17 22:09"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2017-02-14T22:09:29+0000">14/Feb/17 22:09</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="14/Feb/17 22:09"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2017-02-14T22:09:21+0000">14/Feb/17 22:09</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-7132?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/LUCENE-7132?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-7132?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-7132?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/LUCENE-7132?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-7132?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/LUCENE-7132?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-7132?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/LUCENE-7132?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-7132?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/LUCENE-7132?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/LUCENE-7132?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-15206665\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15206665&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15206665\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"iorixxx\\\" id=\\\"commentauthor_15206665_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=iorixxx\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"iorixxx\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ahmet Arslan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15206665_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Mar\\/16 16:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-22T16:09:33+0000\'\u003e22\\/Mar\\/16 16:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThere is the Rajesh\'s response file that demonstrates the problem.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"iorixxx\\\" id=\\\"commentauthor_15206665_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=iorixxx\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"iorixxx\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ahmet Arslan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15206665_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Mar\\/16 16:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-22T16:09:33+0000\'\u003e22\\/Mar\\/16 16:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    There is the Rajesh\'s response file that demonstrates the problem.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15206710\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15206710&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15206710\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"alessandro.benedetti\\\" id=\\\"commentauthor_15206710_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=alessandro.benedetti\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"alessandro.benedetti\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Alessandro Benedetti\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15206710_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Mar\\/16 16:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-22T16:25:32+0000\'\u003e22\\/Mar\\/16 16:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIn my case it happened when testing a re-ranking capability.\u003cbr\\/\u003e\\nThe explain debug ranking was the correct one, with correct and expected scores.\u003cbr\\/\u003e\\nThe results in the response were wrongly scored and ranked.\u003cbr\\/\u003e\\nI\'ve never gone back to that and while I was testing, starting and restarting, the problem disappeared quite suddenly and I was not able to reproduce it.\u003cbr\\/\u003e\\nI know the information I added is almost null, hopefully we can get more evidence from other people !\u003c\\/p\u003e\\n\\n\u003cp\u003eCheers\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"alessandro.benedetti\\\" id=\\\"commentauthor_15206710_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=alessandro.benedetti\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"alessandro.benedetti\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Alessandro Benedetti\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15206710_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Mar\\/16 16:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-22T16:25:32+0000\'\u003e22\\/Mar\\/16 16:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    In my case it happened when testing a re-ranking capability. \\nThe explain debug ranking was the correct one, with correct and expected scores. \\nThe results in the response were wrongly scored and ranked. \\nI\'ve never gone back to that and while I was testing, starting and restarting, the problem disappeared quite suddenly and I was not able to reproduce it. \\nI know the information I added is almost null, hopefully we can get more evidence from other people ! \\n\\n Cheers              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15206987\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15206987&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15206987\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"iorixxx\\\" id=\\\"commentauthor_15206987_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=iorixxx\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"iorixxx\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ahmet Arslan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15206987_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Mar\\/16 18:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-22T18:33:24+0000\'\u003e22\\/Mar\\/16 18:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eRandomized test case for Lucene in hopes that it will trigger sometime. Will try to write Solr counterpart.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"iorixxx\\\" id=\\\"commentauthor_15206987_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=iorixxx\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"iorixxx\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ahmet Arslan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15206987_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Mar\\/16 18:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-22T18:33:24+0000\'\u003e22\\/Mar\\/16 18:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Randomized test case for Lucene in hopes that it will trigger sometime. Will try to write Solr counterpart.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15208919\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15208919&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15208919\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"iorixxx\\\" id=\\\"commentauthor_15208919_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=iorixxx\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"iorixxx\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ahmet Arslan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15208919_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Mar\\/16 18:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-23T18:24:38+0000\'\u003e23\\/Mar\\/16 18:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis is truly a Lucene level bug. Attached path includes a failing test case. It can be reproduced with: \u003ctt\u003eant test  -Dtestcase=TestExplain -Dtests.method=testRajeshData -Dtests.seed=D5E55A7E84F4C82C -Dtests.slow=true -Dtests.locale=es-HN -Dtests.timezone=Asia\\/Samarkand -Dtests.asserts=true -Dtests.file.encoding=UTF-8\u003c\\/tt\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"iorixxx\\\" id=\\\"commentauthor_15208919_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=iorixxx\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"iorixxx\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ahmet Arslan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15208919_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Mar\\/16 18:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-23T18:24:38+0000\'\u003e23\\/Mar\\/16 18:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This is truly a Lucene level bug. Attached path includes a failing test case. It can be reproduced with:  ant test  -Dtestcase=TestExplain -Dtests.method=testRajeshData -Dtests.seed=D5E55A7E84F4C82C -Dtests.slow=true -Dtests.locale=es-HN -Dtests.timezone=Asia\\/Samarkand -Dtests.asserts=true -Dtests.file.encoding=UTF-8               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15208940\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15208940&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15208940\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"iorixxx\\\" id=\\\"commentauthor_15208940_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=iorixxx\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"iorixxx\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ahmet Arslan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15208940_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Mar\\/16 18:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-23T18:43:43+0000\'\u003e23\\/Mar\\/16 18:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCan someone who have the appropriate permissions please move \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-7132\\\" title=\\\"BooleanQuery scores can be diff for same docs+sim when using coord (disagree with Explanation which doesn&#39;t change)\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-7132\\\"\u003e\u003cdel\u003eSOLR-8884\u003c\\/del\u003e\u003c\\/a\u003e to LUCENE-XXXX?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"iorixxx\\\" id=\\\"commentauthor_15208940_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=iorixxx\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"iorixxx\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ahmet Arslan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15208940_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Mar\\/16 18:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-23T18:43:43+0000\'\u003e23\\/Mar\\/16 18:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Can someone who have the appropriate permissions please move   SOLR-8884   to LUCENE-XXXX?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15208979\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15208979&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15208979\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_15208979_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15208979_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Mar\\/16 19:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-23T19:18:37+0000\'\u003e23\\/Mar\\/16 19:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDone.  Please adjust the issue title accordingly.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_15208979_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15208979_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Mar\\/16 19:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-23T19:18:37+0000\'\u003e23\\/Mar\\/16 19:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Done.  Please adjust the issue title accordingly.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15209154\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15209154&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15209154\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"iorixxx\\\" id=\\\"commentauthor_15209154_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=iorixxx\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"iorixxx\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ahmet Arslan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15209154_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Mar\\/16 20:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-23T20:56:25+0000\'\u003e23\\/Mar\\/16 20:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eLucene only patch. Interestingly, \u003cb\u003etestExplainScoreEquality\u003c\\/b\u003e method also failed once for me. Which can be reproduced with : \u003ctt\u003eant test  -Dtestcase=TestExplain -Dtests.method=testExplainScoreEquality -Dtests.seed=B90C674F754D524 -Dtests.locale=de -Dtests.timezone=Etc\\/GMT-12 -Dtests.asserts=true -Dtests.file.encoding=UTF-8\u003c\\/tt\u003e \u003cbr\\/\u003e\\nHowever, \u003cb\u003etestRajeshData\u003c\\/b\u003e method fails more frequently.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"iorixxx\\\" id=\\\"commentauthor_15209154_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=iorixxx\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"iorixxx\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ahmet Arslan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15209154_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Mar\\/16 20:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-23T20:56:25+0000\'\u003e23\\/Mar\\/16 20:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Lucene only patch. Interestingly,  testExplainScoreEquality  method also failed once for me. Which can be reproduced with :  ant test  -Dtestcase=TestExplain -Dtests.method=testExplainScoreEquality -Dtests.seed=B90C674F754D524 -Dtests.locale=de -Dtests.timezone=Etc\\/GMT-12 -Dtests.asserts=true -Dtests.file.encoding=UTF-8   \\nHowever,  testRajeshData  method fails more frequently.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15209155\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15209155&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15209155\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"iorixxx\\\" id=\\\"commentauthor_15209155_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=iorixxx\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"iorixxx\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ahmet Arslan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15209155_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Mar\\/16 20:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-23T20:57:45+0000\'\u003e23\\/Mar\\/16 20:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Steve for taking care of this!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"iorixxx\\\" id=\\\"commentauthor_15209155_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=iorixxx\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"iorixxx\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ahmet Arslan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15209155_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Mar\\/16 20:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-23T20:57:45+0000\'\u003e23\\/Mar\\/16 20:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks Steve for taking care of this!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15210008\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15210008&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15210008\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"iorixxx\\\" id=\\\"commentauthor_15210008_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=iorixxx\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"iorixxx\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ahmet Arslan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15210008_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Mar\\/16 09:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-24T09:47:50+0000\'\u003e24\\/Mar\\/16 09:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIt is really hard to decipher what is going on inside the good old TFIDFSimilarity.\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-style: solid;border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeHeader panelHeader\\\" style=\\\"border-bottom-width: 1px;border-bottom-style: solid;\\\"\u003e\u003cb\u003eTFIDFSimilarity.IDFStats.normalize\u003c\\/b\u003e\u003c\\/div\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e    @Override\\n    \u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e void normalize(\u003cspan class=\\\"code-object\\\"\u003efloat\u003c\\/span\u003e queryNorm, \u003cspan class=\\\"code-object\\\"\u003efloat\u003c\\/span\u003e boost) {\\n      \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e.boost = boost;\\n      \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e.queryNorm = queryNorm;\\n      queryWeight = queryNorm * boost * idf.getValue();\\n      value = queryWeight * idf.getValue();         \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ idf \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e document\\n\u003c\\/span\u003e    }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eWhy query weight has a IDF multiplicand?\u003c\\/li\u003e\\n\\t\u003cli\u003eWhy TFIDFSimilarity.IDFStats#value is set to IDF square?\u003c\\/li\u003e\\n\\t\u003cli\u003eWhy TFIDFSimilarity.IDFStats#value is need even though we have TFIDFSimilarity.IDFStats.idf.getValue();\u003c\\/li\u003e\\n\\t\u003cli\u003eTFIDFSimilarity.TFIDFSimScorer#score returns tf(freq) * IDFStats.value which looks tfxIDFxIDF to me.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"iorixxx\\\" id=\\\"commentauthor_15210008_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=iorixxx\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"iorixxx\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ahmet Arslan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15210008_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Mar\\/16 09:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-24T09:47:50+0000\'\u003e24\\/Mar\\/16 09:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    It is really hard to decipher what is going on inside the good old TFIDFSimilarity. \\n\\n   TFIDFSimilarity.IDFStats.normalize   \\n     @Override\\n     public  void normalize( float  queryNorm,  float  boost) {\\n       this .boost = boost;\\n       this .queryNorm = queryNorm;\\n      queryWeight = queryNorm * boost * idf.getValue();\\n      value = queryWeight * idf.getValue();          \\/\\/ idf  for  document\\n     }\\n \\n  \\n\\n \\n\\t Why query weight has a IDF multiplicand? \\n\\t Why TFIDFSimilarity.IDFStats#value is set to IDF square? \\n\\t Why TFIDFSimilarity.IDFStats#value is need even though we have TFIDFSimilarity.IDFStats.idf.getValue(); \\n\\t TFIDFSimilarity.TFIDFSimScorer#score returns tf(freq) * IDFStats.value which looks tfxIDFxIDF to me. \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15220127\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15220127&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15220127\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andreas_kostyrka\\\" id=\\\"commentauthor_15220127_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andreas_kostyrka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andreas_kostyrka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andreas Kostyrka\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15220127_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Mar\\/16 16:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-31T16:22:02+0000\'\u003e31\\/Mar\\/16 16:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eJust wanted to mention, it seems to affect SOLR 5.4.1 and 5.3.1 at least too.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andreas_kostyrka\\\" id=\\\"commentauthor_15220127_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andreas_kostyrka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andreas_kostyrka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andreas Kostyrka\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15220127_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Mar\\/16 16:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-31T16:22:02+0000\'\u003e31\\/Mar\\/16 16:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Just wanted to mention, it seems to affect SOLR 5.4.1 and 5.3.1 at least too.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15222996\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15222996&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15222996\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_15222996_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15222996_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Apr\\/16 18:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-02T18:34:06+0000\'\u003e02\\/Apr\\/16 18:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\\n\u003cp\u003eW\\/o really having firm idea what\'s going on here i spent some time reviewing the tests that Ahmet posted, and then started poking at things with a stick &#8211; mainly to see if I could figure out the missing piece of the puzzle that caused things to fail in \\\"testRajeshData()\\\" but not in any of our existing randomized tests.  \u003c\\/p\u003e\\n\\n\u003cp\u003eI feel down the rabit hole a bit looking into this, and I still have no concrete idea what the underlying problem is, but i have a few uneducated guesses...\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003ethe problem seems to only affect BooleanQueries where a \\\"coord\\\" factor is involved\\n\\t\u003cul\u003e\\n\\t\\t\u003cli\u003eadding \u003ctt\u003esetDisableCoord(true)\u003c\\/tt\u003e on the queries in testRajeshData seems to make all seeds pass\u003c\\/li\u003e\\n\\t\\t\u003cli\u003eso obviously reproducing this bug requires a Similarity that has a non-trivila coord function (like ClassicSimilaity in Ahmet\'s TestExplain)\u003c\\/li\u003e\\n\\t\u003c\\/ul\u003e\\n\\t\u003c\\/li\u003e\\n\\t\u003cli\u003ethe \u003cem\u003escore\u003c\\/em\u003e values are inconsistent between randomized runs of testRajeshData, while the \u003cem\u003eexplain\u003c\\/em\u003e values stay the same\\n\\t\u003cul\u003e\\n\\t\\t\u003cli\u003eeven though the test data &amp; similarity are fixed, testRajeshData pass fine with some seeds, while others fail\u003c\\/li\u003e\\n\\t\\t\u003cli\u003ewhen testRajeshData does fail, it\'s because the scores have changed compared to the values produced in previous passing runs\u003c\\/li\u003e\\n\\t\\t\u003cli\u003e\u003cfont color=\\\"red\\\"\u003ebest guess: something about the MergePolicy and the way docs are co-located in diff segments is triggering a pathological code path in some BooleanWeight\\/Scorer optimization code?\u003c\\/font\u003e\\n\\t\\t\u003cul\u003e\\n\\t\\t\\t\u003cli\u003eperhaps because a segment may not even contain one of the optional terms, so it\'s Scorer is null?\u003c\\/li\u003e\\n\\t\\t\u003c\\/ul\u003e\\n\\t\\t\u003c\\/li\u003e\\n\\t\\t\u003cli\u003eif it\'s not the MergePolicy, then perhaps something about the codec used and the term stats?\u003c\\/li\u003e\\n\\t\u003c\\/ul\u003e\\n\\t\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eThings i\'ve added\\/revised in this new version of the patch...\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eadded some more asserts to TestExplain.testRajeshData to help demonstrate that it\'s the score that has changed between successful vs failing runs\u003c\\/li\u003e\\n\\t\u003cli\u003efixed a bug in TestExplain.testExplainScoreEquality that was causing false failures\\n\\t\u003cul\u003e\\n\\t\\t\u003cli\u003e\u003ctt\u003erandomSimpleString(random())\u003c\\/tt\u003e can produce the empty string, which was causing the test to not match the numDocs it was expecting since a whitespace based analyzer is being used\u003c\\/li\u003e\\n\\t\\t\u003cli\u003eNOTE: these false failures where the only case i\'ve ever seen TestExplain.testExplainScoreEquality fail\u003c\\/li\u003e\\n\\t\u003c\\/ul\u003e\\n\\t\u003c\\/li\u003e\\n\\t\u003cli\u003eadded a TestBaseExplanationTestCase to the test-framework\\n\\t\u003cul\u003e\\n\\t\\t\u003cli\u003eI had some initial concerns that maybe some old changes\\/refactorings to BaseExplanationTestCase had completely eliminated the checks that were suppose to be done in that test, so i added this class to ensure it would fail as expected when an Explanation didn\'t match scores\u003c\\/li\u003e\\n\\t\u003c\\/ul\u003e\\n\\t\u003c\\/li\u003e\\n\\t\u003cli\u003eadded more coord randomization in TestSimpleExplanations\\n\\t\u003cul\u003e\\n\\t\\t\u003cli\u003eeven w\\/these changes, i\'ve never seen these tests fail\u003c\\/li\u003e\\n\\t\u003c\\/ul\u003e\\n\\t\u003c\\/li\u003e\\n\\t\u003cli\u003eadded a new TestSimpleExplanationsWithHeavyIDF\\n\\t\u003cul\u003e\\n\\t\\t\u003cli\u003ethis was one of the first things i tried, based on Ahmet\'s concerns about \u003ctt\u003eIDFStats.normalize\u003c\\/tt\u003e\u003c\\/li\u003e\\n\\t\\t\u003cli\u003esince TestExplain.testRajeshData was failing so consistently, but we\'ve never seen failures like this from any of of the existing BaseExplanationTestCase, i speculated that maybe IDF stats or index size were a big factor, and tried to bang out a subclass of TestSimpleExplanations that added a lot of (ignored) docs with the same terms to make the doc freq stats more interesting for the terms being searched on\u003c\\/li\u003e\\n\\t\\t\u003cli\u003ei\'ve never seen this test fail\u003c\\/li\u003e\\n\\t\\t\u003cli\u003esome refactoring in BaseExplanationTestCase was needed to write this test\u003c\\/li\u003e\\n\\t\u003c\\/ul\u003e\\n\\t\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003chr \\/\u003e\\n\\n\u003cp\u003eAs things stand now with the current patch, here are some test seeds for TestExplain that pass for me...\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eant test  -Dtestcase=TestExplain -Dtests.method=testRajeshData -Dtests.seed=11679FC4F397A674 -Dtests.slow=true -Dtests.locale=th -Dtests.timezone=Etc\\/GMT+1 -Dtests.asserts=true -Dtests.file.encoding=UTF-8 -Dtests.verbose=true\\n...\\n   [junit4]   2&gt; NOTE: test params are: codec=Asserting(Lucene60): {id=PostingsFormat(name=SimpleText), body=PostingsFormat(name=Memory doPackFST= false)}, docValues:{}, maxPointsInLeafNode=604, maxMBSortInHeap=6.961830329642295, sim=ClassicSimilarity, locale=th, timezone=Etc\\/GMT+1\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eant test -Dtestcase=TestExplain -Dtests.verbose=true -Dtests.seed=610EF558241D1898 -Dtests.slow=true -Dtests.locale=th -Dtests.timezone=Etc\\/GMT+1 -Dtests.asserts=true -Dtests.file.encoding=UTF-8 -Dtests.verbose=true\\n...\\n   [junit4]   2&gt; NOTE: test params are: codec=Asserting(Lucene60): {id=PostingsFormat(name=Memory doPackFST= true), body=Lucene50(blocksize=128)}, docValues:{}, maxPointsInLeafNode=738, maxMBSortInHeap=5.910307356558968, sim=RandomSimilarity(queryNorm=true,coord=no): {}, locale=th, timezone=Etc\\/GMT+1\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eAnd here are some examples of failures...\u003c\\/p\u003e\\n\\n\\n\u003cp\u003efails...\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eant test  -Dtestcase=TestExplain -Dtests.method=testRajeshData -Dtests.seed=A2E2DCFC7459241E -Dtests.slow=true -Dtests.locale=ar-EG -Dtests.timezone=Africa\\/Asmara -Dtests.asserts=true -Dtests.file.encoding=US-ASCII -Dtests.verbose=true\\n\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestExplain -Dtests.method=testRajeshData -Dtests.seed=A2E2DCFC7459241E -Dtests.slow=true -Dtests.locale=ar-EG -Dtests.timezone=Africa\\/Asmara -Dtests.asserts=true -Dtests.file.encoding=US-ASCII\\n   [junit4] FAILURE 1.09s | TestExplain.testRajeshData &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: java.lang.AssertionError: o-365 score expected:&lt;0.7475659251213074&gt; but was:&lt;0.2491886466741562&gt;\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([A2E2DCFC7459241E:C3C4FAF539C031CF]:0)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestExplain.testRajeshData(TestExplain.java:210)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]   2&gt; NOTE: test params are: codec=CheapBastard, sim=RandomSimilarity(queryNorm=false,coord=no): {}, locale=ar-EG, timezone=Africa\\/Asmara\\n   [junit4]   2&gt; NOTE: Linux 3.19.0-51-generic amd64\\/Oracle Corporation 1.8.0_74 (64-bit)\\/cpus=4,threads=1,free=236148720,total=248512512\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eant test  -Dtestcase=TestExplain -Dtests.method=testRajeshData -Dtests.seed=92DC100B28B70C2C -Dtests.slow=true -Dtests.locale=he -Dtests.timezone=America\\/Guyana -Dtests.asserts=true -Dtests.file.encoding=UTF-8  -Dtests.verbose=true\\n\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestExplain -Dtests.method=testRajeshData -Dtests.seed=92DC100B28B70C2C -Dtests.slow=true -Dtests.locale=he -Dtests.timezone=America\\/Guyana -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n   [junit4] FAILURE 1.03s | TestExplain.testRajeshData &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: java.lang.AssertionError: m-o-365 score expected:&lt;1.2357021570205688&gt; but was:&lt;0.41190072894096375&gt;\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([92DC100B28B70C2C:F3FA3602652E19FD]:0)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestExplain.testRajeshData(TestExplain.java:207)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]   2&gt; NOTE: test params are: codec=Lucene60, sim=ClassicSimilarity, locale=he, timezone=America\\/Guyana\\n   [junit4]   2&gt; NOTE: Linux 3.19.0-51-generic amd64\\/Oracle Corporation 1.8.0_74 (64-bit)\\/cpus=4,threads=1,free=173898752,total=249561088\\n   [junit4]   2&gt; NOTE: All tests run in this JVM: [TestExplain]\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eMy refactoring of BaseExplanationTestCase also seems to have somehow introduced\\/tickled a stranage bug in the test framework that trips our SecurityManager settings &#8211; note that the seed below causes an odd AccessControlException at the suite level \u003cb\u003eafter\u003c\\/b\u003e all TestSimpleExplanations test methods have finished successfully...\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eant test  -Dtestcase=TestSimpleExplanations -Dtests.seed=74B719CE50C8168A -Dtests.slow=true -Dtests.locale=sr-Latn -Dtests.timezone=America\\/St_Vincent -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n\\n   ...\\n   [junit4] OK      0.01s | TestSimpleExplanations.testBQ14\\n   [junit4] OK      0.01s | TestSimpleExplanations.testBQ1\\n   [junit4] OK      0.03s | TestSimpleExplanations.testBQ20\\n   [junit4] OK      0.03s | TestSimpleExplanations.testBQ4\\n   [junit4] OK      0.01s | TestSimpleExplanations.testP2\\n   [junit4]   2&gt; NOTE: test params are: codec=Asserting(Lucene60), sim=RandomSimilarity(queryNorm=false,coord=no): {field=DFR I(n)B2, alt=DFR I(ne)B1}, locale=sr-Latn, timezone=America\\/St_Vincent\\n   [junit4]   2&gt; NOTE: Linux 3.19.0-51-generic amd64\\/Oracle Corporation 1.8.0_74 (64-bit)\\/cpus=4,threads=1,free=303553832,total=329777152\\n   [junit4]   2&gt; NOTE: All tests run in this JVM: [TestSimpleExplanations]\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestSimpleExplanations -Dtests.seed=74B719CE50C8168A -Dtests.slow=true -Dtests.locale=sr-Latn -Dtests.timezone=America\\/St_Vincent -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n   [junit4] ERROR   0.00s | TestSimpleExplanations (suite) &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: java.security.AccessControlException: access denied (\\\"java.lang.RuntimePermission\\\" \\\"accessClassInPackage.sun.nio.fs\\\")\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([74B719CE50C8168A]:0)\\n   [junit4]    &gt; \\tat java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\\n   [junit4]    &gt; \\tat java.security.AccessController.checkPermission(AccessController.java:884)\\n   [junit4]    &gt; \\tat java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\\n   [junit4]    &gt; \\tat java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1564)\\n   [junit4]    &gt; \\tat java.lang.Class.checkPackageAccess(Class.java:2372)\\n   [junit4]    &gt; \\tat java.lang.Class.checkMemberAccess(Class.java:2351)\\n   [junit4]    &gt; \\tat java.lang.Class.getDeclaredFields(Class.java:1915)\\n   [junit4]    &gt; \\tat java.security.AccessController.doPrivileged(Native Method)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4] Completed [1\\/1 (1!)] in 2.50s, 68 tests, 1 error &lt;&lt;&lt; FAILURES!\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_15222996_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15222996_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Apr\\/16 18:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-02T18:34:06+0000\'\u003e02\\/Apr\\/16 18:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                   \\n W\\/o really having firm idea what\'s going on here i spent some time reviewing the tests that Ahmet posted, and then started poking at things with a stick &#8211; mainly to see if I could figure out the missing piece of the puzzle that caused things to fail in \\\"testRajeshData()\\\" but not in any of our existing randomized tests.   \\n\\n I feel down the rabit hole a bit looking into this, and I still have no concrete idea what the underlying problem is, but i have a few uneducated guesses... \\n\\n \\n\\t the problem seems to only affect BooleanQueries where a \\\"coord\\\" factor is involved\\n\\t \\n\\t\\t adding  setDisableCoord(true)  on the queries in testRajeshData seems to make all seeds pass \\n\\t\\t so obviously reproducing this bug requires a Similarity that has a non-trivila coord function (like ClassicSimilaity in Ahmet\'s TestExplain) \\n\\t \\n\\t \\n\\t the  score  values are inconsistent between randomized runs of testRajeshData, while the  explain  values stay the same\\n\\t \\n\\t\\t even though the test data &amp; similarity are fixed, testRajeshData pass fine with some seeds, while others fail \\n\\t\\t when testRajeshData does fail, it\'s because the scores have changed compared to the values produced in previous passing runs \\n\\t\\t  best guess: something about the MergePolicy and the way docs are co-located in diff segments is triggering a pathological code path in some BooleanWeight\\/Scorer optimization code? \\n\\t\\t \\n\\t\\t\\t perhaps because a segment may not even contain one of the optional terms, so it\'s Scorer is null? \\n\\t\\t \\n\\t\\t \\n\\t\\t if it\'s not the MergePolicy, then perhaps something about the codec used and the term stats? \\n\\t \\n\\t \\n \\n\\n\\n Things i\'ve added\\/revised in this new version of the patch... \\n\\n \\n\\t added some more asserts to TestExplain.testRajeshData to help demonstrate that it\'s the score that has changed between successful vs failing runs \\n\\t fixed a bug in TestExplain.testExplainScoreEquality that was causing false failures\\n\\t \\n\\t\\t  randomSimpleString(random())  can produce the empty string, which was causing the test to not match the numDocs it was expecting since a whitespace based analyzer is being used \\n\\t\\t NOTE: these false failures where the only case i\'ve ever seen TestExplain.testExplainScoreEquality fail \\n\\t \\n\\t \\n\\t added a TestBaseExplanationTestCase to the test-framework\\n\\t \\n\\t\\t I had some initial concerns that maybe some old changes\\/refactorings to BaseExplanationTestCase had completely eliminated the checks that were suppose to be done in that test, so i added this class to ensure it would fail as expected when an Explanation didn\'t match scores \\n\\t \\n\\t \\n\\t added more coord randomization in TestSimpleExplanations\\n\\t \\n\\t\\t even w\\/these changes, i\'ve never seen these tests fail \\n\\t \\n\\t \\n\\t added a new TestSimpleExplanationsWithHeavyIDF\\n\\t \\n\\t\\t this was one of the first things i tried, based on Ahmet\'s concerns about  IDFStats.normalize  \\n\\t\\t since TestExplain.testRajeshData was failing so consistently, but we\'ve never seen failures like this from any of of the existing BaseExplanationTestCase, i speculated that maybe IDF stats or index size were a big factor, and tried to bang out a subclass of TestSimpleExplanations that added a lot of (ignored) docs with the same terms to make the doc freq stats more interesting for the terms being searched on \\n\\t\\t i\'ve never seen this test fail \\n\\t\\t some refactoring in BaseExplanationTestCase was needed to write this test \\n\\t \\n\\t \\n \\n\\n\\n \\n\\n As things stand now with the current patch, here are some test seeds for TestExplain that pass for me... \\n\\n  \\n ant test  -Dtestcase=TestExplain -Dtests.method=testRajeshData -Dtests.seed=11679FC4F397A674 -Dtests.slow=true -Dtests.locale=th -Dtests.timezone=Etc\\/GMT+1 -Dtests.asserts=true -Dtests.file.encoding=UTF-8 -Dtests.verbose=true\\n...\\n   [junit4]   2&gt; NOTE: test params are: codec=Asserting(Lucene60): {id=PostingsFormat(name=SimpleText), body=PostingsFormat(name=Memory doPackFST= false)}, docValues:{}, maxPointsInLeafNode=604, maxMBSortInHeap=6.961830329642295, sim=ClassicSimilarity, locale=th, timezone=Etc\\/GMT+1\\n \\n  \\n  \\n ant test -Dtestcase=TestExplain -Dtests.verbose=true -Dtests.seed=610EF558241D1898 -Dtests.slow=true -Dtests.locale=th -Dtests.timezone=Etc\\/GMT+1 -Dtests.asserts=true -Dtests.file.encoding=UTF-8 -Dtests.verbose=true\\n...\\n   [junit4]   2&gt; NOTE: test params are: codec=Asserting(Lucene60): {id=PostingsFormat(name=Memory doPackFST= true), body=Lucene50(blocksize=128)}, docValues:{}, maxPointsInLeafNode=738, maxMBSortInHeap=5.910307356558968, sim=RandomSimilarity(queryNorm=true,coord=no): {}, locale=th, timezone=Etc\\/GMT+1\\n \\n  \\n\\n And here are some examples of failures... \\n\\n\\n fails... \\n\\n  \\n ant test  -Dtestcase=TestExplain -Dtests.method=testRajeshData -Dtests.seed=A2E2DCFC7459241E -Dtests.slow=true -Dtests.locale=ar-EG -Dtests.timezone=Africa\\/Asmara -Dtests.asserts=true -Dtests.file.encoding=US-ASCII -Dtests.verbose=true\\n\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestExplain -Dtests.method=testRajeshData -Dtests.seed=A2E2DCFC7459241E -Dtests.slow=true -Dtests.locale=ar-EG -Dtests.timezone=Africa\\/Asmara -Dtests.asserts=true -Dtests.file.encoding=US-ASCII\\n   [junit4] FAILURE 1.09s | TestExplain.testRajeshData &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: java.lang.AssertionError: o-365 score expected:&lt;0.7475659251213074&gt; but was:&lt;0.2491886466741562&gt;\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([A2E2DCFC7459241E:C3C4FAF539C031CF]:0)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestExplain.testRajeshData(TestExplain.java:210)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]   2&gt; NOTE: test params are: codec=CheapBastard, sim=RandomSimilarity(queryNorm=false,coord=no): {}, locale=ar-EG, timezone=Africa\\/Asmara\\n   [junit4]   2&gt; NOTE: Linux 3.19.0-51-generic amd64\\/Oracle Corporation 1.8.0_74 (64-bit)\\/cpus=4,threads=1,free=236148720,total=248512512\\n \\n  \\n\\n  \\n ant test  -Dtestcase=TestExplain -Dtests.method=testRajeshData -Dtests.seed=92DC100B28B70C2C -Dtests.slow=true -Dtests.locale=he -Dtests.timezone=America\\/Guyana -Dtests.asserts=true -Dtests.file.encoding=UTF-8  -Dtests.verbose=true\\n\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestExplain -Dtests.method=testRajeshData -Dtests.seed=92DC100B28B70C2C -Dtests.slow=true -Dtests.locale=he -Dtests.timezone=America\\/Guyana -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n   [junit4] FAILURE 1.03s | TestExplain.testRajeshData &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: java.lang.AssertionError: m-o-365 score expected:&lt;1.2357021570205688&gt; but was:&lt;0.41190072894096375&gt;\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([92DC100B28B70C2C:F3FA3602652E19FD]:0)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestExplain.testRajeshData(TestExplain.java:207)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]   2&gt; NOTE: test params are: codec=Lucene60, sim=ClassicSimilarity, locale=he, timezone=America\\/Guyana\\n   [junit4]   2&gt; NOTE: Linux 3.19.0-51-generic amd64\\/Oracle Corporation 1.8.0_74 (64-bit)\\/cpus=4,threads=1,free=173898752,total=249561088\\n   [junit4]   2&gt; NOTE: All tests run in this JVM: [TestExplain]\\n \\n  \\n\\n My refactoring of BaseExplanationTestCase also seems to have somehow introduced\\/tickled a stranage bug in the test framework that trips our SecurityManager settings &#8211; note that the seed below causes an odd AccessControlException at the suite level  after  all TestSimpleExplanations test methods have finished successfully... \\n\\n  \\n ant test  -Dtestcase=TestSimpleExplanations -Dtests.seed=74B719CE50C8168A -Dtests.slow=true -Dtests.locale=sr-Latn -Dtests.timezone=America\\/St_Vincent -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n\\n   ...\\n   [junit4] OK      0.01s | TestSimpleExplanations.testBQ14\\n   [junit4] OK      0.01s | TestSimpleExplanations.testBQ1\\n   [junit4] OK      0.03s | TestSimpleExplanations.testBQ20\\n   [junit4] OK      0.03s | TestSimpleExplanations.testBQ4\\n   [junit4] OK      0.01s | TestSimpleExplanations.testP2\\n   [junit4]   2&gt; NOTE: test params are: codec=Asserting(Lucene60), sim=RandomSimilarity(queryNorm=false,coord=no): {field=DFR I(n)B2, alt=DFR I(ne)B1}, locale=sr-Latn, timezone=America\\/St_Vincent\\n   [junit4]   2&gt; NOTE: Linux 3.19.0-51-generic amd64\\/Oracle Corporation 1.8.0_74 (64-bit)\\/cpus=4,threads=1,free=303553832,total=329777152\\n   [junit4]   2&gt; NOTE: All tests run in this JVM: [TestSimpleExplanations]\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestSimpleExplanations -Dtests.seed=74B719CE50C8168A -Dtests.slow=true -Dtests.locale=sr-Latn -Dtests.timezone=America\\/St_Vincent -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n   [junit4] ERROR   0.00s | TestSimpleExplanations (suite) &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: java.security.AccessControlException: access denied (\\\"java.lang.RuntimePermission\\\" \\\"accessClassInPackage.sun.nio.fs\\\")\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([74B719CE50C8168A]:0)\\n   [junit4]    &gt; \\tat java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\\n   [junit4]    &gt; \\tat java.security.AccessController.checkPermission(AccessController.java:884)\\n   [junit4]    &gt; \\tat java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\\n   [junit4]    &gt; \\tat java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1564)\\n   [junit4]    &gt; \\tat java.lang.Class.checkPackageAccess(Class.java:2372)\\n   [junit4]    &gt; \\tat java.lang.Class.checkMemberAccess(Class.java:2351)\\n   [junit4]    &gt; \\tat java.lang.Class.getDeclaredFields(Class.java:1915)\\n   [junit4]    &gt; \\tat java.security.AccessController.doPrivileged(Native Method)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4] Completed [1\\/1 (1!)] in 2.50s, 68 tests, 1 error &lt;&lt;&lt; FAILURES!\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15222999\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15222999&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15222999\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_15222999_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15222999_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Apr\\/16 18:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-02T18:37:59+0000\'\u003e02\\/Apr\\/16 18:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\" class=\\\"user-hover\\\" rel=\\\"mikemccand\\\"\u003eMichael McCandless\u003c\\/a\u003e, \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\" class=\\\"user-hover\\\" rel=\\\"jpountz\\\"\u003eAdrien Grand\u003c\\/a\u003e - any theory as to what could cause diff scores to be produced between diff test runs even though the Query, Documents &amp; Similarity are fixed in Ahmet\'s TestExplain.testRajeshData?\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\" class=\\\"user-hover\\\" rel=\\\"dweiss\\\"\u003eDawid Weiss\u003c\\/a\u003e, \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\" class=\\\"user-hover\\\" rel=\\\"thetaphi\\\"\u003eUwe Schindler\u003c\\/a\u003e - any idea what i did to causes this weird AccessControlException in TestSimpleExplanations?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_15222999_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15222999_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Apr\\/16 18:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-02T18:37:59+0000\'\u003e02\\/Apr\\/16 18:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Michael McCandless ,  Adrien Grand  - any theory as to what could cause diff scores to be produced between diff test runs even though the Query, Documents &amp; Similarity are fixed in Ahmet\'s TestExplain.testRajeshData? \\n\\n  Dawid Weiss ,  Uwe Schindler  - any idea what i did to causes this weird AccessControlException in TestSimpleExplanations?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15223004\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15223004&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15223004\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_15223004_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15223004_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Apr\\/16 18:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-02T18:45:33+0000\'\u003e02\\/Apr\\/16 18:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eDawid Weiss, Uwe Schindler - any idea what i did to causes this weird AccessControlException in TestSimpleExplanations?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eThe problem is caused by the static leak detector (same issue like the fix I posted to Solr). The leak detetctor measures static fields and their heap usage. Unfortunately this fails for non-public classes (e.g. implementations of Path). So be sure to null all static fields on afterClass().\u003c\\/p\u003e\\n\\n\u003cp\u003eIn Java 9 this fails more often, so be sure to always null out static non-final fields that point to \\\"more complex\\\" and internal Java objects.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_15223004_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15223004_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Apr\\/16 18:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-02T18:45:33+0000\'\u003e02\\/Apr\\/16 18:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Dawid Weiss, Uwe Schindler - any idea what i did to causes this weird AccessControlException in TestSimpleExplanations?  \\n\\n The problem is caused by the static leak detector (same issue like the fix I posted to Solr). The leak detetctor measures static fields and their heap usage. Unfortunately this fails for non-public classes (e.g. implementations of Path). So be sure to null all static fields on afterClass(). \\n\\n In Java 9 this fails more often, so be sure to always null out static non-final fields that point to \\\"more complex\\\" and internal Java objects.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15223008\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15223008&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15223008\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_15223008_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15223008_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Apr\\/16 18:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-02T18:55:24+0000\'\u003e02\\/Apr\\/16 18:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Uwe Schindler - 03\\/Apr\\/16 08:36\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere is what\'s wrong in the test: You have to null the writer field in BaseExplanationTestCase like the searcher in afterClass().\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_15223008_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15223008_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Apr\\/16 18:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-02T18:55:24+0000\'\u003e02\\/Apr\\/16 18:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Uwe Schindler - 03\\/Apr\\/16 08:36\\\"\u003eedited\u003c\\/span\u003e                   Here is what\'s wrong in the test: You have to null the writer field in BaseExplanationTestCase like the searcher in afterClass().              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15223206\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15223206&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15223206\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_15223206_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15223206_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Apr\\/16 10:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-03T10:41:34+0000\'\u003e03\\/Apr\\/16 10:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI added \u003ca href=\\\"https:\\/\\/github.com\\/randomizedtesting\\/randomizedtesting\\/issues\\/227\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/github.com\\/randomizedtesting\\/randomizedtesting\\/issues\\/227\u003c\\/a\u003e to make this easier to debug. The stack trace is not very helpful to figure out that the \\\"bad\\\" guy was the non-nulled \u003ctt\u003ewriter\u003c\\/tt\u003e field.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_15223206_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15223206_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Apr\\/16 10:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-03T10:41:34+0000\'\u003e03\\/Apr\\/16 10:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I added  https:\\/\\/github.com\\/randomizedtesting\\/randomizedtesting\\/issues\\/227  to make this easier to debug. The stack trace is not very helpful to figure out that the \\\"bad\\\" guy was the non-nulled  writer  field.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15225118\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15225118&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15225118\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_15225118_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15225118_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Apr\\/16 21:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-04T21:45:34+0000\'\u003e04\\/Apr\\/16 21:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWith \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-7174\\\" title=\\\"Upgrade randomizedtesting to 2.3.4\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-7174\\\"\u003e\u003cdel\u003eLUCENE-7174\u003c\\/del\u003e\u003c\\/a\u003e committed (update of randomizedtesting framework), your test produces the following failure:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e   [junit4]   2&gt; NOTE: test params are: codec=Asserting(Lucene60), sim=RandomSimilarity(queryNorm=false,coord=no): {field=DFR I(n)B2, alt=DFR I(ne)B1}, locale=sr-Latn, timezone=America\\/St_Vincent\\n   [junit4]   2&gt; NOTE: Windows 7 6.1 amd64\\/Oracle Corporation 1.8.0_72 (64-bit)\\/cpus=8,threads=1,free=166881504,total=261095424\\n   [junit4]   2&gt; NOTE: All tests run in this JVM: [TestSimpleExplanations]\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestSimpleExplanations -Dtests.seed=74B719CE50C8168A -Dtests.slow=true -Dtests.locale=sr-Latn -Dtests.timezone=America\\/St_Vincent -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n   [junit4] ERROR   0.00s | TestSimpleExplanations (suite) &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: junit.framework.AssertionFailedError: Clean up static fields (in @AfterClass?) and null them, your test still has references to classes of which the sizes cannot be measured due to security restrictions or Java 9 module encapsulation:\\n   [junit4]    &gt;   - protected static org.apache.lucene.index.RandomIndexWriter org.apache.lucene.search.BaseExplanationTestCase.writer\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([74B719CE50C8168A]:0)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]    &gt; Caused by: java.security.AccessControlException: access denied (\\\"java.lang.RuntimePermission\\\" \\\"accessClassInPackage.sun.nio.fs\\\")\\n   [junit4]    &gt; \\tat java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\\n   [junit4]    &gt; \\tat java.security.AccessController.checkPermission(AccessController.java:884)\\n   [junit4]    &gt; \\tat java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\\n   [junit4]    &gt; \\tat java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1564)\\n   [junit4]    &gt; \\tat java.lang.Class.checkPackageAccess(Class.java:2372)\\n   [junit4]    &gt; \\tat java.lang.Class.checkMemberAccess(Class.java:2351)\\n   [junit4]    &gt; \\tat java.lang.Class.getDeclaredFields(Class.java:1915)\\n   [junit4]    &gt; \\tat java.security.AccessController.doPrivileged(Native Method)\\n   [junit4]    &gt; \\t... 10 more\\n   [junit4] Completed [1\\/1 (1!)] in 2.90s, 69 tests, 1 failure &lt;&lt;&lt; FAILURES!\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_15225118_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15225118_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Apr\\/16 21:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-04T21:45:34+0000\'\u003e04\\/Apr\\/16 21:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    With   LUCENE-7174   committed (update of randomizedtesting framework), your test produces the following failure: \\n\\n  \\n    [junit4]   2&gt; NOTE: test params are: codec=Asserting(Lucene60), sim=RandomSimilarity(queryNorm=false,coord=no): {field=DFR I(n)B2, alt=DFR I(ne)B1}, locale=sr-Latn, timezone=America\\/St_Vincent\\n   [junit4]   2&gt; NOTE: Windows 7 6.1 amd64\\/Oracle Corporation 1.8.0_72 (64-bit)\\/cpus=8,threads=1,free=166881504,total=261095424\\n   [junit4]   2&gt; NOTE: All tests run in this JVM: [TestSimpleExplanations]\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestSimpleExplanations -Dtests.seed=74B719CE50C8168A -Dtests.slow=true -Dtests.locale=sr-Latn -Dtests.timezone=America\\/St_Vincent -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n   [junit4] ERROR   0.00s | TestSimpleExplanations (suite) &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: junit.framework.AssertionFailedError: Clean up static fields (in @AfterClass?) and null them, your test still has references to classes of which the sizes cannot be measured due to security restrictions or Java 9 module encapsulation:\\n   [junit4]    &gt;   - protected static org.apache.lucene.index.RandomIndexWriter org.apache.lucene.search.BaseExplanationTestCase.writer\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([74B719CE50C8168A]:0)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]    &gt; Caused by: java.security.AccessControlException: access denied (\\\"java.lang.RuntimePermission\\\" \\\"accessClassInPackage.sun.nio.fs\\\")\\n   [junit4]    &gt; \\tat java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\\n   [junit4]    &gt; \\tat java.security.AccessController.checkPermission(AccessController.java:884)\\n   [junit4]    &gt; \\tat java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\\n   [junit4]    &gt; \\tat java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1564)\\n   [junit4]    &gt; \\tat java.lang.Class.checkPackageAccess(Class.java:2372)\\n   [junit4]    &gt; \\tat java.lang.Class.checkMemberAccess(Class.java:2351)\\n   [junit4]    &gt; \\tat java.lang.Class.getDeclaredFields(Class.java:1915)\\n   [junit4]    &gt; \\tat java.security.AccessController.doPrivileged(Native Method)\\n   [junit4]    &gt; \\t... 10 more\\n   [junit4] Completed [1\\/1 (1!)] in 2.90s, 69 tests, 1 failure &lt;&lt;&lt; FAILURES!\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15313411\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15313411&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15313411\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_15313411_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15313411_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jun\\/16 00:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-03T00:43:54+0000\'\u003e03\\/Jun\\/16 00:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\\n\u003cp\u003eI was reminded of this issue today and pinged \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\" class=\\\"user-hover\\\" rel=\\\"mikemccand\\\"\u003eMichael McCandless\u003c\\/a\u003e about it on IRC.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn reviewing the issue myself, to try and describe it to him succinctly, I realized the key bullet points of this bug is:\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eIt is possible to build an index, \u003cem\u003ewith \u003cb\u003eno\u003c\\/b\u003e deleted documents\u003c\\/em\u003e such that a particular BooleanQuery returns drastically different scores for some documents depending on if\\/how the segments in the index have been merged.\u003c\\/li\u003e\\n\\t\u003cli\u003eThe Explanations for every document matching this BooleanQuery do \u003cb\u003enot\u003c\\/b\u003e change based on if\\/how the segments in the index have been merged &#8211; such that the Explanations can be drastically different then the scores\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eCouched that way, and with a request from mike to try and confirm if the bug was dependent on using LuceneTestCase.newIndexWriterConfig (i gather he suspected it might be a test only bug) I revamped the previous test class to attempt to more straight forwardly demonstrate the crux of the matter.\u003c\\/p\u003e\\n\\n\u003cp\u003eThere are now two test methods: testScoresWithDefaultIWC &amp; testScoresWithRandomIWC &#8211; both delegating to the same helpe method for the meat of the test, just using different IndexWriterConfigs.\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"checkScores\\\" is the meat of both test methods.  It builds up an index using the same \\\"RajeshData.txt\\\" and then executes a fixed query against the index, recording the scores of every mathcing document.  It then does a \u003ctt\u003eforceMerge(1,true)\u003c\\/tt\u003e on the IndexWriter, and re-executes the query comparing the scores of every matching document against the scores from the previous query execution.\u003c\\/p\u003e\\n\\n\u003cp\u003eIf the tests make it this far (and they rarely do) then does the query again, this time checking the \\\"Explanation\\\" for every matching document against the score.\u003c\\/p\u003e\\n\\n\u003chr \\/\u003e\\n\\n\u003cp\u003eWith this seed, both tests demonstrate an identical inconsistency between the scores of a document containing body=\\\"Microsoft Office 365\\\" between the pre-merge and single-segment indexes....\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e   [junit4] &lt;JUnit4&gt; says ahoj! Master seed: B6DEF72C383813DE\\n   [junit4] Executing 1 suite with 1 JVM.\\n   [junit4] \\n   [junit4] Started J0 PID(29777@localhost).\\n   [junit4] Suite: org.apache.lucene.search.TestBooleanScoreConsistency\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestBooleanScoreConsistency -Dtests.method=testScoresWithRandomIWC -Dtests.seed=B6DEF72C383813DE -Dtests.slow=true -Dtests.locale=ar-IQ -Dtests.timezone=Asia\\/Jayapura -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n   [junit4] FAILURE 2.80s | TestBooleanScoreConsistency.testScoresWithRandomIWC &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: java.lang.AssertionError: 7614: score doesn\'t match (previously returned) expected score for Microsoft Office 365 expected:&lt;1.2357021570205688&gt; but was:&lt;0.41190072894096375&gt;\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([B6DEF72C383813DE:2C10E99E7CDA36F8]:0)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.checkScoresAgainstExpected(TestBooleanScoreConsistency.java:178)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.checkScores(TestBooleanScoreConsistency.java:137)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.testScoresWithRandomIWC(TestBooleanScoreConsistency.java:85)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestBooleanScoreConsistency -Dtests.method=testScoresWithDefaultIWC -Dtests.seed=B6DEF72C383813DE -Dtests.slow=true -Dtests.locale=ar-IQ -Dtests.timezone=Asia\\/Jayapura -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n   [junit4] FAILURE 1.63s | TestBooleanScoreConsistency.testScoresWithDefaultIWC &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: java.lang.AssertionError: 7614: score doesn\'t match (previously returned) expected score for Microsoft Office 365 expected:&lt;1.2357021570205688&gt; but was:&lt;0.41190072894096375&gt;\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([B6DEF72C383813DE:1CF87A1A7D4B3415]:0)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.checkScoresAgainstExpected(TestBooleanScoreConsistency.java:178)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.checkScores(TestBooleanScoreConsistency.java:137)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.testScoresWithDefaultIWC(TestBooleanScoreConsistency.java:79)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]   2&gt; NOTE: test params are: codec=Asserting(Lucene62): {id=PostingsFormat(name=Direct), body=Lucene50(blocksize=128)}, docValues:{}, maxPointsInLeafNode=825, maxMBSortInHeap=5.5977062021908015, sim=RandomSimilarity(queryNorm=false,coord=crazy): {}, locale=ar-IQ, timezone=Asia\\/Jayapura\\n   [junit4]   2&gt; NOTE: Linux 3.19.0-51-generic amd64\\/Oracle Corporation 1.8.0_74 (64-bit)\\/cpus=4,threads=1,free=266511232,total=336068608\\n   [junit4]   2&gt; NOTE: All tests run in this JVM: [TestBooleanScoreConsistency]\\n   [junit4] Completed [1\\/1 (1!)] in 4.72s, 2 tests, 2 failures &lt;&lt;&lt; FAILURES!\\n   [junit4] \\n   [junit4] \\n   [junit4] Tests with failures [seed: B6DEF72C383813DE]:\\n   [junit4]   - org.apache.lucene.search.TestBooleanScoreConsistency.testScoresWithRandomIWC\\n   [junit4]   - org.apache.lucene.search.TestBooleanScoreConsistency.testScoresWithDefaultIWC\\n   [junit4] \\n   [junit4] \\n   [junit4] JVM J0:     0.40 ..     5.70 =     5.30s\\n   [junit4] Execution time total: 5.77 sec.\\n   [junit4] Tests summary: 1 suite, 2 tests, 2 failures\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eWith this seed, the pre-merge and single-segment indexes in both tests return identical scores for all matching docs, but the Explanations (which seem to be correct AFAICT) don\'t match the scores...\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e   [junit4] &lt;JUnit4&gt; says salut! Master seed: AEB2F91E0E8938CC\\n   [junit4] Executing 1 suite with 1 JVM.\\n   [junit4] \\n   [junit4] Started J0 PID(29716@localhost).\\n   [junit4] Suite: org.apache.lucene.search.TestBooleanScoreConsistency\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestBooleanScoreConsistency -Dtests.method=testScoresWithDefaultIWC -Dtests.seed=AEB2F91E0E8938CC -Dtests.slow=true -Dtests.locale=zh -Dtests.timezone=Australia\\/Sydney -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\\n   [junit4] FAILURE 4.08s | TestBooleanScoreConsistency.testScoresWithDefaultIWC &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: java.lang.AssertionError: 15581: score() and explain() return different values for: Office 365\\n   [junit4]    &gt; 0.7475659 = product of:\\n   [junit4]    &gt;   2.2426977 = sum of:\\n   [junit4]    &gt;     2.2426977 = weight(body:365 in 15581) [ClassicSimilarity], result of:\\n   [junit4]    &gt;       2.2426977 = score(doc=15581,freq=1.0), product of:\\n   [junit4]    &gt;         0.5300819 = queryWeight, product of:\\n   [junit4]    &gt;           6.769362 = idf(docFreq=53, docCount=17297)\\n   [junit4]    &gt;           0.07830604 = queryNorm\\n   [junit4]    &gt;         4.230851 = fieldWeight in 15581, product of:\\n   [junit4]    &gt;           1.0 = tf(freq=1.0), with freq of:\\n   [junit4]    &gt;             1.0 = termFreq=1.0\\n   [junit4]    &gt;           6.769362 = idf(docFreq=53, docCount=17297)\\n   [junit4]    &gt;           0.625 = fieldNorm(doc=15581)\\n   [junit4]    &gt;   0.33333334 = coord(1\\/3)\\n   [junit4]    &gt;  expected:&lt;0.2491886466741562&gt; but was:&lt;0.7475659251213074&gt;\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([AEB2F91E0E8938CC:49474284BFA1F07]:0)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.checkScoresAgainstExplanations(TestBooleanScoreConsistency.java:214)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.checkScores(TestBooleanScoreConsistency.java:138)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.testScoresWithDefaultIWC(TestBooleanScoreConsistency.java:79)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestBooleanScoreConsistency -Dtests.method=testScoresWithRandomIWC -Dtests.seed=AEB2F91E0E8938CC -Dtests.slow=true -Dtests.locale=zh -Dtests.timezone=Australia\\/Sydney -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\\n   [junit4] FAILURE 1.90s | TestBooleanScoreConsistency.testScoresWithRandomIWC &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: java.lang.AssertionError: 7614: score() and explain() return different values for: Microsoft Office 365\\n   [junit4]    &gt; 1.2357022 = product of:\\n   [junit4]    &gt;   1.8535532 = sum of:\\n   [junit4]    &gt;     0.05939492 = weight(body:microsoft in 7614) [ClassicSimilarity], result of:\\n   [junit4]    &gt;       0.05939492 = score(doc=7614,freq=1.0), product of:\\n   [junit4]    &gt;         0.09644668 = queryWeight, product of:\\n   [junit4]    &gt;           1.2316633 = idf(docFreq=13720, docCount=17297)\\n   [junit4]    &gt;           0.07830604 = queryNorm\\n   [junit4]    &gt;         0.6158317 = fieldWeight in 7614, product of:\\n   [junit4]    &gt;           1.0 = tf(freq=1.0), with freq of:\\n   [junit4]    &gt;             1.0 = termFreq=1.0\\n   [junit4]    &gt;           1.2316633 = idf(docFreq=13720, docCount=17297)\\n   [junit4]    &gt;           0.5 = fieldNorm(doc=7614)\\n   [junit4]    &gt;     1.7941582 = weight(body:365 in 7614) [ClassicSimilarity], result of:\\n   [junit4]    &gt;       1.7941582 = score(doc=7614,freq=1.0), product of:\\n   [junit4]    &gt;         0.5300819 = queryWeight, product of:\\n   [junit4]    &gt;           6.769362 = idf(docFreq=53, docCount=17297)\\n   [junit4]    &gt;           0.07830604 = queryNorm\\n   [junit4]    &gt;         3.384681 = fieldWeight in 7614, product of:\\n   [junit4]    &gt;           1.0 = tf(freq=1.0), with freq of:\\n   [junit4]    &gt;             1.0 = termFreq=1.0\\n   [junit4]    &gt;           6.769362 = idf(docFreq=53, docCount=17297)\\n   [junit4]    &gt;           0.5 = fieldNorm(doc=7614)\\n   [junit4]    &gt;   0.6666667 = coord(2\\/3)\\n   [junit4]    &gt;  expected:&lt;0.41190072894096375&gt; but was:&lt;1.2357021570205688&gt;\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([AEB2F91E0E8938CC:347CE7AC4A6B1DEA]:0)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.checkScoresAgainstExplanations(TestBooleanScoreConsistency.java:214)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.checkScores(TestBooleanScoreConsistency.java:138)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.testScoresWithRandomIWC(TestBooleanScoreConsistency.java:85)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]   2&gt; NOTE: test params are: codec=Asserting(Lucene62): {id=PostingsFormat(name=MockRandom), body=PostingsFormat(name=LuceneFixedGap)}, docValues:{}, maxPointsInLeafNode=127, maxMBSortInHeap=5.70855157410318, sim=RandomSimilarity(queryNorm=true,coord=crazy): {}, locale=zh, timezone=Australia\\/Sydney\\n   [junit4]   2&gt; NOTE: Linux 3.19.0-51-generic amd64\\/Oracle Corporation 1.8.0_74 (64-bit)\\/cpus=4,threads=1,free=181104832,total=342360064\\n   [junit4]   2&gt; NOTE: All tests run in this JVM: [TestBooleanScoreConsistency]\\n   [junit4] Completed [1\\/1 (1!)] in 6.29s, 2 tests, 2 failures &lt;&lt;&lt; FAILURES!\\n   [junit4] \\n   [junit4] \\n   [junit4] Tests with failures [seed: AEB2F91E0E8938CC]:\\n   [junit4]   - org.apache.lucene.search.TestBooleanScoreConsistency.testScoresWithDefaultIWC\\n   [junit4]   - org.apache.lucene.search.TestBooleanScoreConsistency.testScoresWithRandomIWC\\n   [junit4] \\n   [junit4] \\n   [junit4] JVM J0:     0.41 ..     7.13 =     6.73s\\n   [junit4] Execution time total: 7.18 sec.\\n   [junit4] Tests summary: 1 suite, 2 tests, 2 failures\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eWith this perplexing seed (found using tests.iters) the Randomized IndexWriterConfig manages to pass all checks in the test &#8211; getting scores consistent with the Explanation both before and after the forceMerge &#8211; but the default IndexWriterConfig still demonstrates the problem...\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e   [junit4] &lt;JUnit4&gt; says hallo! Master seed: 29D39C39B6047864:5BA9313A359A1831\\n   [junit4] Executing 1 suite with 1 JVM.\\n   [junit4] \\n   [junit4] Started J0 PID(29867@localhost).\\n   [junit4] Suite: org.apache.lucene.search.TestBooleanScoreConsistency\\n   [junit4] OK      6.16s | TestBooleanScoreConsistency.testScoresWithRandomIWC\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestBooleanScoreConsistency -Dtests.method=testScoresWithDefaultIWC -Dtests.seed=29D39C39B6047864 -Dtests.slow=true -Dtests.locale=uk-UA -Dtests.timezone=Indian\\/Comoro -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\\n   [junit4] FAILURE 1.26s | TestBooleanScoreConsistency.testScoresWithDefaultIWC &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: java.lang.AssertionError: 7614: score doesn\'t match (previously returned) expected score for Microsoft Office 365 expected:&lt;1.2357021570205688&gt; but was:&lt;0.41190072894096375&gt;\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([29D39C39B6047864:5BA9313A359A1831]:0)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.checkScoresAgainstExpected(TestBooleanScoreConsistency.java:178)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.checkScores(TestBooleanScoreConsistency.java:137)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.testScoresWithDefaultIWC(TestBooleanScoreConsistency.java:79)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]   2&gt; NOTE: test params are: codec=Asserting(Lucene62), sim=RandomSimilarity(queryNorm=false,coord=yes): {}, locale=uk-UA, timezone=Indian\\/Comoro\\n   [junit4]   2&gt; NOTE: Linux 3.19.0-51-generic amd64\\/Oracle Corporation 1.8.0_74 (64-bit)\\/cpus=4,threads=1,free=285815104,total=350748672\\n   [junit4]   2&gt; NOTE: All tests run in this JVM: [TestBooleanScoreConsistency]\\n   [junit4] Completed [1\\/1 (1!)] in 7.73s, 2 tests, 1 failure &lt;&lt;&lt; FAILURES!\\n   [junit4] \\n   [junit4] \\n   [junit4] Tests with failures [seed: 29D39C39B6047864:5BA9313A359A1831]:\\n   [junit4]   - org.apache.lucene.search.TestBooleanScoreConsistency.testScoresWithDefaultIWC\\n   [junit4] \\n   [junit4] \\n   [junit4] JVM J0:     0.37 ..     8.58 =     8.21s\\n   [junit4] Execution time total: 8.62 sec.\\n   [junit4] Tests summary: 1 suite, 2 tests, 1 failure\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_15313411_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15313411_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jun\\/16 00:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-03T00:43:54+0000\'\u003e03\\/Jun\\/16 00:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                   \\n I was reminded of this issue today and pinged  Michael McCandless  about it on IRC. \\n\\n In reviewing the issue myself, to try and describe it to him succinctly, I realized the key bullet points of this bug is: \\n\\n \\n\\t It is possible to build an index,  with  no  deleted documents  such that a particular BooleanQuery returns drastically different scores for some documents depending on if\\/how the segments in the index have been merged. \\n\\t The Explanations for every document matching this BooleanQuery do  not  change based on if\\/how the segments in the index have been merged &#8211; such that the Explanations can be drastically different then the scores \\n \\n\\n\\n Couched that way, and with a request from mike to try and confirm if the bug was dependent on using LuceneTestCase.newIndexWriterConfig (i gather he suspected it might be a test only bug) I revamped the previous test class to attempt to more straight forwardly demonstrate the crux of the matter. \\n\\n There are now two test methods: testScoresWithDefaultIWC &amp; testScoresWithRandomIWC &#8211; both delegating to the same helpe method for the meat of the test, just using different IndexWriterConfigs. \\n\\n \\\"checkScores\\\" is the meat of both test methods.  It builds up an index using the same \\\"RajeshData.txt\\\" and then executes a fixed query against the index, recording the scores of every mathcing document.  It then does a  forceMerge(1,true)  on the IndexWriter, and re-executes the query comparing the scores of every matching document against the scores from the previous query execution. \\n\\n If the tests make it this far (and they rarely do) then does the query again, this time checking the \\\"Explanation\\\" for every matching document against the score. \\n\\n \\n\\n With this seed, both tests demonstrate an identical inconsistency between the scores of a document containing body=\\\"Microsoft Office 365\\\" between the pre-merge and single-segment indexes.... \\n\\n  \\n    [junit4] &lt;JUnit4&gt; says ahoj! Master seed: B6DEF72C383813DE\\n   [junit4] Executing 1 suite with 1 JVM.\\n   [junit4] \\n   [junit4] Started J0 PID(29777@localhost).\\n   [junit4] Suite: org.apache.lucene.search.TestBooleanScoreConsistency\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestBooleanScoreConsistency -Dtests.method=testScoresWithRandomIWC -Dtests.seed=B6DEF72C383813DE -Dtests.slow=true -Dtests.locale=ar-IQ -Dtests.timezone=Asia\\/Jayapura -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n   [junit4] FAILURE 2.80s | TestBooleanScoreConsistency.testScoresWithRandomIWC &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: java.lang.AssertionError: 7614: score doesn\'t match (previously returned) expected score for Microsoft Office 365 expected:&lt;1.2357021570205688&gt; but was:&lt;0.41190072894096375&gt;\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([B6DEF72C383813DE:2C10E99E7CDA36F8]:0)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.checkScoresAgainstExpected(TestBooleanScoreConsistency.java:178)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.checkScores(TestBooleanScoreConsistency.java:137)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.testScoresWithRandomIWC(TestBooleanScoreConsistency.java:85)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestBooleanScoreConsistency -Dtests.method=testScoresWithDefaultIWC -Dtests.seed=B6DEF72C383813DE -Dtests.slow=true -Dtests.locale=ar-IQ -Dtests.timezone=Asia\\/Jayapura -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n   [junit4] FAILURE 1.63s | TestBooleanScoreConsistency.testScoresWithDefaultIWC &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: java.lang.AssertionError: 7614: score doesn\'t match (previously returned) expected score for Microsoft Office 365 expected:&lt;1.2357021570205688&gt; but was:&lt;0.41190072894096375&gt;\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([B6DEF72C383813DE:1CF87A1A7D4B3415]:0)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.checkScoresAgainstExpected(TestBooleanScoreConsistency.java:178)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.checkScores(TestBooleanScoreConsistency.java:137)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.testScoresWithDefaultIWC(TestBooleanScoreConsistency.java:79)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]   2&gt; NOTE: test params are: codec=Asserting(Lucene62): {id=PostingsFormat(name=Direct), body=Lucene50(blocksize=128)}, docValues:{}, maxPointsInLeafNode=825, maxMBSortInHeap=5.5977062021908015, sim=RandomSimilarity(queryNorm=false,coord=crazy): {}, locale=ar-IQ, timezone=Asia\\/Jayapura\\n   [junit4]   2&gt; NOTE: Linux 3.19.0-51-generic amd64\\/Oracle Corporation 1.8.0_74 (64-bit)\\/cpus=4,threads=1,free=266511232,total=336068608\\n   [junit4]   2&gt; NOTE: All tests run in this JVM: [TestBooleanScoreConsistency]\\n   [junit4] Completed [1\\/1 (1!)] in 4.72s, 2 tests, 2 failures &lt;&lt;&lt; FAILURES!\\n   [junit4] \\n   [junit4] \\n   [junit4] Tests with failures [seed: B6DEF72C383813DE]:\\n   [junit4]   - org.apache.lucene.search.TestBooleanScoreConsistency.testScoresWithRandomIWC\\n   [junit4]   - org.apache.lucene.search.TestBooleanScoreConsistency.testScoresWithDefaultIWC\\n   [junit4] \\n   [junit4] \\n   [junit4] JVM J0:     0.40 ..     5.70 =     5.30s\\n   [junit4] Execution time total: 5.77 sec.\\n   [junit4] Tests summary: 1 suite, 2 tests, 2 failures\\n \\n  \\n\\n With this seed, the pre-merge and single-segment indexes in both tests return identical scores for all matching docs, but the Explanations (which seem to be correct AFAICT) don\'t match the scores... \\n\\n  \\n    [junit4] &lt;JUnit4&gt; says salut! Master seed: AEB2F91E0E8938CC\\n   [junit4] Executing 1 suite with 1 JVM.\\n   [junit4] \\n   [junit4] Started J0 PID(29716@localhost).\\n   [junit4] Suite: org.apache.lucene.search.TestBooleanScoreConsistency\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestBooleanScoreConsistency -Dtests.method=testScoresWithDefaultIWC -Dtests.seed=AEB2F91E0E8938CC -Dtests.slow=true -Dtests.locale=zh -Dtests.timezone=Australia\\/Sydney -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\\n   [junit4] FAILURE 4.08s | TestBooleanScoreConsistency.testScoresWithDefaultIWC &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: java.lang.AssertionError: 15581: score() and explain() return different values for: Office 365\\n   [junit4]    &gt; 0.7475659 = product of:\\n   [junit4]    &gt;   2.2426977 = sum of:\\n   [junit4]    &gt;     2.2426977 = weight(body:365 in 15581) [ClassicSimilarity], result of:\\n   [junit4]    &gt;       2.2426977 = score(doc=15581,freq=1.0), product of:\\n   [junit4]    &gt;         0.5300819 = queryWeight, product of:\\n   [junit4]    &gt;           6.769362 = idf(docFreq=53, docCount=17297)\\n   [junit4]    &gt;           0.07830604 = queryNorm\\n   [junit4]    &gt;         4.230851 = fieldWeight in 15581, product of:\\n   [junit4]    &gt;           1.0 = tf(freq=1.0), with freq of:\\n   [junit4]    &gt;             1.0 = termFreq=1.0\\n   [junit4]    &gt;           6.769362 = idf(docFreq=53, docCount=17297)\\n   [junit4]    &gt;           0.625 = fieldNorm(doc=15581)\\n   [junit4]    &gt;   0.33333334 = coord(1\\/3)\\n   [junit4]    &gt;  expected:&lt;0.2491886466741562&gt; but was:&lt;0.7475659251213074&gt;\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([AEB2F91E0E8938CC:49474284BFA1F07]:0)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.checkScoresAgainstExplanations(TestBooleanScoreConsistency.java:214)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.checkScores(TestBooleanScoreConsistency.java:138)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.testScoresWithDefaultIWC(TestBooleanScoreConsistency.java:79)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestBooleanScoreConsistency -Dtests.method=testScoresWithRandomIWC -Dtests.seed=AEB2F91E0E8938CC -Dtests.slow=true -Dtests.locale=zh -Dtests.timezone=Australia\\/Sydney -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\\n   [junit4] FAILURE 1.90s | TestBooleanScoreConsistency.testScoresWithRandomIWC &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: java.lang.AssertionError: 7614: score() and explain() return different values for: Microsoft Office 365\\n   [junit4]    &gt; 1.2357022 = product of:\\n   [junit4]    &gt;   1.8535532 = sum of:\\n   [junit4]    &gt;     0.05939492 = weight(body:microsoft in 7614) [ClassicSimilarity], result of:\\n   [junit4]    &gt;       0.05939492 = score(doc=7614,freq=1.0), product of:\\n   [junit4]    &gt;         0.09644668 = queryWeight, product of:\\n   [junit4]    &gt;           1.2316633 = idf(docFreq=13720, docCount=17297)\\n   [junit4]    &gt;           0.07830604 = queryNorm\\n   [junit4]    &gt;         0.6158317 = fieldWeight in 7614, product of:\\n   [junit4]    &gt;           1.0 = tf(freq=1.0), with freq of:\\n   [junit4]    &gt;             1.0 = termFreq=1.0\\n   [junit4]    &gt;           1.2316633 = idf(docFreq=13720, docCount=17297)\\n   [junit4]    &gt;           0.5 = fieldNorm(doc=7614)\\n   [junit4]    &gt;     1.7941582 = weight(body:365 in 7614) [ClassicSimilarity], result of:\\n   [junit4]    &gt;       1.7941582 = score(doc=7614,freq=1.0), product of:\\n   [junit4]    &gt;         0.5300819 = queryWeight, product of:\\n   [junit4]    &gt;           6.769362 = idf(docFreq=53, docCount=17297)\\n   [junit4]    &gt;           0.07830604 = queryNorm\\n   [junit4]    &gt;         3.384681 = fieldWeight in 7614, product of:\\n   [junit4]    &gt;           1.0 = tf(freq=1.0), with freq of:\\n   [junit4]    &gt;             1.0 = termFreq=1.0\\n   [junit4]    &gt;           6.769362 = idf(docFreq=53, docCount=17297)\\n   [junit4]    &gt;           0.5 = fieldNorm(doc=7614)\\n   [junit4]    &gt;   0.6666667 = coord(2\\/3)\\n   [junit4]    &gt;  expected:&lt;0.41190072894096375&gt; but was:&lt;1.2357021570205688&gt;\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([AEB2F91E0E8938CC:347CE7AC4A6B1DEA]:0)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.checkScoresAgainstExplanations(TestBooleanScoreConsistency.java:214)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.checkScores(TestBooleanScoreConsistency.java:138)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.testScoresWithRandomIWC(TestBooleanScoreConsistency.java:85)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]   2&gt; NOTE: test params are: codec=Asserting(Lucene62): {id=PostingsFormat(name=MockRandom), body=PostingsFormat(name=LuceneFixedGap)}, docValues:{}, maxPointsInLeafNode=127, maxMBSortInHeap=5.70855157410318, sim=RandomSimilarity(queryNorm=true,coord=crazy): {}, locale=zh, timezone=Australia\\/Sydney\\n   [junit4]   2&gt; NOTE: Linux 3.19.0-51-generic amd64\\/Oracle Corporation 1.8.0_74 (64-bit)\\/cpus=4,threads=1,free=181104832,total=342360064\\n   [junit4]   2&gt; NOTE: All tests run in this JVM: [TestBooleanScoreConsistency]\\n   [junit4] Completed [1\\/1 (1!)] in 6.29s, 2 tests, 2 failures &lt;&lt;&lt; FAILURES!\\n   [junit4] \\n   [junit4] \\n   [junit4] Tests with failures [seed: AEB2F91E0E8938CC]:\\n   [junit4]   - org.apache.lucene.search.TestBooleanScoreConsistency.testScoresWithDefaultIWC\\n   [junit4]   - org.apache.lucene.search.TestBooleanScoreConsistency.testScoresWithRandomIWC\\n   [junit4] \\n   [junit4] \\n   [junit4] JVM J0:     0.41 ..     7.13 =     6.73s\\n   [junit4] Execution time total: 7.18 sec.\\n   [junit4] Tests summary: 1 suite, 2 tests, 2 failures\\n \\n  \\n\\n With this perplexing seed (found using tests.iters) the Randomized IndexWriterConfig manages to pass all checks in the test &#8211; getting scores consistent with the Explanation both before and after the forceMerge &#8211; but the default IndexWriterConfig still demonstrates the problem... \\n\\n  \\n    [junit4] &lt;JUnit4&gt; says hallo! Master seed: 29D39C39B6047864:5BA9313A359A1831\\n   [junit4] Executing 1 suite with 1 JVM.\\n   [junit4] \\n   [junit4] Started J0 PID(29867@localhost).\\n   [junit4] Suite: org.apache.lucene.search.TestBooleanScoreConsistency\\n   [junit4] OK      6.16s | TestBooleanScoreConsistency.testScoresWithRandomIWC\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestBooleanScoreConsistency -Dtests.method=testScoresWithDefaultIWC -Dtests.seed=29D39C39B6047864 -Dtests.slow=true -Dtests.locale=uk-UA -Dtests.timezone=Indian\\/Comoro -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\\n   [junit4] FAILURE 1.26s | TestBooleanScoreConsistency.testScoresWithDefaultIWC &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: java.lang.AssertionError: 7614: score doesn\'t match (previously returned) expected score for Microsoft Office 365 expected:&lt;1.2357021570205688&gt; but was:&lt;0.41190072894096375&gt;\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([29D39C39B6047864:5BA9313A359A1831]:0)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.checkScoresAgainstExpected(TestBooleanScoreConsistency.java:178)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.checkScores(TestBooleanScoreConsistency.java:137)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBooleanScoreConsistency.testScoresWithDefaultIWC(TestBooleanScoreConsistency.java:79)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]   2&gt; NOTE: test params are: codec=Asserting(Lucene62), sim=RandomSimilarity(queryNorm=false,coord=yes): {}, locale=uk-UA, timezone=Indian\\/Comoro\\n   [junit4]   2&gt; NOTE: Linux 3.19.0-51-generic amd64\\/Oracle Corporation 1.8.0_74 (64-bit)\\/cpus=4,threads=1,free=285815104,total=350748672\\n   [junit4]   2&gt; NOTE: All tests run in this JVM: [TestBooleanScoreConsistency]\\n   [junit4] Completed [1\\/1 (1!)] in 7.73s, 2 tests, 1 failure &lt;&lt;&lt; FAILURES!\\n   [junit4] \\n   [junit4] \\n   [junit4] Tests with failures [seed: 29D39C39B6047864:5BA9313A359A1831]:\\n   [junit4]   - org.apache.lucene.search.TestBooleanScoreConsistency.testScoresWithDefaultIWC\\n   [junit4] \\n   [junit4] \\n   [junit4] JVM J0:     0.37 ..     8.58 =     8.21s\\n   [junit4] Execution time total: 8.62 sec.\\n   [junit4] Tests summary: 1 suite, 2 tests, 1 failure\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15313885\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15313885&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15313885\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15313885_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15313885_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jun\\/16 09:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-03T09:11:58+0000\'\u003e03\\/Jun\\/16 09:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\" class=\\\"user-hover\\\" rel=\\\"hossman\\\"\u003eHoss Man\u003c\\/a\u003e I\'ll dig.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15313885_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15313885_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jun\\/16 09:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-03T09:11:58+0000\'\u003e03\\/Jun\\/16 09:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks  Hoss Man  I\'ll dig.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15313895\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15313895&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15313895\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15313895_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15313895_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jun\\/16 09:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-03T09:24:52+0000\'\u003e03\\/Jun\\/16 09:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHmm seems like something is wrong w\\/ BQ\'s bulk scorer, because if I take it out and just use the default:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e@@ -361,6 +363,9 @@ final class BooleanWeight extends Weight {\\n \\n   @Override\\n   public BulkScorer bulkScorer(LeafReaderContext context) throws IOException {\\n+    \\/\\/ nocommit\\n+    return super.bulkScorer(context);\\n+    \\/*\\n     final BulkScorer bulkScorer = booleanScorer(context);\\n     if (bulkScorer != null) {\\n       \\/\\/ bulk scoring is applicable, use it\\n@@ -369,6 +374,7 @@ final class BooleanWeight extends Weight {\\n       \\/\\/ use a Scorer-based impl (BS2)\\n       return super.bulkScorer(context);\\n     }\\n+    *\\/\\n   }\\n \\n   @Override\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eThen at least the first seed above passes...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15313895_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15313895_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jun\\/16 09:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-03T09:24:52+0000\'\u003e03\\/Jun\\/16 09:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hmm seems like something is wrong w\\/ BQ\'s bulk scorer, because if I take it out and just use the default: \\n\\n  \\n @@ -361,6 +363,9 @@ final class BooleanWeight extends Weight {\\n \\n   @Override\\n   public BulkScorer bulkScorer(LeafReaderContext context) throws IOException {\\n+    \\/\\/ nocommit\\n+    return super.bulkScorer(context);\\n+    \\/*\\n     final BulkScorer bulkScorer = booleanScorer(context);\\n     if (bulkScorer != null) {\\n       \\/\\/ bulk scoring is applicable, use it\\n@@ -369,6 +374,7 @@ final class BooleanWeight extends Weight {\\n       \\/\\/ use a Scorer-based impl (BS2)\\n       return super.bulkScorer(context);\\n     }\\n+    *\\/\\n   }\\n \\n   @Override\\n \\n  \\n\\n Then at least the first seed above passes...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15313899\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15313899&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15313899\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15313899_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15313899_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jun\\/16 09:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-03T09:30:44+0000\'\u003e03\\/Jun\\/16 09:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOK if I put back BQ\'s bulkScorer, but then use \u003ctt\u003enew IndexSearcher\u003c\\/tt\u003e instead of \u003ctt\u003enewSearcher\u003c\\/tt\u003e the first seed above gets further along: the scores agree before\\/after forceMerge, but the explanation is still incorrect...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15313899_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15313899_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jun\\/16 09:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-03T09:30:44+0000\'\u003e03\\/Jun\\/16 09:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    OK if I put back BQ\'s bulkScorer, but then use  new IndexSearcher  instead of  newSearcher  the first seed above gets further along: the scores agree before\\/after forceMerge, but the explanation is still incorrect...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15313941\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15313941&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15313941\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15313941_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15313941_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jun\\/16 10:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-03T10:19:39+0000\'\u003e03\\/Jun\\/16 10:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eA bit more progress ... it looks like somehow \u003ctt\u003eBooleanScorer\u003c\\/tt\u003e gets confused and is collecting a window with more than one sub-scorer matching, yet failed to tell the top collector to reset back to the fake scorer (it\'s still on a boosted scorer, I think from a prior window that had only one matching sub, incorrectly applying a 0.3333 boost).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15313941_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15313941_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jun\\/16 10:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-03T10:19:39+0000\'\u003e03\\/Jun\\/16 10:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    A bit more progress ... it looks like somehow  BooleanScorer  gets confused and is collecting a window with more than one sub-scorer matching, yet failed to tell the top collector to reset back to the fake scorer (it\'s still on a boosted scorer, I think from a prior window that had only one matching sub, incorrectly applying a 0.3333 boost).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15314070\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15314070&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15314070\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15314070_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15314070_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jun\\/16 13:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-03T13:06:29+0000\'\u003e03\\/Jun\\/16 13:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOK I found the bug ... it\'s sneaky \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eIn \u003ctt\u003eBooleanScorer.scoreWindowSingleScorer\u003c\\/tt\u003e, we try to \\\"reset the scorer that should be used for the general case\\\" by calling \u003ctt\u003ecollector.setScorer(fakeScorer)\u003c\\/tt\u003e.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe problem is \u003ctt\u003ecollector\u003c\\/tt\u003e at that point is the \u003ctt\u003esingleClauseCollector\u003c\\/tt\u003e not the original collector ... I think this attached patch fixes it.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15314070_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15314070_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jun\\/16 13:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-03T13:06:29+0000\'\u003e03\\/Jun\\/16 13:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    OK I found the bug ... it\'s sneaky   \\n\\n In  BooleanScorer.scoreWindowSingleScorer , we try to \\\"reset the scorer that should be used for the general case\\\" by calling  collector.setScorer(fakeScorer) . \\n\\n The problem is  collector  at that point is the  singleClauseCollector  not the original collector ... I think this attached patch fixes it.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15314149\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15314149&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15314149\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15314149_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15314149_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jun\\/16 14:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-03T14:06:24+0000\'\u003e03\\/Jun\\/16 14:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=rcmuir\\\" class=\\\"user-hover\\\" rel=\\\"rcmuir\\\"\u003eRobert Muir\u003c\\/a\u003e pointed out that \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-7138\\\" title=\\\"TestMinShouldMatch2 assertion failure\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-7138\\\"\u003e\u003cdel\u003eLUCENE-7138\u003c\\/del\u003e\u003c\\/a\u003e is likely the same bug ... I\'ll confirm.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15314149_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15314149_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jun\\/16 14:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-03T14:06:24+0000\'\u003e03\\/Jun\\/16 14:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Robert Muir  pointed out that   LUCENE-7138   is likely the same bug ... I\'ll confirm.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15314472\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15314472&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15314472\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_15314472_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15314472_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jun\\/16 17:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-03T17:47:42+0000\'\u003e03\\/Jun\\/16 17:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ethanks for digging mike!\u003c\\/p\u003e\\n\\n\u003cp\u003ethe lsat patch you attached only included \\\"modified\\\" files, not the \\\"added\\\" files from previous patches, so it was missing the new tests.  At first i though maybe that was intentional on your part, that once you had diagnosed the root cause you had modified an existing test to include some checks for this specific situation so we wouldn\'t need my the crufty TestBooleanScoreConsistency with it\'s hardcoded data that we probably can\'t commit as is anyway &#8211; but i couldn\'t find any test modifications you had made to reliably reproduce this problem.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m attaching a unified patch that inlcudes all the previous test code along with mike\'s fixes ... but obviously we still need to improve this test to not include this user data (see nocommit) ... i\'ll work on that.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_15314472_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15314472_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jun\\/16 17:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-03T17:47:42+0000\'\u003e03\\/Jun\\/16 17:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    thanks for digging mike! \\n\\n the lsat patch you attached only included \\\"modified\\\" files, not the \\\"added\\\" files from previous patches, so it was missing the new tests.  At first i though maybe that was intentional on your part, that once you had diagnosed the root cause you had modified an existing test to include some checks for this specific situation so we wouldn\'t need my the crufty TestBooleanScoreConsistency with it\'s hardcoded data that we probably can\'t commit as is anyway &#8211; but i couldn\'t find any test modifications you had made to reliably reproduce this problem. \\n\\n I\'m attaching a unified patch that inlcudes all the previous test code along with mike\'s fixes ... but obviously we still need to improve this test to not include this user data (see nocommit) ... i\'ll work on that.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15314505\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15314505&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15314505\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_15314505_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15314505_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jun\\/16 18:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-03T18:07:22+0000\'\u003e03\\/Jun\\/16 18:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e10:21 &lt;@hoss:#lucene-dev&gt; mikemccand: ping?\\n...\\n10:44 &lt;@mikemccand:#lucene-dev&gt; hoss: here\\n10:45 &lt;@hoss:#lucene-dev&gt; oh yeah ... just writting up a jira response ... i think you generated your patch just using \\\"git diff\\\" so it missed \\n                          the \\\"new\\\" test files?\\n10:45 &lt;@hoss:#lucene-dev&gt; i\'ve got a unified patch i\'m about to post, so we have both the fix andthe tests that reliably demonstrate the \\n                          problem\\n10:45 &lt;@mikemccand:#lucene-dev&gt; oh yeah sorry i did!\\n10:45 &lt;@mikemccand:#lucene-dev&gt; ++ thanks\\n10:46 &lt;@hoss:#lucene-dev&gt; no worries ... what i really wanted to ping you about was writting a better test\\n10:46 &lt;@hoss:#lucene-dev&gt; right now that test shouldn\'t be committed as is -- data fro ma user i\'m certain we don\'t have rights to\\n10:46 &lt;@mikemccand:#lucene-dev&gt; ahh yeah that should be fun :)\\n10:46 &lt;@mikemccand:#lucene-dev&gt; yeah i saw the comment about that ...\\n10:46 &lt;@hoss:#lucene-dev&gt; i\'m wondering if you could give me some pointers on the hueristics that lead to this optimizatio, so i can try to \\n                          write a tighter test case that hits it?\\n10:46 &lt;@hoss:#lucene-dev&gt; (to prevent a regression)\\n10:46 &lt;@mikemccand:#lucene-dev&gt; ok lemme try\\n10:47 &lt;@mikemccand:#lucene-dev&gt; right, we need a test\\n10:47 &lt;@mikemccand:#lucene-dev&gt; you need a 2 clause BQ\\n10:47 &lt;@mikemccand:#lucene-dev&gt; where a document with docID 0 -- 2047 matches only one term\\n10:47 &lt;@mikemccand:#lucene-dev&gt; and then another docID &gt; 2047 matches two terms\\n10:47 &lt;@mikemccand:#lucene-dev&gt; in that case the 2nd document should get the wrong (disagrees w\\/ explain) score i think\\n10:48 &lt;@hoss:#lucene-dev&gt; docID 0 .. as in literally docID 0 in teh index? ... it was that magical?\\n10:48 &lt;@mikemccand:#lucene-dev&gt; yes!\\n10:48 &lt;@mikemccand:#lucene-dev&gt; BS1 scores in windows of 2048 documents\\n10:48 &lt;@hoss:#lucene-dev&gt; holy fuck that\'s an edge case\\n10:48 &lt;@mikemccand:#lucene-dev&gt; the bug is that if 1 window uses an \\\"optimization\\\" because only 1 clauses matches ...\\n10:48 &lt;@mikemccand:#lucene-dev&gt; then that optimization messes up the state\\n10:48 &lt;@mikemccand:#lucene-dev&gt; and subsequent windows get the wrong scores\\n10:48 &lt;@mikemccand:#lucene-dev&gt; yeah serious edge case :)\\n10:48 &lt;@mikemccand:#lucene-dev&gt; i\'m glad you pushed on this :)\\n10:48 &lt;@mikemccand:#lucene-dev&gt; thanks\\n10:49 &lt;@hoss:#lucene-dev&gt; oh ... so like, doc ID 2049 matching, but no other doc matches until after 2048 * 2 would also hit this bug?\\n10:49 &lt;@hoss:#lucene-dev&gt; actually ... it sounds like any doc matching as long as it\'s the only doc in it\'s window, and then another doc in a \\n                          alater window?\\n10:49 &lt;@mikemccand:#lucene-dev&gt; right!\\n10:50 &lt;@mikemccand:#lucene-dev&gt; (where that later window\'s doc had more than 1 clause matching)\\n10:50 &lt;@hoss:#lucene-dev&gt; ok .. so really, we just need more tests with lots of docs, so that we force matches across the windows ... because \\n                          2048 is hardcoded, not somethign we can randomize to small values via LTC\\n10:50 &lt;@mikemccand:#lucene-dev&gt; yeah ..\\n10:51 &lt;@hoss:#lucene-dev&gt; hmmm... why did forceMerge change things then?\\n10:51 &lt;@hoss:#lucene-dev&gt; with no deletions wy did the windows change?\\n10:51 &lt;@mikemccand:#lucene-dev&gt; hmmm i\'m not sure?\\n10:51 &lt;@mikemccand:#lucene-dev&gt; the forceMerge is crazy: the index already had one segment\\n10:51 &lt;@mikemccand:#lucene-dev&gt; at least for your first seed\\n10:52 &lt;@mikemccand:#lucene-dev&gt; yet forceMerge DID run, because CFS wanted to change\\n10:52 &lt;@mikemccand:#lucene-dev&gt; but this should not have altered the docID order\\n10:52 &lt;@mikemccand:#lucene-dev&gt; so yeah i can\'t explain why forceMerge \\\"matters\\\" here\\n10:53 &lt;@hoss:#lucene-dev&gt; and yet - if it wasn\'t for the forceMerge, the only indication of the bug would be that the Explanations don\'t match \\n                          -- unless we hardcoded scores in a test, which is hard for randomized data\\n10:53 &lt;@hoss:#lucene-dev&gt; nee impossible\\n10:54 &lt;@mikemccand:#lucene-dev&gt; yes\\n10:57 &lt;@hoss:#lucene-dev&gt; weird.... maybe there\'s another factor to the optimization we need to consider? ... i\'ll let you ponder while i try \\n                          to figure out a test bsaed on what we know :)\\n10:57 &lt;@mikemccand:#lucene-dev&gt; LOL ok\\n...\\n11:04 &lt;@hoss:#lucene-dev&gt; mikemccand: BTW, you mind if i transcribe this conv to jira so i don\'t lose it?\\n11:04 &lt;@mikemccand:#lucene-dev&gt; ++ great\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_15314505_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15314505_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jun\\/16 18:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-03T18:07:22+0000\'\u003e03\\/Jun\\/16 18:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                   \\n  \\n 10:21 &lt;@hoss:#lucene-dev&gt; mikemccand: ping?\\n...\\n10:44 &lt;@mikemccand:#lucene-dev&gt; hoss: here\\n10:45 &lt;@hoss:#lucene-dev&gt; oh yeah ... just writting up a jira response ... i think you generated your patch just using \\\"git diff\\\" so it missed \\n                          the \\\"new\\\" test files?\\n10:45 &lt;@hoss:#lucene-dev&gt; i\'ve got a unified patch i\'m about to post, so we have both the fix andthe tests that reliably demonstrate the \\n                          problem\\n10:45 &lt;@mikemccand:#lucene-dev&gt; oh yeah sorry i did!\\n10:45 &lt;@mikemccand:#lucene-dev&gt; ++ thanks\\n10:46 &lt;@hoss:#lucene-dev&gt; no worries ... what i really wanted to ping you about was writting a better test\\n10:46 &lt;@hoss:#lucene-dev&gt; right now that test shouldn\'t be committed as is -- data fro ma user i\'m certain we don\'t have rights to\\n10:46 &lt;@mikemccand:#lucene-dev&gt; ahh yeah that should be fun :)\\n10:46 &lt;@mikemccand:#lucene-dev&gt; yeah i saw the comment about that ...\\n10:46 &lt;@hoss:#lucene-dev&gt; i\'m wondering if you could give me some pointers on the hueristics that lead to this optimizatio, so i can try to \\n                          write a tighter test case that hits it?\\n10:46 &lt;@hoss:#lucene-dev&gt; (to prevent a regression)\\n10:46 &lt;@mikemccand:#lucene-dev&gt; ok lemme try\\n10:47 &lt;@mikemccand:#lucene-dev&gt; right, we need a test\\n10:47 &lt;@mikemccand:#lucene-dev&gt; you need a 2 clause BQ\\n10:47 &lt;@mikemccand:#lucene-dev&gt; where a document with docID 0 -- 2047 matches only one term\\n10:47 &lt;@mikemccand:#lucene-dev&gt; and then another docID &gt; 2047 matches two terms\\n10:47 &lt;@mikemccand:#lucene-dev&gt; in that case the 2nd document should get the wrong (disagrees w\\/ explain) score i think\\n10:48 &lt;@hoss:#lucene-dev&gt; docID 0 .. as in literally docID 0 in teh index? ... it was that magical?\\n10:48 &lt;@mikemccand:#lucene-dev&gt; yes!\\n10:48 &lt;@mikemccand:#lucene-dev&gt; BS1 scores in windows of 2048 documents\\n10:48 &lt;@hoss:#lucene-dev&gt; holy fuck that\'s an edge case\\n10:48 &lt;@mikemccand:#lucene-dev&gt; the bug is that if 1 window uses an \\\"optimization\\\" because only 1 clauses matches ...\\n10:48 &lt;@mikemccand:#lucene-dev&gt; then that optimization messes up the state\\n10:48 &lt;@mikemccand:#lucene-dev&gt; and subsequent windows get the wrong scores\\n10:48 &lt;@mikemccand:#lucene-dev&gt; yeah serious edge case :)\\n10:48 &lt;@mikemccand:#lucene-dev&gt; i\'m glad you pushed on this :)\\n10:48 &lt;@mikemccand:#lucene-dev&gt; thanks\\n10:49 &lt;@hoss:#lucene-dev&gt; oh ... so like, doc ID 2049 matching, but no other doc matches until after 2048 * 2 would also hit this bug?\\n10:49 &lt;@hoss:#lucene-dev&gt; actually ... it sounds like any doc matching as long as it\'s the only doc in it\'s window, and then another doc in a \\n                          alater window?\\n10:49 &lt;@mikemccand:#lucene-dev&gt; right!\\n10:50 &lt;@mikemccand:#lucene-dev&gt; (where that later window\'s doc had more than 1 clause matching)\\n10:50 &lt;@hoss:#lucene-dev&gt; ok .. so really, we just need more tests with lots of docs, so that we force matches across the windows ... because \\n                          2048 is hardcoded, not somethign we can randomize to small values via LTC\\n10:50 &lt;@mikemccand:#lucene-dev&gt; yeah ..\\n10:51 &lt;@hoss:#lucene-dev&gt; hmmm... why did forceMerge change things then?\\n10:51 &lt;@hoss:#lucene-dev&gt; with no deletions wy did the windows change?\\n10:51 &lt;@mikemccand:#lucene-dev&gt; hmmm i\'m not sure?\\n10:51 &lt;@mikemccand:#lucene-dev&gt; the forceMerge is crazy: the index already had one segment\\n10:51 &lt;@mikemccand:#lucene-dev&gt; at least for your first seed\\n10:52 &lt;@mikemccand:#lucene-dev&gt; yet forceMerge DID run, because CFS wanted to change\\n10:52 &lt;@mikemccand:#lucene-dev&gt; but this should not have altered the docID order\\n10:52 &lt;@mikemccand:#lucene-dev&gt; so yeah i can\'t explain why forceMerge \\\"matters\\\" here\\n10:53 &lt;@hoss:#lucene-dev&gt; and yet - if it wasn\'t for the forceMerge, the only indication of the bug would be that the Explanations don\'t match \\n                          -- unless we hardcoded scores in a test, which is hard for randomized data\\n10:53 &lt;@hoss:#lucene-dev&gt; nee impossible\\n10:54 &lt;@mikemccand:#lucene-dev&gt; yes\\n10:57 &lt;@hoss:#lucene-dev&gt; weird.... maybe there\'s another factor to the optimization we need to consider? ... i\'ll let you ponder while i try \\n                          to figure out a test bsaed on what we know :)\\n10:57 &lt;@mikemccand:#lucene-dev&gt; LOL ok\\n...\\n11:04 &lt;@hoss:#lucene-dev&gt; mikemccand: BTW, you mind if i transcribe this conv to jira so i don\'t lose it?\\n11:04 &lt;@mikemccand:#lucene-dev&gt; ++ great\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15315242\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15315242&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15315242\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_15315242_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15315242_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jun\\/16 01:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-04T01:42:43+0000\'\u003e04\\/Jun\\/16 01:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\\n\u003cp\u003eOk, based on mike\'s clues, here are changes made in this new patch that (w\\/o mikes fix) help repro the bug more often...\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"panelContent\\\"\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eTestBoolean2\\n\\t\u003cul\u003e\\n\\t\\t\u003cli\u003erandomize usage of coord in all the queries tested\u003c\\/li\u003e\\n\\t\\t\u003cli\u003erandomly injects (empty) filler docs into the index to force matches to exist in diff buckets\\n\\t\\t\u003cul\u003e\\n\\t\\t\\t\u003cli\u003ethis required some changes to queriesTest to know how to compute the correct expDocNrs to pass to CheckHits\u003c\\/li\u003e\\n\\t\\t\u003c\\/ul\u003e\\n\\t\\t\u003c\\/li\u003e\\n\\t\\t\u003cli\u003eupdated the \\\"bigSearcher\\\" assertions to also compare the results from multiple Scorers\\n\\t\\t\u003cul\u003e\\n\\t\\t\\t\u003cli\u003ei never saw this actaully make a diff in terms of test fail\\/success, likely because of how bigSearcher is really only tacking stuff on to the end of the index, but since test was already comparing multiple scorers for the main index to try and find situations where BulkScorer would return diff results from the default Scorer it seemed like a good idea to check here as well.\u003c\\/li\u003e\\n\\t\\t\u003c\\/ul\u003e\\n\\t\\t\u003c\\/li\u003e\\n\\t\\t\u003cli\u003eadded a \\\"singleSegmentSearcher\\\" that has a copy of the main index that has been forceMerged to a single segment\u003c\\/li\u003e\\n\\t\\t\u003cli\u003eupdated queriesTest to also use CheckHits.checkHitsQuery to compare results from the main index with the singleSegmentSearcher\\n\\t\\t\u003cul\u003e\\n\\t\\t\\t\u003cli\u003ethis was inspired by the fact that in previous testing forceMerge(1) was changing the scores of documents even though there were no deletions, and Mike couldn\'t explain that.\u003c\\/li\u003e\\n\\t\\t\\t\u003cli\u003e\u003cfont color=\\\"red\\\"\u003eThis currently causes failures in some cases, even w\\/mikes fix applied - see below\u003c\\/font\u003e\u003c\\/li\u003e\\n\\t\\t\u003c\\/ul\u003e\\n\\t\\t\u003c\\/li\u003e\\n\\t\u003c\\/ul\u003e\\n\\t\u003c\\/li\u003e\\n\\t\u003cli\u003ereplaced TestSimpleExplanationsWithHeavyIDF with TestSimpleExplanationsWithFillerDocs\\n\\t\u003cul\u003e\\n\\t\\t\u003cli\u003enow the filler docs are injected in betwen existing docs\u003c\\/li\u003e\\n\\t\\t\u003cli\u003edpeending on a random boolean, all filler docs are either:\\n\\t\\t\u003cul\u003e\\n\\t\\t\\t\u003cli\u003eempty &#8211; so the queries from the super class tests aren\'t modified, just the expected docids\u003c\\/li\u003e\\n\\t\\t\\t\u003cli\u003efill of terms used in the queries (to muck with IDF like in the previous patch) &#8211; so the queries from the super class are also wrapped to exclude these filler docs\u003c\\/li\u003e\\n\\t\\t\u003c\\/ul\u003e\\n\\t\\t\u003c\\/li\u003e\\n\\t\u003c\\/ul\u003e\\n\\t\u003c\\/li\u003e\\n\\t\u003cli\u003eBaseExplanationTestCase\\n\\t\u003cul\u003e\\n\\t\\t\u003cli\u003eremoved some no-longer needed refactoring that was in early patch\u003c\\/li\u003e\\n\\t\\t\u003cli\u003eadded some randomization to wrap any query tested in a BooleanQuery with a \\\"SHOULD\\\" clause that matches nothing (to force more interesting coord cases)\u003c\\/li\u003e\\n\\t\u003c\\/ul\u003e\\n\\t\u003c\\/li\u003e\\n\\t\u003cli\u003eremoved TestBooleanScoreConsistency and RajeshData.txt since they are no longer needed to reproduce he underlying bug easily\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e(NOTE: i experimented with injecting empty filler docs in TestMinShouldMatch2 as well, but it slowd the test WAAAAY down &#8211; ie: close to 5 minutes on my machine.   I\'m guessing because of how it uses \\\"SlowMinShouldMatchScorer\\\" ... so i abandoned those changes.  Might be worth considering adding those back if someone sees a way to prevent it from being so dang slow)\u003c\\/p\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eExcept for the above note in red (about TestBoolean2 failing in some cases when comparing the hits+scores between the original index and a copy of that index merged down to a single segment) mike\'s fix resolved every failure I was able to generate with these test changes.\u003c\\/p\u003e\\n\\n\u003cp\u003eI suspect that either:\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eI\'m making some mistaken assumption in the validity of comparing scores between indexes like that (i don\'t think  i am based on mikes comments from IRC yesterday)\u003c\\/li\u003e\\n\\t\u003cli\u003eThere is a bug in my changes related to creating a \\\"singleSegmentSearcher\\\" that can be compared to \\\"searcher\\\" (extremely possible)\u003c\\/li\u003e\\n\\t\u003cli\u003eThere is still another, as yet undiagnosed, bug somwhere in BooleanQuery\\/BooleanScorer that causes discrepencies between otherwise equivilent indexes based on segment boundaries (seems plausible given mikes comments on IRC this morning that he couldn\'t think of any reason why the bug he identified would be affected by forceMerge)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eHere\'s an example of a failing seed with the current patch &#8211; note that based on the stack trace, both searchers produced a list of results that match the expected docids in the expected order, but the scores (for at least the first docid matched) are not equivilent...\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e   [junit4] &lt;JUnit4&gt; says \\u041F\\u0440\\u0438\\u0432\\u0435\\u0442! Master seed: 1205E6391E501C49\\n   [junit4] Executing 1 suite with 1 JVM.\\n   [junit4] \\n   [junit4] Started J0 PID(28313@localhost).\\n   [junit4] Suite: org.apache.lucene.search.TestBoolean2\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestBoolean2 -Dtests.method=testQueries10 -Dtests.seed=1205E6391E501C49 -Dtests.slow=true -Dtests.locale=zh-HK -Dtests.timezone=Australia\\/ACT -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\\n   [junit4] FAILURE 0.04s | TestBoolean2.testQueries10 &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: junit.framework.AssertionFailedError: Hit 0, doc nrs 2 and 2\\n   [junit4]    &gt; unequal       : 0.5625806\\n   [junit4]    &gt;            and: 0.42193544\\n   [junit4]    &gt; for query:+field:w3 +field:xx +field:w2 field:zz\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([1205E6391E501C49:E53B440260B039AE]:0)\\n   [junit4]    &gt; \\tat junit.framework.Assert.fail(Assert.java:50)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.CheckHits.checkEqual(CheckHits.java:223)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.CheckHits.checkHitsQuery(CheckHits.java:205)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBoolean2.queriesTest(TestBoolean2.java:196)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBoolean2.testQueries10(TestBoolean2.java:329)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]   2&gt; NOTE: test params are: codec=CheapBastard, sim=RandomSimilarity(queryNorm=true,coord=no): {field=DFR I(ne)LZ(0.3), field2=DFR I(n)2}, locale=zh-HK, timezone=Australia\\/ACT\\n   [junit4]   2&gt; NOTE: Linux 3.19.0-51-generic amd64\\/Oracle Corporation 1.8.0_74 (64-bit)\\/cpus=4,threads=1,free=281959656,total=315097088\\n   [junit4]   2&gt; NOTE: All tests run in this JVM: [TestBoolean2]\\n   [junit4] Completed [1\\/1 (1!)] in 1.36s, 1 test, 1 failure &lt;&lt;&lt; FAILURES!\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eBut not every seed fails, example...\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e   [junit4] &lt;JUnit4&gt; says \\u05E9\\u05DC\\u05D5\\u05DD! Master seed: 153FC5D5F31DB0CE\\n   [junit4] Executing 1 suite with 1 JVM.\\n   [junit4] \\n   [junit4] Started J0 PID(28077@localhost).\\n   [junit4] Suite: org.apache.lucene.search.TestBoolean2\\n   [junit4] OK      0.10s | TestBoolean2.testQueries09\\n   [junit4] OK      0.04s | TestBoolean2.testQueries05\\n   [junit4] OK      0.03s | TestBoolean2.testQueries08\\n   [junit4] OK      0.04s | TestBoolean2.testQueries06\\n   [junit4] OK      0.02s | TestBoolean2.testQueries02\\n   [junit4] OK      0.02s | TestBoolean2.testQueries10\\n   [junit4] OK      0.04s | TestBoolean2.testQueries03\\n   [junit4] OK      0.01s | TestBoolean2.testQueries01\\n   [junit4] OK      0.01s | TestBoolean2.testQueries04\\n   [junit4] OK      0.01s | TestBoolean2.testQueries07\\n   [junit4] OK      3.68s | TestBoolean2.testRandomQueries\\n   [junit4] Completed [1\\/1] in 29.83s, 11 tests\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_15315242_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15315242_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jun\\/16 01:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-04T01:42:43+0000\'\u003e04\\/Jun\\/16 01:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                   \\n Ok, based on mike\'s clues, here are changes made in this new patch that (w\\/o mikes fix) help repro the bug more often... \\n\\n  \\n \\n\\t TestBoolean2\\n\\t \\n\\t\\t randomize usage of coord in all the queries tested \\n\\t\\t randomly injects (empty) filler docs into the index to force matches to exist in diff buckets\\n\\t\\t \\n\\t\\t\\t this required some changes to queriesTest to know how to compute the correct expDocNrs to pass to CheckHits \\n\\t\\t \\n\\t\\t \\n\\t\\t updated the \\\"bigSearcher\\\" assertions to also compare the results from multiple Scorers\\n\\t\\t \\n\\t\\t\\t i never saw this actaully make a diff in terms of test fail\\/success, likely because of how bigSearcher is really only tacking stuff on to the end of the index, but since test was already comparing multiple scorers for the main index to try and find situations where BulkScorer would return diff results from the default Scorer it seemed like a good idea to check here as well. \\n\\t\\t \\n\\t\\t \\n\\t\\t added a \\\"singleSegmentSearcher\\\" that has a copy of the main index that has been forceMerged to a single segment \\n\\t\\t updated queriesTest to also use CheckHits.checkHitsQuery to compare results from the main index with the singleSegmentSearcher\\n\\t\\t \\n\\t\\t\\t this was inspired by the fact that in previous testing forceMerge(1) was changing the scores of documents even though there were no deletions, and Mike couldn\'t explain that. \\n\\t\\t\\t  This currently causes failures in some cases, even w\\/mikes fix applied - see below  \\n\\t\\t \\n\\t\\t \\n\\t \\n\\t \\n\\t replaced TestSimpleExplanationsWithHeavyIDF with TestSimpleExplanationsWithFillerDocs\\n\\t \\n\\t\\t now the filler docs are injected in betwen existing docs \\n\\t\\t dpeending on a random boolean, all filler docs are either:\\n\\t\\t \\n\\t\\t\\t empty &#8211; so the queries from the super class tests aren\'t modified, just the expected docids \\n\\t\\t\\t fill of terms used in the queries (to muck with IDF like in the previous patch) &#8211; so the queries from the super class are also wrapped to exclude these filler docs \\n\\t\\t \\n\\t\\t \\n\\t \\n\\t \\n\\t BaseExplanationTestCase\\n\\t \\n\\t\\t removed some no-longer needed refactoring that was in early patch \\n\\t\\t added some randomization to wrap any query tested in a BooleanQuery with a \\\"SHOULD\\\" clause that matches nothing (to force more interesting coord cases) \\n\\t \\n\\t \\n\\t removed TestBooleanScoreConsistency and RajeshData.txt since they are no longer needed to reproduce he underlying bug easily \\n \\n\\n\\n (NOTE: i experimented with injecting empty filler docs in TestMinShouldMatch2 as well, but it slowd the test WAAAAY down &#8211; ie: close to 5 minutes on my machine.   I\'m guessing because of how it uses \\\"SlowMinShouldMatchScorer\\\" ... so i abandoned those changes.  Might be worth considering adding those back if someone sees a way to prevent it from being so dang slow) \\n  \\n\\n Except for the above note in red (about TestBoolean2 failing in some cases when comparing the hits+scores between the original index and a copy of that index merged down to a single segment) mike\'s fix resolved every failure I was able to generate with these test changes. \\n\\n I suspect that either: \\n \\n\\t I\'m making some mistaken assumption in the validity of comparing scores between indexes like that (i don\'t think  i am based on mikes comments from IRC yesterday) \\n\\t There is a bug in my changes related to creating a \\\"singleSegmentSearcher\\\" that can be compared to \\\"searcher\\\" (extremely possible) \\n\\t There is still another, as yet undiagnosed, bug somwhere in BooleanQuery\\/BooleanScorer that causes discrepencies between otherwise equivilent indexes based on segment boundaries (seems plausible given mikes comments on IRC this morning that he couldn\'t think of any reason why the bug he identified would be affected by forceMerge) \\n \\n\\n\\n Here\'s an example of a failing seed with the current patch &#8211; note that based on the stack trace, both searchers produced a list of results that match the expected docids in the expected order, but the scores (for at least the first docid matched) are not equivilent... \\n\\n  \\n    [junit4] &lt;JUnit4&gt; says \\u041F\\u0440\\u0438\\u0432\\u0435\\u0442! Master seed: 1205E6391E501C49\\n   [junit4] Executing 1 suite with 1 JVM.\\n   [junit4] \\n   [junit4] Started J0 PID(28313@localhost).\\n   [junit4] Suite: org.apache.lucene.search.TestBoolean2\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestBoolean2 -Dtests.method=testQueries10 -Dtests.seed=1205E6391E501C49 -Dtests.slow=true -Dtests.locale=zh-HK -Dtests.timezone=Australia\\/ACT -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\\n   [junit4] FAILURE 0.04s | TestBoolean2.testQueries10 &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: junit.framework.AssertionFailedError: Hit 0, doc nrs 2 and 2\\n   [junit4]    &gt; unequal       : 0.5625806\\n   [junit4]    &gt;            and: 0.42193544\\n   [junit4]    &gt; for query:+field:w3 +field:xx +field:w2 field:zz\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([1205E6391E501C49:E53B440260B039AE]:0)\\n   [junit4]    &gt; \\tat junit.framework.Assert.fail(Assert.java:50)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.CheckHits.checkEqual(CheckHits.java:223)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.CheckHits.checkHitsQuery(CheckHits.java:205)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBoolean2.queriesTest(TestBoolean2.java:196)\\n   [junit4]    &gt; \\tat org.apache.lucene.search.TestBoolean2.testQueries10(TestBoolean2.java:329)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]   2&gt; NOTE: test params are: codec=CheapBastard, sim=RandomSimilarity(queryNorm=true,coord=no): {field=DFR I(ne)LZ(0.3), field2=DFR I(n)2}, locale=zh-HK, timezone=Australia\\/ACT\\n   [junit4]   2&gt; NOTE: Linux 3.19.0-51-generic amd64\\/Oracle Corporation 1.8.0_74 (64-bit)\\/cpus=4,threads=1,free=281959656,total=315097088\\n   [junit4]   2&gt; NOTE: All tests run in this JVM: [TestBoolean2]\\n   [junit4] Completed [1\\/1 (1!)] in 1.36s, 1 test, 1 failure &lt;&lt;&lt; FAILURES!\\n \\n  \\n\\n But not every seed fails, example... \\n\\n  \\n    [junit4] &lt;JUnit4&gt; says \\u05E9\\u05DC\\u05D5\\u05DD! Master seed: 153FC5D5F31DB0CE\\n   [junit4] Executing 1 suite with 1 JVM.\\n   [junit4] \\n   [junit4] Started J0 PID(28077@localhost).\\n   [junit4] Suite: org.apache.lucene.search.TestBoolean2\\n   [junit4] OK      0.10s | TestBoolean2.testQueries09\\n   [junit4] OK      0.04s | TestBoolean2.testQueries05\\n   [junit4] OK      0.03s | TestBoolean2.testQueries08\\n   [junit4] OK      0.04s | TestBoolean2.testQueries06\\n   [junit4] OK      0.02s | TestBoolean2.testQueries02\\n   [junit4] OK      0.02s | TestBoolean2.testQueries10\\n   [junit4] OK      0.04s | TestBoolean2.testQueries03\\n   [junit4] OK      0.01s | TestBoolean2.testQueries01\\n   [junit4] OK      0.01s | TestBoolean2.testQueries04\\n   [junit4] OK      0.01s | TestBoolean2.testQueries07\\n   [junit4] OK      3.68s | TestBoolean2.testRandomQueries\\n   [junit4] Completed [1\\/1] in 29.83s, 11 tests\\n \\n  \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15315851\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15315851&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15315851\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15315851_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15315851_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/16 11:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-05T11:54:14+0000\'\u003e05\\/Jun\\/16 11:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\" class=\\\"user-hover\\\" rel=\\\"hossman\\\"\u003eHoss Man\u003c\\/a\u003e, I can reproduce that failure with your patch ... I\'ll dig.  It is baffling \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15315851_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15315851_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/16 11:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-05T11:54:14+0000\'\u003e05\\/Jun\\/16 11:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks  Hoss Man , I can reproduce that failure with your patch ... I\'ll dig.  It is baffling                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15315854\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15315854&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15315854\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15315854_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15315854_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/16 12:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-05T12:00:51+0000\'\u003e05\\/Jun\\/16 12:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHmm, \u003ctt\u003etestQueries10\u003c\\/tt\u003e changes the similarity of \u003ctt\u003esearcher\u003c\\/tt\u003e temporarily, but fails to also change \u003ctt\u003esingleSegmentSearcher\u003c\\/tt\u003e\'s similarity ... when I fix that, then this seed passes.\u003c\\/p\u003e\\n\\n\u003cp\u003eBut then on beasting I see other new failures ... digging.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15315854_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15315854_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/16 12:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-05T12:00:51+0000\'\u003e05\\/Jun\\/16 12:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hmm,  testQueries10  changes the similarity of  searcher  temporarily, but fails to also change  singleSegmentSearcher \'s similarity ... when I fix that, then this seed passes. \\n\\n But then on beasting I see other new failures ... digging.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15315856\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15315856&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15315856\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15315856_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15315856_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/16 12:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-05T12:11:32+0000\'\u003e05\\/Jun\\/16 12:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOK I found another test bug: you have to use a \u003ctt\u003eLogMergePolicy\u003c\\/tt\u003e when building the single segment searcher else the docIDs can be jumbled since otherwise merge policies are allowed (and, do!) to merge segments out of order.\u003c\\/p\u003e\\n\\n\u003cp\u003eMaybe this also explains the original \\\"force merge changed results\\\" issue?  Except, on the one seed I was debugging before, the original index was a single segment, so no matter the merge policy, the docID order would not change ...\u003c\\/p\u003e\\n\\n\u003cp\u003eHere\'s Hoss\'s last patch with those two test bugs fixed ... seems to survive beasting of \u003ctt\u003eTestBoolean2\u003c\\/tt\u003e for a while, and Lucene\'s core tests passed once.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15315856_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15315856_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/16 12:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-05T12:11:32+0000\'\u003e05\\/Jun\\/16 12:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    OK I found another test bug: you have to use a  LogMergePolicy  when building the single segment searcher else the docIDs can be jumbled since otherwise merge policies are allowed (and, do!) to merge segments out of order. \\n\\n Maybe this also explains the original \\\"force merge changed results\\\" issue?  Except, on the one seed I was debugging before, the original index was a single segment, so no matter the merge policy, the docID order would not change ... \\n\\n Here\'s Hoss\'s last patch with those two test bugs fixed ... seems to survive beasting of  TestBoolean2  for a while, and Lucene\'s core tests passed once.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15315857\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15315857&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15315857\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15315857_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15315857_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/16 12:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-05T12:13:44+0000\'\u003e05\\/Jun\\/16 12:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think this bug is serious enough that we should be sure to get it into 6.1.0 ... I marked blocker.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15315857_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15315857_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/16 12:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-05T12:13:44+0000\'\u003e05\\/Jun\\/16 12:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I think this bug is serious enough that we should be sure to get it into 6.1.0 ... I marked blocker.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15315859\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15315859&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15315859\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15315859_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15315859_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/16 12:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-05T12:15:54+0000\'\u003e05\\/Jun\\/16 12:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI also confirmed that if I revert the fix in \u003ctt\u003eBooleanScorer.java\u003c\\/tt\u003e that \u003ctt\u003eTestBoolean2\u003c\\/tt\u003e does fail on some seeds ... thanks \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=hossman_lucene%40fucit.org\\\" class=\\\"user-hover\\\" rel=\\\"hossman_lucene@fucit.org\\\"\u003eChris Hostetter (Unused)\u003c\\/a\u003e!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15315859_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15315859_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/16 12:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-05T12:15:54+0000\'\u003e05\\/Jun\\/16 12:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I also confirmed that if I revert the fix in  BooleanScorer.java  that  TestBoolean2  does fail on some seeds ... thanks  Chris Hostetter (Unused) !              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15316427\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15316427&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15316427\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jpountz\\\" id=\\\"commentauthor_15316427_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jpountz\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Adrien Grand\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15316427_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Jun\\/16 12:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-06T12:36:44+0000\'\u003e06\\/Jun\\/16 12:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\" class=\\\"user-hover\\\" rel=\\\"mikemccand\\\"\u003eMichael McCandless\u003c\\/a\u003e and Hoss for digging this sneaky bug! +1 to the patch\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eI think this bug is serious enough that we should be sure to get it into 6.1.0 ... I marked blocker.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003e+1\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jpountz\\\" id=\\\"commentauthor_15316427_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jpountz\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Adrien Grand\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15316427_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Jun\\/16 12:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-06T12:36:44+0000\'\u003e06\\/Jun\\/16 12:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks  Michael McCandless  and Hoss for digging this sneaky bug! +1 to the patch \\n\\n  I think this bug is serious enough that we should be sure to get it into 6.1.0 ... I marked blocker.  \\n\\n +1              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15316481\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15316481&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15316481\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15316481_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15316481_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Jun\\/16 13:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-06T13:18:27+0000\'\u003e06\\/Jun\\/16 13:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\" class=\\\"user-hover\\\" rel=\\\"jpountz\\\"\u003eAdrien Grand\u003c\\/a\u003e and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\" class=\\\"user-hover\\\" rel=\\\"hossman\\\"\u003eHoss Man\u003c\\/a\u003e, I\'ll commit the last patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15316481_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15316481_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Jun\\/16 13:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-06T13:18:27+0000\'\u003e06\\/Jun\\/16 13:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks  Adrien Grand  and  Hoss Man , I\'ll commit the last patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15316561\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15316561&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15316561\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15316561_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15316561_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Jun\\/16 14:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-06T14:35:51+0000\'\u003e06\\/Jun\\/16 14:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit c8570ed821654cdce5f92ae17d06a21f242524e2 in lucene-solr\'s branch refs\\/heads\\/master from Mike McCandless\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=c8570ed\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=c8570ed\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-7132\\\" title=\\\"BooleanQuery scores can be diff for same docs+sim when using coord (disagree with Explanation which doesn&#39;t change)\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-7132\\\"\u003e\u003cdel\u003eLUCENE-7132\u003c\\/del\u003e\u003c\\/a\u003e: BooleanQuery sometimes assigned the wrong score when ranges of documents had only one clause matching while other ranges had more than one clause matchng\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15316561_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15316561_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Jun\\/16 14:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-06T14:35:51+0000\'\u003e06\\/Jun\\/16 14:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit c8570ed821654cdce5f92ae17d06a21f242524e2 in lucene-solr\'s branch refs\\/heads\\/master from Mike McCandless \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=c8570ed  ] \\n\\n   LUCENE-7132  : BooleanQuery sometimes assigned the wrong score when ranges of documents had only one clause matching while other ranges had more than one clause matchng              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15316568\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15316568&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15316568\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15316568_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15316568_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Jun\\/16 14:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-06T14:40:57+0000\'\u003e06\\/Jun\\/16 14:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 5dfaf0392fcd3b7e4b529dce0cd1035b766880a7 in lucene-solr\'s branch refs\\/heads\\/branch_6x from Mike McCandless\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=5dfaf03\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=5dfaf03\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-7132\\\" title=\\\"BooleanQuery scores can be diff for same docs+sim when using coord (disagree with Explanation which doesn&#39;t change)\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-7132\\\"\u003e\u003cdel\u003eLUCENE-7132\u003c\\/del\u003e\u003c\\/a\u003e: BooleanQuery sometimes assigned the wrong score when ranges of documents had only one clause matching while other ranges had more than one clause matchng\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15316568_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15316568_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Jun\\/16 14:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-06T14:40:57+0000\'\u003e06\\/Jun\\/16 14:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 5dfaf0392fcd3b7e4b529dce0cd1035b766880a7 in lucene-solr\'s branch refs\\/heads\\/branch_6x from Mike McCandless \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=5dfaf03  ] \\n\\n   LUCENE-7132  : BooleanQuery sometimes assigned the wrong score when ranges of documents had only one clause matching while other ranges had more than one clause matchng              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15316569\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15316569&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15316569\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15316569_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15316569_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Jun\\/16 14:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-06T14:41:17+0000\'\u003e06\\/Jun\\/16 14:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks everyone.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_15316569_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15316569_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Jun\\/16 14:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-06T14:41:17+0000\'\u003e06\\/Jun\\/16 14:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks everyone.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15334281\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15334281&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15334281\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15334281_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15334281_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jun\\/16 17:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-16T17:48:19+0000\'\u003e16\\/Jun\\/16 17:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 77844e2591235bfc1944e901922f876c1d43c264 in lucene-solr\'s branch refs\\/heads\\/branch_5_5 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\" class=\\\"user-hover\\\" rel=\\\"steve_rowe\\\"\u003eSteve Rowe\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=77844e2\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=77844e2\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-7132\\\" title=\\\"BooleanQuery scores can be diff for same docs+sim when using coord (disagree with Explanation which doesn&#39;t change)\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-7132\\\"\u003e\u003cdel\u003eLUCENE-7132\u003c\\/del\u003e\u003c\\/a\u003e: BooleanQuery sometimes assigned the wrong score when ranges of documents had only one clause matching while other ranges had more than one clause matchng\u003c\\/p\u003e\\n\\n\u003cp\u003e(Cherry-picked from commit 5dfaf0392fcd3b7e4b529dce0cd1035b766880a7)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15334281_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15334281_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jun\\/16 17:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-16T17:48:19+0000\'\u003e16\\/Jun\\/16 17:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 77844e2591235bfc1944e901922f876c1d43c264 in lucene-solr\'s branch refs\\/heads\\/branch_5_5 from  Steve Rowe  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=77844e2  ] \\n\\n   LUCENE-7132  : BooleanQuery sometimes assigned the wrong score when ranges of documents had only one clause matching while other ranges had more than one clause matchng \\n\\n (Cherry-picked from commit 5dfaf0392fcd3b7e4b529dce0cd1035b766880a7)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15334282\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15334282&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15334282\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15334282_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15334282_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jun\\/16 17:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-16T17:48:21+0000\'\u003e16\\/Jun\\/16 17:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 4f6bddefe3310e0361c9b57fd522781d82c89bb8 in lucene-solr\'s branch refs\\/heads\\/branch_5_5 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\" class=\\\"user-hover\\\" rel=\\\"steve_rowe\\\"\u003eSteve Rowe\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=4f6bdde\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=4f6bdde\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-7132\\\" title=\\\"BooleanQuery scores can be diff for same docs+sim when using coord (disagree with Explanation which doesn&#39;t change)\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-7132\\\"\u003e\u003cdel\u003eLUCENE-7132\u003c\\/del\u003e\u003c\\/a\u003e: Add 5.5.2 CHANGES entry\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15334282_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15334282_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jun\\/16 17:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-16T17:48:21+0000\'\u003e16\\/Jun\\/16 17:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 4f6bddefe3310e0361c9b57fd522781d82c89bb8 in lucene-solr\'s branch refs\\/heads\\/branch_5_5 from  Steve Rowe  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=4f6bdde  ] \\n\\n   LUCENE-7132  : Add 5.5.2 CHANGES entry              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15334283\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15334283&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15334283\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15334283_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15334283_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jun\\/16 17:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-16T17:48:22+0000\'\u003e16\\/Jun\\/16 17:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 707bcc9b3bdae7b2bb2b9a7d9e30e1aa348587cb in lucene-solr\'s branch refs\\/heads\\/branch_5x from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\" class=\\\"user-hover\\\" rel=\\\"steve_rowe\\\"\u003eSteve Rowe\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=707bcc9b\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=707bcc9b\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-7132\\\" title=\\\"BooleanQuery scores can be diff for same docs+sim when using coord (disagree with Explanation which doesn&#39;t change)\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-7132\\\"\u003e\u003cdel\u003eLUCENE-7132\u003c\\/del\u003e\u003c\\/a\u003e: BooleanQuery sometimes assigned the wrong score when ranges of documents had only one clause matching while other ranges had more than one clause matchng\u003c\\/p\u003e\\n\\n\u003cp\u003e(Cherry-picked from commit 5dfaf0392fcd3b7e4b529dce0cd1035b766880a7)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15334283_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15334283_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jun\\/16 17:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-16T17:48:22+0000\'\u003e16\\/Jun\\/16 17:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 707bcc9b3bdae7b2bb2b9a7d9e30e1aa348587cb in lucene-solr\'s branch refs\\/heads\\/branch_5x from  Steve Rowe  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=707bcc9b  ] \\n\\n   LUCENE-7132  : BooleanQuery sometimes assigned the wrong score when ranges of documents had only one clause matching while other ranges had more than one clause matchng \\n\\n (Cherry-picked from commit 5dfaf0392fcd3b7e4b529dce0cd1035b766880a7)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15334284\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15334284&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15334284\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15334284_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15334284_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jun\\/16 17:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-16T17:49:03+0000\'\u003e16\\/Jun\\/16 17:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 9f513d5569db42fe10b6580e69a754b7aa05f596 in lucene-solr\'s branch refs\\/heads\\/branch_6_0 from Mike McCandless\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=9f513d5\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=9f513d5\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-7132\\\" title=\\\"BooleanQuery scores can be diff for same docs+sim when using coord (disagree with Explanation which doesn&#39;t change)\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-7132\\\"\u003e\u003cdel\u003eLUCENE-7132\u003c\\/del\u003e\u003c\\/a\u003e: BooleanQuery sometimes assigned the wrong score when ranges of documents had only one clause matching while other ranges had more than one clause matchng\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15334284_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15334284_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jun\\/16 17:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-16T17:49:03+0000\'\u003e16\\/Jun\\/16 17:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 9f513d5569db42fe10b6580e69a754b7aa05f596 in lucene-solr\'s branch refs\\/heads\\/branch_6_0 from Mike McCandless \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=9f513d5  ] \\n\\n   LUCENE-7132  : BooleanQuery sometimes assigned the wrong score when ranges of documents had only one clause matching while other ranges had more than one clause matchng              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15866802\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-7132?focusedCommentId=15866802&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15866802\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jpountz\\\" id=\\\"commentauthor_15866802_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jpountz\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Adrien Grand\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15866802_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Feb\\/17 22:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-02-14T22:08:52+0000\'\u003e14\\/Feb\\/17 22:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eReopening to fix the fixVersion.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jpountz\\\" id=\\\"commentauthor_15866802_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jpountz\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Adrien Grand\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15866802_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Feb\\/17 22:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-02-14T22:08:52+0000\'\u003e14\\/Feb\\/17 22:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Reopening to fix the fixVersion.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310110";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/LUCENE\\/summary\\\" title=\\\"Lucene - Core\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310110&amp;avatarId=10061\\\" alt=\\\"Lucene - Core\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/LUCENE\\/summary\\\" title=\\\"Lucene - Core\\\"\u003eLucene - Core\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/LUCENE\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/LUCENE?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/LUCENE?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520246901278"> 
    <input type="hidden" title="jira.request.server.time" value="221"> 
    <input type="hidden" title="jira.request.id" value="648x94661374x4"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="1"> 
    <input type="hidden" title="db.reads.time.in.ms" value="37"> 
    <input type="hidden" title="db.conns.time.in.ms" value="45"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 648x94661374x4
	          REQUEST TIMESTAMP : [05/Mar/2018:10:48:21 +0000]
	               REQUEST TIME : 0.2210
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 1

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=28, elapsedTotal=37782326, elapsedMin=629777, elapsedMax=11327933, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=32, elapsedTotal=45692730, elapsedMin=655851, elapsedMax=11352185, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>