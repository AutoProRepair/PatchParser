<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|df50cca5b9a95731bf70bca660c629c6a68cd288|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"5e4eef103ab19a\"";
WRM._unparsedData["project-id"]="10594";
WRM._unparsedData["project-key"]="\"DERBY\"";
WRM._unparsedData["project-name"]="\"Derby\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="10594";
WRM._unparsedData["projectKey"]="\"DERBY\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="DERBY-1686"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[DERBY-1686] Grant/Revoke: Attempt to GRANT access to another user on a VIEW, created by the current user with only SELECT privilege on the base table does not fail - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[DERBY-1686] Grant/Revoke: Attempt to GRANT access to another user on a VIEW, created by the current user with only SELECT privilege on the base table does not fail - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/DERBY" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-1686">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="10594" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Derby'" src="https://issues.apache.org/jira/secure/projectavatar?pid=10594&amp;avatarId=10122"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/DERBY">Derby</a></li>
                 <li><a class="issue-link" data-issue-key="DERBY-1686" href="/jira/browse/DERBY-1686" id="key-val" rel="12347842">DERBY-1686</a></li>
                </ol>
                <h1 id="summary-val">Grant/Revoke: Attempt to GRANT access to another user on a VIEW, created by the current user with only SELECT privilege on the base table does not fail</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-1686"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/DERBY-1686/DERBY-1686.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/DERBY-1686/DERBY-1686.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/DERBY-1686/DERBY-1686.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/DERBY-1686/DERBY-1686.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="10.2.1.6 ">10.2.1.6</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.2.1.6" title="10.2.1.6 ">10.2.1.6</a>, <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.3.1.4" title="10.3.1.4 ">10.3.1.4</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+component+%3D+SQL" title="SQL ">SQL</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12347842-value">None</span> 
                   </div> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap"> 
                   <strong class="name">Environment:</strong> 
                   <div id="environment-val" class="value">
                     Any 
                   </div> 
                  </div> </li> 
                </ul> 
                <div id="customfieldmodule"> 
                 <div class="aui-tabs horizontal-tabs" id="customfield-tabs"> 
                  <div id="customfield-panel-1" class="tabs-pane active-pane"> 
                   <ul class="property-list"> 
                    <li id="rowForcustomfield_12310050" class="item"> 
                     <div class="wrap"> 
                      <strong title="Urgency" class="name">Urgency:</strong> 
                      <div id="customfield_12310050-val" class="value type-select" data-fieldtype="select" data-fieldtypecompletekey="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        Urgent 
                      </div> 
                     </div> </li> 
                   </ul> 
                  </div> 
                 </div>
                </div> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>With authentication on, attempting to execute a GRANT privilege to 'user3' on a VIEW created by the 'user2' - who has only SELECT privilege<br> on the base table created by 'user1' does not fail. This results in 'user3' getting access to the table created by 'user1' through the view.</p> 
                  <p>I remember a discussion on the list to raise an error when an attempt is execute a GRANT on the view, until WITH GRANT option is implemented.</p> 
                  <p>Here is the repro:</p> 
                  <p>java -cp derby.jar;.\derbytools.jar -Dderby.database.sqlAuthorization=true -Dij.exceptionTrace=true org.apache.derby.tools.ij select_table_no_privilege.sql<br> ij version 10.2<br> ij&gt; –<br> --create db as user1<br> –<br> connect 'jdbc:derby:grntrevokedb;create=true' user 'user1';<br> WARNING 01J14: SQL authorization is being used without first enabling authentication.<br> ij&gt; create table t1(id int);<br> 0 rows inserted/updated/deleted<br> ij&gt; insert into t1 values(100);<br> 1 row inserted/updated/deleted<br> ij&gt; insert into t1 values(200);<br> 1 row inserted/updated/deleted<br> ij&gt; –<br> --Grant select to user2<br> –<br> grant select on t1 to user2;<br> 0 rows inserted/updated/deleted<br> ij&gt; –<br> --Connect as user2<br> –<br> connect 'jdbc:derby:grntrevokedb;create=true' user 'user2';<br> WARNING 01J01: Database 'grntrevokedb' not created, connection made to existingdatabase instead.<br> WARNING 01J14: SQL authorization is being used without first enabling authentication.<br> ij(CONNECTION1)&gt; select * from user1.t1;<br> ID<br> -----------<br> 100<br> 200</p> 
                  <p>2 rows selected<br> ij(CONNECTION1)&gt; –<br> --Create view<br> –<br> create view v1 as select * from user1.t1;<br> 0 rows inserted/updated/deleted<br> ij(CONNECTION1)&gt; select * from v1;<br> ID<br> -----------<br> 100<br> 200</p> 
                  <p>2 rows selected<br> ij(CONNECTION1)&gt; –<br> --Grant select on view to user3. With the WITH GRANT option this should have failed<br> –<br> grant select on v1 to user3;<br> 0 rows inserted/updated/deleted<br> ij(CONNECTION1)&gt; –<br> --Connect as user3<br> –<br> connect 'jdbc:derby:grntrevokedb;create=true' user 'user3';<br> WARNING 01J01: Database 'grntrevokedb' not created, connection made to existing<br> database instead.<br> WARNING 01J14: SQL authorization is being used without first enabling authentication.<br> ij(CONNECTION2)&gt; –<br> --No select privilege on base table user1.t1, hence will FAIL<br> –<br> select * from user1.t1;<br> ERROR 28508: User 'USER3' does not have select permission on column 'ID' of table 'USER1'.'T1'.<br> ERROR 28508: User 'USER3' does not have select permission on column 'ID' of table 'USER1'.'T1'.<br> at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)<br> at org.apache.derby.iapi.sql.dictionary.StatementColumnPermission.check(Unknown Source)<br> at org.apache.derby.impl.sql.conn.GenericAuthorizer.authorize(Unknown Source)<br> at org.apache.derby.exe.ac295dc08bx010dx00a2x500ax00000011df100.fillResultSet(Unknown Source)<br> at org.apache.derby.exe.ac295dc08bx010dx00a2x500ax00000011df100.execute(Unknown Source)<br> at org.apache.derby.impl.sql.GenericActivationHolder.execute(Unknown Source)<br> at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)<br> at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)<br> at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)<br> at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)<br> at org.apache.derby.impl.tools.ij.ij.executeImmediate(Unknown Source)<br> at org.apache.derby.impl.tools.ij.utilMain.doCatch(Unknown Source)<br> at org.apache.derby.impl.tools.ij.utilMain.runScriptGuts(Unknown Source)</p> 
                  <p> at org.apache.derby.impl.tools.ij.utilMain.go(Unknown Source)<br> at org.apache.derby.impl.tools.ij.Main.go(Unknown Source)<br> at org.apache.derby.impl.tools.ij.Main.mainCore(Unknown Source)<br> at org.apache.derby.impl.tools.ij.Main14.main(Unknown Source)<br> at org.apache.derby.tools.ij.main(Unknown Source)<br> ij(CONNECTION2)&gt; –<br> --Select from the view on the base table should also FAIL, but does not<br> –<br> select * from user2.v1;<br> ID<br> -----------<br> 100<br> 200</p> 
                  <p>2 rows selected<br> ij(CONNECTION2)&gt;</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/DERBY-1686?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/DERBY-1686?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/DERBY-1686?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/DERBY-1686?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12338742" data-issue-id="12347842" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12338742/ASF.LICENSE.NOT.GRANTED--select_table_no_privilege.sql" draggable="true" data-downloadurl="application/octet-stream:ASF.LICENSE.NOT.GRANTED--select_table_no_privilege.sql:https://issues.apache.org/jira/secure/attachment/12338742/ASF.LICENSE.NOT.GRANTED--select_table_no_privilege.sql"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12338742/ASF.LICENSE.NOT.GRANTED--select_table_no_privilege.sql" title="Latest  12/Aug/06 04:46 - Rajesh Kartha" draggable="true" data-downloadurl="application/octet-stream:ASF.LICENSE.NOT.GRANTED--select_table_no_privilege.sql:https://issues.apache.org/jira/secure/attachment/12338742/ASF.LICENSE.NOT.GRANTED--select_table_no_privilege.sql">ASF.LICENSE.NOT.GRANTED--select_table_no_privilege.sql</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-08-12T04:46:35.000Z">12/Aug/06 04:46</time>
                   </dd>
                   <dd class="attachment-size">
                    0.8 kB
                   </dd>
                   <dd class="attachment-author">
                    Rajesh Kartha
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12339635" data-issue-id="12347842" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12339635/derby1686-trunk-diff01.txt" draggable="true" data-downloadurl="text/plain:derby1686-trunk-diff01.txt:https://issues.apache.org/jira/secure/attachment/12339635/derby1686-trunk-diff01.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12339635/derby1686-trunk-diff01.txt" title="Latest  26/Aug/06 06:42 - Yip Ng" draggable="true" data-downloadurl="text/plain:derby1686-trunk-diff01.txt:https://issues.apache.org/jira/secure/attachment/12339635/derby1686-trunk-diff01.txt">derby1686-trunk-diff01.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-08-26T06:42:53.000Z">26/Aug/06 06:42</time>
                   </dd>
                   <dd class="attachment-size">
                    9 kB
                   </dd>
                   <dd class="attachment-author">
                    Yip Ng
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12339678" data-issue-id="12347842" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12339678/derby1686-trunk-diff02.txt" draggable="true" data-downloadurl="text/plain:derby1686-trunk-diff02.txt:https://issues.apache.org/jira/secure/attachment/12339678/derby1686-trunk-diff02.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12339678/derby1686-trunk-diff02.txt" title="Latest  28/Aug/06 05:48 - Yip Ng" draggable="true" data-downloadurl="text/plain:derby1686-trunk-diff02.txt:https://issues.apache.org/jira/secure/attachment/12339678/derby1686-trunk-diff02.txt">derby1686-trunk-diff02.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-08-28T05:48:44.000Z">28/Aug/06 05:48</time>
                   </dd>
                   <dd class="attachment-size">
                    26 kB
                   </dd>
                   <dd class="attachment-author">
                    Yip Ng
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12339724" data-issue-id="12347842" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12339724/derby1686-trunk-diff03.txt" draggable="true" data-downloadurl="text/plain:derby1686-trunk-diff03.txt:https://issues.apache.org/jira/secure/attachment/12339724/derby1686-trunk-diff03.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12339724/derby1686-trunk-diff03.txt" title="Latest  28/Aug/06 23:25 - Yip Ng" draggable="true" data-downloadurl="text/plain:derby1686-trunk-diff03.txt:https://issues.apache.org/jira/secure/attachment/12339724/derby1686-trunk-diff03.txt">derby1686-trunk-diff03.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-08-28T23:25:11.000Z">28/Aug/06 23:25</time>
                   </dd>
                   <dd class="attachment-size">
                    26 kB
                   </dd>
                   <dd class="attachment-author">
                    Yip Ng
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12339839" data-issue-id="12347842" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12339839/derby1686-trunk-diff04.txt" draggable="true" data-downloadurl="text/plain:derby1686-trunk-diff04.txt:https://issues.apache.org/jira/secure/attachment/12339839/derby1686-trunk-diff04.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12339839/derby1686-trunk-diff04.txt" title="Latest  30/Aug/06 05:34 - Yip Ng" draggable="true" data-downloadurl="text/plain:derby1686-trunk-diff04.txt:https://issues.apache.org/jira/secure/attachment/12339839/derby1686-trunk-diff04.txt">derby1686-trunk-diff04.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-08-30T05:34:25.000Z">30/Aug/06 05:34</time>
                   </dd>
                   <dd class="attachment-size">
                    26 kB
                   </dd>
                   <dd class="attachment-author">
                    Yip Ng
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12339892" data-issue-id="12347842" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12339892/derby1686-trunk-diff05.txt" draggable="true" data-downloadurl="text/plain:derby1686-trunk-diff05.txt:https://issues.apache.org/jira/secure/attachment/12339892/derby1686-trunk-diff05.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12339892/derby1686-trunk-diff05.txt" title="Latest  30/Aug/06 18:10 - Yip Ng" draggable="true" data-downloadurl="text/plain:derby1686-trunk-diff05.txt:https://issues.apache.org/jira/secure/attachment/12339892/derby1686-trunk-diff05.txt">derby1686-trunk-diff05.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-08-30T18:10:45.000Z">30/Aug/06 18:10</time>
                   </dd>
                   <dd class="attachment-size">
                    30 kB
                   </dd>
                   <dd class="attachment-author">
                    Yip Ng
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12340076" data-issue-id="12347842" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12340076/derby1686-trunk-diff06.txt" draggable="true" data-downloadurl="text/plain:derby1686-trunk-diff06.txt:https://issues.apache.org/jira/secure/attachment/12340076/derby1686-trunk-diff06.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12340076/derby1686-trunk-diff06.txt" title="Latest  01/Sep/06 18:56 - Yip Ng" draggable="true" data-downloadurl="text/plain:derby1686-trunk-diff06.txt:https://issues.apache.org/jira/secure/attachment/12340076/derby1686-trunk-diff06.txt">derby1686-trunk-diff06.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-09-01T18:56:38.000Z">01/Sep/06 18:56</time>
                   </dd>
                   <dd class="attachment-size">
                    30 kB
                   </dd>
                   <dd class="attachment-author">
                    Yip Ng
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12340113" data-issue-id="12347842" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12340113/derby1686-trunk-diff07.txt" draggable="true" data-downloadurl="text/plain:derby1686-trunk-diff07.txt:https://issues.apache.org/jira/secure/attachment/12340113/derby1686-trunk-diff07.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12340113/derby1686-trunk-diff07.txt" title="Latest  03/Sep/06 18:33 - Yip Ng" draggable="true" data-downloadurl="text/plain:derby1686-trunk-diff07.txt:https://issues.apache.org/jira/secure/attachment/12340113/derby1686-trunk-diff07.txt">derby1686-trunk-diff07.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-09-03T18:33:19.000Z">03/Sep/06 18:33</time>
                   </dd>
                   <dd class="attachment-size">
                    31 kB
                   </dd>
                   <dd class="attachment-author">
                    Yip Ng
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12339634" data-issue-id="12347842" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12339634/derby1686-trunk-stat01.txt" draggable="true" data-downloadurl="text/plain:derby1686-trunk-stat01.txt:https://issues.apache.org/jira/secure/attachment/12339634/derby1686-trunk-stat01.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12339634/derby1686-trunk-stat01.txt" title="Latest  26/Aug/06 06:42 - Yip Ng" draggable="true" data-downloadurl="text/plain:derby1686-trunk-stat01.txt:https://issues.apache.org/jira/secure/attachment/12339634/derby1686-trunk-stat01.txt">derby1686-trunk-stat01.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-08-26T06:42:53.000Z">26/Aug/06 06:42</time>
                   </dd>
                   <dd class="attachment-size">
                    0.3 kB
                   </dd>
                   <dd class="attachment-author">
                    Yip Ng
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12339677" data-issue-id="12347842" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12339677/derby1686-trunk-stat02.txt" draggable="true" data-downloadurl="text/plain:derby1686-trunk-stat02.txt:https://issues.apache.org/jira/secure/attachment/12339677/derby1686-trunk-stat02.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12339677/derby1686-trunk-stat02.txt" title="Latest  28/Aug/06 05:48 - Yip Ng" draggable="true" data-downloadurl="text/plain:derby1686-trunk-stat02.txt:https://issues.apache.org/jira/secure/attachment/12339677/derby1686-trunk-stat02.txt">derby1686-trunk-stat02.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-08-28T05:48:44.000Z">28/Aug/06 05:48</time>
                   </dd>
                   <dd class="attachment-size">
                    0.5 kB
                   </dd>
                   <dd class="attachment-author">
                    Yip Ng
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12339723" data-issue-id="12347842" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12339723/derby1686-trunk-stat03.txt" draggable="true" data-downloadurl="text/plain:derby1686-trunk-stat03.txt:https://issues.apache.org/jira/secure/attachment/12339723/derby1686-trunk-stat03.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12339723/derby1686-trunk-stat03.txt" title="Latest  28/Aug/06 23:25 - Yip Ng" draggable="true" data-downloadurl="text/plain:derby1686-trunk-stat03.txt:https://issues.apache.org/jira/secure/attachment/12339723/derby1686-trunk-stat03.txt">derby1686-trunk-stat03.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-08-28T23:25:11.000Z">28/Aug/06 23:25</time>
                   </dd>
                   <dd class="attachment-size">
                    0.5 kB
                   </dd>
                   <dd class="attachment-author">
                    Yip Ng
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12339838" data-issue-id="12347842" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12339838/derby1686-trunk-stat04.txt" draggable="true" data-downloadurl="text/plain:derby1686-trunk-stat04.txt:https://issues.apache.org/jira/secure/attachment/12339838/derby1686-trunk-stat04.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12339838/derby1686-trunk-stat04.txt" title="Latest  30/Aug/06 05:34 - Yip Ng" draggable="true" data-downloadurl="text/plain:derby1686-trunk-stat04.txt:https://issues.apache.org/jira/secure/attachment/12339838/derby1686-trunk-stat04.txt">derby1686-trunk-stat04.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-08-30T05:34:25.000Z">30/Aug/06 05:34</time>
                   </dd>
                   <dd class="attachment-size">
                    0.5 kB
                   </dd>
                   <dd class="attachment-author">
                    Yip Ng
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12339891" data-issue-id="12347842" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12339891/derby1686-trunk-stat05.txt" draggable="true" data-downloadurl="text/plain:derby1686-trunk-stat05.txt:https://issues.apache.org/jira/secure/attachment/12339891/derby1686-trunk-stat05.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12339891/derby1686-trunk-stat05.txt" title="Latest  30/Aug/06 18:10 - Yip Ng" draggable="true" data-downloadurl="text/plain:derby1686-trunk-stat05.txt:https://issues.apache.org/jira/secure/attachment/12339891/derby1686-trunk-stat05.txt">derby1686-trunk-stat05.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-08-30T18:10:45.000Z">30/Aug/06 18:10</time>
                   </dd>
                   <dd class="attachment-size">
                    0.8 kB
                   </dd>
                   <dd class="attachment-author">
                    Yip Ng
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12340075" data-issue-id="12347842" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12340075/derby1686-trunk-stat06.txt" draggable="true" data-downloadurl="text/plain:derby1686-trunk-stat06.txt:https://issues.apache.org/jira/secure/attachment/12340075/derby1686-trunk-stat06.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12340075/derby1686-trunk-stat06.txt" title="Latest  01/Sep/06 18:56 - Yip Ng" draggable="true" data-downloadurl="text/plain:derby1686-trunk-stat06.txt:https://issues.apache.org/jira/secure/attachment/12340075/derby1686-trunk-stat06.txt">derby1686-trunk-stat06.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-09-01T18:56:38.000Z">01/Sep/06 18:56</time>
                   </dd>
                   <dd class="attachment-size">
                    0.8 kB
                   </dd>
                   <dd class="attachment-author">
                    Yip Ng
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12340112" data-issue-id="12347842" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12340112/derby1686-trunk-stat07.txt" draggable="true" data-downloadurl="text/plain:derby1686-trunk-stat07.txt:https://issues.apache.org/jira/secure/attachment/12340112/derby1686-trunk-stat07.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12340112/derby1686-trunk-stat07.txt" title="Latest  03/Sep/06 18:33 - Yip Ng" draggable="true" data-downloadurl="text/plain:derby1686-trunk-stat07.txt:https://issues.apache.org/jira/secure/attachment/12340112/derby1686-trunk-stat07.txt">derby1686-trunk-stat07.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-09-03T18:33:19.000Z">03/Sep/06 18:33</time>
                   </dd>
                   <dd class="attachment-size">
                    0.8 kB
                   </dd>
                   <dd class="attachment-author">
                    Yip Ng
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is related to">
                   is related to
                  </dt> 
                  <dd id="internal-12343197_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype" width="16" height="16" title="Sub-task - The sub-task of the issue" alt="Sub-task - The sub-task of the issue"> <span title="DERBY-1330: Provide runtime privilege checking for grant/revoke functionality"> <a href="/jira/browse/DERBY-1330" data-issue-key="DERBY-1330" class="issue-link link-title resolution">DERBY-1330</a> <span class="link-summary">Provide runtime privilege checking for grant/revoke functionality</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_yipng" rel="yipng" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Yip Ng&quot;,&quot;emailAddress&quot;:&quot;yipng168@gmail.com&quot;,&quot;username&quot;:&quot;yipng&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="yipng"></span></span> Yip Ng </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_kartha" rel="kartha" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Rajesh Kartha&quot;,&quot;emailAddress&quot;:&quot;kartha02@gmail.com&quot;,&quot;username&quot;:&quot;kartha&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="kartha"></span></span> Rajesh Kartha </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">0</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="12/Aug/06 04:46"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2006-08-12T04:46:35+0000">12/Aug/06 04:46</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="13/Dec/07 09:05"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2007-12-13T09:05:09+0000">13/Dec/07 09:05</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="18/Sep/06 16:47"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2006-09-18T16:47:44+0000">18/Sep/06 16:47</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-1686?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-1686?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-1686?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-1686?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-1686?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-1686?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-1686?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-1686?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/DERBY-1686?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-1686?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-1686?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/DERBY-1686?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12430179\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12430179&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12430179\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12430179_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12430179_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Aug\\/06 06:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-24T06:58:52+0000\'\u003e24\\/Aug\\/06 06:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIMO, whoever plans to work on this issue should followup on thread titled \\\"Question on Grant revoke functional spec \\\" at \u003ca href=\\\"http:\\/\\/www.nabble.com\\/Question-on-Grant-revoke-functional-spec-tf2005154.html#a5507724\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/www.nabble.com\\/Question-on-Grant-revoke-functional-spec-tf2005154.html#a5507724\u003c\\/a\u003e. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12430179_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12430179_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Aug\\/06 06:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-24T06:58:52+0000\'\u003e24\\/Aug\\/06 06:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    IMO, whoever plans to work on this issue should followup on thread titled \\\"Question on Grant revoke functional spec \\\" at  http:\\/\\/www.nabble.com\\/Question-on-Grant-revoke-functional-spec-tf2005154.html#a5507724 .               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12430611\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12430611&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12430611\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12430611_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12430611_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Aug\\/06 20:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-25T20:12:04+0000\'\u003e25\\/Aug\\/06 20:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSome discussion regarding permission cache can be found in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1539\\\" title=\\\"A  trigger should be dropped when a privilege required by the trigger is revoked.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1539\\\"\u003e\u003cdel\u003eDERBY-1539\u003c\\/del\u003e\u003c\\/a\u003e and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1330\\\" title=\\\"Provide runtime privilege checking for grant\\/revoke functionality\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1330\\\"\u003e\u003cdel\u003eDERBY-1330\u003c\\/del\u003e\u003c\\/a\u003e.  \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12430611_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12430611_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Aug\\/06 20:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-25T20:12:04+0000\'\u003e25\\/Aug\\/06 20:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Some discussion regarding permission cache can be found in   DERBY-1539   and   DERBY-1330  .                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12430644\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12430644&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12430644\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12430644_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12430644_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Aug\\/06 22:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-25T22:03:23+0000\'\u003e25\\/Aug\\/06 22:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eTo resolve this issue, the permission cache problem needs to be addressed first.  Currently the permissions cache won\'t work properly when we are dealing with 2 types of keys associated with PermissionDescriptors. It looks like when calling getXXXPermissions(UUID), there is no choice but to load it from sys.sysdepends each time getXXXPermissions(UUID) is called since:\u003c\\/p\u003e\\n\\n\u003cp\u003e1. The UUID of the PermissionDescriptor as a key will always miss the cache because the identity of the object is determined by the grantee and other related fields currently.\u003c\\/p\u003e\\n\\n\u003cp\u003e2. The UUID of the PermissionDescriptor is not part of the equations of equals and hashCode method. It cannot because Derby do not know the \\\"other\\\" key value upfront during compilation of a statement until we retrieve it from the stored dependencies using the alternative key. \u003c\\/p\u003e\\n\\n\u003cp\u003e3.  I think it is unsafe (and probably not a good idea) to modify equals and hashCode method to have 2 different type of logic for identity comparison as it may lead to unpredictable results if somehow the object\'s hash code is changed when it is in the hash table(cache).\u003c\\/p\u003e\\n\\n\u003cp\u003eHence, I propose we first bypass the cache mechanism when we only know about the permission descriptor uuid.  For the other case, we can still use the permissions cache.  We can revisit this caching area later for performance improvements for grant and revoke statement.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12430644_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12430644_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Aug\\/06 22:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-25T22:03:23+0000\'\u003e25\\/Aug\\/06 22:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    To resolve this issue, the permission cache problem needs to be addressed first.  Currently the permissions cache won\'t work properly when we are dealing with 2 types of keys associated with PermissionDescriptors. It looks like when calling getXXXPermissions(UUID), there is no choice but to load it from sys.sysdepends each time getXXXPermissions(UUID) is called since: \\n\\n 1. The UUID of the PermissionDescriptor as a key will always miss the cache because the identity of the object is determined by the grantee and other related fields currently. \\n\\n 2. The UUID of the PermissionDescriptor is not part of the equations of equals and hashCode method. It cannot because Derby do not know the \\\"other\\\" key value upfront during compilation of a statement until we retrieve it from the stored dependencies using the alternative key.  \\n\\n 3.  I think it is unsafe (and probably not a good idea) to modify equals and hashCode method to have 2 different type of logic for identity comparison as it may lead to unpredictable results if somehow the object\'s hash code is changed when it is in the hash table(cache). \\n\\n Hence, I propose we first bypass the cache mechanism when we only know about the permission descriptor uuid.  For the other case, we can still use the permissions cache.  We can revisit this caching area later for performance improvements for grant and revoke statement. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12430704\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12430704&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12430704\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12430704_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12430704_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Aug\\/06 06:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-26T06:42:53+0000\'\u003e26\\/Aug\\/06 06:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching experimental patch for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1686\\\" title=\\\"Grant\\/Revoke: Attempt to GRANT access to another user on a VIEW, created by the current user with only SELECT privilege on the base table does not fail\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1686\\\"\u003e\u003cdel\u003eDERBY-1686\u003c\\/del\u003e\u003c\\/a\u003e.  I ran derbyall on it and grantRevokeDDL.sql is the only diff I see.  It turns out that the master file of this testcase have incorrect expected behavior of certain test scenarios.  I think this patch outputs the correct results but will need to double check the grantRevokeDDL diffs.  Meanwhile, I welcome any comments for this patch.  It would be nice if the reviewer can also double check the master result file of this testcase.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe patch addresses the permissions cache problem that was mentioned in my previous comments.  When retrieving the permission descriptor via its UUID, it will bypass the cache.  For other case where it uses the grantee + other related fields as the key, it remains the same as before and use the cache.  This is to avoid having two different hash codes for the same object.\u003c\\/p\u003e\\n\\n\u003cp\u003eNow, let\'s move on to the real problem of this jira.  =)  Before this patch, when granting a view whose underlying objects are not owned by the grantor, the grant will succeed which is not correct since the grantor does not have grant option for those objects unless he is DBA or the objects granted to him is with grant option).  So to resolve this issue, Derby will now checks each of the view\'s underlying object(s) to see if the grantor is the owner at execution time of the grant statement. (additonal checks are needed in the future when WITH GRANT OPTION is supported.)   If not, the grant will fail with an SQLException which is what the correct behavior should be.\u003c\\/p\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12430704_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12430704_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Aug\\/06 06:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-26T06:42:53+0000\'\u003e26\\/Aug\\/06 06:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching experimental patch for   DERBY-1686  .  I ran derbyall on it and grantRevokeDDL.sql is the only diff I see.  It turns out that the master file of this testcase have incorrect expected behavior of certain test scenarios.  I think this patch outputs the correct results but will need to double check the grantRevokeDDL diffs.  Meanwhile, I welcome any comments for this patch.  It would be nice if the reviewer can also double check the master result file of this testcase. \\n\\n The patch addresses the permissions cache problem that was mentioned in my previous comments.  When retrieving the permission descriptor via its UUID, it will bypass the cache.  For other case where it uses the grantee + other related fields as the key, it remains the same as before and use the cache.  This is to avoid having two different hash codes for the same object. \\n\\n Now, let\'s move on to the real problem of this jira.  =)  Before this patch, when granting a view whose underlying objects are not owned by the grantor, the grant will succeed which is not correct since the grantor does not have grant option for those objects unless he is DBA or the objects granted to him is with grant option).  So to resolve this issue, Derby will now checks each of the view\'s underlying object(s) to see if the grantor is the owner at execution time of the grant statement. (additonal checks are needed in the future when WITH GRANT OPTION is supported.)   If not, the grant will fail with an SQLException which is what the correct behavior should be. \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12430923\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12430923&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12430923\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12430923_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12430923_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/06 05:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-28T05:48:44+0000\'\u003e28\\/Aug\\/06 05:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching updated patch derby1686-trunk-diff02.txt.  The only difference with this patch compared to the previous one is the grantRevokeDDL.sql and master file have been corrected.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe grantRevokeDDL.sql have a few testcases that are invalid.  So I have to go through them and made corrections to the master output and the testcase comments.  I think those particular tests need to be rewritten in mind that only the database owner or the owner of the objects can grant other users privileges to those objects.       \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12430923_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12430923_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/06 05:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-28T05:48:44+0000\'\u003e28\\/Aug\\/06 05:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching updated patch derby1686-trunk-diff02.txt.  The only difference with this patch compared to the previous one is the grantRevokeDDL.sql and master file have been corrected. \\n\\n The grantRevokeDDL.sql have a few testcases that are invalid.  So I have to go through them and made corrections to the master output and the testcase comments.  I think those particular tests need to be rewritten in mind that only the database owner or the owner of the objects can grant other users privileges to those objects.                     \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12430941\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12430941&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12430941\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12430941_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12430941_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/06 07:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-28T07:23:03+0000\'\u003e28\\/Aug\\/06 07:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePlease refer to SQL 2003 standard, section 12.1 &lt;grant statement&gt;, item 4 and 5 under general rules and section 12.2 &lt;grant privilege statement&gt;, item 6 under general rules for the correct semantics of grantable privileges.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12430941_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12430941_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/06 07:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-28T07:23:03+0000\'\u003e28\\/Aug\\/06 07:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Please refer to SQL 2003 standard, section 12.1 &lt;grant statement&gt;, item 4 and 5 under general rules and section 12.2 &lt;grant privilege statement&gt;, item 6 under general rules for the correct semantics of grantable privileges.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431026\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431026&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431026\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12431026_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431026_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/06 17:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-28T17:53:12+0000\'\u003e28\\/Aug\\/06 17:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYip, I am still looking through the patch but have a question after a quick look at the patch. \u003c\\/p\u003e\\n\\n\u003cp\u003eIn new method bindPrivilegesForView() in TablePrivilegesNode.java, I noticed that we check if the current user is the database owner and if yes, then we do not build the provider list for the views. Is this happening at compile time? If yes, then it might not be correct. \u003c\\/p\u003e\\n\\n\u003cp\u003eI think, at compile time, we want to build the provider list no matter who is compiling the statement. It is at run time that we want to disregard provider list if the database owner is granting the privilege. This is because, database owner might be the one to compile the statement first. But the view owner (assume that is not same as database owner) might execute the same statement later, but if we do not have the provider list attached to the statement plan created by database owner, then at execution time by view owner, we will not catach provider objects which are not owner by the view owner.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12431026_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431026_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/06 17:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-28T17:53:12+0000\'\u003e28\\/Aug\\/06 17:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yip, I am still looking through the patch but have a question after a quick look at the patch.  \\n\\n In new method bindPrivilegesForView() in TablePrivilegesNode.java, I noticed that we check if the current user is the database owner and if yes, then we do not build the provider list for the views. Is this happening at compile time? If yes, then it might not be correct.  \\n\\n I think, at compile time, we want to build the provider list no matter who is compiling the statement. It is at run time that we want to disregard provider list if the database owner is granting the privilege. This is because, database owner might be the one to compile the statement first. But the view owner (assume that is not same as database owner) might execute the same statement later, but if we do not have the provider list attached to the statement plan created by database owner, then at execution time by view owner, we will not catach provider objects which are not owner by the view owner. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431068\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431068&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431068\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431068_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431068_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/06 20:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-28T20:58:06+0000\'\u003e28\\/Aug\\/06 20:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMamta, are you referring to the statement cache?  I thought there is a statement cache per connection.  So the DBA and the schema owner will have their own respective connection and hence won\'t be sharing the prepared grant statement.  Or am I missing something?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431068_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431068_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/06 20:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-28T20:58:06+0000\'\u003e28\\/Aug\\/06 20:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Mamta, are you referring to the statement cache?  I thought there is a statement cache per connection.  So the DBA and the schema owner will have their own respective connection and hence won\'t be sharing the prepared grant statement.  Or am I missing something?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431088\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431088&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431088\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431088_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431088_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/06 22:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-28T22:24:17+0000\'\u003e28\\/Aug\\/06 22:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFor example:  \u003c\\/p\u003e\\n\\n\u003cp\u003econnect \'jdbc:derby:wombat;create=true\' user \'user1\' as user1;\u003cbr\\/\u003e\\ncreate table t1 (i int);\u003cbr\\/\u003e\\ngrant select on t1 to user2;\u003cbr\\/\u003e\\nconnect \'jdbc:derby:wombat;create=true\' user \'user2\' as user2;\u003cbr\\/\u003e\\ncreate view v1 as select * from user1.t1;\u003cbr\\/\u003e\\nset connection user1;\u003cbr\\/\u003e\\ngrant select on user2.v1 to user3;\u003cbr\\/\u003e\\nset connection user2;\u003cbr\\/\u003e\\ngrant select on user2.v1 to user3;\u003c\\/p\u003e\\n\\n\u003cp\u003eThe last grant statement won\'t be using the cached statement in the statement cache that is shared by different connections because it is compiling under a different schema.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431088_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431088_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/06 22:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-28T22:24:17+0000\'\u003e28\\/Aug\\/06 22:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    For example:   \\n\\n connect \'jdbc:derby:wombat;create=true\' user \'user1\' as user1; \\ncreate table t1 (i int); \\ngrant select on t1 to user2; \\nconnect \'jdbc:derby:wombat;create=true\' user \'user2\' as user2; \\ncreate view v1 as select * from user1.t1; \\nset connection user1; \\ngrant select on user2.v1 to user3; \\nset connection user2; \\ngrant select on user2.v1 to user3; \\n\\n The last grant statement won\'t be using the cached statement in the statement cache that is shared by different connections because it is compiling under a different schema.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431095\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431095&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431095\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431095_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431095_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/06 23:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-28T23:08:11+0000\'\u003e28\\/Aug\\/06 23:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHmm... I probably should not make any assumptions for the equals method since it could changed in the future and not rely on the compilation schema.  I\'ll remove the dba check at compilation time and resubmit the patch.\u003cbr\\/\u003e\\nThanks for your comment, Mamta.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431095_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431095_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/06 23:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-28T23:08:11+0000\'\u003e28\\/Aug\\/06 23:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hmm... I probably should not make any assumptions for the equals method since it could changed in the future and not rely on the compilation schema.  I\'ll remove the dba check at compilation time and resubmit the patch. \\nThanks for your comment, Mamta.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431098\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431098&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431098\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431098_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431098_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/06 23:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-28T23:25:11+0000\'\u003e28\\/Aug\\/06 23:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching derby1686-trunk-diff03.txt.  This patch removes the dba check at bind time and will collect the providers of a view regardless who the object owner is.  The runtime will check the authorization.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431098_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431098_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/06 23:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-28T23:25:11+0000\'\u003e28\\/Aug\\/06 23:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching derby1686-trunk-diff03.txt.  This patch removes the dba check at bind time and will collect the providers of a view regardless who the object owner is.  The runtime will check the authorization.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431141\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431141&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431141\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12431141_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431141_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 05:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T05:08:34+0000\'\u003e29\\/Aug\\/06 05:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYip, I thought more about this issue and I think we might be able to get away with an easier solution. \u003c\\/p\u003e\\n\\n\u003cp\u003eWith SQL authorization mode, for a view, in sys.sysdepends table, there will be zero\\/more rows for privilege dependencies. If the database owner is the owner of the view, then there will be no privilege dependencies rows in sys.sysdepends table. For a view whose owner is not the database owner, there will be no privilege dependencies rows in sys.sysdepends table if the view is not accessing any objects outside of the schema owned by the view owner. So, no privilege dependencies rows in sys.sysdepends table for a view would mean that the view owner can grant access to the view to other users.\u003c\\/p\u003e\\n\\n\u003cp\u003eIf there are privilege dependencies rows in sys.sysdepends table for a view, then that would mean that the view is relying on privileges on external objects and hence, the view owner will not be able to grant access to the view to other users (the exception to this rule would be if the database owner is trying to grant access to any view to any user. That should work no matter if there are zero or more privilege dependencies rows in sys.sysdepends table for the view). \u003c\\/p\u003e\\n\\n\u003cp\u003eSo, rather than building a list of providers for a view, we can simply have a flag which will be set to true at compile time if there are privilege dependencies rows in sys.sysdepends table for the given view. At execute time, if the grantor is the database owner, then we wil not worry about the flag and will succesfully grant the view access to the grantee. But if the grantor is the view owner and the flag is set to true, then we should throw an exception because the view owner does not own all the objects accessed by the view.\u003c\\/p\u003e\\n\\n\u003cp\u003eI might not have thought over everything, so do let me know, if you find something in my proposed logic that might not work.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12431141_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431141_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 05:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T05:08:34+0000\'\u003e29\\/Aug\\/06 05:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yip, I thought more about this issue and I think we might be able to get away with an easier solution.  \\n\\n With SQL authorization mode, for a view, in sys.sysdepends table, there will be zero\\/more rows for privilege dependencies. If the database owner is the owner of the view, then there will be no privilege dependencies rows in sys.sysdepends table. For a view whose owner is not the database owner, there will be no privilege dependencies rows in sys.sysdepends table if the view is not accessing any objects outside of the schema owned by the view owner. So, no privilege dependencies rows in sys.sysdepends table for a view would mean that the view owner can grant access to the view to other users. \\n\\n If there are privilege dependencies rows in sys.sysdepends table for a view, then that would mean that the view is relying on privileges on external objects and hence, the view owner will not be able to grant access to the view to other users (the exception to this rule would be if the database owner is trying to grant access to any view to any user. That should work no matter if there are zero or more privilege dependencies rows in sys.sysdepends table for the view).  \\n\\n So, rather than building a list of providers for a view, we can simply have a flag which will be set to true at compile time if there are privilege dependencies rows in sys.sysdepends table for the given view. At execute time, if the grantor is the database owner, then we wil not worry about the flag and will succesfully grant the view access to the grantee. But if the grantor is the view owner and the flag is set to true, then we should throw an exception because the view owner does not own all the objects accessed by the view. \\n\\n I might not have thought over everything, so do let me know, if you find something in my proposed logic that might not work.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431284\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431284&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431284\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431284_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431284_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 16:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T16:10:31+0000\'\u003e29\\/Aug\\/06 16:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMamta, I also thought about 2 alternative solutions before this patch.  One was your proposed idea and the other one was setting a persistent flag in the system table to indicate other schema dependency at compilation of CREATE VIEW statement so that this information is available in the ViewDescriptor.  I abandoned the latter idea since Derby needs to perform an upgrade and that this flag would render useless when it supports WITH GRANT OPTION in the future.  \u003c\\/p\u003e\\n\\n\u003cp\u003eI think your proposed approach would also work but the flag information would become obsolete when WITH GRANT OPTION is supported and some sort of dependency list needs to be built eventually and supplied to the runtime since the privilege dependencies may now indicate that they are grantable.  I just thought it would be convenient to build this information now so that the compilation and execution interface does not need to be changed later.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431284_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431284_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 16:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T16:10:31+0000\'\u003e29\\/Aug\\/06 16:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Mamta, I also thought about 2 alternative solutions before this patch.  One was your proposed idea and the other one was setting a persistent flag in the system table to indicate other schema dependency at compilation of CREATE VIEW statement so that this information is available in the ViewDescriptor.  I abandoned the latter idea since Derby needs to perform an upgrade and that this flag would render useless when it supports WITH GRANT OPTION in the future.   \\n\\n I think your proposed approach would also work but the flag information would become obsolete when WITH GRANT OPTION is supported and some sort of dependency list needs to be built eventually and supplied to the runtime since the privilege dependencies may now indicate that they are grantable.  I just thought it would be convenient to build this information now so that the compilation and execution interface does not need to be changed later. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431291\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431291&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431291\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431291_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431291_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 16:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T16:43:18+0000\'\u003e29\\/Aug\\/06 16:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHow about if we still keep the logic of building the provider list instead of the flag and applied the proposed logic at execution time to throw exception when a privilege dependency is detected on the view?  I\'ll have to rerun derbyall and do some more analysis with the proposal.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431291_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431291_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 16:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T16:43:18+0000\'\u003e29\\/Aug\\/06 16:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    How about if we still keep the logic of building the provider list instead of the flag and applied the proposed logic at execution time to throw exception when a privilege dependency is detected on the view?  I\'ll have to rerun derbyall and do some more analysis with the proposal.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431307\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431307&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431307\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12431307_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431307_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 17:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T17:58:57+0000\'\u003e29\\/Aug\\/06 17:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYip, even when we support WITH GRANT OPTION, we can modify the compile time privilege dependency rows check to see if the privilege has WITH GRANT OPTION set on it and if not, then set the flag to true. This will avoid having to carry the privilege list from compile time to execution time and will make the grant statement a bit faster. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12431307_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431307_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 17:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T17:58:57+0000\'\u003e29\\/Aug\\/06 17:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yip, even when we support WITH GRANT OPTION, we can modify the compile time privilege dependency rows check to see if the privilege has WITH GRANT OPTION set on it and if not, then set the flag to true. This will avoid having to carry the privilege list from compile time to execution time and will make the grant statement a bit faster.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431335\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431335&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431335\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12431335_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431335_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 19:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T19:43:31+0000\'\u003e29\\/Aug\\/06 19:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWas there any reference to the SQL spec ever found to ensure we are handling the issue correctly?\u003c\\/p\u003e\\n\\n\u003cp\u003eThe count of number of rows in SYSDEPENDS seems like a kludge to me, checking indirectly for some state rather than checking directly.\u003c\\/p\u003e\\n\\n\u003cp\u003eWhat if the view is dependent on some function that is not owned by the view owner, how that does affect the solution and the desired behaviour?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12431335_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431335_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 19:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T19:43:31+0000\'\u003e29\\/Aug\\/06 19:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Was there any reference to the SQL spec ever found to ensure we are handling the issue correctly? \\n\\n The count of number of rows in SYSDEPENDS seems like a kludge to me, checking indirectly for some state rather than checking directly. \\n\\n What if the view is dependent on some function that is not owned by the view owner, how that does affect the solution and the desired behaviour?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431346\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431346&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431346\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12431346_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431346_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 20:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T20:07:12+0000\'\u003e29\\/Aug\\/06 20:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think Yip has a reference to SQL specification section about the handling of this issue. It is part of the comments to this jira entry.\u003c\\/p\u003e\\n\\n\u003cp\u003eAs for view being dependent on a function not owned by the view owner, there will be an entry in dependency system for view\'s requirement of execute privilege on the function and hence the logic should work fine for table\\/column\\/function dependencies.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12431346_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431346_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 20:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T20:07:12+0000\'\u003e29\\/Aug\\/06 20:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I think Yip has a reference to SQL specification section about the handling of this issue. It is part of the comments to this jira entry. \\n\\n As for view being dependent on a function not owned by the view owner, there will be an entry in dependency system for view\'s requirement of execute privilege on the function and hence the logic should work fine for table\\/column\\/function dependencies.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431356\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431356&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431356\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12431356_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431356_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 20:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T20:26:15+0000\'\u003e29\\/Aug\\/06 20:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI guess I\'m a little lost from all the comments in this issue as to what exactly the proposed behaviour is. Looking at the references Yip provided didn\'t help me as they didn\'t seem to be related to accessing views., but there\'s a strong chance I\'m misreading it. Looking on-line at Sybase and Postgres documentation I see two different ways of handling this, not sure if either is in-line with the standard or not.\u003c\\/p\u003e\\n\\n\u003cp\u003eI guess the question is:\u003c\\/p\u003e\\n\\n\u003cp\u003eFor a view V owned by user A what permissions are required by B to select from the view when:\u003c\\/p\u003e\\n\\n\u003cp\u003e    1)  All the objects referenced in the view are owned by A?\u003c\\/p\u003e\\n\\n\u003cp\u003e    2) Some objects referenced in the view are not owned by A?\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eThe description for this bug seems to say that for case 2)\u003cbr\\/\u003e\\nGRANT SELECT ON V TO B\u003cbr\\/\u003e\\nshould fail. That\'s isn\'t what other systems seem to do.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12431356_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431356_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 20:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T20:26:15+0000\'\u003e29\\/Aug\\/06 20:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I guess I\'m a little lost from all the comments in this issue as to what exactly the proposed behaviour is. Looking at the references Yip provided didn\'t help me as they didn\'t seem to be related to accessing views., but there\'s a strong chance I\'m misreading it. Looking on-line at Sybase and Postgres documentation I see two different ways of handling this, not sure if either is in-line with the standard or not. \\n\\n I guess the question is: \\n\\n For a view V owned by user A what permissions are required by B to select from the view when: \\n\\n     1)  All the objects referenced in the view are owned by A? \\n\\n     2) Some objects referenced in the view are not owned by A? \\n\\n\\n The description for this bug seems to say that for case 2) \\nGRANT SELECT ON V TO B \\nshould fail. That\'s isn\'t what other systems seem to do.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431370\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431370&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431370\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431370_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431370_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 21:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T21:12:24+0000\'\u003e29\\/Aug\\/06 21:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYes, in the case of some objects referenced in the view V that are not owned by the grantor A, the following statement should fail when it attempts to grant select privilege to user B:\u003c\\/p\u003e\\n\\n\u003cp\u003eUser A:\u003cbr\\/\u003e\\nGRANT SELECT ON V TO B\u003c\\/p\u003e\\n\\n\u003cp\u003eMy understanding of this behavior from reading the SQL2003 spec is deduced from WITH GRANT OPTION clause(grantable privilege).  I think the design spec also mentioned this as well.  If the owner of the object does not grant with grant on the specified privileges, then these privileges are not grantable to others.  So the above case should fail since user A has a view that references other objects that are not owned by A (and assuming those object owners did not grant with grant to user A.)  If such an action can take place without this clause, then I think having this clause does not make much sense.\u003c\\/p\u003e\\n\\n\u003cp\u003eCurrently I am investigating what Mamta suggests.  However, the current patch derby1686-trunk-diff03.txt will resolve this jira issue.   It directly checks the view\'s underlying provider(s) to see if the grantor is its schema owner.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431370_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431370_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 21:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T21:12:24+0000\'\u003e29\\/Aug\\/06 21:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yes, in the case of some objects referenced in the view V that are not owned by the grantor A, the following statement should fail when it attempts to grant select privilege to user B: \\n\\n User A: \\nGRANT SELECT ON V TO B \\n\\n My understanding of this behavior from reading the SQL2003 spec is deduced from WITH GRANT OPTION clause(grantable privilege).  I think the design spec also mentioned this as well.  If the owner of the object does not grant with grant on the specified privileges, then these privileges are not grantable to others.  So the above case should fail since user A has a view that references other objects that are not owned by A (and assuming those object owners did not grant with grant to user A.)  If such an action can take place without this clause, then I think having this clause does not make much sense. \\n\\n Currently I am investigating what Mamta suggests.  However, the current patch derby1686-trunk-diff03.txt will resolve this jira issue.   It directly checks the view\'s underlying provider(s) to see if the grantor is its schema owner.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431377\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431377&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431377\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12431377_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431377_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 21:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T21:40:08+0000\'\u003e29\\/Aug\\/06 21:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'m still confused, please bear with me, some detailed reference to the specs and quotes would help.\u003c\\/p\u003e\\n\\n\u003cp\u003eYou do say\u003cbr\\/\u003e\\n\\\"If the owner of the object does not grant with grant on the specified privileges, then these privileges are not grantable to others\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eGranting SELECT on a view V to user B is not the same as granting SELECT TO B on the underlying tables, you seem to equate the two and then base all reasoning from that. I guess I can\'t see that leap of logic to equate those two.\u003c\\/p\u003e\\n\\n\u003cp\u003eDisallowing the grant as indicated would not provide any additional fundamental security, which is why I\'m trying to understand the reasoning for it.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12431377_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431377_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 21:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T21:40:08+0000\'\u003e29\\/Aug\\/06 21:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'m still confused, please bear with me, some detailed reference to the specs and quotes would help. \\n\\n You do say \\n\\\"If the owner of the object does not grant with grant on the specified privileges, then these privileges are not grantable to others\\\" \\n\\n Granting SELECT on a view V to user B is not the same as granting SELECT TO B on the underlying tables, you seem to equate the two and then base all reasoning from that. I guess I can\'t see that leap of logic to equate those two. \\n\\n Disallowing the grant as indicated would not provide any additional fundamental security, which is why I\'m trying to understand the reasoning for it.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431393\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431393&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431393\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431393_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431393_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 22:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T22:25:25+0000\'\u003e29\\/Aug\\/06 22:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYes, I agree that granting select on view V is not the same as granting select on base table.  I think I wasn\'t clear on my previous explanation.   \u003c\\/p\u003e\\n\\n\u003cp\u003eDan stated \\\"Disallowing the grant as indicated would not provide any additional fundamental security\\\".\u003c\\/p\u003e\\n\\n\u003cp\u003eIn contrast, I think this is a huge security issue.  e.g.:  Owner A permits non-grantable select privilege on table T to user B and does not want to grant this select privilege to other users in the system.  However, if Derby allows the current grant behavior as it is now, although user B is not able to grant select on the base table T (since he is not the owner), he can create a view that is own by him and grant this select privilege on this view to others, which is not what owner A would expect and want.  If owner A wants to allow this, he would have specified WITH GRANT OPTION when he granted the select privilege to user B.  So I believe it is vital to disallow this current behavior.\u003c\\/p\u003e\\n\\n\u003cp\u003eI don\'t have the sql spec with me right now, so I\'ll have to reference it later when I have a chance...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431393_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431393_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 22:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T22:25:25+0000\'\u003e29\\/Aug\\/06 22:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yes, I agree that granting select on view V is not the same as granting select on base table.  I think I wasn\'t clear on my previous explanation.    \\n\\n Dan stated \\\"Disallowing the grant as indicated would not provide any additional fundamental security\\\". \\n\\n In contrast, I think this is a huge security issue.  e.g.:  Owner A permits non-grantable select privilege on table T to user B and does not want to grant this select privilege to other users in the system.  However, if Derby allows the current grant behavior as it is now, although user B is not able to grant select on the base table T (since he is not the owner), he can create a view that is own by him and grant this select privilege on this view to others, which is not what owner A would expect and want.  If owner A wants to allow this, he would have specified WITH GRANT OPTION when he granted the select privilege to user B.  So I believe it is vital to disallow this current behavior. \\n\\n I don\'t have the sql spec with me right now, so I\'ll have to reference it later when I have a chance...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431396\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431396&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431396\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12431396_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431396_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 22:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T22:35:19+0000\'\u003e29\\/Aug\\/06 22:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThough user B can create a table T, do\u003c\\/p\u003e\\n\\n\u003cp\u003einsert into T select * from v;\u003c\\/p\u003e\\n\\n\u003cp\u003egrant select on public to T;\u003c\\/p\u003e\\n\\n\u003cp\u003eand the data has still escaped from A\'s grasp.\u003c\\/p\u003e\\n\\n\u003cp\u003eOr user B can publish the data from the view on a web-site.\u003c\\/p\u003e\\n\\n\u003cp\u003eDisallowing the GRANT SELECT ON V TO C is no real help here.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12431396_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431396_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 22:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T22:35:19+0000\'\u003e29\\/Aug\\/06 22:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Though user B can create a table T, do \\n\\n insert into T select * from v; \\n\\n grant select on public to T; \\n\\n and the data has still escaped from A\'s grasp. \\n\\n Or user B can publish the data from the view on a web-site. \\n\\n Disallowing the GRANT SELECT ON V TO C is no real help here.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431408\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431408&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431408\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431408_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431408_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 23:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T23:11:11+0000\'\u003e29\\/Aug\\/06 23:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eRight, I see your point.  There is not much one can do here if user B performs such actions.  Owner A would probably revoke this user\'s select privilege from now on.  =)  \u003c\\/p\u003e\\n\\n\u003cp\u003eI think Oracle and DB2 disallows granting view who underyling objects are not own by the grantor but not sure if they are in-line with the standard.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431408_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431408_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 23:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T23:11:11+0000\'\u003e29\\/Aug\\/06 23:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Right, I see your point.  There is not much one can do here if user B performs such actions.  Owner A would probably revoke this user\'s select privilege from now on.  =)   \\n\\n I think Oracle and DB2 disallows granting view who underyling objects are not own by the grantor but not sure if they are in-line with the standard. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431416\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431416&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431416\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kartha\\\" id=\\\"commentauthor_12431416_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kartha\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kartha\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rajesh Kartha\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431416_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 23:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T23:54:20+0000\'\u003e29\\/Aug\\/06 23:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI know DB2 disallows such granting of permissions on a view if the grantor does not own OR does not have the permission to perform GRANT (this is obtained when the original owner grants the permission  WITH GRANT option)  on the underlying objects.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kartha\\\" id=\\\"commentauthor_12431416_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kartha\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kartha\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rajesh Kartha\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431416_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/06 23:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-29T23:54:20+0000\'\u003e29\\/Aug\\/06 23:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I know DB2 disallows such granting of permissions on a view if the grantor does not own OR does not have the permission to perform GRANT (this is obtained when the original owner grants the permission  WITH GRANT option)  on the underlying objects. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431431\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431431&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431431\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431431_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431431_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 01:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T01:44:20+0000\'\u003e30\\/Aug\\/06 01:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMamta, I thought about your proposal more with regard to checking SYSDEPENDS count on privilege dependencies.  I think there might be a case where this will not work.  Suppose the database owner dba creates a view v1 on the schema user2 owned by user2.  In this case, there is no table privilege entry in SYSDEPENDS so when user2 attempts to grant select on this view (which have underlying object that is not own by user2) to user3, it will succeed instead of fail.  i.e.:\u003c\\/p\u003e\\n\\n\u003cp\u003eij version 10.3\u003cbr\\/\u003e\\nij&gt; connect \'jdbc:derby:wombat;create=true\' user \'dba\' as dba;\u003cbr\\/\u003e\\nWARNING 01J14: SQL authorization is being used without first enabling authentication.\u003cbr\\/\u003e\\nij&gt; connect \'jdbc:derby:wombat;create=true\' user \'user1\' as user1;\u003cbr\\/\u003e\\nWARNING 01J01: Database \'wombat\' not created, connection made to existing database instead.\u003cbr\\/\u003e\\nWARNING 01J14: SQL authorization is being used without first enabling authentication.\u003cbr\\/\u003e\\nij(USER1)&gt; connect \'jdbc:derby:wombat;create=true\' user \'user2\' as user2;\u003cbr\\/\u003e\\nWARNING 01J01: Database \'wombat\' not created, connection made to existing database instead.\u003cbr\\/\u003e\\nWARNING 01J14: SQL authorization is being used without first enabling authentication.\u003cbr\\/\u003e\\nij(USER2)&gt; set connection user1;\u003cbr\\/\u003e\\nij(USER1)&gt; create table t1 (i int);\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij(USER1)&gt; grant select on t1 to user2;\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij(USER1)&gt; set connection user2;\u003cbr\\/\u003e\\nij(USER2)&gt; create table t2 (i int);\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij(USER2)&gt; set connection dba;\u003cbr\\/\u003e\\nij(DBA)&gt; create view user2.v1 as select * from user1.t1;\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij(DBA)&gt; select * from sys.systableperms;\u003cbr\\/\u003e\\nTABLEPERMSID                        |GRANTEE                                                                                                                         |GRANTOR                                                                                                                         |TABLEID                             |&amp;|&amp;|&amp;|&amp;|&amp;|&amp;\u003cbr\\/\u003e\\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\u003cbr\\/\u003e\\n2fb0c07e-010d-5cb9-2480-0000000f54c0|USER2                                                                                                                           |USER1                                                                                                                           |2753c07b-010d-5cb9-2480-0000000f54c0|y|N|N|N|N|N\u003c\\/p\u003e\\n\\n\u003cp\u003e1 row selected\u003cbr\\/\u003e\\nij(DBA)&gt; select * from sys.sysdepends;\u003cbr\\/\u003e\\nDEPENDENTID                         |DEPENDENTFINDER|PROVIDERID                          |PROVIDERFINDER \u003cbr\\/\u003e\\n---------------------------------------------------------------------------------------------------------\u003cbr\\/\u003e\\nf0b3c086-010d-5cb9-2480-0000000f54c0|View           |2753c07b-010d-5cb9-2480-0000000f54c0|ColumnsInTable \u003c\\/p\u003e\\n\\n\u003cp\u003e1 row selected\u003cbr\\/\u003e\\nij(DBA)&gt; set connection user2;\u003cbr\\/\u003e\\nij(USER2)&gt; grant select on v1 to user3;\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij(USER2)&gt; \u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431431_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431431_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 01:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T01:44:20+0000\'\u003e30\\/Aug\\/06 01:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Mamta, I thought about your proposal more with regard to checking SYSDEPENDS count on privilege dependencies.  I think there might be a case where this will not work.  Suppose the database owner dba creates a view v1 on the schema user2 owned by user2.  In this case, there is no table privilege entry in SYSDEPENDS so when user2 attempts to grant select on this view (which have underlying object that is not own by user2) to user3, it will succeed instead of fail.  i.e.: \\n\\n ij version 10.3 \\nij&gt; connect \'jdbc:derby:wombat;create=true\' user \'dba\' as dba; \\nWARNING 01J14: SQL authorization is being used without first enabling authentication. \\nij&gt; connect \'jdbc:derby:wombat;create=true\' user \'user1\' as user1; \\nWARNING 01J01: Database \'wombat\' not created, connection made to existing database instead. \\nWARNING 01J14: SQL authorization is being used without first enabling authentication. \\nij(USER1)&gt; connect \'jdbc:derby:wombat;create=true\' user \'user2\' as user2; \\nWARNING 01J01: Database \'wombat\' not created, connection made to existing database instead. \\nWARNING 01J14: SQL authorization is being used without first enabling authentication. \\nij(USER2)&gt; set connection user1; \\nij(USER1)&gt; create table t1 (i int); \\n0 rows inserted\\/updated\\/deleted \\nij(USER1)&gt; grant select on t1 to user2; \\n0 rows inserted\\/updated\\/deleted \\nij(USER1)&gt; set connection user2; \\nij(USER2)&gt; create table t2 (i int); \\n0 rows inserted\\/updated\\/deleted \\nij(USER2)&gt; set connection dba; \\nij(DBA)&gt; create view user2.v1 as select * from user1.t1; \\n0 rows inserted\\/updated\\/deleted \\nij(DBA)&gt; select * from sys.systableperms; \\nTABLEPERMSID                        |GRANTEE                                                                                                                         |GRANTOR                                                                                                                         |TABLEID                             |&amp;|&amp;|&amp;|&amp;|&amp;|&amp; \\n------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- \\n2fb0c07e-010d-5cb9-2480-0000000f54c0|USER2                                                                                                                           |USER1                                                                                                                           |2753c07b-010d-5cb9-2480-0000000f54c0|y|N|N|N|N|N \\n\\n 1 row selected \\nij(DBA)&gt; select * from sys.sysdepends; \\nDEPENDENTID                         |DEPENDENTFINDER|PROVIDERID                          |PROVIDERFINDER  \\n--------------------------------------------------------------------------------------------------------- \\nf0b3c086-010d-5cb9-2480-0000000f54c0|View           |2753c07b-010d-5cb9-2480-0000000f54c0|ColumnsInTable  \\n\\n 1 row selected \\nij(DBA)&gt; set connection user2; \\nij(USER2)&gt; grant select on v1 to user3; \\n0 rows inserted\\/updated\\/deleted \\nij(USER2)&gt;  \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431443\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431443&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431443\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431443_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431443_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 03:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T03:24:19+0000\'\u003e30\\/Aug\\/06 03:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDan, here are the two references from the SQL:2003 spec that I have read to deduce the grant behavior for the stated problem of this jira:\u003c\\/p\u003e\\n\\n\u003cp\u003eIn section 12.1 &lt;grant statement&gt;, Under general rules item 4:\u003c\\/p\u003e\\n\\n\u003cp\u003e4) For every table T specified by some involved privilege descriptor and for each view V owned by some\u003cbr\\/\u003e\\n   involved grantee G such that T or some column CT of T is referenced in the &lt;query expression&gt; QE of V,\u003cbr\\/\u003e\\n   or T is a supertable of the scoped table of a &lt;reference resolution&gt; contained in QE, let RTi, for i ranging\u003cbr\\/\u003e\\n   from 1 (one) to the number of tables identified by the &lt;table reference&gt;s contained in QE, be the &lt;table name&gt;s \u003cbr\\/\u003e\\n   of those tables. For every column CV of V:\u003cbr\\/\u003e\\n      a) Let CRTi,j, for j ranging from 1 (one) to the number of columns of RTi that are underlying columns of\u003cbr\\/\u003e\\n         CV, be the &lt;column name&gt;s of those columns.\u003cbr\\/\u003e\\n      b) If, following successful execution of the &lt;grant statement&gt;, all of the following are true:\u003cbr\\/\u003e\\n            i) The applicable privileges for G include grantable SELECT privileges on all of the columns CRTi,j.\u003cbr\\/\u003e\\n            ii) The applicable privileges for G include grantable EXECUTE privileges on all SQL-invoked\u003cbr\\/\u003e\\n                routines that are subject routines of &lt;routine invocation&gt;s contained in QE.\u003cbr\\/\u003e\\n   ...\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eAnd in section 12.2 &lt;grant privilege statement&gt;, Under general rules item 6:\u003c\\/p\u003e\\n\\n\u003cp\u003e6) If WITH GRANT OPTION was specified, then each privilege descriptor also indicates that the privilege\u003cbr\\/\u003e\\n   is grantable.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eIf I interpret the above correctly, then by enforcing the semantics of grantable privilege - \u003cbr\\/\u003e\\ngranting select privilege to a view owned by user A who have non-grantable select privileges\u003cbr\\/\u003e\\non the underlying objects should fail.  Comments?\u003c\\/p\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431443_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431443_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 03:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T03:24:19+0000\'\u003e30\\/Aug\\/06 03:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Dan, here are the two references from the SQL:2003 spec that I have read to deduce the grant behavior for the stated problem of this jira: \\n\\n In section 12.1 &lt;grant statement&gt;, Under general rules item 4: \\n\\n 4) For every table T specified by some involved privilege descriptor and for each view V owned by some \\n   involved grantee G such that T or some column CT of T is referenced in the &lt;query expression&gt; QE of V, \\n   or T is a supertable of the scoped table of a &lt;reference resolution&gt; contained in QE, let RTi, for i ranging \\n   from 1 (one) to the number of tables identified by the &lt;table reference&gt;s contained in QE, be the &lt;table name&gt;s  \\n   of those tables. For every column CV of V: \\n      a) Let CRTi,j, for j ranging from 1 (one) to the number of columns of RTi that are underlying columns of \\n         CV, be the &lt;column name&gt;s of those columns. \\n      b) If, following successful execution of the &lt;grant statement&gt;, all of the following are true: \\n            i) The applicable privileges for G include grantable SELECT privileges on all of the columns CRTi,j. \\n            ii) The applicable privileges for G include grantable EXECUTE privileges on all SQL-invoked \\n                routines that are subject routines of &lt;routine invocation&gt;s contained in QE. \\n   ... \\n\\n\\n And in section 12.2 &lt;grant privilege statement&gt;, Under general rules item 6: \\n\\n 6) If WITH GRANT OPTION was specified, then each privilege descriptor also indicates that the privilege \\n   is grantable. \\n\\n\\n If I interpret the above correctly, then by enforcing the semantics of grantable privilege -  \\ngranting select privilege to a view owned by user A who have non-grantable select privileges \\non the underlying objects should fail.  Comments? \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431456\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431456&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431456\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12431456_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431456_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 04:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T04:29:29+0000\'\u003e30\\/Aug\\/06 04:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYip, I think you are right about my logic not working for a view created by the database owner but it references objects not owned by the schema owner of the view. Considering that and Dan\'s comment \\\"The count of number of rows in SYSDEPENDS seems like a kludge to me, checking indirectly for some state rather than checking directly. \\\", we probably should go with your proposed logic.\u003c\\/p\u003e\\n\\n\u003cp\u003eI thought of one case where the logic in the patch might not do the right stuff. If a user creates a view on a table owned by another user. Then dependency manager will keep the view\'s dependency on that table. Now, if the same user creates another view which is based on the view it created earlier, the dependency manager will not know of the new view\'s dependency on the base table at the outer view\'s level. We will need to go through view chains to make sure that we are not granting access to something that we are not allowed to. Here is an eg\u003cbr\\/\u003e\\nuser1\u003cbr\\/\u003e\\ncreate table t1(c11 int)\u003cbr\\/\u003e\\ngrant select on t1 to user2\u003cbr\\/\u003e\\nuser2\u003cbr\\/\u003e\\ncreate view v1 as select * from user1.t1 &#8211; dependency manager will track v1\'s dependency on user1.t1\u003cbr\\/\u003e\\ncreate view v2 as select * from v1 &#8211; dependency manager will track v2\'s dependency on v1\u003cbr\\/\u003e\\ngrant select on v2 to user3 &#8211; we shouldn\'t just check v2\'s direct providers, but also see if those providers have any providers of their own\u003cbr\\/\u003e\\n&#8211; And hence the grant above should not succeed\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12431456_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431456_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 04:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T04:29:29+0000\'\u003e30\\/Aug\\/06 04:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yip, I think you are right about my logic not working for a view created by the database owner but it references objects not owned by the schema owner of the view. Considering that and Dan\'s comment \\\"The count of number of rows in SYSDEPENDS seems like a kludge to me, checking indirectly for some state rather than checking directly. \\\", we probably should go with your proposed logic. \\n\\n I thought of one case where the logic in the patch might not do the right stuff. If a user creates a view on a table owned by another user. Then dependency manager will keep the view\'s dependency on that table. Now, if the same user creates another view which is based on the view it created earlier, the dependency manager will not know of the new view\'s dependency on the base table at the outer view\'s level. We will need to go through view chains to make sure that we are not granting access to something that we are not allowed to. Here is an eg \\nuser1 \\ncreate table t1(c11 int) \\ngrant select on t1 to user2 \\nuser2 \\ncreate view v1 as select * from user1.t1 &#8211; dependency manager will track v1\'s dependency on user1.t1 \\ncreate view v2 as select * from v1 &#8211; dependency manager will track v2\'s dependency on v1 \\ngrant select on v2 to user3 &#8211; we shouldn\'t just check v2\'s direct providers, but also see if those providers have any providers of their own \\n&#8211; And hence the grant above should not succeed \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431469\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431469&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431469\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431469_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431469_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 05:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T05:25:57+0000\'\u003e30\\/Aug\\/06 05:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMamta, I had this concern too when I was utilizing the dependency manager\'s getPersistentProviderInfos(dependable)\u003cbr\\/\u003e\\nmethod but it turns out that when you create the second view, the create view will add its providers to the new defined view.\u003cbr\\/\u003e\\nSo with the current patch, the grant fails as expected.\u003c\\/p\u003e\\n\\n\u003cp\u003eij version 10.3\u003cbr\\/\u003e\\nij&gt; connect \'jdbc:derby:wombat;create=true\' user \'user1\' as user1;\u003cbr\\/\u003e\\nWARNING 01J14: SQL authorization is being used without first enabling authentication.\u003cbr\\/\u003e\\nij&gt; create table t1 (c11 int);\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij&gt; grant select on t1 to user2;\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij&gt; connect \'jdbc:derby:wombat;create=true\' user \'user2\' as user2;\u003cbr\\/\u003e\\nWARNING 01J01: Database \'wombat\' not created, connection made to existing database instead.\u003cbr\\/\u003e\\nWARNING 01J14: SQL authorization is being used without first enabling authentication.\u003cbr\\/\u003e\\nij(USER2)&gt; create view v1 as select * from user1.t1;\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij(USER2)&gt; create view v2 as select * from v1;\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij(USER2)&gt; grant select on v2 to user3;\u003cbr\\/\u003e\\nERROR 2850C: User \'USER2\' is not the owner of Table\\/View \'USER1\'.\'T1\'.\u003c\\/p\u003e\\n\\n\u003cp\u003eI did find another minor problem with the current patch, the runtime check should only be performed in GRANT statement case \u003cbr\\/\u003e\\nonly since it does not applied to REVOKE.  So I am going to change that and resubmit the patch later.  I haven\'t move the runtime\u003cbr\\/\u003e\\ncheck logic to compilation phase yet, will get to that tomorrow.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431469_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431469_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 05:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T05:25:57+0000\'\u003e30\\/Aug\\/06 05:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Mamta, I had this concern too when I was utilizing the dependency manager\'s getPersistentProviderInfos(dependable) \\nmethod but it turns out that when you create the second view, the create view will add its providers to the new defined view. \\nSo with the current patch, the grant fails as expected. \\n\\n ij version 10.3 \\nij&gt; connect \'jdbc:derby:wombat;create=true\' user \'user1\' as user1; \\nWARNING 01J14: SQL authorization is being used without first enabling authentication. \\nij&gt; create table t1 (c11 int); \\n0 rows inserted\\/updated\\/deleted \\nij&gt; grant select on t1 to user2; \\n0 rows inserted\\/updated\\/deleted \\nij&gt; connect \'jdbc:derby:wombat;create=true\' user \'user2\' as user2; \\nWARNING 01J01: Database \'wombat\' not created, connection made to existing database instead. \\nWARNING 01J14: SQL authorization is being used without first enabling authentication. \\nij(USER2)&gt; create view v1 as select * from user1.t1; \\n0 rows inserted\\/updated\\/deleted \\nij(USER2)&gt; create view v2 as select * from v1; \\n0 rows inserted\\/updated\\/deleted \\nij(USER2)&gt; grant select on v2 to user3; \\nERROR 2850C: User \'USER2\' is not the owner of Table\\/View \'USER1\'.\'T1\'. \\n\\n I did find another minor problem with the current patch, the runtime check should only be performed in GRANT statement case  \\nonly since it does not applied to REVOKE.  So I am going to change that and resubmit the patch later.  I haven\'t move the runtime \\ncheck logic to compilation phase yet, will get to that tomorrow. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431471\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431471&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431471\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431471_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431471_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 05:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T05:34:25+0000\'\u003e30\\/Aug\\/06 05:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching derby1686-trunk-diff04.txt, this patch fixes a minor problem on the execution check where it should only apply to GRANT statement only.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431471_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431471_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 05:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T05:34:25+0000\'\u003e30\\/Aug\\/06 05:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching derby1686-trunk-diff04.txt, this patch fixes a minor problem on the execution check where it should only apply to GRANT statement only.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431474\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431474&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431474\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12431474_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431474_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 05:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T05:40:21+0000\'\u003e30\\/Aug\\/06 05:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for your response on how dependency system takes care of chained view dependencies. \u003c\\/p\u003e\\n\\n\u003cp\u003eIs derby1686-trunk-diff04.txt the latest patch that I can review? You mentioned that \\\"I haven\'t move the runtime check logic to compilation phase yet, will get to that tomorrow. \\\" Should I wait until tomorrow?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12431474_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431474_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 05:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T05:40:21+0000\'\u003e30\\/Aug\\/06 05:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for your response on how dependency system takes care of chained view dependencies.  \\n\\n Is derby1686-trunk-diff04.txt the latest patch that I can review? You mentioned that \\\"I haven\'t move the runtime check logic to compilation phase yet, will get to that tomorrow. \\\" Should I wait until tomorrow?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431477\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431477&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431477\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431477_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431477_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 05:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T05:42:21+0000\'\u003e30\\/Aug\\/06 05:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYes, please wait till tomorrow.  I resubmit it because my laptop keeps on crashing on me today so just to be on \u003cbr\\/\u003e\\nthe safe side, I don\'t want to lose the diffs.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431477_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431477_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 05:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T05:42:21+0000\'\u003e30\\/Aug\\/06 05:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yes, please wait till tomorrow.  I resubmit it because my laptop keeps on crashing on me today so just to be on  \\nthe safe side, I don\'t want to lose the diffs.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431640\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431640&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431640\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431640_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431640_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 18:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T18:10:45+0000\'\u003e30\\/Aug\\/06 18:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching derby1686-trunk-diff05.txt for review.  With this patch, the view checking is moved to bind phase instead of execution.  It directly checks the relevent providers of the view to be granted and if the check fails, it will mark this in a flag for execution time to determine later if the grant should succeed based on who the grantor is.  It also introduced a new SQLSTATE for object permission in general.  Welcome any comments and suggestions.  \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431640_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431640_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 18:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T18:10:45+0000\'\u003e30\\/Aug\\/06 18:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching derby1686-trunk-diff05.txt for review.  With this patch, the view checking is moved to bind phase instead of execution.  It directly checks the relevent providers of the view to be granted and if the check fails, it will mark this in a flag for execution time to determine later if the grant should succeed based on who the grantor is.  It also introduced a new SQLSTATE for object permission in general.  Welcome any comments and suggestions.                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431728\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431728&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431728\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12431728_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431728_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 22:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T22:16:33+0000\'\u003e30\\/Aug\\/06 22:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYip, the latest patch looks pretty good to me. Just 2 minor comments\u003cbr\\/\u003e\\n1)In code comments, I saw references to \\\"dba\\\". I think we want to refer to that user as \\\"database owner\\\". Dan had mentioned following in one of his emails to derby dev list \\\"DBA is a role (which doesn\'t (yet) exist in Derby).\\\"\u003cbr\\/\u003e\\n2)Secondly, can you please verify that the existing comments in the grant revoke test still make sense around the areas where you had to make changes to the test because of the functionality implemented by this Jira entry.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks for being so patient with my feedback on this Jira entry.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12431728_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431728_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 22:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T22:16:33+0000\'\u003e30\\/Aug\\/06 22:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yip, the latest patch looks pretty good to me. Just 2 minor comments \\n1)In code comments, I saw references to \\\"dba\\\". I think we want to refer to that user as \\\"database owner\\\". Dan had mentioned following in one of his emails to derby dev list \\\"DBA is a role (which doesn\'t (yet) exist in Derby).\\\" \\n2)Secondly, can you please verify that the existing comments in the grant revoke test still make sense around the areas where you had to make changes to the test because of the functionality implemented by this Jira entry. \\n\\n Thanks for being so patient with my feedback on this Jira entry.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431734\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431734&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431734\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431734_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431734_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 22:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T22:36:22+0000\'\u003e30\\/Aug\\/06 22:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMamta, thanks for taking the time for reviewing the patch.  I apprecate your comments.\u003c\\/p\u003e\\n\\n\u003cp\u003eMamta wrote:\u003cbr\\/\u003e\\n&gt;&gt;1)In code comments, I saw references to \\\"dba\\\". I think we want to refer to that user as \\\"database owner\\\". Dan had mentioned following in one of his emails to derby dev list \\\"DBA is a role (which &gt;&gt;doesn\'t (yet) exist in Derby).\\\"\u003cbr\\/\u003e\\n&gt;&gt;\u003cbr\\/\u003e\\n&gt;&gt;2)Secondly, can you please verify that the existing comments in the grant revoke test still make sense around the areas where you had to make changes to the test because of the functionality &gt;&gt;implemented by this Jira entry.\u003c\\/p\u003e\\n\\n\u003cp\u003e1)  The DBA that you are referring to in the code comments are probably from the overloaded method that I copied from the super class.\u003cbr\\/\u003e\\n      Actually, there are quite a number of places where DBA occurs in the code comments, I think its best to clean this up in another jira entry since\u003cbr\\/\u003e\\n      it is not relevent to this jira and may make code reviewing abit difficult.\u003c\\/p\u003e\\n\\n\u003cp\u003e2)  I have verified the changes in the comments reflects the current master output.  I thought it would be nice if another pair of eyes can also validate\u003cbr\\/\u003e\\n      the master output since for the last couple of jiras I fixed, their respective master outputs are incorrect...\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431734_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431734_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 22:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T22:36:22+0000\'\u003e30\\/Aug\\/06 22:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Mamta, thanks for taking the time for reviewing the patch.  I apprecate your comments. \\n\\n Mamta wrote: \\n&gt;&gt;1)In code comments, I saw references to \\\"dba\\\". I think we want to refer to that user as \\\"database owner\\\". Dan had mentioned following in one of his emails to derby dev list \\\"DBA is a role (which &gt;&gt;doesn\'t (yet) exist in Derby).\\\" \\n&gt;&gt; \\n&gt;&gt;2)Secondly, can you please verify that the existing comments in the grant revoke test still make sense around the areas where you had to make changes to the test because of the functionality &gt;&gt;implemented by this Jira entry. \\n\\n 1)  The DBA that you are referring to in the code comments are probably from the overloaded method that I copied from the super class. \\n      Actually, there are quite a number of places where DBA occurs in the code comments, I think its best to clean this up in another jira entry since \\n      it is not relevent to this jira and may make code reviewing abit difficult. \\n\\n 2)  I have verified the changes in the comments reflects the current master output.  I thought it would be nice if another pair of eyes can also validate \\n      the master output since for the last couple of jiras I fixed, their respective master outputs are incorrect... \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431737\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431737&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431737\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12431737_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431737_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 22:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T22:47:03+0000\'\u003e30\\/Aug\\/06 22:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOK, In that case, we are good to go.\u003c\\/p\u003e\\n\\n\u003cp\u003eI will make a jira entry for changing \\\"dba\\\" to \\\"database owner\\\" whereever appropriate in the grant revoke code. \u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12431737_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431737_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 22:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T22:47:03+0000\'\u003e30\\/Aug\\/06 22:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    OK, In that case, we are good to go. \\n\\n I will make a jira entry for changing \\\"dba\\\" to \\\"database owner\\\" whereever appropriate in the grant revoke code.  \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431743\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431743&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431743\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431743_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431743_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 23:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T23:17:12+0000\'\u003e30\\/Aug\\/06 23:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eTo address Dan\'s comment before a committer commits this jira.\u003c\\/p\u003e\\n\\n\u003cp\u003eDan stated:\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"Disallowing the grant as indicated would not provide any additional fundamental security, \u003cbr\\/\u003e\\n which is why I\'m trying to understand the reasoning for it.\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eInitially, I thought it had to do with security issue but as Dan pointed out this was not the case.  \u003cbr\\/\u003e\\nThis jira is about implementing the correct semantics according to the SQL:2003 standard \u003cbr\\/\u003e\\nwith respect to grantable privileges.  In short, one might have the right to grant privilege to others \u003cbr\\/\u003e\\nbut not the right to give other users the right to make further grants if WITH GRANT OPTIONS is \u003cbr\\/\u003e\\nnot specified.  Please refer to my previous comments for those spec references.\u003c\\/p\u003e\\n\\n\u003cp\u003eIf there are no further comments, objections or concerns, this jira is ready for commit.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431743_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431743_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Aug\\/06 23:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-30T23:17:12+0000\'\u003e30\\/Aug\\/06 23:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    To address Dan\'s comment before a committer commits this jira. \\n\\n Dan stated: \\n\\n \\\"Disallowing the grant as indicated would not provide any additional fundamental security,  \\n which is why I\'m trying to understand the reasoning for it.\\\" \\n\\n Initially, I thought it had to do with security issue but as Dan pointed out this was not the case.   \\nThis jira is about implementing the correct semantics according to the SQL:2003 standard  \\nwith respect to grantable privileges.  In short, one might have the right to grant privilege to others  \\nbut not the right to give other users the right to make further grants if WITH GRANT OPTIONS is  \\nnot specified.  Please refer to my previous comments for those spec references. \\n\\n If there are no further comments, objections or concerns, this jira is ready for commit.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431751\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431751&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431751\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12431751_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431751_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Aug\\/06 00:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-31T00:09:08+0000\'\u003e31\\/Aug\\/06 00:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Yip - I finally understood the logic in section 12.1, sorry for being so slow.\u003c\\/p\u003e\\n\\n\u003cp\u003eNext question is why does the GRANT fail?\u003cbr\\/\u003e\\nFrom my reading of  general rule 8) of section 12.2 it seems to me the statement should complete with a warning\u003cbr\\/\u003e\\n01007 privilege not granted\u003c\\/p\u003e\\n\\n\u003cp\u003eI don\'t see any case in 12.2 where a GRANT fails.\u003c\\/p\u003e\\n\\n\u003cp\u003eThough it is strange in 12.2 general rules 3)  &amp; 4)  it adds descriptors to CPD only \\\"for which\u003cbr\\/\u003e\\nA holds the corresponding privilege with grant option.\\\" but that restriction does not exist in general rule 2).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12431751_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431751_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Aug\\/06 00:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-31T00:09:08+0000\'\u003e31\\/Aug\\/06 00:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks Yip - I finally understood the logic in section 12.1, sorry for being so slow. \\n\\n Next question is why does the GRANT fail? \\nFrom my reading of  general rule 8) of section 12.2 it seems to me the statement should complete with a warning \\n01007 privilege not granted \\n\\n I don\'t see any case in 12.2 where a GRANT fails. \\n\\n Though it is strange in 12.2 general rules 3)  &amp; 4)  it adds descriptors to CPD only \\\"for which \\nA holds the corresponding privilege with grant option.\\\" but that restriction does not exist in general rule 2).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431755\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431755&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431755\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12431755_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431755_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Aug\\/06 00:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-31T00:21:05+0000\'\u003e31\\/Aug\\/06 00:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'m guess the requirement to fail comes from the Access Rules for 12.2 which state:\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"The applicable privileges shall include a privilege identifying O.\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eThe Access rules are \\\"A specification in English of rules governing the accessibility of schema objects\\\",\u003cbr\\/\u003e\\nwhich sounds great, but I\'m stumped as to what identifying means in \\\"privilege identifying O\\\" means. Any ideas?\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12431755_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431755_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Aug\\/06 00:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-31T00:21:05+0000\'\u003e31\\/Aug\\/06 00:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'m guess the requirement to fail comes from the Access Rules for 12.2 which state: \\n\\n \\\"The applicable privileges shall include a privilege identifying O.\\\" \\n\\n The Access rules are \\\"A specification in English of rules governing the accessibility of schema objects\\\", \\nwhich sounds great, but I\'m stumped as to what identifying means in \\\"privilege identifying O\\\" means. Any ideas? \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431769\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431769&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431769\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431769_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431769_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Aug\\/06 02:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-31T02:48:38+0000\'\u003e31\\/Aug\\/06 02:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\\\"The applicable privileges shall include a privilege identifying O.\\\" \u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"O\\\" is defined in 12.2 under Syntax Rules item 1 and \\\"Identified\\\" is defined in 12.2 under Syntax Rules item 4.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431769_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431769_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Aug\\/06 02:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-31T02:48:38+0000\'\u003e31\\/Aug\\/06 02:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    \\\"The applicable privileges shall include a privilege identifying O.\\\"  \\n\\n \\\"O\\\" is defined in 12.2 under Syntax Rules item 1 and \\\"Identified\\\" is defined in 12.2 under Syntax Rules item 4. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431903\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431903&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431903\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12431903_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431903_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Aug\\/06 15:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-31T15:39:41+0000\'\u003e31\\/Aug\\/06 15:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOK - I can buy that,  12.2 SR 4) ties into 12.2 Access rules.\u003c\\/p\u003e\\n\\n\u003cp\u003eI still think the statement should generate a warning instead of an error (though I\'ve changed my mind three times so far \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eThe key (I think) is that 12.2 Access rules say:\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"The applicable privileges shall include a privilege identifying O.\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eNote \'a privilege\\\", \u003cb\u003esingular\u003c\\/b\u003e, not all privliges identified explictly and implicitly by 12.2 SR 4). (we assume)\u003c\\/p\u003e\\n\\n\u003cp\u003eIn the case in the description, user2 does have the privlege of grantabke SELECT  (with grant option) for view v1\u003cbr\\/\u003e\\nsince it owns view v1. Thus execution seems to satisfy the access rules for 12.2.\u003c\\/p\u003e\\n\\n\u003cp\u003eTwo other ways of looking at this:\u003c\\/p\u003e\\n\\n\u003cp\u003e1) If the grantor was required to have all the privileges identified in 12.2 SR 4), then I think it would be impossible\u003cbr\\/\u003e\\nfor the statement ever to generate a warning from 12.2 GR 8) and 9). I don\'t think the spec would contradict itself like this.\u003c\\/p\u003e\\n\\n\u003cp\u003e2)  I belive a statement like\u003cbr\\/\u003e\\nGRANT SELECT, INSERT ON T TO FRED\u003cbr\\/\u003e\\nshould succeed if the grantor has grantable SELECT on T, but not grantable INSERT on T,\u003cbr\\/\u003e\\nand the result is SELECT is granted to FRED but not INSERT.\u003cbr\\/\u003e\\nThus would mean that the singular in 12.2 AR 1) is correct and has a purpose.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks again for your patience.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12431903_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431903_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Aug\\/06 15:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-31T15:39:41+0000\'\u003e31\\/Aug\\/06 15:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    OK - I can buy that,  12.2 SR 4) ties into 12.2 Access rules. \\n\\n I still think the statement should generate a warning instead of an error (though I\'ve changed my mind three times so far   \\n\\n The key (I think) is that 12.2 Access rules say: \\n\\n \\\"The applicable privileges shall include a privilege identifying O.\\\" \\n\\n Note \'a privilege\\\",  singular , not all privliges identified explictly and implicitly by 12.2 SR 4). (we assume) \\n\\n In the case in the description, user2 does have the privlege of grantabke SELECT  (with grant option) for view v1 \\nsince it owns view v1. Thus execution seems to satisfy the access rules for 12.2. \\n\\n Two other ways of looking at this: \\n\\n 1) If the grantor was required to have all the privileges identified in 12.2 SR 4), then I think it would be impossible \\nfor the statement ever to generate a warning from 12.2 GR 8) and 9). I don\'t think the spec would contradict itself like this. \\n\\n 2)  I belive a statement like \\nGRANT SELECT, INSERT ON T TO FRED \\nshould succeed if the grantor has grantable SELECT on T, but not grantable INSERT on T, \\nand the result is SELECT is granted to FRED but not INSERT. \\nThus would mean that the singular in 12.2 AR 1) is correct and has a purpose. \\n\\n Thanks again for your patience.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431945\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431945&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431945\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431945_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431945_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Aug\\/06 18:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-31T18:59:07+0000\'\u003e31\\/Aug\\/06 18:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDan stated:\u003c\\/p\u003e\\n\\n\u003cp\u003eTwo other ways of looking at this: \u003c\\/p\u003e\\n\\n\u003cp\u003e1) If the grantor was required to have all the privileges identified in 12.2 SR 4), then I think it would be impossible\u003cbr\\/\u003e\\nfor the statement ever to generate a warning from 12.2 GR 8) and 9). I don\'t think the spec would contradict itself like this.\u003c\\/p\u003e\\n\\n\u003cp\u003e2) I belive a statement like\u003cbr\\/\u003e\\nGRANT SELECT, INSERT ON T TO FRED\u003cbr\\/\u003e\\nshould succeed if the grantor has grantable SELECT on T, but not grantable INSERT on T,\u003cbr\\/\u003e\\nand the result is SELECT is granted to FRED but not INSERT.\u003cbr\\/\u003e\\nThus would mean that the singular in 12.2 AR 1) is correct and has a purpose. \u003c\\/p\u003e\\n\\n\u003cp\u003eMy comments:\u003c\\/p\u003e\\n\\n\u003cp\u003eFor 2)\u003c\\/p\u003e\\n\\n\u003cp\u003eGRANT SELECT, INSERT ON T TO FRED\u003c\\/p\u003e\\n\\n\u003cp\u003eOk, I agree the above statement should generate a warning when SELECT is grantable privilege and\u003cbr\\/\u003e\\nthe INSERT is not.  (The SELECT privilege on T is granted.)  This makes sense when 12.2 AR 1)\u003cbr\\/\u003e\\nis applied.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eFor 1)\u003cbr\\/\u003e\\n  GRANT SELECT ON V TO FRED\u003c\\/p\u003e\\n\\n\u003cp\u003eWhere V is a view, it is referring to a \\\"singular\\\" privilege which is SELECT in this case.  \u003cbr\\/\u003e\\nAccording to 12.1 GR 4), the above statement should only be executed successfully when all\u003cbr\\/\u003e\\nof its underlying objects (be that tables or views) have grantable select privilege as well.\u003cbr\\/\u003e\\nComments? \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12431945_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431945_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Aug\\/06 18:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-31T18:59:07+0000\'\u003e31\\/Aug\\/06 18:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Dan stated: \\n\\n Two other ways of looking at this:  \\n\\n 1) If the grantor was required to have all the privileges identified in 12.2 SR 4), then I think it would be impossible \\nfor the statement ever to generate a warning from 12.2 GR 8) and 9). I don\'t think the spec would contradict itself like this. \\n\\n 2) I belive a statement like \\nGRANT SELECT, INSERT ON T TO FRED \\nshould succeed if the grantor has grantable SELECT on T, but not grantable INSERT on T, \\nand the result is SELECT is granted to FRED but not INSERT. \\nThus would mean that the singular in 12.2 AR 1) is correct and has a purpose.  \\n\\n My comments: \\n\\n For 2) \\n\\n GRANT SELECT, INSERT ON T TO FRED \\n\\n Ok, I agree the above statement should generate a warning when SELECT is grantable privilege and \\nthe INSERT is not.  (The SELECT privilege on T is granted.)  This makes sense when 12.2 AR 1) \\nis applied. \\n\\n\\n For 1) \\n  GRANT SELECT ON V TO FRED \\n\\n Where V is a view, it is referring to a \\\"singular\\\" privilege which is SELECT in this case.   \\nAccording to 12.1 GR 4), the above statement should only be executed successfully when all \\nof its underlying objects (be that tables or views) have grantable select privilege as well. \\nComments?               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12431953\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12431953&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12431953\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12431953_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431953_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Aug\\/06 19:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-31T19:38:46+0000\'\u003e31\\/Aug\\/06 19:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think from the standard a GRANT statement has three possible outcomes:\u003c\\/p\u003e\\n\\n\u003cp\u003eA) Failed execution with SQL state 42xxx - Access Rule violation\u003c\\/p\u003e\\n\\n\u003cp\u003eB) Successful execution - no privileges granted - warning raised 01007 - privilege not granted\u003c\\/p\u003e\\n\\n\u003cp\u003eC) Successful execution - at least one privilege granted\u003c\\/p\u003e\\n\\n\u003cp\u003eFor the examples above\u003c\\/p\u003e\\n\\n\u003cp\u003e1) GRANT SELECT, INSERT ON T TO FRED  - I think it is outcome C), ie. no warning\u003c\\/p\u003e\\n\\n\u003cp\u003eAs for case 2) Yip says: \\\"According to 12.1 GR 4), the above statement should only be executed successfully when all\u003cbr\\/\u003e\\nof its underlying objects (be that tables or views) have grantable select privilege as well. \\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eSo can you quote any piece of text in 12.1 GR 4) that indicates a possible outcome is a failure?\u003cbr\\/\u003e\\nThe standard indicates failure by saying \\\"then an exception condition is raised:&lt;description of error&gt;\\\"\u003cbr\\/\u003e\\nNote there are no Access Rules for 12.1, the only access rules that apply here is from 12.2.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think that 12.1 GR 4) is simply stating that if a creator of a view following \u003cb\u003eany\u003c\\/b\u003e GRANT statement has grantable privileges for all\u003cbr\\/\u003e\\nthe privileges the view requires, then the creator of the view automatically gains grantable SELECT on the view.\u003cbr\\/\u003e\\nSo for the example in the description, if user1 subseqeuntly executes (after the view was created)\u003c\\/p\u003e\\n\\n\u003cp\u003eGRANT SELECT ON user.t1 to user2 WITH GRANT OPTION\u003c\\/p\u003e\\n\\n\u003cp\u003ethen this statement is implicitly executed\u003c\\/p\u003e\\n\\n\u003cp\u003eGRANT SELECT ON user2.v1 to user2 WITH GRANT OPTION GRANTED BY _SYSTEM\u003c\\/p\u003e\\n\\n\u003cp\u003eSo I think case 2) here is a B - warning raised.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12431953_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12431953_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Aug\\/06 19:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-31T19:38:46+0000\'\u003e31\\/Aug\\/06 19:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I think from the standard a GRANT statement has three possible outcomes: \\n\\n A) Failed execution with SQL state 42xxx - Access Rule violation \\n\\n B) Successful execution - no privileges granted - warning raised 01007 - privilege not granted \\n\\n C) Successful execution - at least one privilege granted \\n\\n For the examples above \\n\\n 1) GRANT SELECT, INSERT ON T TO FRED  - I think it is outcome C), ie. no warning \\n\\n As for case 2) Yip says: \\\"According to 12.1 GR 4), the above statement should only be executed successfully when all \\nof its underlying objects (be that tables or views) have grantable select privilege as well. \\\" \\n\\n So can you quote any piece of text in 12.1 GR 4) that indicates a possible outcome is a failure? \\nThe standard indicates failure by saying \\\"then an exception condition is raised:&lt;description of error&gt;\\\" \\nNote there are no Access Rules for 12.1, the only access rules that apply here is from 12.2. \\n\\n I think that 12.1 GR 4) is simply stating that if a creator of a view following  any  GRANT statement has grantable privileges for all \\nthe privileges the view requires, then the creator of the view automatically gains grantable SELECT on the view. \\nSo for the example in the description, if user1 subseqeuntly executes (after the view was created) \\n\\n GRANT SELECT ON user.t1 to user2 WITH GRANT OPTION \\n\\n then this statement is implicitly executed \\n\\n GRANT SELECT ON user2.v1 to user2 WITH GRANT OPTION GRANTED BY _SYSTEM \\n\\n So I think case 2) here is a B - warning raised. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12432028\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12432028&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12432028\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12432028_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432028_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 02:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T02:25:22+0000\'\u003e01\\/Sep\\/06 02:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDan states:\u003c\\/p\u003e\\n\\n\u003cp\u003e1) GRANT SELECT, INSERT ON T TO FRED  - I think it is outcome C), ie. no warning\u003c\\/p\u003e\\n\\n\u003cp\u003eHmm... I found it abit strange if no warning is raised for the above case where \u003cbr\\/\u003e\\nINSERT is non-grantable privilege and SELECT is grantable.  The SELECT privilege\u003cbr\\/\u003e\\nis granted(12.2 AR item 1) and since the INSERT privilege is non-grantable, the\u003cbr\\/\u003e\\nsystem should raise a warning (12.1 GR item 8)\u003c\\/p\u003e\\n\\n\u003cp\u003eIf no warning is raised, then how can a grantor can be informed by the system that all \u003cbr\\/\u003e\\nthe specified privileges he\\/she attempts to grant are all granted to the respective \u003cbr\\/\u003e\\ngrantee(s)?  i.e.:  If this very statement was issued by another user who happens to \u003cbr\\/\u003e\\nhave both SELECT and INSERT as grantable privileges.  So shouldn\'t C) be\u003c\\/p\u003e\\n\\n\u003cp\u003eC) Successful execution - at least one privilege granted, warning issued \u003c\\/p\u003e\\n\\n\u003cp\u003eAnd an additional outcome D) where\u003c\\/p\u003e\\n\\n\u003cp\u003eD) Successful execution - all privileges granted, no warning issued\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e2)  GRANT SELECT ON V TO FRED\u003c\\/p\u003e\\n\\n\u003cp\u003e    I cannot find any piece of info that is in 12.1 GR 4) that explicitly states it should return\u003cbr\\/\u003e\\n    as failure or warning.  All it states is that if the conditions in GR 4) are met,\u003cbr\\/\u003e\\n    then the grant statement is executed successfully.  I was inferring this implicitly\u003cbr\\/\u003e\\n    that if it is not executed successfully then it is an error.  \u003c\\/p\u003e\\n\\n\\n\u003cp\u003eI think at least we agree on that the problem statement of this jira should not be granted \u003cbr\\/\u003e\\nsuccessfully, so now the question is - should it be raised as a warning or an error\u003cbr\\/\u003e\\nin the \\\"singular\\\" privilege case?  In either case, there must be references somewhere\u003cbr\\/\u003e\\nin the spec that addresses this...\u003c\\/p\u003e\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12432028_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432028_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 02:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T02:25:22+0000\'\u003e01\\/Sep\\/06 02:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Dan states: \\n\\n 1) GRANT SELECT, INSERT ON T TO FRED  - I think it is outcome C), ie. no warning \\n\\n Hmm... I found it abit strange if no warning is raised for the above case where  \\nINSERT is non-grantable privilege and SELECT is grantable.  The SELECT privilege \\nis granted(12.2 AR item 1) and since the INSERT privilege is non-grantable, the \\nsystem should raise a warning (12.1 GR item 8) \\n\\n If no warning is raised, then how can a grantor can be informed by the system that all  \\nthe specified privileges he\\/she attempts to grant are all granted to the respective  \\ngrantee(s)?  i.e.:  If this very statement was issued by another user who happens to  \\nhave both SELECT and INSERT as grantable privileges.  So shouldn\'t C) be \\n\\n C) Successful execution - at least one privilege granted, warning issued  \\n\\n And an additional outcome D) where \\n\\n D) Successful execution - all privileges granted, no warning issued \\n\\n\\n 2)  GRANT SELECT ON V TO FRED \\n\\n     I cannot find any piece of info that is in 12.1 GR 4) that explicitly states it should return \\n    as failure or warning.  All it states is that if the conditions in GR 4) are met, \\n    then the grant statement is executed successfully.  I was inferring this implicitly \\n    that if it is not executed successfully then it is an error.   \\n\\n\\n I think at least we agree on that the problem statement of this jira should not be granted  \\nsuccessfully, so now the question is - should it be raised as a warning or an error \\nin the \\\"singular\\\" privilege case?  In either case, there must be references somewhere \\nin the spec that addresses this... \\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12432077\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12432077&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12432077\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12432077_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432077_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 07:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T07:06:51+0000\'\u003e01\\/Sep\\/06 07:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOk, I think I have misread GR 4), so let\'s try this again.  =)\u003c\\/p\u003e\\n\\n\u003cp\u003eDan stated:\u003c\\/p\u003e\\n\\n\u003cp\u003eI think that 12.1 GR 4) is simply stating that if a creator of a view following \u003cb\u003eany\u003c\\/b\u003e \u003cbr\\/\u003e\\nGRANT statement has grantable privileges for all the privileges the view requires, then \u003cbr\\/\u003e\\nthe creator of the view automatically gains grantable SELECT on the view.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo according to 12.1 GR 4), for the problem statement, the view owner does not have grantable \u003cbr\\/\u003e\\nSELECT on the view since he does NOT have select privilege WITH GRANT OPTIONS on the underlying \u003cbr\\/\u003e\\ntable(s) or view(s).\u003c\\/p\u003e\\n\\n\u003cp\u003eWith that said, according to 12.2 AR 1)\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"The applicable privileges shall include a privilege identifying O.\\\" \u003c\\/p\u003e\\n\\n\u003cp\u003eAnd 12.2 SR 4)\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"A set of privilege descriptors is identified. The privilege descriptors identified are those defining, for each\u003cbr\\/\u003e\\n&lt;action&gt; explicitly or implicitly in &lt;privileges&gt;, that &lt;action&gt; on O held by A with grant option.\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eSo for\u003c\\/p\u003e\\n\\n\u003cp\u003eGRANT SELECT ON V TO FRED\u003c\\/p\u003e\\n\\n\u003cp\u003eHere, we are referring to a singular privilege identifying O and in this case, there is \u003cbr\\/\u003e\\nno applicable privilege identifying O; hence an access rule violation.  So I think it should \u003cbr\\/\u003e\\nreturn an error instead of a warning.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12432077_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432077_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 07:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T07:06:51+0000\'\u003e01\\/Sep\\/06 07:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Ok, I think I have misread GR 4), so let\'s try this again.  =) \\n\\n Dan stated: \\n\\n I think that 12.1 GR 4) is simply stating that if a creator of a view following  any   \\nGRANT statement has grantable privileges for all the privileges the view requires, then  \\nthe creator of the view automatically gains grantable SELECT on the view. \\n\\n So according to 12.1 GR 4), for the problem statement, the view owner does not have grantable  \\nSELECT on the view since he does NOT have select privilege WITH GRANT OPTIONS on the underlying  \\ntable(s) or view(s). \\n\\n With that said, according to 12.2 AR 1) \\n\\n \\\"The applicable privileges shall include a privilege identifying O.\\\"  \\n\\n And 12.2 SR 4) \\n\\n \\\"A set of privilege descriptors is identified. The privilege descriptors identified are those defining, for each \\n&lt;action&gt; explicitly or implicitly in &lt;privileges&gt;, that &lt;action&gt; on O held by A with grant option.\\\" \\n\\n So for \\n\\n GRANT SELECT ON V TO FRED \\n\\n Here, we are referring to a singular privilege identifying O and in this case, there is  \\nno applicable privilege identifying O; hence an access rule violation.  So I think it should  \\nreturn an error instead of a warning. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12432148\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12432148&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12432148\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12432148_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432148_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 14:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T14:17:52+0000\'\u003e01\\/Sep\\/06 14:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYip said:\u003cbr\\/\u003e\\n&gt; So according to 12.1 GR 4), for the problem statement, the view owner does not have grantable\u003cbr\\/\u003e\\n&gt; SELECT on the view since he does NOT have select privilege WITH GRANT OPTIONS on the underlying\u003cbr\\/\u003e\\n&gt; table(s) or view(s). \u003c\\/p\u003e\\n\\n\u003cp\u003eOf course, thanks for pointing that out Yip. So the rule I\'ve been using to say it\'s not an error  is the rule that proves it\'s an error. \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003cbr\\/\u003e\\nSorry I was dumb here. I think I was of in too much the mindset that the object owner was all powerful either from that\'s the\u003cbr\\/\u003e\\nway it\'s been discussed during design &amp; implementation or I read too much into the functional spec.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo error it is.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis has been interesting in that the SQL standard describes a model with real (implict) GRANT\'s for various actions\u003cbr\\/\u003e\\nby the special grantor _SYSTEM. I think I also that these grants are expectedbe reflected in meta data.\u003cbr\\/\u003e\\nHowever, Derby\'s implementation choose not to implement the literal model, but instead have behaviour that\u003cbr\\/\u003e\\nmimics the model (which is fine if the end-result is the same thing). I wonder though if following the model literally\u003cbr\\/\u003e\\nwould lead to less special cases and not several back-and forths about how to address issues such as this.\u003cbr\\/\u003e\\nI mean here the back &amp; forth on how to determine if the view select was grantable or not. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12432148_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432148_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 14:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T14:17:52+0000\'\u003e01\\/Sep\\/06 14:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yip said: \\n&gt; So according to 12.1 GR 4), for the problem statement, the view owner does not have grantable \\n&gt; SELECT on the view since he does NOT have select privilege WITH GRANT OPTIONS on the underlying \\n&gt; table(s) or view(s).  \\n\\n Of course, thanks for pointing that out Yip. So the rule I\'ve been using to say it\'s not an error  is the rule that proves it\'s an error.   \\nSorry I was dumb here. I think I was of in too much the mindset that the object owner was all powerful either from that\'s the \\nway it\'s been discussed during design &amp; implementation or I read too much into the functional spec. \\n\\n So error it is. \\n\\n This has been interesting in that the SQL standard describes a model with real (implict) GRANT\'s for various actions \\nby the special grantor _SYSTEM. I think I also that these grants are expectedbe reflected in meta data. \\nHowever, Derby\'s implementation choose not to implement the literal model, but instead have behaviour that \\nmimics the model (which is fine if the end-result is the same thing). I wonder though if following the model literally \\nwould lead to less special cases and not several back-and forths about how to address issues such as this. \\nI mean here the back &amp; forth on how to determine if the view select was grantable or not.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12432149\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12432149&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12432149\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12432149_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432149_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 14:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T14:24:36+0000\'\u003e01\\/Sep\\/06 14:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe functional spec in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-464\\\" title=\\\"Enhance Derby by adding grant\\/revoke support. Grant\\/Revoke provide finner level of privileges than currently provided by Derby that is especially useful in network configurations.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-464\\\"\u003e\u003cdel\u003eDERBY-464\u003c\\/del\u003e\u003c\\/a\u003e has this line:\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"When a table, view, function, or procedure is created its owner (creator) has full privileges on it. \\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eI think we are now saying that is false, it might be better to explicitly state which permissions the owner has when an object is created.\u003cbr\\/\u003e\\nChecking the user docs to see how this was reflected would be a good idea.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12432149_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432149_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 14:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T14:24:36+0000\'\u003e01\\/Sep\\/06 14:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The functional spec in   DERBY-464   has this line: \\n\\n \\\"When a table, view, function, or procedure is created its owner (creator) has full privileges on it. \\\" \\n\\n I think we are now saying that is false, it might be better to explicitly state which permissions the owner has when an object is created. \\nChecking the user docs to see how this was reflected would be a good idea.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12432201\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12432201&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12432201\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12432201_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432201_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 18:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T18:56:38+0000\'\u003e01\\/Sep\\/06 18:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching derby1686-trunk-diff06.txt.  There was conflict with the latest code trunk\'s master file for grantRevokeDDL.sql, so resubmitting the patch.  It should apply cleanly.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12432201_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432201_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 18:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T18:56:38+0000\'\u003e01\\/Sep\\/06 18:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching derby1686-trunk-diff06.txt.  There was conflict with the latest code trunk\'s master file for grantRevokeDDL.sql, so resubmitting the patch.  It should apply cleanly.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12432202\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12432202&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12432202\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12432202_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432202_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 18:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T18:58:42+0000\'\u003e01\\/Sep\\/06 18:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Dan and Mamta for taking the time to review and make valuable comments and suggestions. \u003cbr\\/\u003e\\nIf there are no further objections, then this jira is ready to be committed.  =)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12432202_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432202_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 18:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T18:58:42+0000\'\u003e01\\/Sep\\/06 18:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks Dan and Mamta for taking the time to review and make valuable comments and suggestions.  \\nIf there are no further objections, then this jira is ready to be committed.  =)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12432206\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12432206&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12432206\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12432206_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432206_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 19:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T19:09:44+0000\'\u003e01\\/Sep\\/06 19:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYip, based on your and Dan\'s discussion of the SQL specification, does the functional spec need to be updated? If so, will you please take care of that?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12432206_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432206_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 19:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T19:09:44+0000\'\u003e01\\/Sep\\/06 19:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yip, based on your and Dan\'s discussion of the SQL specification, does the functional spec need to be updated? If so, will you please take care of that?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12432207\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12432207&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12432207\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12432207_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432207_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 19:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T19:11:23+0000\'\u003e01\\/Sep\\/06 19:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have not reviewed the patch but am planning to. All my comments have been around trying to clearly understand the behavior required which \u003cbr\\/\u003e\\nI thought was missing in the earlier discussion.\u003c\\/p\u003e\\n\\n\u003cp\u003eIs there an overview of the patch: I see this comment above:\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"http:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1686#action_12431640\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1686#action_12431640\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"With this patch, the view checking is moved to bind phase instead of execution. It directly checks the relevent providers of the view to be granted and if the check fails, it will mark this in a flag for execution time to determine later if the grant should succeed based on who the grantor is.\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eOne has to remember that committers and reviewers are not as closely involved in the work as the contributor is, obviously the contributor has been working\u003cbr\\/\u003e\\non the patch and knows the details inside &amp; out. Others are coming from it fresh or having managed to spend 5mins looking at the issue,. so the patch\u003cbr\\/\u003e\\ndescription should be written assumign the reader knows nothing. This way patches can be committed much faster as the reviewers and  committers\u003cbr\\/\u003e\\ncan come up to speed faster.\u003c\\/p\u003e\\n\\n\u003cp\u003eFor example, taking the above comment:\u003c\\/p\u003e\\n\\n\u003cp\u003e  \\\"the view checking\\\" - what view checking, grant time, create view time, select from view time, revoke time, etc? I\'m sure it\'s clear to you, but not to me.\u003c\\/p\u003e\\n\\n\u003cp\u003e  \\\"checking moved to bind time ... determine later ...\\\" - looks like we are checking twice now, once at bind, once at execution, so why even check at bind time?\u003cbr\\/\u003e\\n   A  fuller description of the algorithm being used would help here. If it\'s in comments in the code, that\'s great, just provide a pointer of where to start looking.\u003c\\/p\u003e\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12432207_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432207_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 19:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T19:11:23+0000\'\u003e01\\/Sep\\/06 19:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have not reviewed the patch but am planning to. All my comments have been around trying to clearly understand the behavior required which  \\nI thought was missing in the earlier discussion. \\n\\n Is there an overview of the patch: I see this comment above: \\n\\n  http:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1686#action_12431640  \\n\\n \\\"With this patch, the view checking is moved to bind phase instead of execution. It directly checks the relevent providers of the view to be granted and if the check fails, it will mark this in a flag for execution time to determine later if the grant should succeed based on who the grantor is.\\\" \\n\\n One has to remember that committers and reviewers are not as closely involved in the work as the contributor is, obviously the contributor has been working \\non the patch and knows the details inside &amp; out. Others are coming from it fresh or having managed to spend 5mins looking at the issue,. so the patch \\ndescription should be written assumign the reader knows nothing. This way patches can be committed much faster as the reviewers and  committers \\ncan come up to speed faster. \\n\\n For example, taking the above comment: \\n\\n   \\\"the view checking\\\" - what view checking, grant time, create view time, select from view time, revoke time, etc? I\'m sure it\'s clear to you, but not to me. \\n\\n   \\\"checking moved to bind time ... determine later ...\\\" - looks like we are checking twice now, once at bind, once at execution, so why even check at bind time? \\n   A  fuller description of the algorithm being used would help here. If it\'s in comments in the code, that\'s great, just provide a pointer of where to start looking. \\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12432223\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12432223&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12432223\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12432223_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432223_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 19:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T19:58:49+0000\'\u003e01\\/Sep\\/06 19:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDan, let me try to summarize and clarify what this patch is doing.  \u003c\\/p\u003e\\n\\n\u003cp\u003eFirst of all, at this point, we clearly understand that from the SQL:2003 spec, for the problem statement, the \u003cbr\\/\u003e\\nsystem needs to raise an error  when an owner of a view attempts to grant the view to others for which\u003cbr\\/\u003e\\nhe does not have all the required privilege(s)  (WITH GRANT OPTIONS) from the underlying objects.\u003cbr\\/\u003e\\nThe view owner has only privilege to select from the view but he does not have grantable select privilege;\u003cbr\\/\u003e\\ntherefore, he does not have the rights to grant to others.\u003c\\/p\u003e\\n\\n\u003cp\u003eWith that said, let\'s move to the patch implementation details.  In order to resolve this issue, during the\u003cbr\\/\u003e\\nbind phase of GRANT statement (see TablePriviegeNode\'s bindPrivilegeForView for details), the logic\u003cbr\\/\u003e\\nis to retrieve the view relevent providers and check against if the current user is the owner of the schema\u003cbr\\/\u003e\\nfor those objects.  By relevent I mean we only check for the following providers:  TableDescriptor, ViewDescriptor \u003cbr\\/\u003e\\nand AliasDescriptor (for routine).  If the check fails, we will mark the flag for execution later to indicate the\u003cbr\\/\u003e\\nobject is grantable or not.  We do not fail this at bind time since this statement may be in the statement\u003cbr\\/\u003e\\ncache for reuse, so we need to make the final check at execution time.  Thus, at execution time (see \u003cbr\\/\u003e\\nTablePrivilegeInfo\'s checkOwnership method for details), we determine here if the object is grantable iff:\u003c\\/p\u003e\\n\\n\u003cp\u003e1)  The current user is the database owner.\u003cbr\\/\u003e\\n2)  The current user is not the database owner but is the schema owner of the object to be granted\u003cbr\\/\u003e\\n3)  For view, we do an additional check to see if the grantable flag that was set in bind time is true\u003cbr\\/\u003e\\n4)  If the current user is not the owner, the system needs to do another check to see if the grantor \u003cbr\\/\u003e\\n      has grantable privilege(s) on that object.    This is not implemented yet since Derby doesn\'t support \u003cbr\\/\u003e\\n      FOR GRANT OPTIONS clause currently.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo in order for the logic above to work, one other thing needs to be resolved which was not quite clear in \u003cbr\\/\u003e\\nthe design specification - the permission cache.  I stumbled into this problem when I need to get all the\u003cbr\\/\u003e\\nproviders of the dependable (the view in this case) from the dependency manager(DM).  There are 2\u003cbr\\/\u003e\\nways to obtain a particular permission descriptor.  Let\'s take TablePermissionDescriptor for example.\u003cbr\\/\u003e\\nTo retrieve this descriptor, one way is to supply grantee + tableUUID as a key or another way is to use\u003cbr\\/\u003e\\nthe table permission UUID (this one is mainly used by the DM to instantiate the respective descriptor object)\u003cbr\\/\u003e\\nThe problem with the permission cache is, only the grantee and tableUUID is in the equations of computing\u003cbr\\/\u003e\\nthe hashCode and equals method but not the table perms UUID.  \u003c\\/p\u003e\\n\\n\u003cp\u003eSo when the DM attempts to load the provider UUID for the various permission descriptors in SYSDEPENDS, \u003cbr\\/\u003e\\nthere is a problem of instantiating the permission descriptor since the equals and hashCode method used\u003cbr\\/\u003e\\nto set the identity of the object uses nothing of perms UUID, this eventually will lead to a NPE in the permission\u003cbr\\/\u003e\\ncaching logic.  To resolve this, the getXXXPermission(UUID) form no longer interacts with the permission cache.  \u003cbr\\/\u003e\\nBut for the other normal case where we know the grantee and the tableUUID from compilation time, the system will \u003cbr\\/\u003e\\nstill make use of this permission cache.  I think that is about it from the implementation perspective.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe latest patch for this jira is derby1686-trunk-diff06.txt.  Appreciate any suggestions and comments.\u003c\\/p\u003e\\n\\n\u003cp\u003eNote:  I was reviewing the Grant\\/Revoke code, I noticed that for various access violations, the system is\u003cbr\\/\u003e\\n           throwing SQLSTATE with class code 28, shouldn\'t it be class code 42 instead?  e.g.:  \u003c\\/p\u003e\\n\\n\u003cp\u003eClass code - 28\u003cbr\\/\u003e\\ninvalid authorization specification 28 (no subclass) 000\u003c\\/p\u003e\\n\\n\u003cp\u003eClass code - 42\u003cbr\\/\u003e\\nsyntax error or access rule violation 42 (no subclass) 000\u003c\\/p\u003e\\n\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12432223_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432223_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 19:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T19:58:49+0000\'\u003e01\\/Sep\\/06 19:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Dan, let me try to summarize and clarify what this patch is doing.   \\n\\n First of all, at this point, we clearly understand that from the SQL:2003 spec, for the problem statement, the  \\nsystem needs to raise an error  when an owner of a view attempts to grant the view to others for which \\nhe does not have all the required privilege(s)  (WITH GRANT OPTIONS) from the underlying objects. \\nThe view owner has only privilege to select from the view but he does not have grantable select privilege; \\ntherefore, he does not have the rights to grant to others. \\n\\n With that said, let\'s move to the patch implementation details.  In order to resolve this issue, during the \\nbind phase of GRANT statement (see TablePriviegeNode\'s bindPrivilegeForView for details), the logic \\nis to retrieve the view relevent providers and check against if the current user is the owner of the schema \\nfor those objects.  By relevent I mean we only check for the following providers:  TableDescriptor, ViewDescriptor  \\nand AliasDescriptor (for routine).  If the check fails, we will mark the flag for execution later to indicate the \\nobject is grantable or not.  We do not fail this at bind time since this statement may be in the statement \\ncache for reuse, so we need to make the final check at execution time.  Thus, at execution time (see  \\nTablePrivilegeInfo\'s checkOwnership method for details), we determine here if the object is grantable iff: \\n\\n 1)  The current user is the database owner. \\n2)  The current user is not the database owner but is the schema owner of the object to be granted \\n3)  For view, we do an additional check to see if the grantable flag that was set in bind time is true \\n4)  If the current user is not the owner, the system needs to do another check to see if the grantor  \\n      has grantable privilege(s) on that object.    This is not implemented yet since Derby doesn\'t support  \\n      FOR GRANT OPTIONS clause currently. \\n\\n So in order for the logic above to work, one other thing needs to be resolved which was not quite clear in  \\nthe design specification - the permission cache.  I stumbled into this problem when I need to get all the \\nproviders of the dependable (the view in this case) from the dependency manager(DM).  There are 2 \\nways to obtain a particular permission descriptor.  Let\'s take TablePermissionDescriptor for example. \\nTo retrieve this descriptor, one way is to supply grantee + tableUUID as a key or another way is to use \\nthe table permission UUID (this one is mainly used by the DM to instantiate the respective descriptor object) \\nThe problem with the permission cache is, only the grantee and tableUUID is in the equations of computing \\nthe hashCode and equals method but not the table perms UUID.   \\n\\n So when the DM attempts to load the provider UUID for the various permission descriptors in SYSDEPENDS,  \\nthere is a problem of instantiating the permission descriptor since the equals and hashCode method used \\nto set the identity of the object uses nothing of perms UUID, this eventually will lead to a NPE in the permission \\ncaching logic.  To resolve this, the getXXXPermission(UUID) form no longer interacts with the permission cache.   \\nBut for the other normal case where we know the grantee and the tableUUID from compilation time, the system will  \\nstill make use of this permission cache.  I think that is about it from the implementation perspective. \\n\\n The latest patch for this jira is derby1686-trunk-diff06.txt.  Appreciate any suggestions and comments. \\n\\n Note:  I was reviewing the Grant\\/Revoke code, I noticed that for various access violations, the system is \\n           throwing SQLSTATE with class code 28, shouldn\'t it be class code 42 instead?  e.g.:   \\n\\n Class code - 28 \\ninvalid authorization specification 28 (no subclass) 000 \\n\\n Class code - 42 \\nsyntax error or access rule violation 42 (no subclass) 000 \\n\\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12432231\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12432231&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12432231\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12432231_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432231_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 20:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T20:22:10+0000\'\u003e01\\/Sep\\/06 20:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Yip, from a quick read that looks really helpful.\u003c\\/p\u003e\\n\\n\u003cp\u003eQuick question jumps out, you say this flag is based upon the current user, statements can be shared in the statement cache\u003cbr\\/\u003e\\nso how can a compiled statement have state that\'s dependent on the user compiling the query.\u003c\\/p\u003e\\n\\n\u003cp\u003eI will review the patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12432231_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432231_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 20:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T20:22:10+0000\'\u003e01\\/Sep\\/06 20:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks Yip, from a quick read that looks really helpful. \\n\\n Quick question jumps out, you say this flag is based upon the current user, statements can be shared in the statement cache \\nso how can a compiled statement have state that\'s dependent on the user compiling the query. \\n\\n I will review the patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12432236\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12432236&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12432236\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12432236_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432236_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 20:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T20:41:53+0000\'\u003e01\\/Sep\\/06 20:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDan, thanks for catching that!   I should have thought more thoroughly before applying this\u003cbr\\/\u003e\\nsort of optimization suggestion.  My original patch did not use this flag, it just collects the list of \u003cbr\\/\u003e\\nrelevent providers for the dependable and passed this list on to execution where it does the \u003cbr\\/\u003e\\nappropriate checking with respect to the current user.  I\'ll hold on to more comments from you \u003cbr\\/\u003e\\nbefore I revert it to my original fix.\u003c\\/p\u003e\\n\\n\u003cp\u003eWith the current logic of the statement cache, the compiled grant\\/revoke statement \u003cbr\\/\u003e\\nwill not be reused for different connections since I think the equals method is checking if the \u003cbr\\/\u003e\\nstatement\'s  compilation schema is the same.  Just an implementation note.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12432236_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432236_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 20:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T20:41:53+0000\'\u003e01\\/Sep\\/06 20:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Dan, thanks for catching that!   I should have thought more thoroughly before applying this \\nsort of optimization suggestion.  My original patch did not use this flag, it just collects the list of  \\nrelevent providers for the dependable and passed this list on to execution where it does the  \\nappropriate checking with respect to the current user.  I\'ll hold on to more comments from you  \\nbefore I revert it to my original fix. \\n\\n With the current logic of the statement cache, the compiled grant\\/revoke statement  \\nwill not be reused for different connections since I think the equals method is checking if the  \\nstatement\'s  compilation schema is the same.  Just an implementation note. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12432241\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12432241&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12432241\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12432241_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432241_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 20:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T20:58:36+0000\'\u003e01\\/Sep\\/06 20:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI haven\'t thought about this a lot, but the optimization might make sense if instead of using the current user you used the\u003cbr\\/\u003e\\nowner of the view.\u003c\\/p\u003e\\n\\n\u003cp\u003eThen again getting GRANT\\/REVOKE statements to work correctly should be the first thought, I don\'t think\u003cbr\\/\u003e\\nthat performance of them is going to be on anyone\'s critical list. Best to optimize once one knows where the bottle neck\u003cbr\\/\u003e\\nis.\u003c\\/p\u003e\\n\\n\u003cp\u003eFrom reading of the description I\'m concerned that we are even collecting providers at bind time, possibly doing a lot\u003cbr\\/\u003e\\nof extra work for little benefit (still need to look at the code to see what is meant by collecting the providers).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12432241_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432241_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 20:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T20:58:36+0000\'\u003e01\\/Sep\\/06 20:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I haven\'t thought about this a lot, but the optimization might make sense if instead of using the current user you used the \\nowner of the view. \\n\\n Then again getting GRANT\\/REVOKE statements to work correctly should be the first thought, I don\'t think \\nthat performance of them is going to be on anyone\'s critical list. Best to optimize once one knows where the bottle neck \\nis. \\n\\n From reading of the description I\'m concerned that we are even collecting providers at bind time, possibly doing a lot \\nof extra work for little benefit (still need to look at the code to see what is meant by collecting the providers).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12432245\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12432245&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12432245\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12432245_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432245_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 21:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T21:24:33+0000\'\u003e01\\/Sep\\/06 21:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIn patch \u003c\\/p\u003e\\n\\n\u003cp\u003e+\\t\\/\\/ get all the providers of this view for execution time to see if\u003cbr\\/\u003e\\n+\\t\\/\\/ this view is grantable to the grantees by this grantor\u003cbr\\/\u003e\\n+\\t\\/\\/ go through the providers regardless who the owner is since the \u003cbr\\/\u003e\\n+\\t\\/\\/ statement cache may be in effect.\\t\u003cbr\\/\u003e\\n+\\tprivate void bindPrivilegesForView ( TableDescriptor td) \u003c\\/p\u003e\\n\\n\u003cp\u003e1) Please use javadoc comments (\\/** intro) for methods, fields classes, not regular comments. They will appear in the\u003cbr\\/\u003e\\nengine\'s javadoc and they appear in IDE\'s (at least Eclipse) when hovering over a call to that method. Makes\u003cbr\\/\u003e\\ndevelopment a lot easier.\u003c\\/p\u003e\\n\\n\u003cp\u003eI saw this in your overview as well, you say here if the \\\"view is grantable\\\", and in the overview above \\\"indicate if the object is grantable\\\".\u003c\\/p\u003e\\n\\n\u003cp\u003eBut objects or views are not grantable, privileges are grantable. Using clear, consistent and correct terminology really helps to clear up\u003cbr\\/\u003e\\nthe code and make it understandable for others to read.\u003c\\/p\u003e\\n\\n\u003cp\u003eMinor harmess bug in bindPrivilegesForView  in that if the provider is not one of the types you handle then the sd checked\u003cbr\\/\u003e\\nwill be the same one checked on the previous iteration. Would be fixed by correctly moving the defintion of sd into the loop\u003cbr\\/\u003e\\nwhere it belongs.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12432245_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432245_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Sep\\/06 21:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-01T21:24:33+0000\'\u003e01\\/Sep\\/06 21:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    In patch  \\n\\n +\\t\\/\\/ get all the providers of this view for execution time to see if \\n+\\t\\/\\/ this view is grantable to the grantees by this grantor \\n+\\t\\/\\/ go through the providers regardless who the owner is since the  \\n+\\t\\/\\/ statement cache may be in effect.\\t \\n+\\tprivate void bindPrivilegesForView ( TableDescriptor td)  \\n\\n 1) Please use javadoc comments (\\/** intro) for methods, fields classes, not regular comments. They will appear in the \\nengine\'s javadoc and they appear in IDE\'s (at least Eclipse) when hovering over a call to that method. Makes \\ndevelopment a lot easier. \\n\\n I saw this in your overview as well, you say here if the \\\"view is grantable\\\", and in the overview above \\\"indicate if the object is grantable\\\". \\n\\n But objects or views are not grantable, privileges are grantable. Using clear, consistent and correct terminology really helps to clear up \\nthe code and make it understandable for others to read. \\n\\n Minor harmess bug in bindPrivilegesForView  in that if the provider is not one of the types you handle then the sd checked \\nwill be the same one checked on the previous iteration. Would be fixed by correctly moving the defintion of sd into the loop \\nwhere it belongs. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12432276\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12432276&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12432276\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12432276_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432276_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Sep\\/06 06:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-02T06:32:26+0000\'\u003e02\\/Sep\\/06 06:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMy apology.  I will clean up the comments and use consistent terminology in the next patch.\u003cbr\\/\u003e\\nI wrote the patch summary really fast and should have double check on the content to see \u003cbr\\/\u003e\\nif they make clear sense to the reviewers.\u003c\\/p\u003e\\n\\n\u003cp\u003eAs for \\\"collecting the providers\\\" description, perhaps it is more clearer to state \\\"retrieving all the underlying \u003cbr\\/\u003e\\nstored dependencies such as table(s), view(s) and routine(s) descriptors which the view depends on.\\\" \u003c\\/p\u003e\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12432276_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432276_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Sep\\/06 06:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-02T06:32:26+0000\'\u003e02\\/Sep\\/06 06:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    My apology.  I will clean up the comments and use consistent terminology in the next patch. \\nI wrote the patch summary really fast and should have double check on the content to see  \\nif they make clear sense to the reviewers. \\n\\n As for \\\"collecting the providers\\\" description, perhaps it is more clearer to state \\\"retrieving all the underlying  \\nstored dependencies such as table(s), view(s) and routine(s) descriptors which the view depends on.\\\"  \\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12432366\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12432366&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12432366\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12432366_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432366_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Sep\\/06 18:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-03T18:33:19+0000\'\u003e03\\/Sep\\/06 18:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching derby1686-trunk-diff07.txt.   This patch reverts to my original fix and the  optimization runtime flag checking has been removed.  The original fix retrieves all the relevent providers such as table, view, and routine descriptor(s) of the given view at bind time and pass this information to runtime later for it to determine if the privilege is grantable or not by the grantor.  It also corrected some of the comments in the code that was not entirely clear and concise.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12432366_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432366_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Sep\\/06 18:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-03T18:33:19+0000\'\u003e03\\/Sep\\/06 18:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching derby1686-trunk-diff07.txt.   This patch reverts to my original fix and the  optimization runtime flag checking has been removed.  The original fix retrieves all the relevent providers such as table, view, and routine descriptor(s) of the given view at bind time and pass this information to runtime later for it to determine if the privilege is grantable or not by the grantor.  It also corrected some of the comments in the code that was not entirely clear and concise. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12432372\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12432372&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12432372\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12432372_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432372_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Sep\\/06 19:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-03T19:17:42+0000\'\u003e03\\/Sep\\/06 19:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDan stated:\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"From reading of the description I\'m concerned that we are even collecting providers at bind time, possibly doing a lot\u003cbr\\/\u003e\\nof extra work for little benefit (still need to look at the code to see what is meant by collecting the providers).\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eThe only reason I collect the providers at bind time instead of execution time is because Derby is retrieving these\u003cbr\\/\u003e\\nstored dependencies from SYSDEPENDS and I like to reduce the number of read locks that get held at execution \u003cbr\\/\u003e\\ntime.  If any of the providers are modified, then the dependency manager will invalidate the view which will trigger \u003cbr\\/\u003e\\na recompilation of the statement.  Do let me know if this approach is not worth the effort or it is not valid.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12432372_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12432372_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Sep\\/06 19:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-03T19:17:42+0000\'\u003e03\\/Sep\\/06 19:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Dan stated: \\n\\n \\\"From reading of the description I\'m concerned that we are even collecting providers at bind time, possibly doing a lot \\nof extra work for little benefit (still need to look at the code to see what is meant by collecting the providers).\\\" \\n\\n The only reason I collect the providers at bind time instead of execution time is because Derby is retrieving these \\nstored dependencies from SYSDEPENDS and I like to reduce the number of read locks that get held at execution  \\ntime.  If any of the providers are modified, then the dependency manager will invalidate the view which will trigger  \\na recompilation of the statement.  Do let me know if this approach is not worth the effort or it is not valid.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12433151\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12433151&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12433151\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12433151_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12433151_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Sep\\/06 16:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-07T16:02:42+0000\'\u003e07\\/Sep\\/06 16:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'m working on committing this latest patch.\u003c\\/p\u003e\\n\\n\u003cp\u003eQuick question, why do we need a new SQL state 2850G, it\'s very similar to the existing 28508.\u003c\\/p\u003e\\n\\n\u003cp\u003eERROR 2850G: User \'MAMTA2\' does not have grant permission on object \'MAMTA2\'.\'V21VIEWTEST\'.\u003c\\/p\u003e\\n\\n\u003cp\u003eERROR 28508: User \'MAMTA3\' does not have select permission on column \'C111\' of table \'MAMTA2\'.\'V21VIEWTEST\'.\u003c\\/p\u003e\\n\\n\u003cp\u003eAlso there is no such thing as a \'grant\' permission (see 2850G) above, so I think this message is somewhat confusing to the user.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis can be resolved after the commit.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12433151_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12433151_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Sep\\/06 16:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-07T16:02:42+0000\'\u003e07\\/Sep\\/06 16:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'m working on committing this latest patch. \\n\\n Quick question, why do we need a new SQL state 2850G, it\'s very similar to the existing 28508. \\n\\n ERROR 2850G: User \'MAMTA2\' does not have grant permission on object \'MAMTA2\'.\'V21VIEWTEST\'. \\n\\n ERROR 28508: User \'MAMTA3\' does not have select permission on column \'C111\' of table \'MAMTA2\'.\'V21VIEWTEST\'. \\n\\n Also there is no such thing as a \'grant\' permission (see 2850G) above, so I think this message is somewhat confusing to the user. \\n\\n This can be resolved after the commit.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12433161\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12433161&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12433161\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12433161_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12433161_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Sep\\/06 16:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-07T16:32:47+0000\'\u003e07\\/Sep\\/06 16:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePatch derby1686-trunk-diff07.txt Committed revision 441131 Thanks Yip\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12433161_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12433161_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Sep\\/06 16:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-07T16:32:47+0000\'\u003e07\\/Sep\\/06 16:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Patch derby1686-trunk-diff07.txt Committed revision 441131 Thanks Yip              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12435142\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12435142&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12435142\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12435142_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12435142_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Sep\\/06 22:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-15T22:35:45+0000\'\u003e15\\/Sep\\/06 22:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMost of the 2850* SQLSTATE applies to a specific type of object.  i.e.:  tables.  The error here applies to view and \u003cbr\\/\u003e\\nI need something more general so I introduced 2850G.  I was thinking that the system probably might just need\u003cbr\\/\u003e\\na single generic SQLSTATE to address this.  But I see that you have already open a jira issue for this.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yipng\\\" id=\\\"commentauthor_12435142_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yipng\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yipng\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yip Ng\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12435142_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Sep\\/06 22:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-15T22:35:45+0000\'\u003e15\\/Sep\\/06 22:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Most of the 2850* SQLSTATE applies to a specific type of object.  i.e.:  tables.  The error here applies to view and  \\nI need something more general so I introduced 2850G.  I was thinking that the system probably might just need \\na single generic SQLSTATE to address this.  But I see that you have already open a jira issue for this.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12551396\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1686?focusedCommentId=12551396&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12551396\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"fuzzylogic\\\" id=\\\"commentauthor_12551396_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=fuzzylogic\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"fuzzylogic\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andrew McIntyre\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12551396_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/07 09:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-13T09:05:09+0000\'\u003e13\\/Dec\\/07 09:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis issue has been resolved for over a year with no further movement. Closing.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"fuzzylogic\\\" id=\\\"commentauthor_12551396_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=fuzzylogic\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"fuzzylogic\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andrew McIntyre\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12551396_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/07 09:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-13T09:05:09+0000\'\u003e13\\/Dec\\/07 09:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This issue has been resolved for over a year with no further movement. Closing.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="10594";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=10594&amp;avatarId=10122\\\" alt=\\\"Derby\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\"\u003eDerby\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520238467991"> 
    <input type="hidden" title="jira.request.server.time" value="261"> 
    <input type="hidden" title="jira.request.id" value="507x94358793x3"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="2"> 
    <input type="hidden" title="db.reads.time.in.ms" value="25"> 
    <input type="hidden" title="db.conns.time.in.ms" value="30"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 507x94358793x3
	          REQUEST TIMESTAMP : [05/Mar/2018:08:27:47 +0000]
	               REQUEST TIME : 0.2610
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 2

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=23, elapsedTotal=25121476, elapsedMin=475332, elapsedMax=9749216, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=27, elapsedTotal=30484462, elapsedMin=498214, elapsedMax=9779927, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>