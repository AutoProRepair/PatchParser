<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|d2401e00857754496d40cf1363650af2b12852a8|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"20e9477d7c4174\"";
WRM._unparsedData["project-id"]="12310230";
WRM._unparsedData["project-key"]="\"SOLR\"";
WRM._unparsedData["project-name"]="\"Solr\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310230";
WRM._unparsedData["projectKey"]="\"SOLR\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="SOLR-1458"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[SOLR-1458] Java Replication error: NullPointerException SEVERE: SnapPull failed on 2009-09-22 nightly - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[SOLR-1458] Java Replication error: NullPointerException SEVERE: SnapPull failed on 2009-09-22 nightly - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/SOLR" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-1458">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310230" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Solr'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310230&amp;avatarId=22151"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/SOLR">Solr</a></li>
                 <li><a class="issue-link" data-issue-key="SOLR-1458" href="/jira/browse/SOLR-1458" id="key-val" rel="12436479">SOLR-1458</a></li>
                </ol>
                <h1 id="summary-val">Java Replication error: NullPointerException SEVERE: SnapPull failed on 2009-09-22 nightly</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-1458"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/SOLR-1458/SOLR-1458.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/SOLR-1458/SOLR-1458.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/SOLR-1458/SOLR-1458.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/SOLR-1458/SOLR-1458.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="1.4 ">1.4</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+1.4" title="1.4 ">1.4</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+component+%3D+%22replication+%28java%29%22" title="replication (java) Index replication from master to slaves using pure java">replication (java)</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12436479-value">None</span> 
                   </div> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap"> 
                   <strong class="name">Environment:</strong> 
                   <div id="environment-val" class="value"> 
                    <p>CentOS x64<br> 8GB RAM<br> Tomcat, running with 7G max memory; memory usage is &lt;2GB, so it's not the problem</p> 
                    <p>Host a: master<br> Host b: slave</p> 
                    <p>Multiple single core Solr instances, using JNDI.</p> 
                    <p>Java replication</p> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>After finally figuring out the new Java based replication, we have started both the slave and the master and issued optimize to all master Solr instances. This triggered some replication to go through just fine, but it looks like some of it is failing.</p> 
                  <p>Here's what I'm getting in the slave logs, repeatedly for each shard:</p> 
                  <div class="code panel" style="border-width: 1px;">
                   <div class="codeContent panelContent"> 
                    <pre class="code-java"> 
SEVERE: SnapPull failed 
java.lang.NullPointerException
        at org.apache.solr.handler.SnapPuller.fetchLatestIndex(SnapPuller.java:271)
        at org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:258)
        at org.apache.solr.handler.SnapPuller$1.run(SnapPuller.java:159)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
        at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:181)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:205)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
        at java.lang.<span class="code-object">Thread</span>.run(<span class="code-object">Thread</span>.java:619)
</pre> 
                   </div>
                  </div> 
                  <p>If I issue an optimize again on the master to one of the shards, it then triggers a replication and replicates OK. I have a feeling that these SnapPull failures appear later on but right now I don't have enough to form a pattern.</p> 
                  <p>Here's replication.properties on one of the failed slave instances.</p> 
                  <div class="code panel" style="border-width: 1px;">
                   <div class="codeContent panelContent"> 
                    <pre class="code-java">cat data/replication.properties 
#Replication details
#Wed Sep 23 19:35:30 PDT 2009
replicationFailedAtList=1253759730020,1253759700018,1253759670019,1253759640018,1253759610018,1253759580022,1253759550019,1253759520016,1253759490026,1253759460016
previousCycleTimeInSeconds=0
timesFailed=113
indexReplicatedAtList=1253759730020,1253759700018,1253759670019,1253759640018,1253759610018,1253759580022,1253759550019,1253759520016,1253759490026,1253759460016
indexReplicatedAt=1253759730020
replicationFailedAt=1253759730020
lastCycleBytesDownloaded=0
timesIndexReplicated=113
</pre> 
                   </div>
                  </div> 
                  <p>and another</p> 
                  <div class="code panel" style="border-width: 1px;">
                   <div class="codeContent panelContent"> 
                    <pre class="code-java">cat data/replication.properties 
#Replication details
#Wed Sep 23 18:42:01 PDT 2009
replicationFailedAtList=1253756490034,1253756460169
previousCycleTimeInSeconds=1
timesFailed=2
indexReplicatedAtList=1253756521284,1253756490034,1253756460169
indexReplicatedAt=1253756521284
replicationFailedAt=1253756490034
lastCycleBytesDownloaded=22932293
timesIndexReplicated=3
</pre> 
                   </div>
                  </div> 
                  <p>Some relevant configs:<br> In solrconfig.xml:</p> 
                  <div class="code panel" style="border-width: 1px;">
                   <div class="codeContent panelContent"> 
                    <pre class="code-java">&lt;!-- For docs see http:<span class="code-comment">//wiki.apache.org/solr/SolrReplication --&gt;
</span>  &lt;requestHandler name=<span class="code-quote">"/replication"</span> class=<span class="code-quote">"solr.ReplicationHandler"</span> &gt;
    &lt;lst name=<span class="code-quote">"master"</span>&gt;
        &lt;str name=<span class="code-quote">"enable"</span>&gt;${enable.master:<span class="code-keyword">false</span>}&lt;/str&gt;
        &lt;str name=<span class="code-quote">"replicateAfter"</span>&gt;optimize&lt;/str&gt;
        &lt;str name=<span class="code-quote">"backupAfter"</span>&gt;optimize&lt;/str&gt;
        &lt;str name=<span class="code-quote">"commitReserveDuration"</span>&gt;00:00:20&lt;/str&gt;
    &lt;/lst&gt;
    &lt;lst name=<span class="code-quote">"slave"</span>&gt;
        &lt;str name=<span class="code-quote">"enable"</span>&gt;${enable.slave:<span class="code-keyword">false</span>}&lt;/str&gt;

        &lt;!-- url of master, from properties file --&gt;
        &lt;str name=<span class="code-quote">"masterUrl"</span>&gt;${master.url}&lt;/str&gt;

        &lt;!-- how often to check master --&gt;
        &lt;str name=<span class="code-quote">"pollInterval"</span>&gt;00:00:30&lt;/str&gt;
    &lt;/lst&gt;
  &lt;/requestHandler&gt;
</pre> 
                   </div>
                  </div> 
                  <p>The slave then has this in solrcore.properties:</p> 
                  <div class="code panel" style="border-width: 1px;">
                   <div class="codeContent panelContent"> 
                    <pre class="code-java">enable.slave=<span class="code-keyword">true</span>
master.url=URLOFMASTER/replication
</pre> 
                   </div>
                  </div> 
                  <p>and the master has</p> 
                  <div class="code panel" style="border-width: 1px;">
                   <div class="codeContent panelContent"> 
                    <pre class="code-java">enable.master=<span class="code-keyword">true</span>
</pre> 
                   </div>
                  </div> 
                  <p>I'd be glad to provide more details but I'm not sure what else I can do. <a href="https://issues.apache.org/jira/browse/SOLR-926" title="Exception in Replication" class="issue-link" data-issue-key="SOLR-926"><del>SOLR-926</del></a> may be relevant.</p> 
                  <p>Thanks.</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/SOLR-1458?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/SOLR-1458?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/SOLR-1458?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/SOLR-1458?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12421268" data-issue-id="12436479" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12421268/reserve.patch" draggable="true" data-downloadurl="text/plain:reserve.patch:https://issues.apache.org/jira/secure/attachment/12421268/reserve.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12421268/reserve.patch" title="Latest  05/Oct/09 09:37 - Noble Paul" draggable="true" data-downloadurl="text/plain:reserve.patch:https://issues.apache.org/jira/secure/attachment/12421268/reserve.patch">reserve.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-10-05T09:37:41.358Z">05/Oct/09 09:37</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Noble Paul
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12421274" data-issue-id="12436479" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12421274/SOLR-1458.patch" draggable="true" data-downloadurl="text/plain:SOLR-1458.patch:https://issues.apache.org/jira/secure/attachment/12421274/SOLR-1458.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12421274/SOLR-1458.patch" title="Latest  05/Oct/09 10:39 - Noble Paul" draggable="true" data-downloadurl="text/plain:SOLR-1458.patch:https://issues.apache.org/jira/secure/attachment/12421274/SOLR-1458.patch">SOLR-1458.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-10-05T10:39:06.936Z">05/Oct/09 10:39</time>
                   </dd>
                   <dd class="attachment-size">
                    5 kB
                   </dd>
                   <dd class="attachment-author">
                    Noble Paul
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12420622" data-issue-id="12436479" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12420622/SOLR-1458.patch" draggable="true" data-downloadurl="text/x-diff:SOLR-1458.patch:https://issues.apache.org/jira/secure/attachment/12420622/SOLR-1458.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12420622/SOLR-1458.patch" title=" 26/Sep/09 02:12 - Yonik Seeley" draggable="true" data-downloadurl="text/x-diff:SOLR-1458.patch:https://issues.apache.org/jira/secure/attachment/12420622/SOLR-1458.patch">SOLR-1458.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-09-26T02:12:22.560Z">26/Sep/09 02:12</time>
                   </dd>
                   <dd class="attachment-size">
                    11 kB
                   </dd>
                   <dd class="attachment-author">
                    Yonik Seeley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12420530" data-issue-id="12436479" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12420530/SOLR-1458.patch" draggable="true" data-downloadurl="text/plain:SOLR-1458.patch:https://issues.apache.org/jira/secure/attachment/12420530/SOLR-1458.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12420530/SOLR-1458.patch" title=" 25/Sep/09 06:43 - Noble Paul" draggable="true" data-downloadurl="text/plain:SOLR-1458.patch:https://issues.apache.org/jira/secure/attachment/12420530/SOLR-1458.patch">SOLR-1458.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-09-25T06:43:34.838Z">25/Sep/09 06:43</time>
                   </dd>
                   <dd class="attachment-size">
                    5 kB
                   </dd>
                   <dd class="attachment-author">
                    Noble Paul
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12420525" data-issue-id="12436479" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12420525/SOLR-1458.patch" draggable="true" data-downloadurl="text/plain:SOLR-1458.patch:https://issues.apache.org/jira/secure/attachment/12420525/SOLR-1458.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12420525/SOLR-1458.patch" title=" 25/Sep/09 04:27 - Noble Paul" draggable="true" data-downloadurl="text/plain:SOLR-1458.patch:https://issues.apache.org/jira/secure/attachment/12420525/SOLR-1458.patch">SOLR-1458.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-09-25T04:27:04.136Z">25/Sep/09 04:27</time>
                   </dd>
                   <dd class="attachment-size">
                    3 kB
                   </dd>
                   <dd class="attachment-author">
                    Noble Paul
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12420436" data-issue-id="12436479" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12420436/SOLR-1458.patch" draggable="true" data-downloadurl="text/plain:SOLR-1458.patch:https://issues.apache.org/jira/secure/attachment/12420436/SOLR-1458.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12420436/SOLR-1458.patch" title=" 24/Sep/09 05:50 - Noble Paul" draggable="true" data-downloadurl="text/plain:SOLR-1458.patch:https://issues.apache.org/jira/secure/attachment/12420436/SOLR-1458.patch">SOLR-1458.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-09-24T05:50:34.917Z">24/Sep/09 05:50</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Noble Paul
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12420433" data-issue-id="12436479" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12420433/SOLR-1458.patch" draggable="true" data-downloadurl="text/plain:SOLR-1458.patch:https://issues.apache.org/jira/secure/attachment/12420433/SOLR-1458.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12420433/SOLR-1458.patch" title=" 24/Sep/09 03:56 - Noble Paul" draggable="true" data-downloadurl="text/plain:SOLR-1458.patch:https://issues.apache.org/jira/secure/attachment/12420433/SOLR-1458.patch">SOLR-1458.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-09-24T03:56:00.596Z">24/Sep/09 03:56</time>
                   </dd>
                   <dd class="attachment-size">
                    0.7 kB
                   </dd>
                   <dd class="attachment-author">
                    Noble Paul
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12420598" data-issue-id="12436479" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12420598/SolrDeletionPolicy.patch" draggable="true" data-downloadurl="text/x-diff:SolrDeletionPolicy.patch:https://issues.apache.org/jira/secure/attachment/12420598/SolrDeletionPolicy.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12420598/SolrDeletionPolicy.patch" title="Latest  25/Sep/09 20:04 - Yonik Seeley" draggable="true" data-downloadurl="text/x-diff:SolrDeletionPolicy.patch:https://issues.apache.org/jira/secure/attachment/12420598/SolrDeletionPolicy.patch">SolrDeletionPolicy.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-09-25T20:04:15.998Z">25/Sep/09 20:04</time>
                   </dd>
                   <dd class="attachment-size">
                    6 kB
                   </dd>
                   <dd class="attachment-author">
                    Yonik Seeley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12420595" data-issue-id="12436479" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12420595/SolrDeletionPolicy.patch" draggable="true" data-downloadurl="text/x-diff:SolrDeletionPolicy.patch:https://issues.apache.org/jira/secure/attachment/12420595/SolrDeletionPolicy.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12420595/SolrDeletionPolicy.patch" title=" 25/Sep/09 18:58 - Yonik Seeley" draggable="true" data-downloadurl="text/x-diff:SolrDeletionPolicy.patch:https://issues.apache.org/jira/secure/attachment/12420595/SolrDeletionPolicy.patch">SolrDeletionPolicy.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-09-25T18:58:16.444Z">25/Sep/09 18:58</time>
                   </dd>
                   <dd class="attachment-size">
                    3 kB
                   </dd>
                   <dd class="attachment-author">
                    Yonik Seeley
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is related to">
                   is related to
                  </dt> 
                  <dd id="internal-12436853_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="SOLR-1475: Java-based replication doesn't properly reserve its commit point during backups"> <a href="/jira/browse/SOLR-1475" data-issue-key="SOLR-1475" class="issue-link link-title resolution">SOLR-1475</a> <span class="link-summary">Java-based replication doesn't properly reserve its commit point during backups</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_yseeley@gmail.com" rel="yseeley@gmail.com" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Yonik Seeley&quot;,&quot;emailAddress&quot;:&quot;yseeley@gmail.com&quot;,&quot;username&quot;:&quot;yseeley@gmail.com&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="yseeley@gmail.com"></span></span> Yonik Seeley </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_archon810" rel="archon810" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Artem Russakovskii&quot;,&quot;emailAddress&quot;:&quot;archon810@gmail.com&quot;,&quot;username&quot;:&quot;archon810&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="archon810"></span></span> Artem Russakovskii </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">1</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="24/Sep/09 02:42"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2009-09-24T02:42:41+0000">24/Sep/09 02:42</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="10/Nov/09 15:52"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2009-11-10T15:52:16+0000">10/Nov/09 15:52</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="09/Oct/09 18:36"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2009-10-09T18:36:34+0000">09/Oct/09 18:36</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-1458?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-1458?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-1458?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-1458?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-1458?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-1458?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-1458?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-1458?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/SOLR-1458?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-1458?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-1458?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/SOLR-1458?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12758998\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12758998&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12758998\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12758998_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12758998_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/09 03:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-24T03:50:41+0000\'\u003e24\\/Sep\\/09 03:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ecan you hit the master with the filelist command  and see the output. \u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"http:\\/\\/wiki.apache.org\\/solr\\/SolrReplication#line-155\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/wiki.apache.org\\/solr\\/SolrReplication#line-155\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12758998_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12758998_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/09 03:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-24T03:50:41+0000\'\u003e24\\/Sep\\/09 03:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    can you hit the master with the filelist command  and see the output.  \\n\\n  http:\\/\\/wiki.apache.org\\/solr\\/SolrReplication#line-155               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12758999\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12758999&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12758999\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12758999_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12758999_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/09 03:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-24T03:56:00+0000\'\u003e24\\/Sep\\/09 03:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003elog the error if no file list available\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12758999_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12758999_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/09 03:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-24T03:56:00+0000\'\u003e24\\/Sep\\/09 03:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    log the error if no file list available              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759001\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759001&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759001\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759001_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759001_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/09 04:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-24T04:08:52+0000\'\u003e24\\/Sep\\/09 04:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWhy would there not be a filelist? Any idea what the underlying error is?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759001_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759001_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/09 04:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-24T04:08:52+0000\'\u003e24\\/Sep\\/09 04:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Why would there not be a filelist? Any idea what the underlying error is?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759003\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759003&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759003\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12759003_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759003_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/09 04:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-24T04:17:24+0000\'\u003e24\\/Sep\\/09 04:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eisn\'t it possible that by the time filelist is invoked the indexcommit of the version is gone ? In that case no files would be available\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12759003_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759003_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/09 04:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-24T04:17:24+0000\'\u003e24\\/Sep\\/09 04:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    isn\'t it possible that by the time filelist is invoked the indexcommit of the version is gone ? In that case no files would be available              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759004\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759004&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759004\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12759004_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759004_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/09 04:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-24T04:21:01+0000\'\u003e24\\/Sep\\/09 04:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eand we don\'t reserve the commit after an indexversion command . should we reserve the commitpoint if after an indexversion command?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12759004_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759004_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/09 04:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-24T04:21:01+0000\'\u003e24\\/Sep\\/09 04:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    and we don\'t reserve the commit after an indexversion command . should we reserve the commitpoint if after an indexversion command?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759021\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759021&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759021\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12759021_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759021_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/09 05:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-24T05:50:34+0000\'\u003e24\\/Sep\\/09 05:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ereserve commits in indexversion command\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12759021_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759021_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/09 05:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-24T05:50:34+0000\'\u003e24\\/Sep\\/09 05:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    reserve commits in indexversion command              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759179\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759179&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759179\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759179_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759179_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/09 17:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-24T17:12:17+0000\'\u003e24\\/Sep\\/09 17:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe best way to eliminate some of these race conditions would seem to be combine it into a single command.\u003cbr\\/\u003e\\n\\\"what is your current index version?  if greater than 5, please give me the list of new files since then and please reserve them for x milliseconds\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eBut at this point (close to 1.4) I guess your patch is the most straightforward fix.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759179_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759179_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/09 17:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-24T17:12:17+0000\'\u003e24\\/Sep\\/09 17:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The best way to eliminate some of these race conditions would seem to be combine it into a single command. \\n\\\"what is your current index version?  if greater than 5, please give me the list of new files since then and please reserve them for x milliseconds\\\" \\n\\n But at this point (close to 1.4) I guess your patch is the most straightforward fix.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759247\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759247&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759247\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"archon810\\\" id=\\\"commentauthor_12759247_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=archon810\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"archon810\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Artem Russakovskii\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759247_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/09 20:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-24T20:49:15+0000\'\u003e24\\/Sep\\/09 20:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Artem Russakovskii - 24\\/Sep\\/09 22:29\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eRe: hit the master with the filelist command.\u003c\\/p\u003e\\n\\n\u003cp\u003eFirst of all, this may have been a really late night for the person who wrote the wiki:\u003cbr\\/\u003e\\n\\\"Get list of lucene files present in the index: \u003ca href=\\\"http:\\/\\/host:port\\/solr\\/replication?command=filelist&amp;indexversion=\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/host:port\\/solr\\/replication?command=filelist&amp;indexversion=\u003c\\/a\u003e&lt;index-version-number&gt; . The version number can be obtained using the indexversion calmmand\\\"\u003cbr\\/\u003e\\nThe last word there ;-]\u003c\\/p\u003e\\n\\n\u003cp\u003eNow, I hit the master with the following: MASTER\\/replication\\/?command=indexversion, get back\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e&lt;response&gt; \\n&lt;lst name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"responseHeader\\\"\u003c\\/span\u003e&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"status\\\"\u003c\\/span\u003e&gt;0&lt;\\/\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"QTime\\\"\u003c\\/span\u003e&gt;0&lt;\\/\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e&gt;&lt;\\/lst&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"indexversion\\\"\u003c\\/span\u003e&gt;1253136035158&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;\\n&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"generation\\\"\u003c\\/span\u003e&gt;4447&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt; \\n&lt;\\/response&gt; \\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eThen I use this in the following query: MASTER\\/replication\\/?command=filelist&amp;indexversion=1253136035158\u003c\\/p\u003e\\n\\n\u003cp\u003ebut I get back\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e&lt;?xml version=\u003cspan class=\\\"code-quote\\\"\u003e\\\"1.0\\\"\u003c\\/span\u003e encoding=\u003cspan class=\\\"code-quote\\\"\u003e\\\"UTF-8\\\"\u003c\\/span\u003e?&gt;\\n&lt;response&gt;\\n&lt;lst name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"responseHeader\\\"\u003c\\/span\u003e&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"status\\\"\u003c\\/span\u003e&gt;0&lt;\\/\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"QTime\\\"\u003c\\/span\u003e&gt;0&lt;\\/\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e&gt;&lt;\\/lst&gt;&lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"status\\\"\u003c\\/span\u003e&gt;invalid indexversion&lt;\\/str&gt;\\n&lt;\\/response&gt;\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eI tried the same against an another instance that doesn\'t have the NullPointerException replication problem and still get the same error, then I tried another one, which had no documents indexed into yet, and it returned\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e&lt;response&gt; \\n&lt;lst name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"responseHeader\\\"\u003c\\/span\u003e&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"status\\\"\u003c\\/span\u003e&gt;0&lt;\\/\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"QTime\\\"\u003c\\/span\u003e&gt;0&lt;\\/\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e&gt;&lt;\\/lst&gt;&lt;arr name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"filelist\\\"\u003c\\/span\u003e&gt;&lt;lst&gt;&lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"name\\\"\u003c\\/span\u003e&gt;segments_1&lt;\\/str&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"lastmodified\\\"\u003c\\/span\u003e&gt;1253136032000&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"size\\\"\u003c\\/span\u003e&gt;32&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;&lt;\\/lst&gt;&lt;\\/arr&gt; \\n&lt;\\/response&gt; \\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eHere\'s what I see in the logs.\u003c\\/p\u003e\\n\\n\u003cp\u003eOn the master:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003eSep 24, 2009 1:56:30 PM org.apache.solr.core.SolrCore execute\\nINFO: [] webapp=\\/events_2009_08 path=\\/replication params={command=indexversion&amp;wt=javabin} status=0 QTime=0 \\nSep 24, 2009 1:56:30 PM org.apache.solr.core.SolrCore execute\\nINFO: [] webapp=\\/events_2009_04 path=\\/replication params={command=indexversion&amp;wt=javabin} status=0 QTime=0 \\nSep 24, 2009 1:56:30 PM org.apache.solr.core.SolrCore execute\\nINFO: [] webapp=\\/events_2009_10 path=\\/replication params={command=indexversion&amp;wt=javabin} status=0 QTime=0 \\nSep 24, 2009 1:56:30 PM org.apache.solr.core.SolrCore execute\\nINFO: [] webapp=\\/events_2009_02 path=\\/replication params={command=indexversion&amp;wt=javabin} status=0 QTime=0 \\nSep 24, 2009 1:56:30 PM org.apache.solr.core.SolrCore execute\\nINFO: [] webapp=\\/events_2009_12 path=\\/replication params={command=indexversion&amp;wt=javabin} status=0 QTime=0 \\nSep 24, 2009 1:56:30 PM org.apache.solr.core.SolrCore execute\\nINFO: [] webapp=\\/events_2009_06 path=\\/replication params={command=indexversion&amp;wt=javabin} status=0 QTime=0 \\nSep 24, 2009 1:56:30 PM org.apache.solr.core.SolrCore execute\\nINFO: [] webapp=\\/events_2009_08 path=\\/replication params={indexversion=1253136074767&amp;command=filelist&amp;wt=javabin} status=0 QTime=0 \\nSep 24, 2009 1:56:30 PM org.apache.solr.core.SolrCore execute\\nINFO: [] webapp=\\/events_2009_06 path=\\/replication params={indexversion=1253136077032&amp;command=filelist&amp;wt=javabin} status=0 QTime=0 \\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eOn the slave:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003eSep 24, 2009 2:01:00 PM org.apache.solr.handler.SnapPuller fetchLatestIndex\\nINFO: Slave in sync with master.\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.SnapPuller fetchLatestIndex\\nINFO: Slave in sync with master.\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.SnapPuller fetchLatestIndex\\nINFO: Master\'s version: 1253136074767, generation: 40983\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.SnapPuller fetchLatestIndex\\nINFO: Master\'s version: 1253136077032, generation: 42291\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.SnapPuller fetchLatestIndex\\nINFO: Slave\'s version: 1253136076722, generation: 41981\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.SnapPuller fetchLatestIndex\\nINFO: Starting replication process\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.SnapPuller fetchLatestIndex\\nINFO: Slave in sync with master.\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.SnapPuller fetchLatestIndex\\nINFO: Slave\'s version: 1253136074452, generation: 40668\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.SnapPuller fetchLatestIndex\\nINFO: Starting replication process\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.SnapPuller fetchLatestIndex\\nINFO: Slave in sync with master.\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.ReplicationHandler doFetch\\nSEVERE: SnapPull failed \\njava.lang.NullPointerException\\n        at org.apache.solr.handler.SnapPuller.fetchLatestIndex(SnapPuller.java:271)\\n        at org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:258)\\n        at org.apache.solr.handler.SnapPuller$1.run(SnapPuller.java:159)\\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)\\n        at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)\\n        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)\\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)\\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:181)\\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:205)\\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\\n        at java.lang.\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.run(\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.java:619)\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.ReplicationHandler doFetch\\nSEVERE: SnapPull failed \\njava.lang.NullPointerException\\n        at org.apache.solr.handler.SnapPuller.fetchLatestIndex(SnapPuller.java:271)\\n        at org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:258)\\n        at org.apache.solr.handler.SnapPuller$1.run(SnapPuller.java:159)\\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)\\n        at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)\\n        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)\\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)\\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:181)\\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:205)\\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\\n        at java.lang.\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.run(\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.java:619)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eSuggestions?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"archon810\\\" id=\\\"commentauthor_12759247_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=archon810\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"archon810\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Artem Russakovskii\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759247_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/09 20:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-24T20:49:15+0000\'\u003e24\\/Sep\\/09 20:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Artem Russakovskii - 24\\/Sep\\/09 22:29\\\"\u003eedited\u003c\\/span\u003e                   Re: hit the master with the filelist command. \\n\\n First of all, this may have been a really late night for the person who wrote the wiki: \\n\\\"Get list of lucene files present in the index:  http:\\/\\/host:port\\/solr\\/replication?command=filelist&amp;indexversion= &lt;index-version-number&gt; . The version number can be obtained using the indexversion calmmand\\\" \\nThe last word there ;-] \\n\\n Now, I hit the master with the following: MASTER\\/replication\\/?command=indexversion, get back \\n  \\n &lt;response&gt; \\n&lt;lst name= \\\"responseHeader\\\" &gt;&lt; int  name= \\\"status\\\" &gt;0&lt;\\/ int &gt;&lt; int  name= \\\"QTime\\\" &gt;0&lt;\\/ int &gt;&lt;\\/lst&gt;&lt; long  name= \\\"indexversion\\\" &gt;1253136035158&lt;\\/ long &gt;\\n&lt; long  name= \\\"generation\\\" &gt;4447&lt;\\/ long &gt; \\n&lt;\\/response&gt; \\n \\n  \\n\\n Then I use this in the following query: MASTER\\/replication\\/?command=filelist&amp;indexversion=1253136035158 \\n\\n but I get back \\n  \\n &lt;?xml version= \\\"1.0\\\"  encoding= \\\"UTF-8\\\" ?&gt;\\n&lt;response&gt;\\n&lt;lst name= \\\"responseHeader\\\" &gt;&lt; int  name= \\\"status\\\" &gt;0&lt;\\/ int &gt;&lt; int  name= \\\"QTime\\\" &gt;0&lt;\\/ int &gt;&lt;\\/lst&gt;&lt;str name= \\\"status\\\" &gt;invalid indexversion&lt;\\/str&gt;\\n&lt;\\/response&gt;\\n \\n  \\n\\n I tried the same against an another instance that doesn\'t have the NullPointerException replication problem and still get the same error, then I tried another one, which had no documents indexed into yet, and it returned \\n  \\n &lt;response&gt; \\n&lt;lst name= \\\"responseHeader\\\" &gt;&lt; int  name= \\\"status\\\" &gt;0&lt;\\/ int &gt;&lt; int  name= \\\"QTime\\\" &gt;0&lt;\\/ int &gt;&lt;\\/lst&gt;&lt;arr name= \\\"filelist\\\" &gt;&lt;lst&gt;&lt;str name= \\\"name\\\" &gt;segments_1&lt;\\/str&gt;&lt; long  name= \\\"lastmodified\\\" &gt;1253136032000&lt;\\/ long &gt;&lt; long  name= \\\"size\\\" &gt;32&lt;\\/ long &gt;&lt;\\/lst&gt;&lt;\\/arr&gt; \\n&lt;\\/response&gt; \\n \\n  \\n\\n Here\'s what I see in the logs. \\n\\n On the master: \\n  \\n Sep 24, 2009 1:56:30 PM org.apache.solr.core.SolrCore execute\\nINFO: [] webapp=\\/events_2009_08 path=\\/replication params={command=indexversion&amp;wt=javabin} status=0 QTime=0 \\nSep 24, 2009 1:56:30 PM org.apache.solr.core.SolrCore execute\\nINFO: [] webapp=\\/events_2009_04 path=\\/replication params={command=indexversion&amp;wt=javabin} status=0 QTime=0 \\nSep 24, 2009 1:56:30 PM org.apache.solr.core.SolrCore execute\\nINFO: [] webapp=\\/events_2009_10 path=\\/replication params={command=indexversion&amp;wt=javabin} status=0 QTime=0 \\nSep 24, 2009 1:56:30 PM org.apache.solr.core.SolrCore execute\\nINFO: [] webapp=\\/events_2009_02 path=\\/replication params={command=indexversion&amp;wt=javabin} status=0 QTime=0 \\nSep 24, 2009 1:56:30 PM org.apache.solr.core.SolrCore execute\\nINFO: [] webapp=\\/events_2009_12 path=\\/replication params={command=indexversion&amp;wt=javabin} status=0 QTime=0 \\nSep 24, 2009 1:56:30 PM org.apache.solr.core.SolrCore execute\\nINFO: [] webapp=\\/events_2009_06 path=\\/replication params={command=indexversion&amp;wt=javabin} status=0 QTime=0 \\nSep 24, 2009 1:56:30 PM org.apache.solr.core.SolrCore execute\\nINFO: [] webapp=\\/events_2009_08 path=\\/replication params={indexversion=1253136074767&amp;command=filelist&amp;wt=javabin} status=0 QTime=0 \\nSep 24, 2009 1:56:30 PM org.apache.solr.core.SolrCore execute\\nINFO: [] webapp=\\/events_2009_06 path=\\/replication params={indexversion=1253136077032&amp;command=filelist&amp;wt=javabin} status=0 QTime=0 \\n \\n  \\n\\n On the slave: \\n  \\n Sep 24, 2009 2:01:00 PM org.apache.solr.handler.SnapPuller fetchLatestIndex\\nINFO: Slave in sync with master.\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.SnapPuller fetchLatestIndex\\nINFO: Slave in sync with master.\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.SnapPuller fetchLatestIndex\\nINFO: Master\'s version: 1253136074767, generation: 40983\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.SnapPuller fetchLatestIndex\\nINFO: Master\'s version: 1253136077032, generation: 42291\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.SnapPuller fetchLatestIndex\\nINFO: Slave\'s version: 1253136076722, generation: 41981\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.SnapPuller fetchLatestIndex\\nINFO: Starting replication process\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.SnapPuller fetchLatestIndex\\nINFO: Slave in sync with master.\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.SnapPuller fetchLatestIndex\\nINFO: Slave\'s version: 1253136074452, generation: 40668\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.SnapPuller fetchLatestIndex\\nINFO: Starting replication process\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.SnapPuller fetchLatestIndex\\nINFO: Slave in sync with master.\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.ReplicationHandler doFetch\\nSEVERE: SnapPull failed \\njava.lang.NullPointerException\\n        at org.apache.solr.handler.SnapPuller.fetchLatestIndex(SnapPuller.java:271)\\n        at org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:258)\\n        at org.apache.solr.handler.SnapPuller$1.run(SnapPuller.java:159)\\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)\\n        at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)\\n        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)\\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)\\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:181)\\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:205)\\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\\n        at java.lang. Thread .run( Thread .java:619)\\nSep 24, 2009 2:01:00 PM org.apache.solr.handler.ReplicationHandler doFetch\\nSEVERE: SnapPull failed \\njava.lang.NullPointerException\\n        at org.apache.solr.handler.SnapPuller.fetchLatestIndex(SnapPuller.java:271)\\n        at org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:258)\\n        at org.apache.solr.handler.SnapPuller$1.run(SnapPuller.java:159)\\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)\\n        at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)\\n        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)\\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)\\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:181)\\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:205)\\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\\n        at java.lang. Thread .run( Thread .java:619)\\n \\n  \\n\\n Suggestions?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759290\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759290&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759290\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"archon810\\\" id=\\\"commentauthor_12759290_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=archon810\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"archon810\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Artem Russakovskii\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759290_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/09 22:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-24T22:26:00+0000\'\u003e24\\/Sep\\/09 22:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Artem Russakovskii - 24\\/Sep\\/09 22:27\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAlso, after an optimize is issued to the master, the problem goes away. For a while, and then starts again. I do optimizes every hour, and commits are ongoing every minute.\u003c\\/p\u003e\\n\\n\u003cp\u003eFor instance, after an optimize on the master:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e&lt;response&gt; \\n&lt;lst name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"responseHeader\\\"\u003c\\/span\u003e&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"status\\\"\u003c\\/span\u003e&gt;0&lt;\\/\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"QTime\\\"\u003c\\/span\u003e&gt;0&lt;\\/\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e&gt;&lt;\\/lst&gt;&lt;arr name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"filelist\\\"\u003c\\/span\u003e&gt;&lt;lst&gt;&lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"name\\\"\u003c\\/span\u003e&gt;_1bx2.frq&lt;\\/str&gt;\\n&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"lastmodified\\\"\u003c\\/span\u003e&gt;1253826921000&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"size\\\"\u003c\\/span\u003e&gt;67855561&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;&lt;\\/lst&gt;&lt;lst&gt;&lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"name\\\"\u003c\\/span\u003e&gt;_1bx2.nrm&lt;\\/str&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e \\nname=\u003cspan class=\\\"code-quote\\\"\u003e\\\"lastmodified\\\"\u003c\\/span\u003e&gt;1253826921000&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"size\\\"\u003c\\/span\u003e&gt;2515184&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;&lt;\\/lst&gt;&lt;lst&gt;&lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"name\\\"\u003c\\/span\u003e&gt;_1bx2.tii&lt;\\/str&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e \\nname=\u003cspan class=\\\"code-quote\\\"\u003e\\\"lastmodified\\\"\u003c\\/span\u003e&gt;1253826921000&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"size\\\"\u003c\\/span\u003e&gt;581824&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;&lt;\\/lst&gt;&lt;lst&gt;&lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"name\\\"\u003c\\/span\u003e&gt;_1bx2.fnm&lt;\\/str&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e \\nname=\u003cspan class=\\\"code-quote\\\"\u003e\\\"lastmodified\\\"\u003c\\/span\u003e&gt;1253826906000&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"size\\\"\u003c\\/span\u003e&gt;132&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;&lt;\\/lst&gt;&lt;lst&gt;&lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"name\\\"\u003c\\/span\u003e&gt;_1bx2.fdt&lt;\\/str&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e \\nname=\u003cspan class=\\\"code-quote\\\"\u003e\\\"lastmodified\\\"\u003c\\/span\u003e&gt;1253826906000&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"size\\\"\u003c\\/span\u003e&gt;7805294&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;&lt;\\/lst&gt;&lt;lst&gt;&lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"name\\\"\u003c\\/span\u003e&gt;_1bx2.tis&lt;\\/str&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e \\nname=\u003cspan class=\\\"code-quote\\\"\u003e\\\"lastmodified\\\"\u003c\\/span\u003e&gt;1253826921000&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"size\\\"\u003c\\/span\u003e&gt;43326001&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;&lt;\\/lst&gt;&lt;lst&gt;&lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"name\\\"\u003c\\/span\u003e&gt;_1bx2.fdx&lt;\\/str&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e \\nname=\u003cspan class=\\\"code-quote\\\"\u003e\\\"lastmodified\\\"\u003c\\/span\u003e&gt;1253826906000&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"size\\\"\u003c\\/span\u003e&gt;4024292&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;&lt;\\/lst&gt;&lt;lst&gt;&lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"name\\\"\u003c\\/span\u003e&gt;_1bx2.prx&lt;\\/str&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e \\nname=\u003cspan class=\\\"code-quote\\\"\u003e\\\"lastmodified\\\"\u003c\\/span\u003e&gt;1253826921000&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"size\\\"\u003c\\/span\u003e&gt;47213429&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;&lt;\\/lst&gt;&lt;lst&gt;&lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"name\\\"\u003c\\/span\u003e&gt;segments_19jy&lt;\\/str&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e \\nname=\u003cspan class=\\\"code-quote\\\"\u003e\\\"lastmodified\\\"\u003c\\/span\u003e&gt;1253826922000&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"size\\\"\u003c\\/span\u003e&gt;287&lt;\\/\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e&gt;&lt;\\/lst&gt;&lt;\\/arr&gt; \\n&lt;\\/response&gt; \\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eAnd another thing worth mentioning, I updated the solr.war from 8\\/25\\/09 nightly to 9\\/22\\/09 nightly but I hope that doesn\'t cause problems.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"archon810\\\" id=\\\"commentauthor_12759290_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=archon810\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"archon810\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Artem Russakovskii\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759290_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/09 22:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-24T22:26:00+0000\'\u003e24\\/Sep\\/09 22:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Artem Russakovskii - 24\\/Sep\\/09 22:27\\\"\u003eedited\u003c\\/span\u003e                   Also, after an optimize is issued to the master, the problem goes away. For a while, and then starts again. I do optimizes every hour, and commits are ongoing every minute. \\n\\n For instance, after an optimize on the master: \\n  \\n &lt;response&gt; \\n&lt;lst name= \\\"responseHeader\\\" &gt;&lt; int  name= \\\"status\\\" &gt;0&lt;\\/ int &gt;&lt; int  name= \\\"QTime\\\" &gt;0&lt;\\/ int &gt;&lt;\\/lst&gt;&lt;arr name= \\\"filelist\\\" &gt;&lt;lst&gt;&lt;str name= \\\"name\\\" &gt;_1bx2.frq&lt;\\/str&gt;\\n&lt; long  name= \\\"lastmodified\\\" &gt;1253826921000&lt;\\/ long &gt;&lt; long  name= \\\"size\\\" &gt;67855561&lt;\\/ long &gt;&lt;\\/lst&gt;&lt;lst&gt;&lt;str name= \\\"name\\\" &gt;_1bx2.nrm&lt;\\/str&gt;&lt; long  \\nname= \\\"lastmodified\\\" &gt;1253826921000&lt;\\/ long &gt;&lt; long  name= \\\"size\\\" &gt;2515184&lt;\\/ long &gt;&lt;\\/lst&gt;&lt;lst&gt;&lt;str name= \\\"name\\\" &gt;_1bx2.tii&lt;\\/str&gt;&lt; long  \\nname= \\\"lastmodified\\\" &gt;1253826921000&lt;\\/ long &gt;&lt; long  name= \\\"size\\\" &gt;581824&lt;\\/ long &gt;&lt;\\/lst&gt;&lt;lst&gt;&lt;str name= \\\"name\\\" &gt;_1bx2.fnm&lt;\\/str&gt;&lt; long  \\nname= \\\"lastmodified\\\" &gt;1253826906000&lt;\\/ long &gt;&lt; long  name= \\\"size\\\" &gt;132&lt;\\/ long &gt;&lt;\\/lst&gt;&lt;lst&gt;&lt;str name= \\\"name\\\" &gt;_1bx2.fdt&lt;\\/str&gt;&lt; long  \\nname= \\\"lastmodified\\\" &gt;1253826906000&lt;\\/ long &gt;&lt; long  name= \\\"size\\\" &gt;7805294&lt;\\/ long &gt;&lt;\\/lst&gt;&lt;lst&gt;&lt;str name= \\\"name\\\" &gt;_1bx2.tis&lt;\\/str&gt;&lt; long  \\nname= \\\"lastmodified\\\" &gt;1253826921000&lt;\\/ long &gt;&lt; long  name= \\\"size\\\" &gt;43326001&lt;\\/ long &gt;&lt;\\/lst&gt;&lt;lst&gt;&lt;str name= \\\"name\\\" &gt;_1bx2.fdx&lt;\\/str&gt;&lt; long  \\nname= \\\"lastmodified\\\" &gt;1253826906000&lt;\\/ long &gt;&lt; long  name= \\\"size\\\" &gt;4024292&lt;\\/ long &gt;&lt;\\/lst&gt;&lt;lst&gt;&lt;str name= \\\"name\\\" &gt;_1bx2.prx&lt;\\/str&gt;&lt; long  \\nname= \\\"lastmodified\\\" &gt;1253826921000&lt;\\/ long &gt;&lt; long  name= \\\"size\\\" &gt;47213429&lt;\\/ long &gt;&lt;\\/lst&gt;&lt;lst&gt;&lt;str name= \\\"name\\\" &gt;segments_19jy&lt;\\/str&gt;&lt; long  \\nname= \\\"lastmodified\\\" &gt;1253826922000&lt;\\/ long &gt;&lt; long  name= \\\"size\\\" &gt;287&lt;\\/ long &gt;&lt;\\/lst&gt;&lt;\\/arr&gt; \\n&lt;\\/response&gt; \\n \\n  \\n\\n And another thing worth mentioning, I updated the solr.war from 8\\/25\\/09 nightly to 9\\/22\\/09 nightly but I hope that doesn\'t cause problems.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759361\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759361&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759361\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12759361_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759361_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/09 03:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-25T03:35:35+0000\'\u003e25\\/Sep\\/09 03:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks, Artem.\u003cbr\\/\u003e\\nYou have been quite accommodating w\\/ my requests. I am already looking into it.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12759361_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759361_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/09 03:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-25T03:35:35+0000\'\u003e25\\/Sep\\/09 03:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks, Artem. \\nYou have been quite accommodating w\\/ my requests. I am already looking into it.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759366\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759366&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759366\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12759366_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759366_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/09 04:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-25T04:10:50+0000\'\u003e25\\/Sep\\/09 04:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ediagnosis: commits keep happening and the optimized commits were getting removed by lucene because there were normal commits after the optimized commits\u003c\\/p\u003e\\n\\n\u003cp\u003eimmediete fix (probable): \u003c\\/p\u003e\\n\\n\u003cp\u003eyou may add the following snippet to your solrconfig.xml \u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-xml\\\"\u003e  \u003cspan class=\\\"code-tag\\\"\u003e&lt;mainIndex&gt;\u003c\\/span\u003e\\n\u003cspan class=\\\"code-tag\\\"\u003e&lt;deletionPolicy class=\u003cspan class=\\\"code-quote\\\"\u003e\\\"solr.SolrDeletionPolicy\\\"\u003c\\/span\u003e&gt;\u003c\\/span\u003e\\t\\n\\t\u003cspan class=\\\"code-tag\\\"\u003e&lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"keepOptimizedOnly\\\"\u003c\\/span\u003e&gt;\u003c\\/span\u003etrue\u003cspan class=\\\"code-tag\\\"\u003e&lt;\\/str&gt;\u003c\\/span\u003e\\n        \u003cspan class=\\\"code-tag\\\"\u003e&lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"maxCommitsToKeep\\\"\u003c\\/span\u003e&gt;\u003c\\/span\u003e3\u003cspan class=\\\"code-tag\\\"\u003e&lt;\\/str&gt;\u003c\\/span\u003e\\t\\t\\n\\t\u003cspan class=\\\"code-tag\\\"\u003e&lt;\\/deletionPolicy&gt;\u003c\\/span\u003e\\n\u003cspan class=\\\"code-tag\\\"\u003e&lt;\\/mainIndex&gt;\u003c\\/span\u003e\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003ereal fix:\u003c\\/p\u003e\\n\\n\u003cp\u003eif only replicateAfter optimize is present, ReplicationHandler should ensure that the optimized commit does not get deleted (even after normal commits happen). either by reserving it or by changing the policy\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12759366_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759366_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/09 04:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-25T04:10:50+0000\'\u003e25\\/Sep\\/09 04:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    diagnosis: commits keep happening and the optimized commits were getting removed by lucene because there were normal commits after the optimized commits \\n\\n immediete fix (probable):  \\n\\n you may add the following snippet to your solrconfig.xml  \\n\\n  \\n    &lt;mainIndex&gt; \\n &lt;deletionPolicy class= \\\"solr.SolrDeletionPolicy\\\" &gt; \\t\\n\\t &lt;str name= \\\"keepOptimizedOnly\\\" &gt; true &lt;\\/str&gt; \\n         &lt;str name= \\\"maxCommitsToKeep\\\" &gt; 3 &lt;\\/str&gt; \\t\\t\\n\\t &lt;\\/deletionPolicy&gt; \\n &lt;\\/mainIndex&gt; \\n \\n  \\n\\n real fix: \\n\\n if only replicateAfter optimize is present, ReplicationHandler should ensure that the optimized commit does not get deleted (even after normal commits happen). either by reserving it or by changing the policy \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759367\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759367&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759367\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12759367_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759367_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/09 04:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-25T04:27:04+0000\'\u003e25\\/Sep\\/09 04:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003efor any IndexCommit kept with the ReplicationHandler , reserve it for infinity. ensure that it gets cleaned up after ReplicationHandler no longer refers to it.\u003c\\/p\u003e\\n\\n\u003cp\u003eyonik : Please review . \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12759367_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759367_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/09 04:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-25T04:27:04+0000\'\u003e25\\/Sep\\/09 04:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    for any IndexCommit kept with the ReplicationHandler , reserve it for infinity. ensure that it gets cleaned up after ReplicationHandler no longer refers to it. \\n\\n yonik : Please review .               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759392\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759392&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759392\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"archon810\\\" id=\\\"commentauthor_12759392_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=archon810\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"archon810\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Artem Russakovskii\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759392_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/09 05:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-25T05:50:24+0000\'\u003e25\\/Sep\\/09 05:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePaul - I\'m just glad you guys are so fast to respond and eager to fix. Love OSS :-]\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"archon810\\\" id=\\\"commentauthor_12759392_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=archon810\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"archon810\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Artem Russakovskii\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759392_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/09 05:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-25T05:50:24+0000\'\u003e25\\/Sep\\/09 05:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Paul - I\'m just glad you guys are so fast to respond and eager to fix. Love OSS :-]              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759405\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759405&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759405\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12759405_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759405_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/09 06:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-25T06:43:34+0000\'\u003e25\\/Sep\\/09 06:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eadded 2 new methods to  IndexDeletionPolicyWrapper. \u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003esynchronized\u003c\\/span\u003e void reserveCommitPoint(\u003cspan class=\\\"code-object\\\"\u003eLong\u003c\\/span\u003e indexCommitVersion)\\n\\n  \u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003esynchronized\u003c\\/span\u003e void releaseCommmitPoint(\u003cspan class=\\\"code-object\\\"\u003eLong\u003c\\/span\u003e indexCommitVersion)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eevery commit point held by ReplicationHandler should be reserved for ever till it is  released\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12759405_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759405_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/09 06:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-25T06:43:34+0000\'\u003e25\\/Sep\\/09 06:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    added 2 new methods to  IndexDeletionPolicyWrapper.  \\n  \\n  public   synchronized  void reserveCommitPoint( Long  indexCommitVersion)\\n\\n   public   synchronized  void releaseCommmitPoint( Long  indexCommitVersion)\\n \\n  \\n\\n every commit point held by ReplicationHandler should be reserved for ever till it is  released              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759546\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759546&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759546\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759546_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759546_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/09 14:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-25T14:41:48+0000\'\u003e25\\/Sep\\/09 14:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eShouldn\'t there be some kind of option on the deletion policy... say \\\"keepLastOptimized\\\"?\u003cbr\\/\u003e\\nThen the ReplicationHandler would only have to flip it on (if it weren\'t already on).  It doesn\'t seem like the ReplicationHandler should be the one to pick which commit points to \\\"reserve forever\\\".\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759546_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759546_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/09 14:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-25T14:41:48+0000\'\u003e25\\/Sep\\/09 14:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Shouldn\'t there be some kind of option on the deletion policy... say \\\"keepLastOptimized\\\"? \\nThen the ReplicationHandler would only have to flip it on (if it weren\'t already on).  It doesn\'t seem like the ReplicationHandler should be the one to pick which commit points to \\\"reserve forever\\\".              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759671\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759671&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759671\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759671_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759671_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/09 18:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-25T18:16:25+0000\'\u003e25\\/Sep\\/09 18:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eLooking into this more, I think this should be the deletion policy that keeps around the last optimized commit point if necessary.\u003cbr\\/\u003e\\nAlso, in checking out SolrDeletionPolicy again, it doesn\'t seem like the maxCommitsToKeep logic will work if keepOptimizedOnly is true.\u003cbr\\/\u003e\\nI\'m going to take a whack at rewriting updateCommits()\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759671_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759671_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/09 18:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-25T18:16:25+0000\'\u003e25\\/Sep\\/09 18:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Looking into this more, I think this should be the deletion policy that keeps around the last optimized commit point if necessary. \\nAlso, in checking out SolrDeletionPolicy again, it doesn\'t seem like the maxCommitsToKeep logic will work if keepOptimizedOnly is true. \\nI\'m going to take a whack at rewriting updateCommits()              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759698\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759698&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759698\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759698_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759698_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/09 18:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-25T18:58:16+0000\'\u003e25\\/Sep\\/09 18:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s a partial patch - only to SolrDeletionPolicy that rewrites that logic so that all of the options hopefully work correctly.  Now if keepOptimizedOnly==true and maxCommitsToKeep==1, then there should always be one optimized index commit point.\u003c\\/p\u003e\\n\\n\u003cp\u003eShould we just document that keepOptimizedOnly needs to be true if you\'re doing replication on optimized commit points only?\u003c\\/p\u003e\\n\\n\u003cp\u003eAlternately, the replication handler could set parameters on the deletion policy - the problem being that the current parameters don\'t lend themselves to being manipulated.  For example if the policy has keepOptimizedOnly=false and maxCommitsToKeep==5.... then if the replication handler changed keepOptimizedOnly to true, we would end up keeping 5 optimized commit points!  It would be more flexible to be able to specify a separate count for optimized commit points.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759698_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759698_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/09 18:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-25T18:58:16+0000\'\u003e25\\/Sep\\/09 18:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here\'s a partial patch - only to SolrDeletionPolicy that rewrites that logic so that all of the options hopefully work correctly.  Now if keepOptimizedOnly==true and maxCommitsToKeep==1, then there should always be one optimized index commit point. \\n\\n Should we just document that keepOptimizedOnly needs to be true if you\'re doing replication on optimized commit points only? \\n\\n Alternately, the replication handler could set parameters on the deletion policy - the problem being that the current parameters don\'t lend themselves to being manipulated.  For example if the policy has keepOptimizedOnly=false and maxCommitsToKeep==5.... then if the replication handler changed keepOptimizedOnly to true, we would end up keeping 5 optimized commit points!  It would be more flexible to be able to specify a separate count for optimized commit points.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759721\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759721&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759721\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759721_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759721_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/09 20:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-25T20:04:16+0000\'\u003e25\\/Sep\\/09 20:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUpdated patch that implements a maxOptimizedCommitsToKeep parameter - this would allow the replication handler to raise it to 1 if necessary.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759721_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759721_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/09 20:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-25T20:04:16+0000\'\u003e25\\/Sep\\/09 20:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Updated patch that implements a maxOptimizedCommitsToKeep parameter - this would allow the replication handler to raise it to 1 if necessary.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759784\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759784&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759784\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"archon810\\\" id=\\\"commentauthor_12759784_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=archon810\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"archon810\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Artem Russakovskii\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759784_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/09 22:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-25T22:24:16+0000\'\u003e25\\/Sep\\/09 22:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Artem Russakovskii - 25\\/Sep\\/09 22:32\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI haven\'t changed any configs yet, and this probably doesn\'t come as a shock to you guys, but the master just ran out of space. Upon inspection, I found 30+ snapshot dirs sitting around in \\/data.\u003c\\/p\u003e\\n\\n\u003cp\u003ePaul, adding your deletionPolicy fix didn\'t delete the files, even after optimize. Is that expected?\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003edrwxrwxr-x  2 bla bla  4096 Sep 23 18:42 snapshot.20090923064214\\ndrwxrwxr-x  2 bla bla  4096 Sep 23 19:15 snapshot.20090923071530\\ndrwxrwxr-x  2 bla bla  4096 Sep 23 19:45 snapshot.20090923074535\\ndrwxrwxr-x  2 bla bla  4096 Sep 23 20:15 snapshot.20090923081531\\ndrwxrwxr-x  2 bla bla  4096 Sep 23 21:15 snapshot.20090923091531\\ndrwxrwxr-x  2 bla bla  4096 Sep 23 22:15 snapshot.20090923101532\\ndrwxrwxr-x  2 bla bla  4096 Sep 23 23:15 snapshot.20090923111533\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 01:15 snapshot.20090924011501\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 13:15 snapshot.20090924011535\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 02:15 snapshot.20090924021501\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 14:15 snapshot.20090924021534\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 15:15 snapshot.20090924031501\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 03:15 snapshot.20090924031502\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 04:15 snapshot.20090924041501\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 16:15 snapshot.20090924041536\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 05:15 snapshot.20090924051501\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 17:15 snapshot.20090924051537\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 06:15 snapshot.20090924061501\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 18:15 snapshot.20090924061534\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 07:15 snapshot.20090924071501\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 19:15 snapshot.20090924071533\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 08:15 snapshot.20090924081534\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 20:15 snapshot.20090924081535\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 09:15 snapshot.20090924091501\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 21:15 snapshot.20090924091532\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 10:15 snapshot.20090924101501\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 22:15 snapshot.20090924101533\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 11:15 snapshot.20090924111501\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 23:15 snapshot.20090924111532\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 12:15 snapshot.20090924121532\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 00:15 snapshot.20090924121533\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 01:15 snapshot.20090925011533\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 13:15 snapshot.20090925011540\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 02:15 snapshot.20090925021534\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 14:15 snapshot.20090925021540\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 03:15 snapshot.20090925031535\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 15:15 snapshot.20090925031540\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 15:29 snapshot.20090925032931\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 04:15 snapshot.20090925041535\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 05:15 snapshot.20090925051539\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 06:15 snapshot.20090925061538\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 07:15 snapshot.20090925071539\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 08:15 snapshot.20090925081539\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 09:15 snapshot.20090925091538\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 09:52 snapshot.20090925095213\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 10:15 snapshot.20090925101540\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 11:15 snapshot.20090925111538\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 00:15 snapshot.20090925121534\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 12:15 snapshot.20090925121538\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"archon810\\\" id=\\\"commentauthor_12759784_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=archon810\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"archon810\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Artem Russakovskii\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759784_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/09 22:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-25T22:24:16+0000\'\u003e25\\/Sep\\/09 22:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Artem Russakovskii - 25\\/Sep\\/09 22:32\\\"\u003eedited\u003c\\/span\u003e                   I haven\'t changed any configs yet, and this probably doesn\'t come as a shock to you guys, but the master just ran out of space. Upon inspection, I found 30+ snapshot dirs sitting around in \\/data. \\n\\n Paul, adding your deletionPolicy fix didn\'t delete the files, even after optimize. Is that expected? \\n\\n  \\n drwxrwxr-x  2 bla bla  4096 Sep 23 18:42 snapshot.20090923064214\\ndrwxrwxr-x  2 bla bla  4096 Sep 23 19:15 snapshot.20090923071530\\ndrwxrwxr-x  2 bla bla  4096 Sep 23 19:45 snapshot.20090923074535\\ndrwxrwxr-x  2 bla bla  4096 Sep 23 20:15 snapshot.20090923081531\\ndrwxrwxr-x  2 bla bla  4096 Sep 23 21:15 snapshot.20090923091531\\ndrwxrwxr-x  2 bla bla  4096 Sep 23 22:15 snapshot.20090923101532\\ndrwxrwxr-x  2 bla bla  4096 Sep 23 23:15 snapshot.20090923111533\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 01:15 snapshot.20090924011501\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 13:15 snapshot.20090924011535\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 02:15 snapshot.20090924021501\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 14:15 snapshot.20090924021534\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 15:15 snapshot.20090924031501\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 03:15 snapshot.20090924031502\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 04:15 snapshot.20090924041501\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 16:15 snapshot.20090924041536\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 05:15 snapshot.20090924051501\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 17:15 snapshot.20090924051537\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 06:15 snapshot.20090924061501\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 18:15 snapshot.20090924061534\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 07:15 snapshot.20090924071501\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 19:15 snapshot.20090924071533\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 08:15 snapshot.20090924081534\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 20:15 snapshot.20090924081535\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 09:15 snapshot.20090924091501\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 21:15 snapshot.20090924091532\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 10:15 snapshot.20090924101501\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 22:15 snapshot.20090924101533\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 11:15 snapshot.20090924111501\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 23:15 snapshot.20090924111532\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 12:15 snapshot.20090924121532\\ndrwxrwxr-x  2 bla bla  4096 Sep 24 00:15 snapshot.20090924121533\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 01:15 snapshot.20090925011533\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 13:15 snapshot.20090925011540\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 02:15 snapshot.20090925021534\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 14:15 snapshot.20090925021540\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 03:15 snapshot.20090925031535\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 15:15 snapshot.20090925031540\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 15:29 snapshot.20090925032931\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 04:15 snapshot.20090925041535\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 05:15 snapshot.20090925051539\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 06:15 snapshot.20090925061538\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 07:15 snapshot.20090925071539\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 08:15 snapshot.20090925081539\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 09:15 snapshot.20090925091538\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 09:52 snapshot.20090925095213\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 10:15 snapshot.20090925101540\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 11:15 snapshot.20090925111538\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 00:15 snapshot.20090925121534\\ndrwxrwxr-x  2 bla bla  4096 Sep 25 12:15 snapshot.20090925121538\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759825\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759825&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759825\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759825_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759825_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Sep\\/09 00:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-26T00:12:34+0000\'\u003e26\\/Sep\\/09 00:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Yonik Seeley - 26\\/Sep\\/09 00:16\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHmmm... just happened onto this bit of odd code:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e  void refreshCommitpoint() {\\n    IndexCommit commitPoint = core.getDeletionPolicy().getLatestCommit();\\n    \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e(replicateOnCommit &amp;&amp; !commitPoint.isOptimized()){\\n      indexCommitPoint = commitPoint;\\n    }\\n    \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e(replicateOnOptimize &amp;&amp; commitPoint.isOptimized()){\\n      indexCommitPoint = commitPoint;\\n    }\\n  }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eedit: Looks like a bug... refreshCommitPoint isn\'t set for optimized indexes if only replicateOnCommit is set.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759825_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759825_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Sep\\/09 00:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-26T00:12:34+0000\'\u003e26\\/Sep\\/09 00:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Yonik Seeley - 26\\/Sep\\/09 00:16\\\"\u003eedited\u003c\\/span\u003e                   Hmmm... just happened onto this bit of odd code: \\n\\n  \\n   void refreshCommitpoint() {\\n    IndexCommit commitPoint = core.getDeletionPolicy().getLatestCommit();\\n     if (replicateOnCommit &amp;&amp; !commitPoint.isOptimized()){\\n      indexCommitPoint = commitPoint;\\n    }\\n     if (replicateOnOptimize &amp;&amp; commitPoint.isOptimized()){\\n      indexCommitPoint = commitPoint;\\n    }\\n  }\\n \\n  \\n\\n edit: Looks like a bug... refreshCommitPoint isn\'t set for optimized indexes if only replicateOnCommit is set. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759849\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759849&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759849\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759849_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759849_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Sep\\/09 02:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-26T02:12:22+0000\'\u003e26\\/Sep\\/09 02:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s a draft of a full patch.... but\u003cbr\\/\u003e\\nI\'m getting some relatively non-reproducible test failures in a bunch of places - not sure what\'s up yet.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759849_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759849_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Sep\\/09 02:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-26T02:12:22+0000\'\u003e26\\/Sep\\/09 02:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here\'s a draft of a full patch.... but \\nI\'m getting some relatively non-reproducible test failures in a bunch of places - not sure what\'s up yet.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759851\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759851&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759851\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"lancenorskog\\\" id=\\\"commentauthor_12759851_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=lancenorskog\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"lancenorskog\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Lance Norskog\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759851_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Sep\\/09 02:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-26T02:37:47+0000\'\u003e26\\/Sep\\/09 02:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI reported \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-1383\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003eSOLR-1383\u003c\\/a\u003e a few weeks ago. It is one edge case of what you\'re all working on.  \u003c\\/p\u003e\\n\\n\u003cp\u003eShort version: running \\\"add 1 document\\/commit\\/replicate\\\" continuously is a reliable way to cause the deletion policy to misfire.\u003c\\/p\u003e\\n\\n\u003cp\u003eTry the \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-1383?focusedCommentId=12749190&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#action_12749190\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003edetailed test scenario\u003c\\/a\u003e.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"lancenorskog\\\" id=\\\"commentauthor_12759851_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=lancenorskog\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"lancenorskog\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Lance Norskog\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759851_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Sep\\/09 02:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-26T02:37:47+0000\'\u003e26\\/Sep\\/09 02:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I reported  SOLR-1383  a few weeks ago. It is one edge case of what you\'re all working on.   \\n\\n Short version: running \\\"add 1 document\\/commit\\/replicate\\\" continuously is a reliable way to cause the deletion policy to misfire. \\n\\n Try the  detailed test scenario .              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759859\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759859&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759859\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_12759859_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759859_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Sep\\/09 06:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-26T06:08:04+0000\'\u003e26\\/Sep\\/09 06:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eI haven\'t changed any configs yet, and this probably doesn\'t come as a shock to you guys, but the master just ran out of space. Upon inspection, I found 30+ snapshot dirs sitting around in \\/data.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eArtem, the Java replication does not make use of snapshot directories. They are generated if you have \\\"backupAfter\\\" in your configuration. That feature is only there for people who were using the script replication\'s snapshot directories for backup purposes. If you don\'t need it, just remove \\\"backupAfter\\\".\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_12759859_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759859_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Sep\\/09 06:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-26T06:08:04+0000\'\u003e26\\/Sep\\/09 06:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     I haven\'t changed any configs yet, and this probably doesn\'t come as a shock to you guys, but the master just ran out of space. Upon inspection, I found 30+ snapshot dirs sitting around in \\/data.  \\n\\n Artem, the Java replication does not make use of snapshot directories. They are generated if you have \\\"backupAfter\\\" in your configuration. That feature is only there for people who were using the script replication\'s snapshot directories for backup purposes. If you don\'t need it, just remove \\\"backupAfter\\\".              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759898\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759898&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759898\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759898_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759898_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Sep\\/09 14:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-26T14:01:06+0000\'\u003e26\\/Sep\\/09 14:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eStrange stuff - the last error I just saw was a corrupted index exception from the spellchecker - couldn\'t load the segments_n file.\u003cbr\\/\u003e\\nBut the spellcheck building code is Lucene code - Solr\'s deletion policy should have no effect... weird.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759898_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759898_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Sep\\/09 14:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-26T14:01:06+0000\'\u003e26\\/Sep\\/09 14:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Strange stuff - the last error I just saw was a corrupted index exception from the spellchecker - couldn\'t load the segments_n file. \\nBut the spellcheck building code is Lucene code - Solr\'s deletion policy should have no effect... weird.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759900\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759900&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759900\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_12759900_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759900_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Sep\\/09 14:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-26T14:08:35+0000\'\u003e26\\/Sep\\/09 14:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003ebq. I think this should be the deletion policy that keeps around the last optimized commit point if necessary.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eYonik, shouldn\'t ReplicationHandler be the one to reserve commit points? Also, if we go down this way (having SolrDeletionPolicy decide these things), would a custom deletion policy play nicely with Solr?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_12759900_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759900_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Sep\\/09 14:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-26T14:08:35+0000\'\u003e26\\/Sep\\/09 14:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     bq. I think this should be the deletion policy that keeps around the last optimized commit point if necessary.  \\n\\n Yonik, shouldn\'t ReplicationHandler be the one to reserve commit points? Also, if we go down this way (having SolrDeletionPolicy decide these things), would a custom deletion policy play nicely with Solr?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759927\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759927&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759927\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"archon810\\\" id=\\\"commentauthor_12759927_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=archon810\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"archon810\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Artem Russakovskii\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759927_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Sep\\/09 17:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-26T17:54:38+0000\'\u003e26\\/Sep\\/09 17:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eShalin, I\'ve taken the backupAfter line directly from the SolrReplication wiki which talks about Java based replication: \u003ca href=\\\"http:\\/\\/wiki.apache.org\\/solr\\/SolrReplication\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/wiki.apache.org\\/solr\\/SolrReplication\u003c\\/a\u003e. I realize now it says in the comment above that line it\'s for backup only but why is it there in the first place? It threw me off a bit.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"archon810\\\" id=\\\"commentauthor_12759927_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=archon810\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"archon810\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Artem Russakovskii\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759927_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Sep\\/09 17:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-26T17:54:38+0000\'\u003e26\\/Sep\\/09 17:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Shalin, I\'ve taken the backupAfter line directly from the SolrReplication wiki which talks about Java based replication:  http:\\/\\/wiki.apache.org\\/solr\\/SolrReplication . I realize now it says in the comment above that line it\'s for backup only but why is it there in the first place? It threw me off a bit.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759937\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759937&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759937\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759937_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759937_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Sep\\/09 19:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-26T19:30:03+0000\'\u003e26\\/Sep\\/09 19:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eYonik, shouldn\'t ReplicationHandler be the one to reserve commit points? \u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eIt does... that part doesn\'t change, but replication handler requests short term reservations based on use.\u003cbr\\/\u003e\\nThe existing SolrDeletionPolicy already had the functionality of always keeping an optimized commit point around, and so this actually isn\'t new.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759937_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759937_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Sep\\/09 19:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-26T19:30:03+0000\'\u003e26\\/Sep\\/09 19:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Yonik, shouldn\'t ReplicationHandler be the one to reserve commit points?   \\n\\n It does... that part doesn\'t change, but replication handler requests short term reservations based on use. \\nThe existing SolrDeletionPolicy already had the functionality of always keeping an optimized commit point around, and so this actually isn\'t new.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759952\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759952&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759952\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759952_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759952_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Sep\\/09 21:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-26T21:01:16+0000\'\u003e26\\/Sep\\/09 21:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eTesting Update: I rebooted my ubuntu box, did a clean solr checkout, re-applied the patch, and got a much higher rate of test passes.  Looks like it was Gremlins.\u003c\\/p\u003e\\n\\n\u003cp\u003eLast night I set it up to build continuously in a loop - and got about a 25% failure rate.  Problem is, I didn\'t have it copy out failed tests for inspection,\u003cbr\\/\u003e\\n so I don\'t know why it failed, and it may be as simple as a loss of internet connectivity or DNS service, or apache going down, etc (yes we have tests\u003cbr\\/\u003e\\n that rely on external networks - that\'s a pain).\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m re-running tests now, with a stop on a test failure so I can figure out if anything is actually related to this proposed patch!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759952_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759952_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Sep\\/09 21:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-26T21:01:16+0000\'\u003e26\\/Sep\\/09 21:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Testing Update: I rebooted my ubuntu box, did a clean solr checkout, re-applied the patch, and got a much higher rate of test passes.  Looks like it was Gremlins. \\n\\n Last night I set it up to build continuously in a loop - and got about a 25% failure rate.  Problem is, I didn\'t have it copy out failed tests for inspection, \\n so I don\'t know why it failed, and it may be as simple as a loss of internet connectivity or DNS service, or apache going down, etc (yes we have tests \\n that rely on external networks - that\'s a pain). \\n\\n I\'m re-running tests now, with a stop on a test failure so I can figure out if anything is actually related to this proposed patch!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12759957\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12759957&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12759957\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759957_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759957_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Sep\\/09 21:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-26T21:47:13+0000\'\u003e26\\/Sep\\/09 21:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUpdate: OK... my failures in DirectUpdateHandlerTest turned out to be testExpungeDeletes().  I\'ve committed simpler test code previously attached to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-1275\\\" title=\\\"Add expungeDeletes to DirectUpdateHandler2\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-1275\\\"\u003e\u003cdel\u003eSOLR-1275\u003c\\/del\u003e\u003c\\/a\u003e.\u003cbr\\/\u003e\\nI was initially thrown off by seeing exceptions in building the spell check index... but the actual test failure was caused by testExpungeDeletes.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo - is there a really bug lurking in the spellchecker component? I\'m at a loss of how the old testExpungeDeletes code could trigger these exceptions (or of they did\\/do).  It\'s also possible that these spellcheck exceptions spuriously happened before but they don\'t cause the test to fail.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12759957_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12759957_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Sep\\/09 21:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-26T21:47:13+0000\'\u003e26\\/Sep\\/09 21:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Update: OK... my failures in DirectUpdateHandlerTest turned out to be testExpungeDeletes().  I\'ve committed simpler test code previously attached to   SOLR-1275  . \\nI was initially thrown off by seeing exceptions in building the spell check index... but the actual test failure was caused by testExpungeDeletes. \\n\\n So - is there a really bug lurking in the spellchecker component? I\'m at a loss of how the old testExpungeDeletes code could trigger these exceptions (or of they did\\/do).  It\'s also possible that these spellcheck exceptions spuriously happened before but they don\'t cause the test to fail.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12760051\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12760051&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12760051\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12760051_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12760051_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Sep\\/09 16:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-27T16:42:08+0000\'\u003e27\\/Sep\\/09 16:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'ve committed this patch.  I\'m occasionally getting errors in TestReplicationHandler... but I also get occasional errors there w\\/o this patch!\u003c\\/p\u003e\\n\\n\u003cp\u003eArtem, it would be great if you could test trunk and see if your problems are fixed.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12760051_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12760051_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Sep\\/09 16:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-27T16:42:08+0000\'\u003e27\\/Sep\\/09 16:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'ve committed this patch.  I\'m occasionally getting errors in TestReplicationHandler... but I also get occasional errors there w\\/o this patch! \\n\\n Artem, it would be great if you could test trunk and see if your problems are fixed.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12760325\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12760325&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12760325\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"archon810\\\" id=\\\"commentauthor_12760325_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=archon810\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"archon810\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Artem Russakovskii\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12760325_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Sep\\/09 18:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-28T18:35:41+0000\'\u003e28\\/Sep\\/09 18:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIs the fix included in the latest nightly? 9\\/28\\/09 one.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"archon810\\\" id=\\\"commentauthor_12760325_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=archon810\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"archon810\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Artem Russakovskii\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12760325_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Sep\\/09 18:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-28T18:35:41+0000\'\u003e28\\/Sep\\/09 18:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Is the fix included in the latest nightly? 9\\/28\\/09 one.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12760354\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12760354&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12760354\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12760354_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12760354_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Sep\\/09 19:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-28T19:21:43+0000\'\u003e28\\/Sep\\/09 19:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eIs the fix included in the latest nightly? 9\\/28\\/09 one. \u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eYep.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12760354_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12760354_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Sep\\/09 19:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-28T19:21:43+0000\'\u003e28\\/Sep\\/09 19:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Is the fix included in the latest nightly? 9\\/28\\/09 one.   \\n\\n Yep.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12760799\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12760799&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12760799\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"archon810\\\" id=\\\"commentauthor_12760799_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=archon810\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"archon810\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Artem Russakovskii\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12760799_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Sep\\/09 01:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-30T01:12:52+0000\'\u003e30\\/Sep\\/09 01:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYonik, everything has been running for a day+ now and replication works as expected.\u003c\\/p\u003e\\n\\n\u003cp\u003eOn a side note, I did think that the replication notes are not very clear on the what replicateAfter on the master and pollInterval on the slave are for and what each does. I now understand what each is for but I think they could be explained more clearly. Just a suggestion.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"archon810\\\" id=\\\"commentauthor_12760799_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=archon810\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"archon810\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Artem Russakovskii\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12760799_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Sep\\/09 01:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-30T01:12:52+0000\'\u003e30\\/Sep\\/09 01:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yonik, everything has been running for a day+ now and replication works as expected. \\n\\n On a side note, I did think that the replication notes are not very clear on the what replicateAfter on the master and pollInterval on the slave are for and what each does. I now understand what each is for but I think they could be explained more clearly. Just a suggestion.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12760802\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12760802&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12760802\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12760802_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12760802_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Sep\\/09 01:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-30T01:25:51+0000\'\u003e30\\/Sep\\/09 01:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eYonik, everything has been running for a day+ now and replication works as expected.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eCool!  Resolving this issue.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eOn a side note, I did think that the replication notes are not very clear on the what replicateAfter on the master and pollInterval on the slave are for and what each does. \u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eTo be honest, I\'ve not looked at the actual docs on the wiki \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003cbr\\/\u003e\\nConcrete suggestions for changes are very welcome though.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12760802_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12760802_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Sep\\/09 01:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-30T01:25:51+0000\'\u003e30\\/Sep\\/09 01:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Yonik, everything has been running for a day+ now and replication works as expected.  \\n\\n Cool!  Resolving this issue. \\n\\n  On a side note, I did think that the replication notes are not very clear on the what replicateAfter on the master and pollInterval on the slave are for and what each does.   \\n\\n To be honest, I\'ve not looked at the actual docs on the wiki   \\nConcrete suggestions for changes are very welcome though.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12760891\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12760891&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12760891\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12760891_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12760891_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Sep\\/09 11:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-30T11:58:13+0000\'\u003e30\\/Sep\\/09 11:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eisn\'t this a wrong fix.? It removes an existing functionality (one can\'t set a custom deletion policy when replicateAfterCOmmit is set)\u003c\\/p\u003e\\n\\n\u003cp\u003eWhat was wrong with my latest patch?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12760891_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12760891_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Sep\\/09 11:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-09-30T11:58:13+0000\'\u003e30\\/Sep\\/09 11:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    isn\'t this a wrong fix.? It removes an existing functionality (one can\'t set a custom deletion policy when replicateAfterCOmmit is set) \\n\\n What was wrong with my latest patch?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12761288\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12761288&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12761288\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12761288_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12761288_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Oct\\/09 18:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-10-01T18:06:24+0000\'\u003e01\\/Oct\\/09 18:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSince SolrDeletionPolicy already had the needed functionallity, it seemed like the most straightforward fix.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eIt removes an existing functionality (one can\'t set a custom deletion policy when replicateAfterCOmmit is set) \u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eTrue - I hadn\'t considered that.  Of course I was confused why we allowed custom deletion policies in the first place.\u003cbr\\/\u003e\\nIt\'s a dangerous place to mess around, and there haven\'t been any identifiable use cases, right?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12761288_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12761288_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Oct\\/09 18:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-10-01T18:06:24+0000\'\u003e01\\/Oct\\/09 18:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Since SolrDeletionPolicy already had the needed functionallity, it seemed like the most straightforward fix. \\n\\n  It removes an existing functionality (one can\'t set a custom deletion policy when replicateAfterCOmmit is set)   \\n\\n True - I hadn\'t considered that.  Of course I was confused why we allowed custom deletion policies in the first place. \\nIt\'s a dangerous place to mess around, and there haven\'t been any identifiable use cases, right?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12761916\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12761916&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12761916\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12761916_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12761916_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Oct\\/09 17:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-10-03T17:12:52+0000\'\u003e03\\/Oct\\/09 17:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSeems like if you want to replicate only optimized indexes, we should recommend the user configure SolrDeletionPolicy to always keep an optimized commit point around.\u003cbr\\/\u003e\\nIf you rely on the replication handler to reserve it, it won\'t work across a reboot, right?\u003c\\/p\u003e\\n\\n\u003cp\u003eAlthough I see no reason for custom delete policies, I\'m not really against adding support for that in the replication handler as long as people are confident the changes don\'t introduce any new bugs.\u003cbr\\/\u003e\\nRegardless, I think the separate count for optimized commit points that I added to SolrDeletionPolicy should remain (esp since it fixed other bugs too).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12761916_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12761916_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Oct\\/09 17:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-10-03T17:12:52+0000\'\u003e03\\/Oct\\/09 17:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Seems like if you want to replicate only optimized indexes, we should recommend the user configure SolrDeletionPolicy to always keep an optimized commit point around. \\nIf you rely on the replication handler to reserve it, it won\'t work across a reboot, right? \\n\\n Although I see no reason for custom delete policies, I\'m not really against adding support for that in the replication handler as long as people are confident the changes don\'t introduce any new bugs. \\nRegardless, I think the separate count for optimized commit points that I added to SolrDeletionPolicy should remain (esp since it fixed other bugs too).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12762127\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12762127&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12762127\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12762127_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12762127_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Oct\\/09 09:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-10-05T09:37:41+0000\'\u003e05\\/Oct\\/09 09:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eadded methods to reserve and unreserve to IndexDeletionPolicyWrapper\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12762127_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12762127_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Oct\\/09 09:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-10-05T09:37:41+0000\'\u003e05\\/Oct\\/09 09:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    added methods to reserve and unreserve to IndexDeletionPolicyWrapper              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12762129\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12762129&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12762129\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12762129_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12762129_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Oct\\/09 09:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-10-05T09:44:08+0000\'\u003e05\\/Oct\\/09 09:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ewe need to ensure that any component which is using a commit point should reserve it till it is done. After that it should be unreserved.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eIf you rely on the replication handler to reserve it, it won\'t work across a reboot, right?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eThere is a problem with the current configuration \u003c\\/p\u003e\\n\\n\u003cp\u003eexample\u003c\\/p\u003e\\n\\n\u003cp\u003eset\u003cbr\\/\u003e\\nreplicateAfter=optimize\u003c\\/p\u003e\\n\\n\u003cp\u003eThis means that if the master is restarted soon after an optimize , the slaves will not get the new commit point\u003cbr\\/\u003e\\nset\u003cbr\\/\u003e\\nreplicateAfter=optimize\u003cbr\\/\u003e\\nreplicateAfter=startup\u003c\\/p\u003e\\n\\n\u003cp\u003eThis means that the replication will pick up the latest commit point after a master restart. not necessarily an optimized one.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo the solution should be , if replicateAfter=commit is absent,  then pickup the latest optimized commitpoint \u003c\\/p\u003e\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12762129_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12762129_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Oct\\/09 09:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-10-05T09:44:08+0000\'\u003e05\\/Oct\\/09 09:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    we need to ensure that any component which is using a commit point should reserve it till it is done. After that it should be unreserved. \\n\\n  If you rely on the replication handler to reserve it, it won\'t work across a reboot, right?  \\n\\n There is a problem with the current configuration  \\n\\n example \\n\\n set \\nreplicateAfter=optimize \\n\\n This means that if the master is restarted soon after an optimize , the slaves will not get the new commit point \\nset \\nreplicateAfter=optimize \\nreplicateAfter=startup \\n\\n This means that the replication will pick up the latest commit point after a master restart. not necessarily an optimized one. \\n\\n So the solution should be , if replicateAfter=commit is absent,  then pickup the latest optimized commitpoint  \\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12762145\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12762145&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12762145\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12762145_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12762145_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Oct\\/09 10:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-10-05T10:39:06+0000\'\u003e05\\/Oct\\/09 10:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI guess this should work. We need a testcase for only replicateAfter=optimize and replicateAfter=startup\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12762145_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12762145_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Oct\\/09 10:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-10-05T10:39:06+0000\'\u003e05\\/Oct\\/09 10:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I guess this should work. We need a testcase for only replicateAfter=optimize and replicateAfter=startup              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12762524\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12762524&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12762524\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12762524_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12762524_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Oct\\/09 06:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-10-06T06:10:59+0000\'\u003e06\\/Oct\\/09 06:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI plan to commit this shortly,\u003cbr\\/\u003e\\nPlease comment  if there is any concern\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_12762524_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12762524_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Oct\\/09 06:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-10-06T06:10:59+0000\'\u003e06\\/Oct\\/09 06:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I plan to commit this shortly, \\nPlease comment  if there is any concern              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12764147\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12764147&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12764147\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12764147_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12764147_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Oct\\/09 18:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-10-09T18:36:34+0000\'\u003e09\\/Oct\\/09 18:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eadded the logic to actually check the saved commits in delete()... wouldn\'t have worked w\\/o that.\u003c\\/li\u003e\\n\\t\u003cli\u003eadded protection against a NPE if no searcher had been opened in inform()\u003c\\/li\u003e\\n\\t\u003cli\u003echanged reservedCommits to savedCommits since we already use \\\"reserve\\\" to describe short term reservations\u003c\\/li\u003e\\n\\t\u003cli\u003eadded getUserData() to the commit point wrapper\u003c\\/li\u003e\\n\\t\u003cli\u003eadded @Override to commit point wrapper to more easily detect future changes\u003c\\/li\u003e\\n\\t\u003cli\u003ea little javadoc for the new methods\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12764147_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12764147_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Oct\\/09 18:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-10-09T18:36:34+0000\'\u003e09\\/Oct\\/09 18:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    \\n\\t added the logic to actually check the saved commits in delete()... wouldn\'t have worked w\\/o that. \\n\\t added protection against a NPE if no searcher had been opened in inform() \\n\\t changed reservedCommits to savedCommits since we already use \\\"reserve\\\" to describe short term reservations \\n\\t added getUserData() to the commit point wrapper \\n\\t added @Override to commit point wrapper to more easily detect future changes \\n\\t a little javadoc for the new methods \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12775887\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1458?focusedCommentId=12775887&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12775887\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12775887_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12775887_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Nov\\/09 15:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-11-10T15:52:16+0000\'\u003e10\\/Nov\\/09 15:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBulk close for Solr 1.4\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12775887_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12775887_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Nov\\/09 15:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-11-10T15:52:16+0000\'\u003e10\\/Nov\\/09 15:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Bulk close for Solr 1.4              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310230";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310230&amp;avatarId=22151\\\" alt=\\\"Solr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\"\u003eSolr\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520267853274"> 
    <input type="hidden" title="jira.request.server.time" value="247"> 
    <input type="hidden" title="jira.request.id" value="997x95386482x4"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="3"> 
    <input type="hidden" title="db.reads.time.in.ms" value="38"> 
    <input type="hidden" title="db.conns.time.in.ms" value="45"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 997x95386482x4
	          REQUEST TIMESTAMP : [05/Mar/2018:16:37:33 +0000]
	               REQUEST TIME : 0.2470
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 3

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=23, elapsedTotal=38857563, elapsedMin=544824, elapsedMax=15442501, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=27, elapsedTotal=45944591, elapsedMin=552164, elapsedMax=15477095, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>