<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|99f16eff429448b97c4a80c3d32074b53aeed238|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"eb496b8630eaef\"";
WRM._unparsedData["project-id"]="10594";
WRM._unparsedData["project-key"]="\"DERBY\"";
WRM._unparsedData["project-name"]="\"Derby\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="10594";
WRM._unparsedData["projectKey"]="\"DERBY\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="DERBY-2871"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[DERBY-2871] XATransactionTest gets XaException: Error executing a XAResource.commit(), server returned XAER_PROTO. - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[DERBY-2871] XATransactionTest gets XaException: Error executing a XAResource.commit(), server returned XAER_PROTO. - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/DERBY" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-2871">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="10594" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Derby'" src="https://issues.apache.org/jira/secure/projectavatar?pid=10594&amp;avatarId=10122"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/DERBY">Derby</a></li>
                 <li><a class="issue-link" data-issue-key="DERBY-2871" href="/jira/browse/DERBY-2871" id="key-val" rel="12372415">DERBY-2871</a></li>
                </ol>
                <h1 id="summary-val">XATransactionTest gets XaException: Error executing a XAResource.commit(), server returned XAER_PROTO.</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-2871"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/DERBY-2871/DERBY-2871.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/DERBY-2871/DERBY-2871.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/DERBY-2871/DERBY-2871.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/DERBY-2871/DERBY-2871.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/minor.svg" title="Minor - Minor loss of function, or other problem where easy workaround is present." width="16"> Minor </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="10.3.1.4 ">10.3.1.4</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.4.1.3" title="10.4.1.3 ">10.4.1.3</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+component+%3D+JDBC" title="JDBC ">JDBC</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12372415-value">None</span> 
                   </div> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap"> 
                   <strong class="name">Environment:</strong> 
                   <div id="environment-val" class="value">
                     OS: HP-UX v1.11 i 
                    <br> JDK: HP 1.5.0.03 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>Method: org.apache.derbyTesting.functionTests.tests.jdbcapi.XATransactionTest<br> Signature:<br> %XAER_PROTO : Error executing a XAResource.commit(), server returned XAER_PROTO%</p> 
                  <p>Also see: <a href="http://dbtg.thresher.com/derby/test/10.3.1.0_RC/jvm1.5/testing/testlog/hpux/548006-suitesAll_diff.txt" class="external-link" rel="nofollow">http://dbtg.thresher.com/derby/test/10.3.1.0_RC/jvm1.5/testing/testlog/hpux/548006-suitesAll_diff.txt</a></p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/DERBY-2871?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/DERBY-2871?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/DERBY-2871?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/DERBY-2871?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12375071" data-issue-id="12372415" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12375071/d2871.diff" draggable="true" data-downloadurl="text/x-patch:d2871.diff:https://issues.apache.org/jira/secure/attachment/12375071/d2871.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12375071/d2871.diff" title="Latest  08/Feb/08 14:08 - Julius Stroffek" draggable="true" data-downloadurl="text/x-patch:d2871.diff:https://issues.apache.org/jira/secure/attachment/12375071/d2871.diff">d2871.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-02-08T14:08:37.396Z">08/Feb/08 14:08</time>
                   </dd>
                   <dd class="attachment-size">
                    20 kB
                   </dd>
                   <dd class="attachment-author">
                    Julius Stroffek
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12374790" data-issue-id="12372415" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12374790/d2871.diff" draggable="true" data-downloadurl="text/x-patch:d2871.diff:https://issues.apache.org/jira/secure/attachment/12374790/d2871.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12374790/d2871.diff" title=" 05/Feb/08 16:35 - Julius Stroffek" draggable="true" data-downloadurl="text/x-patch:d2871.diff:https://issues.apache.org/jira/secure/attachment/12374790/d2871.diff">d2871.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-02-05T16:35:17.708Z">05/Feb/08 16:35</time>
                   </dd>
                   <dd class="attachment-size">
                    20 kB
                   </dd>
                   <dd class="attachment-author">
                    Julius Stroffek
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12372616" data-issue-id="12372415" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12372616/d2871.diff" draggable="true" data-downloadurl="text/x-patch:d2871.diff:https://issues.apache.org/jira/secure/attachment/12372616/d2871.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12372616/d2871.diff" title=" 07/Jan/08 12:00 - Julius Stroffek" draggable="true" data-downloadurl="text/x-patch:d2871.diff:https://issues.apache.org/jira/secure/attachment/12372616/d2871.diff">d2871.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-01-07T12:00:37.903Z">07/Jan/08 12:00</time>
                   </dd>
                   <dd class="attachment-size">
                    20 kB
                   </dd>
                   <dd class="attachment-author">
                    Julius Stroffek
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12360723" data-issue-id="12372415" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12360723/d2871.diff" draggable="true" data-downloadurl="application/octet-stream:d2871.diff:https://issues.apache.org/jira/secure/attachment/12360723/d2871.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12360723/d2871.diff" title=" 28/Jun/07 11:23 - Julius Stroffek" draggable="true" data-downloadurl="application/octet-stream:d2871.diff:https://issues.apache.org/jira/secure/attachment/12360723/d2871.diff">d2871.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-06-28T11:23:38.681Z">28/Jun/07 11:23</time>
                   </dd>
                   <dd class="attachment-size">
                    1 kB
                   </dd>
                   <dd class="attachment-author">
                    Julius Stroffek
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12375072" data-issue-id="12372415" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12375072/d2871.stat" draggable="true" data-downloadurl="application/octet-stream:d2871.stat:https://issues.apache.org/jira/secure/attachment/12375072/d2871.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12375072/d2871.stat" title="Latest  08/Feb/08 14:08 - Julius Stroffek" draggable="true" data-downloadurl="application/octet-stream:d2871.stat:https://issues.apache.org/jira/secure/attachment/12375072/d2871.stat">d2871.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-02-08T14:08:37.578Z">08/Feb/08 14:08</time>
                   </dd>
                   <dd class="attachment-size">
                    0.6 kB
                   </dd>
                   <dd class="attachment-author">
                    Julius Stroffek
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12374791" data-issue-id="12372415" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12374791/d2871.stat" draggable="true" data-downloadurl="application/octet-stream:d2871.stat:https://issues.apache.org/jira/secure/attachment/12374791/d2871.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12374791/d2871.stat" title=" 05/Feb/08 16:35 - Julius Stroffek" draggable="true" data-downloadurl="application/octet-stream:d2871.stat:https://issues.apache.org/jira/secure/attachment/12374791/d2871.stat">d2871.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-02-05T16:35:17.867Z">05/Feb/08 16:35</time>
                   </dd>
                   <dd class="attachment-size">
                    0.6 kB
                   </dd>
                   <dd class="attachment-author">
                    Julius Stroffek
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12372617" data-issue-id="12372415" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12372617/d2871.stat" draggable="true" data-downloadurl="application/octet-stream:d2871.stat:https://issues.apache.org/jira/secure/attachment/12372617/d2871.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12372617/d2871.stat" title=" 07/Jan/08 12:00 - Julius Stroffek" draggable="true" data-downloadurl="application/octet-stream:d2871.stat:https://issues.apache.org/jira/secure/attachment/12372617/d2871.stat">d2871.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-01-07T12:00:42.278Z">07/Jan/08 12:00</time>
                   </dd>
                   <dd class="attachment-size">
                    0.6 kB
                   </dd>
                   <dd class="attachment-author">
                    Julius Stroffek
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12360724" data-issue-id="12372415" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12360724/d2871.stat" draggable="true" data-downloadurl="application/octet-stream:d2871.stat:https://issues.apache.org/jira/secure/attachment/12360724/d2871.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12360724/d2871.stat" title=" 28/Jun/07 11:23 - Julius Stroffek" draggable="true" data-downloadurl="application/octet-stream:d2871.stat:https://issues.apache.org/jira/secure/attachment/12360724/d2871.stat">d2871.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-06-28T11:23:38.812Z">28/Jun/07 11:23</time>
                   </dd>
                   <dd class="attachment-size">
                    0.2 kB
                   </dd>
                   <dd class="attachment-author">
                    Julius Stroffek
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12363417" data-issue-id="12372415" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12363417/d2871-test.diff" draggable="true" data-downloadurl="text/x-patch:d2871-test.diff:https://issues.apache.org/jira/secure/attachment/12363417/d2871-test.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12363417/d2871-test.diff" title="Latest  08/Aug/07 16:24 - Julius Stroffek" draggable="true" data-downloadurl="text/x-patch:d2871-test.diff:https://issues.apache.org/jira/secure/attachment/12363417/d2871-test.diff">d2871-test.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-08-08T16:24:51.930Z">08/Aug/07 16:24</time>
                   </dd>
                   <dd class="attachment-size">
                    3 kB
                   </dd>
                   <dd class="attachment-author">
                    Julius Stroffek
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12363418" data-issue-id="12372415" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12363418/d2871-test.stat" draggable="true" data-downloadurl="application/octet-stream:d2871-test.stat:https://issues.apache.org/jira/secure/attachment/12363418/d2871-test.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12363418/d2871-test.stat" title="Latest  08/Aug/07 16:24 - Julius Stroffek" draggable="true" data-downloadurl="application/octet-stream:d2871-test.stat:https://issues.apache.org/jira/secure/attachment/12363418/d2871-test.stat">d2871-test.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-08-08T16:24:52.073Z">08/Aug/07 16:24</time>
                   </dd>
                   <dd class="attachment-size">
                    0.2 kB
                   </dd>
                   <dd class="attachment-author">
                    Julius Stroffek
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12374578" data-issue-id="12372415" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12374578/DERBY-2871_020108.diff" draggable="true" data-downloadurl="application/octet-stream:DERBY-2871_020108.diff:https://issues.apache.org/jira/secure/attachment/12374578/DERBY-2871_020108.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12374578/DERBY-2871_020108.diff" title="Latest  01/Feb/08 20:09 - Myrna van Lunteren" draggable="true" data-downloadurl="application/octet-stream:DERBY-2871_020108.diff:https://issues.apache.org/jira/secure/attachment/12374578/DERBY-2871_020108.diff">DERBY-2871_020108.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-02-01T20:09:47.142Z">01/Feb/08 20:09</time>
                   </dd>
                   <dd class="attachment-size">
                    20 kB
                   </dd>
                   <dd class="attachment-author">
                    Myrna van Lunteren
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12379707" data-issue-id="12372415" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12379707/derby-2871_NOT_FOR_COMMIT.diff" draggable="true" data-downloadurl="text/x-patch:derby-2871_NOT_FOR_COMMIT.diff:https://issues.apache.org/jira/secure/attachment/12379707/derby-2871_NOT_FOR_COMMIT.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12379707/derby-2871_NOT_FOR_COMMIT.diff" title="Latest  09/Apr/08 08:12 - Dyre Tjeldvoll" draggable="true" data-downloadurl="text/x-patch:derby-2871_NOT_FOR_COMMIT.diff:https://issues.apache.org/jira/secure/attachment/12379707/derby-2871_NOT_FOR_COMMIT.diff">derby-2871_NOT_FOR_COMMIT.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-04-09T08:12:26.993Z">09/Apr/08 08:12</time>
                   </dd>
                   <dd class="attachment-size">
                    22 kB
                   </dd>
                   <dd class="attachment-author">
                    Dyre Tjeldvoll
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12379757" data-issue-id="12372415" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12379757/derby-2871.v2.diff" draggable="true" data-downloadurl="text/x-diff:derby-2871.v2.diff:https://issues.apache.org/jira/secure/attachment/12379757/derby-2871.v2.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12379757/derby-2871.v2.diff" title="Latest  09/Apr/08 18:54 - Dyre Tjeldvoll" draggable="true" data-downloadurl="text/x-diff:derby-2871.v2.diff:https://issues.apache.org/jira/secure/attachment/12379757/derby-2871.v2.diff">derby-2871.v2.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-04-09T18:54:42.067Z">09/Apr/08 18:54</time>
                   </dd>
                   <dd class="attachment-size">
                    23 kB
                   </dd>
                   <dd class="attachment-author">
                    Dyre Tjeldvoll
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="incorporates">
                   incorporates
                  </dt> 
                  <dd id="internal-12374134_12310010"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="DERBY-2953: Dump the information about rollbacks of the global transaction (introduced in DERBY-2220 and DERBY-2432) to derby.log"> <a href="/jira/browse/DERBY-2953" data-issue-key="DERBY-2953" class="issue-link link-title">DERBY-2953</a> <span class="link-summary">Dump the information about rollbacks of the global transaction (introduced in DERBY-2220 and DERBY-2432) to derby.log</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-yellow jira-issue-status-lozenge-indeterminate aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>In Progress</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>This issue is being actively worked on at the moment by the assignee.</span>">In Progress</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_julo" rel="julo" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Julius Stroffek&quot;,&quot;emailAddress&quot;:&quot;julo@stroffek.cz&quot;,&quot;username&quot;:&quot;julo&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="julo"></span></span> Julius Stroffek </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_scheur" rel="scheur" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Henri van de Scheur&quot;,&quot;emailAddress&quot;:&quot;Henri.Vandescheur@Sun.COM-disable&quot;,&quot;username&quot;:&quot;scheur&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="scheur"></span></span> Henri van de Scheur </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">1</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="26/Jun/07 09:07"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2007-06-26T09:07:14+0000">26/Jun/07 09:07</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="21/Jan/11 18:17"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2011-01-21T18:17:04+0000">21/Jan/11 18:17</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="11/Apr/08 08:40"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2008-04-11T08:40:40+0000">11/Apr/08 08:40</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-2871?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-2871?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-2871?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-2871?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-2871?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-2871?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-2871?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-2871?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/DERBY-2871?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-2871?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-2871?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/DERBY-2871?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12508767\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12508767&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12508767\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12508767_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12508767_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jun\\/07 08:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-28T08:22:35+0000\'\u003e28\\/Jun\\/07 08:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe exception is thrown probably on XATransaction:203 due to a to low transaction timeout value. I setted up the value just for 5 seconds which might not be enough to commit the transaction when garbage collection is invoked. I\'ll increase the value to 30s.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12508767_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12508767_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jun\\/07 08:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-28T08:22:35+0000\'\u003e28\\/Jun\\/07 08:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The exception is thrown probably on XATransaction:203 due to a to low transaction timeout value. I setted up the value just for 5 seconds which might not be enough to commit the transaction when garbage collection is invoked. I\'ll increase the value to 30s.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12508794\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12508794&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12508794\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12508794_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12508794_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jun\\/07 11:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-28T11:23:38+0000\'\u003e28\\/Jun\\/07 11:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI changed the way of setting up the transaction timeout in the test.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12508794_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12508794_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jun\\/07 11:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-28T11:23:38+0000\'\u003e28\\/Jun\\/07 11:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I changed the way of setting up the transaction timeout in the test.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12508795\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12508795&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12508795\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12508795_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12508795_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jun\\/07 11:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-28T11:28:25+0000\'\u003e28\\/Jun\\/07 11:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWhen the transaction in the test is supposed to be committed the timeout is set to 60 seconds. If a transaction is supposed to be rolled back the timeout is set to 8 seconds only.\u003c\\/p\u003e\\n\\n\u003cp\u003eI ran suites.All without failures on my box. No need to run derbyall since the change is just in a junit test.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12508795_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12508795_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jun\\/07 11:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-28T11:28:25+0000\'\u003e28\\/Jun\\/07 11:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    When the transaction in the test is supposed to be committed the timeout is set to 60 seconds. If a transaction is supposed to be rolled back the timeout is set to 8 seconds only. \\n\\n I ran suites.All without failures on my box. No need to run derbyall since the change is just in a junit test.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12509707\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12509707&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12509707\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"myrna\\\" id=\\\"commentauthor_12509707_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=myrna\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"myrna\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Myrna van Lunteren\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12509707_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Jul\\/07 23:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-07-02T23:04:11+0000\'\u003e02\\/Jul\\/07 23:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Myrna van Lunteren - 02\\/Jul\\/07 23:04\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI committed the patch on trunk with revision 552621.\u003cbr\\/\u003e\\nBut can someone verify this works on the platform it was reported on?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"myrna\\\" id=\\\"commentauthor_12509707_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=myrna\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"myrna\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Myrna van Lunteren\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12509707_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Jul\\/07 23:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-07-02T23:04:11+0000\'\u003e02\\/Jul\\/07 23:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Myrna van Lunteren - 02\\/Jul\\/07 23:04\\\"\u003eedited\u003c\\/span\u003e                   I committed the patch on trunk with revision 552621. \\nBut can someone verify this works on the platform it was reported on?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12509881\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12509881&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12509881\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"vemund\\\" id=\\\"commentauthor_12509881_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=vemund\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"vemund\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Vemund \\u00D8stgaard\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12509881_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jul\\/07 14:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-07-03T14:08:59+0000\'\u003e03\\/Jul\\/07 14:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI ran Suites.All on HP with my checked out version of trunk (revision 552770) to verify the fix.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe same test failed, but this time with a lock timeout instead: \u003c\\/p\u003e\\n\\n\u003cp\u003e1) testXATransactionTimeout(org.apache.derbyTesting.functionTests.tests.jdbcapi.XATransactionTest)java.sql.SQLException: A lock could not be obtained within\u003cbr\\/\u003e\\nthe time requested\u003cbr\\/\u003e\\n        at org.apache.derby.client.am.SQLExceptionFactory.getSQLException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.client.am.SqlException.getSQLException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.client.am.Statement.executeQuery(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derbyTesting.functionTests.tests.jdbcapi.XATransactionTest.testXATransactionTimeout(XATransactionTest.java:247)\u003cbr\\/\u003e\\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\u003cbr\\/\u003e\\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\u003cbr\\/\u003e\\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\u003cbr\\/\u003e\\n        at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:95)\u003cbr\\/\u003e\\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\u003cbr\\/\u003e\\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:21)\u003cbr\\/\u003e\\n        at junit.extensions.TestSetup.run(TestSetup.java:25)\u003cbr\\/\u003e\\n        at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)\u003cbr\\/\u003e\\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\u003cbr\\/\u003e\\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:21)\u003cbr\\/\u003e\\n        at junit.extensions.TestSetup.run(TestSetup.java:25)\u003cbr\\/\u003e\\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\u003cbr\\/\u003e\\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:21)\u003cbr\\/\u003e\\n        at junit.extensions.TestSetup.run(TestSetup.java:25)\u003cbr\\/\u003e\\n        at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)\u003cbr\\/\u003e\\nCaused by: org.apache.derby.client.am.SqlException: A lock could not be obtained within the time requested\u003cbr\\/\u003e\\n        at org.apache.derby.client.am.Statement.completeSqlca(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetStatementReply.parseOpenQueryError(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetStatementReply.parseOPNQRYreply(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetStatementReply.readOpenQuery(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.StatementReply.readOpenQuery(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetStatement.readOpenQuery_(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.client.am.Statement.readOpenQuery(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.client.am.Statement.flowExecute(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.client.am.Statement.executeQueryX(Unknown Source)\u003cbr\\/\u003e\\n        ... 40 more\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"vemund\\\" id=\\\"commentauthor_12509881_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=vemund\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"vemund\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Vemund \\u00D8stgaard\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12509881_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jul\\/07 14:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-07-03T14:08:59+0000\'\u003e03\\/Jul\\/07 14:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I ran Suites.All on HP with my checked out version of trunk (revision 552770) to verify the fix. \\n\\n The same test failed, but this time with a lock timeout instead:  \\n\\n 1) testXATransactionTimeout(org.apache.derbyTesting.functionTests.tests.jdbcapi.XATransactionTest)java.sql.SQLException: A lock could not be obtained within \\nthe time requested \\n        at org.apache.derby.client.am.SQLExceptionFactory.getSQLException(Unknown Source) \\n        at org.apache.derby.client.am.SqlException.getSQLException(Unknown Source) \\n        at org.apache.derby.client.am.Statement.executeQuery(Unknown Source) \\n        at org.apache.derbyTesting.functionTests.tests.jdbcapi.XATransactionTest.testXATransactionTimeout(XATransactionTest.java:247) \\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) \\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) \\n        at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:95) \\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24) \\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:21) \\n        at junit.extensions.TestSetup.run(TestSetup.java:25) \\n        at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57) \\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24) \\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:21) \\n        at junit.extensions.TestSetup.run(TestSetup.java:25) \\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24) \\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:21) \\n        at junit.extensions.TestSetup.run(TestSetup.java:25) \\n        at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57) \\nCaused by: org.apache.derby.client.am.SqlException: A lock could not be obtained within the time requested \\n        at org.apache.derby.client.am.Statement.completeSqlca(Unknown Source) \\n        at org.apache.derby.client.net.NetStatementReply.parseOpenQueryError(Unknown Source) \\n        at org.apache.derby.client.net.NetStatementReply.parseOPNQRYreply(Unknown Source) \\n        at org.apache.derby.client.net.NetStatementReply.readOpenQuery(Unknown Source) \\n        at org.apache.derby.client.net.StatementReply.readOpenQuery(Unknown Source) \\n        at org.apache.derby.client.net.NetStatement.readOpenQuery_(Unknown Source) \\n        at org.apache.derby.client.am.Statement.readOpenQuery(Unknown Source) \\n        at org.apache.derby.client.am.Statement.flowExecute(Unknown Source) \\n        at org.apache.derby.client.am.Statement.executeQueryX(Unknown Source) \\n        ... 40 more              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12510529\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12510529&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12510529\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"myrna\\\" id=\\\"commentauthor_12510529_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=myrna\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"myrna\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Myrna van Lunteren\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12510529_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jul\\/07 23:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-07-05T23:57:05+0000\'\u003e05\\/Jul\\/07 23:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eunchecking patch available, I had checked in the change but it caused an intermittent failure in the test. \u003cbr\\/\u003e\\nAlso unmarking fix  for 10.3.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"myrna\\\" id=\\\"commentauthor_12510529_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=myrna\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"myrna\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Myrna van Lunteren\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12510529_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jul\\/07 23:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-07-05T23:57:05+0000\'\u003e05\\/Jul\\/07 23:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    unchecking patch available, I had checked in the change but it caused an intermittent failure in the test.  \\nAlso unmarking fix  for 10.3.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12513901\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12513901&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12513901\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12513901_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12513901_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Jul\\/07 14:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-07-19T14:06:13+0000\'\u003e19\\/Jul\\/07 14:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have an access to the machine on which the test failed. However, I am not able to reproduce the failure. I will continue trying to find out what is going on.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12513901_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12513901_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Jul\\/07 14:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-07-19T14:06:13+0000\'\u003e19\\/Jul\\/07 14:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have an access to the machine on which the test failed. However, I am not able to reproduce the failure. I will continue trying to find out what is going on.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12518492\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12518492&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12518492\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12518492_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12518492_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/07 16:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-08-08T16:24:52+0000\'\u003e08\\/Aug\\/07 16:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI rewrote the test that it will not close the connections and they will not be garbage collected neither since I call the XAConnection.close method on every connection at the end of the test.\u003c\\/p\u003e\\n\\n\u003cp\u003eI ran all the tests (suites.All and derbyall) without failures on my box for \'d2871-test\' patch also with a patch for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2953\\\" title=\\\"Dump the information about rollbacks of the global transaction (introduced in DERBY-2220 and DERBY-2432) to derby.log\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2953\\\"\u003eDERBY-2953\u003c\\/a\u003e without any failures. I tried to run those test also on a HP-UX box where the test was originally failing. The rewritten test always fails with the message \u003c\\/p\u003e\\n\\n\u003cp\u003e&#8212;\u003cbr\\/\u003e\\n1) testXATransactionTimeout(org.apache.derbyTesting.functionTests.tests.jdbcapi.XATransactionTest)java.sql.SQLException: A communications e\u003cbr\\/\u003e\\nrror has been detected: Broken pipe (errno:32).\u003cbr\\/\u003e\\n        at org.apache.derby.client.am.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:46)\u003cbr\\/\u003e\\n        at org.apache.derby.client.am.SqlException.getSQLException(SqlException.java:362)\u003cbr\\/\u003e\\n        at org.apache.derby.client.ClientPooledConnection.&lt;init&gt;(ClientPooledConnection.java:115)\u003cbr\\/\u003e\\n        at org.apache.derby.client.ClientXAConnection.&lt;init&gt;(ClientXAConnection.java:48)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.ClientJDBCObjectFactoryImpl.newClientXAConnection(ClientJDBCObjectFactoryImpl.java:76)\u003cbr\\/\u003e\\n        at org.apache.derby.jdbc.ClientXADataSource.getXAConnectionX(ClientXADataSource.java:88)\u003cbr\\/\u003e\\n        at org.apache.derby.jdbc.ClientXADataSource.getXAConnection(ClientXADataSource.java:72)\u003cbr\\/\u003e\\n        at org.apache.derby.jdbc.ClientXADataSource.getXAConnection(ClientXADataSource.java:65)\u003cbr\\/\u003e\\n        at org.apache.derbyTesting.functionTests.tests.jdbcapi.XATransactionTest.testXATransactionTimeout(XATransactionTest.java:188)\u003cbr\\/\u003e\\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\u003cbr\\/\u003e\\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\u003cbr\\/\u003e\\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\u003cbr\\/\u003e\\n        at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:95)\u003cbr\\/\u003e\\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\u003cbr\\/\u003e\\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:21)\u003cbr\\/\u003e\\n        at junit.extensions.TestSetup.run(TestSetup.java:25)\u003cbr\\/\u003e\\n        at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)\u003cbr\\/\u003e\\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\u003cbr\\/\u003e\\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:21)\u003cbr\\/\u003e\\n        at junit.extensions.TestSetup.run(TestSetup.java:25)\u003cbr\\/\u003e\\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\u003cbr\\/\u003e\\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:21)\u003cbr\\/\u003e\\n        at junit.extensions.TestSetup.run(TestSetup.java:25)\u003cbr\\/\u003e\\n        at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)\u003cbr\\/\u003e\\nCaused by: org.apache.derby.client.am.DisconnectException: A communications error has been detected: Broken pipe (errno:32).\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetAgent.throwCommunicationsFailure(NetAgent.java:413)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetAgent.sendRequest(NetAgent.java:387)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetAgent.flush_(NetAgent.java:265)\u003cbr\\/\u003e\\n        at org.apache.derby.client.am.Agent.flowOutsideUOW(Agent.java:196)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetConnection.flowServerAttributesAndKeyExchange(NetConnection.java:773)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetConnection.flowUSRIDPWDconnect(NetConnection.java:617)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetConnection.flowConnect(NetConnection.java:435)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetConnection.initialize(NetConnection.java:296)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetConnection.&lt;init&gt;(NetConnection.java:280)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.ClientJDBCObjectFactoryImpl.newNetConnection(ClientJDBCObjectFactoryImpl.java:264)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetXAConnection.createNetConnection(NetXAConnection.java:269)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetXAConnection.&lt;init&gt;(NetXAConnection.java:73)\u003cbr\\/\u003e\\n        at org.apache.derby.client.ClientPooledConnection.getNetXAConnection(ClientPooledConnection.java:331)\u003cbr\\/\u003e\\n        at org.apache.derby.client.ClientPooledConnection.&lt;init&gt;(ClientPooledConnection.java:108)\u003cbr\\/\u003e\\n        ... 44 more\u003cbr\\/\u003e\\nCaused by: java.net.SocketException: Broken pipe (errno:32)\u003cbr\\/\u003e\\n        at java.net.SocketOutputStream.socketWrite0(Native Method)\u003cbr\\/\u003e\\n        at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:97)\u003cbr\\/\u003e\\n        at java.net.SocketOutputStream.write(SocketOutputStream.java:141)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.Request.sendBytes(Request.java:1388)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.Request.flush(Request.java:1382)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetAgent.sendRequest(NetAgent.java:385)\u003cbr\\/\u003e\\n        ... 56 more\u003cbr\\/\u003e\\n&#8212;\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eI explored a problem a bit and discovered that the problem occurs due to the limit of the number of open files and I have created a simple code to verify this...\u003c\\/p\u003e\\n\\n\u003cp\u003e        int count = 1000;\u003cbr\\/\u003e\\n        XAConnection xaConn[] = new XAConnection\u003cspan class=\\\"error\\\"\u003e&#91;count&#93;\u003c\\/span\u003e;\u003c\\/p\u003e\\n\\n\u003cp\u003e        try {\u003cbr\\/\u003e\\n            \\/\\/ start-up the server\u003cbr\\/\u003e\\n            NetworkServerControl server = new NetworkServerControl();\u003cbr\\/\u003e\\n            server.start (null);\u003c\\/p\u003e\\n\\n\u003cp\u003e            for (int i=0; i &lt; count; i++) \u003c\\/p\u003e\\n{\\n                System.out.print(\\\"Creating connection number \\\" + i + \\\"...\\\");\\n                xaConn[i] = createXAConnection(connString, \\\"\\\", \\\"\\\");\\n                System.out.println(\\\"Ok.\\\");\\n            }\\n\\n\u003cp\u003e            for (int i=0; i &lt; count; i++) \u003c\\/p\u003e\\n{\\n                xaConn[i].close();\\n            }\\n\u003cp\u003e        } catch (Exception ex) \u003c\\/p\u003e\\n{\\n            ex.printStackTrace();\\n        }\\n\\n\u003cp\u003ewhich will throw an exception after creating a connection number 391\u003c\\/p\u003e\\n\\n\u003cp\u003eorg.apache.derby.client.am.DisconnectException: java.net.SocketException : Error connecting to server localhost on port 1527 with message File table overflow (errno:23).\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetAgent.&lt;init&gt;(NetAgent.java:129)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetConnection.newAgent_(NetConnection.java:1086)\u003cbr\\/\u003e\\n        at org.apache.derby.client.am.Connection.initConnection(Connection.java:218)\u003cbr\\/\u003e\\n        at org.apache.derby.client.am.Connection.&lt;init&gt;(Connection.java:169)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetConnection.&lt;init&gt;(NetConnection.java:278)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.ClientJDBCObjectFactoryImpl.newNetConnection(ClientJDBCObjectFactoryImpl.java:264)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetXAConnection.createNetConnection(NetXAConnection.java:269)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetXAConnection.&lt;init&gt;(NetXAConnection.java:73)\u003cbr\\/\u003e\\n        at org.apache.derby.client.ClientPooledConnection.getNetXAConnection(ClientPooledConnection.java:331)\u003cbr\\/\u003e\\n        at org.apache.derby.client.ClientPooledConnection.&lt;init&gt;(ClientPooledConnection.java:108)\u003cbr\\/\u003e\\n        ... 8 more\u003cbr\\/\u003e\\nCaused by: java.net.SocketException: File table overflow (errno:23)\u003cbr\\/\u003e\\n        at java.net.Socket.createImpl(Socket.java:397)\u003cbr\\/\u003e\\n        at java.net.Socket.&lt;init&gt;(Socket.java:359)\u003cbr\\/\u003e\\n        at java.net.Socket.&lt;init&gt;(Socket.java:178)\u003cbr\\/\u003e\\n        at javax.net.DefaultSocketFactory.createSocket(SocketFactory.java:196)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.OpenSocketAction.run(OpenSocketAction.java:62)\u003cbr\\/\u003e\\n        at java.security.AccessController.doPrivileged(Native Method)\u003cbr\\/\u003e\\n        at org.apache.derby.client.net.NetAgent.&lt;init&gt;(NetAgent.java:127)\u003cbr\\/\u003e\\n        ... 17 more\u003cbr\\/\u003e\\n------\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12518492_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12518492_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/07 16:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-08-08T16:24:52+0000\'\u003e08\\/Aug\\/07 16:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I rewrote the test that it will not close the connections and they will not be garbage collected neither since I call the XAConnection.close method on every connection at the end of the test. \\n\\n I ran all the tests (suites.All and derbyall) without failures on my box for \'d2871-test\' patch also with a patch for  DERBY-2953  without any failures. I tried to run those test also on a HP-UX box where the test was originally failing. The rewritten test always fails with the message  \\n\\n &#8212; \\n1) testXATransactionTimeout(org.apache.derbyTesting.functionTests.tests.jdbcapi.XATransactionTest)java.sql.SQLException: A communications e \\nrror has been detected: Broken pipe (errno:32). \\n        at org.apache.derby.client.am.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:46) \\n        at org.apache.derby.client.am.SqlException.getSQLException(SqlException.java:362) \\n        at org.apache.derby.client.ClientPooledConnection.&lt;init&gt;(ClientPooledConnection.java:115) \\n        at org.apache.derby.client.ClientXAConnection.&lt;init&gt;(ClientXAConnection.java:48) \\n        at org.apache.derby.client.net.ClientJDBCObjectFactoryImpl.newClientXAConnection(ClientJDBCObjectFactoryImpl.java:76) \\n        at org.apache.derby.jdbc.ClientXADataSource.getXAConnectionX(ClientXADataSource.java:88) \\n        at org.apache.derby.jdbc.ClientXADataSource.getXAConnection(ClientXADataSource.java:72) \\n        at org.apache.derby.jdbc.ClientXADataSource.getXAConnection(ClientXADataSource.java:65) \\n        at org.apache.derbyTesting.functionTests.tests.jdbcapi.XATransactionTest.testXATransactionTimeout(XATransactionTest.java:188) \\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) \\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) \\n        at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:95) \\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24) \\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:21) \\n        at junit.extensions.TestSetup.run(TestSetup.java:25) \\n        at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57) \\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24) \\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:21) \\n        at junit.extensions.TestSetup.run(TestSetup.java:25) \\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24) \\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:21) \\n        at junit.extensions.TestSetup.run(TestSetup.java:25) \\n        at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57) \\nCaused by: org.apache.derby.client.am.DisconnectException: A communications error has been detected: Broken pipe (errno:32). \\n        at org.apache.derby.client.net.NetAgent.throwCommunicationsFailure(NetAgent.java:413) \\n        at org.apache.derby.client.net.NetAgent.sendRequest(NetAgent.java:387) \\n        at org.apache.derby.client.net.NetAgent.flush_(NetAgent.java:265) \\n        at org.apache.derby.client.am.Agent.flowOutsideUOW(Agent.java:196) \\n        at org.apache.derby.client.net.NetConnection.flowServerAttributesAndKeyExchange(NetConnection.java:773) \\n        at org.apache.derby.client.net.NetConnection.flowUSRIDPWDconnect(NetConnection.java:617) \\n        at org.apache.derby.client.net.NetConnection.flowConnect(NetConnection.java:435) \\n        at org.apache.derby.client.net.NetConnection.initialize(NetConnection.java:296) \\n        at org.apache.derby.client.net.NetConnection.&lt;init&gt;(NetConnection.java:280) \\n        at org.apache.derby.client.net.ClientJDBCObjectFactoryImpl.newNetConnection(ClientJDBCObjectFactoryImpl.java:264) \\n        at org.apache.derby.client.net.NetXAConnection.createNetConnection(NetXAConnection.java:269) \\n        at org.apache.derby.client.net.NetXAConnection.&lt;init&gt;(NetXAConnection.java:73) \\n        at org.apache.derby.client.ClientPooledConnection.getNetXAConnection(ClientPooledConnection.java:331) \\n        at org.apache.derby.client.ClientPooledConnection.&lt;init&gt;(ClientPooledConnection.java:108) \\n        ... 44 more \\nCaused by: java.net.SocketException: Broken pipe (errno:32) \\n        at java.net.SocketOutputStream.socketWrite0(Native Method) \\n        at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:97) \\n        at java.net.SocketOutputStream.write(SocketOutputStream.java:141) \\n        at org.apache.derby.client.net.Request.sendBytes(Request.java:1388) \\n        at org.apache.derby.client.net.Request.flush(Request.java:1382) \\n        at org.apache.derby.client.net.NetAgent.sendRequest(NetAgent.java:385) \\n        ... 56 more \\n&#8212; \\n\\n\\n I explored a problem a bit and discovered that the problem occurs due to the limit of the number of open files and I have created a simple code to verify this... \\n\\n         int count = 1000; \\n        XAConnection xaConn[] = new XAConnection &#91;count&#93; ; \\n\\n         try { \\n            \\/\\/ start-up the server \\n            NetworkServerControl server = new NetworkServerControl(); \\n            server.start (null); \\n\\n             for (int i=0; i &lt; count; i++)  \\n{\\n                System.out.print(\\\"Creating connection number \\\" + i + \\\"...\\\");\\n                xaConn[i] = createXAConnection(connString, \\\"\\\", \\\"\\\");\\n                System.out.println(\\\"Ok.\\\");\\n            }\\n\\n             for (int i=0; i &lt; count; i++)  \\n{\\n                xaConn[i].close();\\n            }\\n         } catch (Exception ex)  \\n{\\n            ex.printStackTrace();\\n        }\\n\\n which will throw an exception after creating a connection number 391 \\n\\n org.apache.derby.client.am.DisconnectException: java.net.SocketException : Error connecting to server localhost on port 1527 with message File table overflow (errno:23). \\n        at org.apache.derby.client.net.NetAgent.&lt;init&gt;(NetAgent.java:129) \\n        at org.apache.derby.client.net.NetConnection.newAgent_(NetConnection.java:1086) \\n        at org.apache.derby.client.am.Connection.initConnection(Connection.java:218) \\n        at org.apache.derby.client.am.Connection.&lt;init&gt;(Connection.java:169) \\n        at org.apache.derby.client.net.NetConnection.&lt;init&gt;(NetConnection.java:278) \\n        at org.apache.derby.client.net.ClientJDBCObjectFactoryImpl.newNetConnection(ClientJDBCObjectFactoryImpl.java:264) \\n        at org.apache.derby.client.net.NetXAConnection.createNetConnection(NetXAConnection.java:269) \\n        at org.apache.derby.client.net.NetXAConnection.&lt;init&gt;(NetXAConnection.java:73) \\n        at org.apache.derby.client.ClientPooledConnection.getNetXAConnection(ClientPooledConnection.java:331) \\n        at org.apache.derby.client.ClientPooledConnection.&lt;init&gt;(ClientPooledConnection.java:108) \\n        ... 8 more \\nCaused by: java.net.SocketException: File table overflow (errno:23) \\n        at java.net.Socket.createImpl(Socket.java:397) \\n        at java.net.Socket.&lt;init&gt;(Socket.java:359) \\n        at java.net.Socket.&lt;init&gt;(Socket.java:178) \\n        at javax.net.DefaultSocketFactory.createSocket(SocketFactory.java:196) \\n        at org.apache.derby.client.net.OpenSocketAction.run(OpenSocketAction.java:62) \\n        at java.security.AccessController.doPrivileged(Native Method) \\n        at org.apache.derby.client.net.NetAgent.&lt;init&gt;(NetAgent.java:127) \\n        ... 17 more \\n------              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12518495\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12518495&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12518495\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12518495_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12518495_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/07 16:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-08-08T16:30:59+0000\'\u003e08\\/Aug\\/07 16:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI will rewrite a test in a way that will use much less connections created in parallel.\u003c\\/p\u003e\\n\\n\u003cp\u003eLesson learned: It was not a good idea to use 1000 connections in a test for a small embedded database as derby is. There might be some restrictions on older or embedded systems.\u003c\\/p\u003e\\n\\n\u003cp\u003eHowever, I am not quite sure if this will fix the issue for sure. I\'ll try to test the result as much as possible.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12518495_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12518495_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/07 16:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-08-08T16:30:59+0000\'\u003e08\\/Aug\\/07 16:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I will rewrite a test in a way that will use much less connections created in parallel. \\n\\n Lesson learned: It was not a good idea to use 1000 connections in a test for a small embedded database as derby is. There might be some restrictions on older or embedded systems. \\n\\n However, I am not quite sure if this will fix the issue for sure. I\'ll try to test the result as much as possible.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12556551\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12556551&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12556551\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12556551_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12556551_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jan\\/08 12:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-07T12:00:46+0000\'\u003e07\\/Jan\\/08 12:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis is the patch fixing all the possible issues with the test I found. It merges also a change made for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2953\\\" title=\\\"Dump the information about rollbacks of the global transaction (introduced in DERBY-2220 and DERBY-2432) to derby.log\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2953\\\"\u003eDERBY-2953\u003c\\/a\u003e.\u003c\\/p\u003e\\n\\n\u003cp\u003eI ran the tests without failures. I am planning to run the tests also on the box where the test was originally failing. More detailed description of changes will follow afterwards.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12556551_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12556551_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jan\\/08 12:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-07T12:00:46+0000\'\u003e07\\/Jan\\/08 12:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This is the patch fixing all the possible issues with the test I found. It merges also a change made for  DERBY-2953 . \\n\\n I ran the tests without failures. I am planning to run the tests also on the box where the test was originally failing. More detailed description of changes will follow afterwards.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12557311\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12557311&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12557311\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12557311_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12557311_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/08 16:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-09T16:38:38+0000\'\u003e09\\/Jan\\/08 16:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have tested the patch on the machine where the tests were originally failing and it went well without failures.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12557311_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12557311_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/08 16:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-09T16:38:38+0000\'\u003e09\\/Jan\\/08 16:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have tested the patch on the machine where the tests were originally failing and it went well without failures.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12557350\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12557350&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12557350\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12557350_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12557350_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/08 17:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-09T17:39:02+0000\'\u003e09\\/Jan\\/08 17:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eChanges in xa transaction timeout:\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eadded a code to print a text message to a log file when the global transaction will get rolled back.\u003c\\/li\u003e\\n\\t\u003cli\u003ejoined a code performing a rollback of the global transaction on both embedded and network drivers. The transaction is now atomically (XATransactionState lock is obtained only once) disassociated from the resource and rolled back. The common code is placed in XATransactionState object.\u003c\\/li\u003e\\n\\t\u003cli\u003ea reference to the ResourceAdapter instance was necessary to be present in DRDAXAProtocol\\/XADatabase and it is captured from EmbedXADataSource during a creation of a connection in XADatabase instance.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eChanges in XATransactionTest:\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eThe number of connections created was reduced from 1000 to 66.\u003c\\/li\u003e\\n\\t\u003cli\u003eAll the references to connections are kept in an array so that no optimization will garbage collect them before the transaction will get rolled back by the proper code tested. All the connections are closed manually at the end of the test.\u003c\\/li\u003e\\n\\t\u003cli\u003eThe long running statement was rewritten to use system tables thus the test will no longer need an appropriate number of records in a test table (thus less connections might be created).\u003c\\/li\u003e\\n\\t\u003cli\u003ederby.locks.waitTimeout and derby.locks.deadlockTimeout are being stored in test setup and changed to high enough values and changed back at tearDown. jdbcapi\\/SetTransactionIsolationTest changes both of these to 3 without restoring them back and this was causing issues with a test.\u003c\\/li\u003e\\n\\t\u003cli\u003ea list of global transactions in progress is dumped when the test fails in case there are pending transactions that were supposed to be rolled back\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eDyre (response to the comment at \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2953\\\" title=\\\"Dump the information about rollbacks of the global transaction (introduced in DERBY-2220 and DERBY-2432) to derby.log\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2953\\\"\u003eDERBY-2953\u003c\\/a\u003e):\u003cbr\\/\u003e\\nI am also not quite clear about the policy when to write a javadoc comment and when not. I think I have written javadoc comments for all new methods\\/classes except when the comment is present in the superclass or method of the superclass and there is nothing new to be written in the implementation. I can copy the comment from the superclass but I do not see a benefit of doing this.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks for reviewing the patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12557350_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12557350_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/08 17:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-09T17:39:02+0000\'\u003e09\\/Jan\\/08 17:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Changes in xa transaction timeout: \\n \\n\\t added a code to print a text message to a log file when the global transaction will get rolled back. \\n\\t joined a code performing a rollback of the global transaction on both embedded and network drivers. The transaction is now atomically (XATransactionState lock is obtained only once) disassociated from the resource and rolled back. The common code is placed in XATransactionState object. \\n\\t a reference to the ResourceAdapter instance was necessary to be present in DRDAXAProtocol\\/XADatabase and it is captured from EmbedXADataSource during a creation of a connection in XADatabase instance. \\n \\n\\n\\n Changes in XATransactionTest: \\n \\n\\t The number of connections created was reduced from 1000 to 66. \\n\\t All the references to connections are kept in an array so that no optimization will garbage collect them before the transaction will get rolled back by the proper code tested. All the connections are closed manually at the end of the test. \\n\\t The long running statement was rewritten to use system tables thus the test will no longer need an appropriate number of records in a test table (thus less connections might be created). \\n\\t derby.locks.waitTimeout and derby.locks.deadlockTimeout are being stored in test setup and changed to high enough values and changed back at tearDown. jdbcapi\\/SetTransactionIsolationTest changes both of these to 3 without restoring them back and this was causing issues with a test. \\n\\t a list of global transactions in progress is dumped when the test fails in case there are pending transactions that were supposed to be rolled back \\n \\n\\n\\n Dyre (response to the comment at  DERBY-2953 ): \\nI am also not quite clear about the policy when to write a javadoc comment and when not. I think I have written javadoc comments for all new methods\\/classes except when the comment is present in the superclass or method of the superclass and there is nothing new to be written in the implementation. I can copy the comment from the superclass but I do not see a benefit of doing this. \\n\\n Thanks for reviewing the patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12557352\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12557352&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12557352\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12557352_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12557352_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/08 17:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-09T17:40:21+0000\'\u003e09\\/Jan\\/08 17:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003esuites.All and derbyall ran without failures.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12557352_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12557352_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/08 17:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-09T17:40:21+0000\'\u003e09\\/Jan\\/08 17:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    suites.All and derbyall ran without failures.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12564902\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12564902&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12564902\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12564902_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12564902_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Feb\\/08 19:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-01T19:39:04+0000\'\u003e01\\/Feb\\/08 19:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe patch didn\'t apply for me. I saw conflicts in messages.xml and MessageId.java.  Could you post an updated patch and I\'ll try to look quickly before it gets out of date?\u003c\\/p\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12564902_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12564902_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Feb\\/08 19:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-01T19:39:04+0000\'\u003e01\\/Feb\\/08 19:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The patch didn\'t apply for me. I saw conflicts in messages.xml and MessageId.java.  Could you post an updated patch and I\'ll try to look quickly before it gets out of date? \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12564916\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12564916&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12564916\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"myrna\\\" id=\\\"commentauthor_12564916_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=myrna\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"myrna\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Myrna van Lunteren\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12564916_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Feb\\/08 20:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-01T20:09:47+0000\'\u003e01\\/Feb\\/08 20:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI svn updated to the earlier revision, then could apply the patch fine, and svn update seems to have merged correctly too. \u003cbr\\/\u003e\\nBut I\'m out of my depth on this...\u003cbr\\/\u003e\\nAttaching an updated version so someone else can have a look too.\u003c\\/p\u003e\\n\\n\u003cp\u003equestions\\/comments I do have:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eas was previously observed, I think javadoc would be good for every new method. For ones that overwrite methods from a higher level you can use the @see javadoc tag\u003c\\/li\u003e\\n\\t\u003cli\u003ethe new test fixtures uses System.err.println. I think that\'s a \'not done\', you need to change that into a fail(...)\u003c\\/li\u003e\\n\\t\u003cli\u003ein the test\' Setup and tearDown methods, you may be able to take advantage of the new BaseJDBCTestCase.prepareCall. Or, better, can\'t you use the DatabasePropertyTestSetup?\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"myrna\\\" id=\\\"commentauthor_12564916_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=myrna\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"myrna\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Myrna van Lunteren\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12564916_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Feb\\/08 20:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-01T20:09:47+0000\'\u003e01\\/Feb\\/08 20:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I svn updated to the earlier revision, then could apply the patch fine, and svn update seems to have merged correctly too.  \\nBut I\'m out of my depth on this... \\nAttaching an updated version so someone else can have a look too. \\n\\n questions\\/comments I do have: \\n \\n\\t as was previously observed, I think javadoc would be good for every new method. For ones that overwrite methods from a higher level you can use the @see javadoc tag \\n\\t the new test fixtures uses System.err.println. I think that\'s a \'not done\', you need to change that into a fail(...) \\n\\t in the test\' Setup and tearDown methods, you may be able to take advantage of the new BaseJDBCTestCase.prepareCall. Or, better, can\'t you use the DatabasePropertyTestSetup? \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12564917\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12564917&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12564917\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"myrna\\\" id=\\\"commentauthor_12564917_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=myrna\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"myrna\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Myrna van Lunteren\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12564917_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Feb\\/08 20:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-01T20:13:27+0000\'\u003e01\\/Feb\\/08 20:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003etoo bad that we didn\'t get this in sooner, looks like we missed a translation effort. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"myrna\\\" id=\\\"commentauthor_12564917_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=myrna\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"myrna\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Myrna van Lunteren\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12564917_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Feb\\/08 20:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-01T20:13:27+0000\'\u003e01\\/Feb\\/08 20:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    too bad that we didn\'t get this in sooner, looks like we missed a translation effort.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12564967\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12564967&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12564967\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12564967_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12564967_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Feb\\/08 22:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-01T22:56:53+0000\'\u003e01\\/Feb\\/08 22:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThank you for looking at this issue.  I got a bit confused about which changes were part of this issue and which were part of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2953\\\" title=\\\"Dump the information about rollbacks of the global transaction (introduced in DERBY-2220 and DERBY-2432) to derby.log\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2953\\\"\u003eDERBY-2953\u003c\\/a\u003e.  Are the code changes necessary for the test to pass with its changes or were the two issues\' patches just combined for convenience? \u003c\\/p\u003e\\n\\n\u003cp\u003eOn the code changes I got a bit confused with the XATransationState.isFinished instance variable changes.  isFinished is documented as:\u003cbr\\/\u003e\\n\\/** Has this transaction been finished (committed\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eor rolled back)? *\\/\u003cbr\\/\u003e\\nBut the makes isFinshed = true with the XATransactionState constructor, which I didn\'t quite understand. The transaction hasn\'t been committed or rolled back at that point. It looks like isFinished is only set to  false in setTransactionTimeout which doesn\'t seem quite right.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n\u003cp\u003eOn the test in addition to Myrna\'s comments,  do we lose anything by dropping from 1000 connections to 66?  \u003cbr\\/\u003e\\nThe javadoc still says 1000 connections. \u003c\\/p\u003e\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12564967_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12564967_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Feb\\/08 22:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-01T22:56:53+0000\'\u003e01\\/Feb\\/08 22:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thank you for looking at this issue.  I got a bit confused about which changes were part of this issue and which were part of  DERBY-2953 .  Are the code changes necessary for the test to pass with its changes or were the two issues\' patches just combined for convenience?  \\n\\n On the code changes I got a bit confused with the XATransationState.isFinished instance variable changes.  isFinished is documented as: \\n\\/** Has this transaction been finished (committed \\n \\n\\t or rolled back)? *\\/ \\nBut the makes isFinshed = true with the XATransactionState constructor, which I didn\'t quite understand. The transaction hasn\'t been committed or rolled back at that point. It looks like isFinished is only set to  false in setTransactionTimeout which doesn\'t seem quite right. \\n \\n\\n\\n\\n On the test in addition to Myrna\'s comments,  do we lose anything by dropping from 1000 connections to 66?   \\nThe javadoc still says 1000 connections.  \\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12565298\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12565298&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12565298\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12565298_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12565298_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Feb\\/08 09:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-04T09:59:18+0000\'\u003e04\\/Feb\\/08 09:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMyrna, Kathey, thanks for looking at this issue.\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eI\'ll add the missing javadoc with @see tags.\u003c\\/li\u003e\\n\\t\u003cli\u003eI\'ll change System.err.println to fail(...) and and think about BaseJDBCTestCase.prepareCall or DatabasePropertyTestSetup.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eI agree that isFinished is a bit confusing. The idea why it is there is that there is a just a small window in which the cancelation task might be executing and still not obtained a lock on XATransactionState object. In a meanwhile the transaction might get committed or rolled back by the application and afterwards the cancellation task will obtain a lock and run till the completition (see \u003ca href=\\\"http:\\/\\/java.sun.com\\/javase\\/6\\/docs\\/api\\/java\\/util\\/TimerTask.html#cancel(\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/java.sun.com\\/javase\\/6\\/docs\\/api\\/java\\/util\\/TimerTask.html#cancel(\u003c\\/a\u003e) ). This property is used just for preventing attempts to do rollbacks of transactions already committed or rolled back.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eValue of isFinished is assigned to false in schedule timeout task beacuse if the global transaction is started with EmbedXAResource.start(TMNOFLAGS) the method XATransactionState.start(TMNOFLAGS) is not called but scheduleTimeoutTask is called if the timeout is required.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo there are two possible options how to deal whith this:\u003cbr\\/\u003e\\na) rename isFinished to something less confusing like \'performTimeoutRollback\', etc.\u003cbr\\/\u003e\\nb) or change the logic so XATransactionState.start would be called also for TMNOFLAGS and isFinished would behave as expected from its name.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks for your opinions.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12565298_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12565298_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Feb\\/08 09:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-04T09:59:18+0000\'\u003e04\\/Feb\\/08 09:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Myrna, Kathey, thanks for looking at this issue. \\n\\n \\n\\t I\'ll add the missing javadoc with @see tags. \\n\\t I\'ll change System.err.println to fail(...) and and think about BaseJDBCTestCase.prepareCall or DatabasePropertyTestSetup. \\n \\n\\n\\n \\n\\t I agree that isFinished is a bit confusing. The idea why it is there is that there is a just a small window in which the cancelation task might be executing and still not obtained a lock on XATransactionState object. In a meanwhile the transaction might get committed or rolled back by the application and afterwards the cancellation task will obtain a lock and run till the completition (see  http:\\/\\/java.sun.com\\/javase\\/6\\/docs\\/api\\/java\\/util\\/TimerTask.html#cancel( ) ). This property is used just for preventing attempts to do rollbacks of transactions already committed or rolled back. \\n \\n\\n\\n Value of isFinished is assigned to false in schedule timeout task beacuse if the global transaction is started with EmbedXAResource.start(TMNOFLAGS) the method XATransactionState.start(TMNOFLAGS) is not called but scheduleTimeoutTask is called if the timeout is required. \\n\\n So there are two possible options how to deal whith this: \\na) rename isFinished to something less confusing like \'performTimeoutRollback\', etc. \\nb) or change the logic so XATransactionState.start would be called also for TMNOFLAGS and isFinished would behave as expected from its name. \\n\\n Thanks for your opinions.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12565465\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12565465&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12565465\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12565465_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12565465_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Feb\\/08 18:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-04T18:50:04+0000\'\u003e04\\/Feb\\/08 18:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eJulius said:\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;So there are two possible options how to deal whith this:\u003cbr\\/\u003e\\n&gt;a) rename isFinished to something less confusing like \'performTimeoutRollback\', etc.\u003cbr\\/\u003e\\n&gt;b) or change the logic so XATransactionState.start would be called also for TMNOFLAGS and isFinished would behave as expected from its name.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think either is fine, with a slight preference for a, since this is used only for timeout.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12565465_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12565465_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Feb\\/08 18:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-04T18:50:04+0000\'\u003e04\\/Feb\\/08 18:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Julius said: \\n\\n &gt;So there are two possible options how to deal whith this: \\n&gt;a) rename isFinished to something less confusing like \'performTimeoutRollback\', etc. \\n&gt;b) or change the logic so XATransactionState.start would be called also for TMNOFLAGS and isFinished would behave as expected from its name. \\n\\n I think either is fine, with a slight preference for a, since this is used only for timeout.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12565797\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12565797&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12565797\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12565797_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12565797_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Feb\\/08 16:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-05T16:35:17+0000\'\u003e05\\/Feb\\/08 16:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI added\\/changed\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003emissing javadoc with @see tag\u003c\\/li\u003e\\n\\t\u003cli\u003erenamed isFinished to performTimeoutRollback\u003c\\/li\u003e\\n\\t\u003cli\u003echanged XATransactionTest to use DatabasePropertyTestSetup.setLockTimeouts\u003c\\/li\u003e\\n\\t\u003cli\u003echanged System.err.println to Assert.fail with the message\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eI think that I still have not answered couple of questions:\u003c\\/p\u003e\\n\\n\u003cp\u003eKathey:\u003cbr\\/\u003e\\n&gt; On the test in addition to Myrna\'s comments, do we lose anything by dropping from 1000 connections to 66?\u003c\\/p\u003e\\n\\n\u003cp\u003eExactly the same functionality will be tested. Using 1000 connections worked also as something like a stress test and utilized the database much more.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; I got a bit confused about which changes were part of this issue and which were part of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2953\\\" title=\\\"Dump the information about rollbacks of the global transaction (introduced in DERBY-2220 and DERBY-2432) to derby.log\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2953\\\"\u003eDERBY-2953\u003c\\/a\u003e.\u003cbr\\/\u003e\\n&gt; Are the code changes necessary for the test to pass with its changes or were the two issues\' patches\u003cbr\\/\u003e\\n&gt; just combined for convenience?\u003c\\/p\u003e\\n\\n\u003cp\u003eI created \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2953\\\" title=\\\"Dump the information about rollbacks of the global transaction (introduced in DERBY-2220 and DERBY-2432) to derby.log\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2953\\\"\u003eDERBY-2953\u003c\\/a\u003e as that it will log information about rollbacks to derby log in a situation when I did not know what is\\/might be causing failures. I also reorganized the code a bit - one common function is called to rollback\\/cancel the transaction from different places. I thought that this change could be committed sooner and it could help to diagnose the problem after test failures. Now, I have fixies for every possible issue I found and It is also a bit difficult to divide the patch now to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2871\\\" title=\\\"XATransactionTest gets XaException: Error executing a XAResource.commit(), server returned XAER_PROTO.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2871\\\"\u003e\u003cdel\u003eDERBY-2871\u003c\\/del\u003e\u003c\\/a\u003e and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2953\\\" title=\\\"Dump the information about rollbacks of the global transaction (introduced in DERBY-2220 and DERBY-2432) to derby.log\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2953\\\"\u003eDERBY-2953\u003c\\/a\u003e.\u003c\\/p\u003e\\n\\n\u003cp\u003eI am running the tests now. derbyall already completed without failures. suites.All are still running.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12565797_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12565797_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Feb\\/08 16:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-05T16:35:17+0000\'\u003e05\\/Feb\\/08 16:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I added\\/changed \\n\\n \\n\\t missing javadoc with @see tag \\n\\t renamed isFinished to performTimeoutRollback \\n\\t changed XATransactionTest to use DatabasePropertyTestSetup.setLockTimeouts \\n\\t changed System.err.println to Assert.fail with the message \\n \\n\\n\\n I think that I still have not answered couple of questions: \\n\\n Kathey: \\n&gt; On the test in addition to Myrna\'s comments, do we lose anything by dropping from 1000 connections to 66? \\n\\n Exactly the same functionality will be tested. Using 1000 connections worked also as something like a stress test and utilized the database much more. \\n\\n &gt; I got a bit confused about which changes were part of this issue and which were part of  DERBY-2953 . \\n&gt; Are the code changes necessary for the test to pass with its changes or were the two issues\' patches \\n&gt; just combined for convenience? \\n\\n I created  DERBY-2953  as that it will log information about rollbacks to derby log in a situation when I did not know what is\\/might be causing failures. I also reorganized the code a bit - one common function is called to rollback\\/cancel the transaction from different places. I thought that this change could be committed sooner and it could help to diagnose the problem after test failures. Now, I have fixies for every possible issue I found and It is also a bit difficult to divide the patch now to   DERBY-2871   and  DERBY-2953 . \\n\\n I am running the tests now. derbyall already completed without failures. suites.All are still running.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12565863\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12565863&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12565863\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"myrna\\\" id=\\\"commentauthor_12565863_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=myrna\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"myrna\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Myrna van Lunteren\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12565863_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Feb\\/08 19:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-05T19:56:51+0000\'\u003e05\\/Feb\\/08 19:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have no further comments, but again, I\'m not familiar with the xa code, maybe someone else can review also.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"myrna\\\" id=\\\"commentauthor_12565863_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=myrna\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"myrna\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Myrna van Lunteren\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12565863_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Feb\\/08 19:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-05T19:56:51+0000\'\u003e05\\/Feb\\/08 19:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have no further comments, but again, I\'m not familiar with the xa code, maybe someone else can review also.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12565866\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12565866&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12565866\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12565866_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12565866_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Feb\\/08 20:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-05T20:19:50+0000\'\u003e05\\/Feb\\/08 20:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCan some comments be added to this in the test, it\'s a little unclear what\'s going on in the catch block.\u003cbr\\/\u003e\\nThe exception that caused the failure is being thrown away, this is a problem if the test fails in the future, the exception normally points to where the problem is, losing that information makes debugging much harder, especially with an intermittent problem.\u003c\\/p\u003e\\n\\n\u003cp\u003e+        try \u003c\\/p\u003e\\n{\\n+            stm = getConnection().createStatement();\\n+            rs = stm.executeQuery(\\\"select count(*) from XATT\\\");\\n+            rs.next();\\n+        }\\n\u003cp\u003e catch (SQLException e) {\u003cbr\\/\u003e\\n+            rs = stm.executeQuery(\\\"select global_xid from syscs_diag.transaction_table \\\"\u003cbr\\/\u003e\\n+                                + \\\"where global_xid is not null order by global_xid\\\");\u003cbr\\/\u003e\\n+            StringBuffer sb = new StringBuffer(\\\"Global transactions in progress:\\\\n\\\"); \u003cbr\\/\u003e\\n+            while (rs.next()) \u003c\\/p\u003e\\n{\\n+                sb.append(rs.getString(1));\\n+                sb.append(\\\"\\\\n\\\");\\n+            }\\n\u003cp\u003e+            Assert.fail(sb.toString());\u003cbr\\/\u003e\\n+        }\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12565866_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12565866_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Feb\\/08 20:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-05T20:19:50+0000\'\u003e05\\/Feb\\/08 20:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Can some comments be added to this in the test, it\'s a little unclear what\'s going on in the catch block. \\nThe exception that caused the failure is being thrown away, this is a problem if the test fails in the future, the exception normally points to where the problem is, losing that information makes debugging much harder, especially with an intermittent problem. \\n\\n +        try  \\n{\\n+            stm = getConnection().createStatement();\\n+            rs = stm.executeQuery(\\\"select count(*) from XATT\\\");\\n+            rs.next();\\n+        }\\n  catch (SQLException e) { \\n+            rs = stm.executeQuery(\\\"select global_xid from syscs_diag.transaction_table \\\" \\n+                                + \\\"where global_xid is not null order by global_xid\\\"); \\n+            StringBuffer sb = new StringBuffer(\\\"Global transactions in progress:\\\\n\\\");  \\n+            while (rs.next())  \\n{\\n+                sb.append(rs.getString(1));\\n+                sb.append(\\\"\\\\n\\\");\\n+            }\\n +            Assert.fail(sb.toString()); \\n+        } \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12565869\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12565869&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12565869\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12565869_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12565869_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Feb\\/08 20:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-05T20:26:47+0000\'\u003e05\\/Feb\\/08 20:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWhy does ResourceAdapter.cancelXATransaction() need to hold its synchronization for the lifetime of the call? It\'s explicitly called out in the javadoc and comments in this issue, but I don\'t see any reason for it. The rollback could take some time, and during that time any other global transaction work that needs the ResourceAdapter will be blocked.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12565869_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12565869_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Feb\\/08 20:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-05T20:26:47+0000\'\u003e05\\/Feb\\/08 20:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Why does ResourceAdapter.cancelXATransaction() need to hold its synchronization for the lifetime of the call? It\'s explicitly called out in the javadoc and comments in this issue, but I don\'t see any reason for it. The rollback could take some time, and during that time any other global transaction work that needs the ResourceAdapter will be blocked.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12565938\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12565938&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12565938\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12565938_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12565938_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Feb\\/08 23:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-05T23:02:20+0000\'\u003e05\\/Feb\\/08 23:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSome nits:\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003etypo in new error message (J135): beeing -&gt; being\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003einconsistent use of tabs\\/spaces in the new methods in ResourceAdapter, ResourceAdapterImpl and XADatabase\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eunnecessary whitespace diff (adding trailing spaces) in XATransactionState.java, chunk @@ -200,8 +199,7 @@.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12565938_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12565938_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Feb\\/08 23:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-05T23:02:20+0000\'\u003e05\\/Feb\\/08 23:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Some nits: \\n\\n \\n\\t typo in new error message (J135): beeing -&gt; being \\n \\n\\n\\n \\n\\t inconsistent use of tabs\\/spaces in the new methods in ResourceAdapter, ResourceAdapterImpl and XADatabase \\n \\n\\n\\n \\n\\t unnecessary whitespace diff (adding trailing spaces) in XATransactionState.java, chunk @@ -200,8 +199,7 @@. \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12567044\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12567044&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12567044\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12567044_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12567044_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Feb\\/08 14:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-08T14:08:37+0000\'\u003e08\\/Feb\\/08 14:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDan, Knut: Thanks for catching this. I fixed all of those. I ran all the testing again without failures.\u003c\\/p\u003e\\n\\n\u003cp\u003eYes, it might be possible to run just the XATransactionTest since no other test is using the changed code but just for sure I ran all of them again.\u003c\\/p\u003e\\n\\n\u003cp\u003eAttaching the latest patch...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12567044_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12567044_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Feb\\/08 14:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-08T14:08:37+0000\'\u003e08\\/Feb\\/08 14:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Dan, Knut: Thanks for catching this. I fixed all of those. I ran all the testing again without failures. \\n\\n Yes, it might be possible to run just the XATransactionTest since no other test is using the changed code but just for sure I ran all of them again. \\n\\n Attaching the latest patch...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12569895\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12569895&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12569895\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12569895_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12569895_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Feb\\/08 13:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-18T13:32:43+0000\'\u003e18\\/Feb\\/08 13:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCan somebody commit this patch if there are no objections?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12569895_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12569895_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Feb\\/08 13:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-18T13:32:43+0000\'\u003e18\\/Feb\\/08 13:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Can somebody commit this patch if there are no objections?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12570673\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12570673&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12570673\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12570673_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12570673_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Feb\\/08 12:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-20T12:49:47+0000\'\u003e20\\/Feb\\/08 12:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIt seems like Dan\'s comment from 05\\/Feb\\/08 12:19 PM hasn\'t been addressed.\u003c\\/p\u003e\\n\\n\u003cp\u003eResourceAdapterImpl.cancelXATransaction() calls findConnection() twice. Is that intentional?\u003c\\/p\u003e\\n\\n\u003cp\u003eIs the comment about synchronization in ResourceAdapter.cancelXATransaction() still valid in the latest patch?\u003c\\/p\u003e\\n\\n\u003cp\u003eCould you comment on why you call DatabasePropertyTestSetup.setLockTimeouts() in XATransactionTest.suite()? As far as I can see, the timeout values specified (20 sec deadlock, 60 sec wait) are the same as the default values, so it doesn\'t change anything.\u003c\\/p\u003e\\n\\n\u003cp\u003eTiny nit: assertTrue(xaConn\u003cspan class=\\\"error\\\"\u003e&#91;i&#93;\u003c\\/span\u003e != null) could be replaced with assertNotNull(xaConn\u003cspan class=\\\"error\\\"\u003e&#91;i&#93;\u003c\\/span\u003e).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12570673_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12570673_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Feb\\/08 12:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-20T12:49:47+0000\'\u003e20\\/Feb\\/08 12:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    It seems like Dan\'s comment from 05\\/Feb\\/08 12:19 PM hasn\'t been addressed. \\n\\n ResourceAdapterImpl.cancelXATransaction() calls findConnection() twice. Is that intentional? \\n\\n Is the comment about synchronization in ResourceAdapter.cancelXATransaction() still valid in the latest patch? \\n\\n Could you comment on why you call DatabasePropertyTestSetup.setLockTimeouts() in XATransactionTest.suite()? As far as I can see, the timeout values specified (20 sec deadlock, 60 sec wait) are the same as the default values, so it doesn\'t change anything. \\n\\n Tiny nit: assertTrue(xaConn &#91;i&#93;  != null) could be replaced with assertNotNull(xaConn &#91;i&#93; ).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12587089\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12587089&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12587089\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12587089_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12587089_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Apr\\/08 08:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-04-09T08:12:27+0000\'\u003e09\\/Apr\\/08 08:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching derby-2871-NOT_FOR_COMMIT.diff where I have tried to address the latest review comments, (and which applies cleanly to the current trunk). With the new patch I can run XATransactionTest by itself, but when running as part of suites.All it fails with a lock timeout on line 233 or 234. I\'m not sure how best to modify the test to achieve the intended effect, so I have uploaded a preliminary patch for people to comment on.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12587089_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12587089_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Apr\\/08 08:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-04-09T08:12:27+0000\'\u003e09\\/Apr\\/08 08:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching derby-2871-NOT_FOR_COMMIT.diff where I have tried to address the latest review comments, (and which applies cleanly to the current trunk). With the new patch I can run XATransactionTest by itself, but when running as part of suites.All it fails with a lock timeout on line 233 or 234. I\'m not sure how best to modify the test to achieve the intended effect, so I have uploaded a preliminary patch for people to comment on.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12587161\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12587161&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12587161\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12587161_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12587161_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Apr\\/08 12:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-04-09T12:17:36+0000\'\u003e09\\/Apr\\/08 12:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDyre, thanks for working on this.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis is due the SetTransactionIsolationTest in jdbcapi test package sets the derby.locks.waitTimeout and derby.locks.deadLockTimeout to 3 which is not restored back to default. Afterwards, the xaTransactionTimeout test runs with a lock timeout to be smaller than an xa transaction timeout so the select on line 233 which checks that the locks are released has a smaller timeout than transactions them self. That\'s why I changed those properties to default values in the previous patches.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think that if you use DatabasePropertyTestSetup.setLockTimeouts to setup timeouts in \\\"suite\\\" method the test will stop failing.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe mistakes I made in my last patch are stupid and are done mostly because I have not spend required time on those changes. I have a patch prepared for this for some time now but wanted to spend more time to review that I addressed all the comments. Your patch looks good to me - you performed some more cleanups in the test (removed unnecessary Assert class when calling assert functions).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"julo\\\" id=\\\"commentauthor_12587161_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=julo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"julo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Julius Stroffek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12587161_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Apr\\/08 12:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-04-09T12:17:36+0000\'\u003e09\\/Apr\\/08 12:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Dyre, thanks for working on this. \\n\\n This is due the SetTransactionIsolationTest in jdbcapi test package sets the derby.locks.waitTimeout and derby.locks.deadLockTimeout to 3 which is not restored back to default. Afterwards, the xaTransactionTimeout test runs with a lock timeout to be smaller than an xa transaction timeout so the select on line 233 which checks that the locks are released has a smaller timeout than transactions them self. That\'s why I changed those properties to default values in the previous patches. \\n\\n I think that if you use DatabasePropertyTestSetup.setLockTimeouts to setup timeouts in \\\"suite\\\" method the test will stop failing. \\n\\n The mistakes I made in my last patch are stupid and are done mostly because I have not spend required time on those changes. I have a patch prepared for this for some time now but wanted to spend more time to review that I addressed all the comments. Your patch looks good to me - you performed some more cleanups in the test (removed unnecessary Assert class when calling assert functions).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12587191\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12587191&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12587191\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12587191_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12587191_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Apr\\/08 13:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-04-09T13:42:06+0000\'\u003e09\\/Apr\\/08 13:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for the feedback, Julius. I know that you have other stuff on your plate these days. \u003c\\/p\u003e\\n\\n\u003cp\u003eI see now why the lock timeouts had to be set back to the defaults in the suite method. I\'ll put that back and add a comment explaining why it is done that way.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12587191_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12587191_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Apr\\/08 13:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-04-09T13:42:06+0000\'\u003e09\\/Apr\\/08 13:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for the feedback, Julius. I know that you have other stuff on your plate these days.  \\n\\n I see now why the lock timeouts had to be set back to the defaults in the suite method. I\'ll put that back and add a comment explaining why it is done that way.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12587303\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12587303&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12587303\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12587303_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12587303_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Apr\\/08 18:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-04-09T18:54:42+0000\'\u003e09\\/Apr\\/08 18:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching a new patch (derby-2971.v2.diff) which re-enables the lock timeout setting. With this patch I could run the entire jdbcapi suite without failures.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12587303_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12587303_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Apr\\/08 18:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-04-09T18:54:42+0000\'\u003e09\\/Apr\\/08 18:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching a new patch (derby-2971.v2.diff) which re-enables the lock timeout setting. With this patch I could run the entire jdbcapi suite without failures.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12587884\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2871?focusedCommentId=12587884&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12587884\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12587884_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12587884_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Apr\\/08 08:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-04-11T08:40:26+0000\'\u003e11\\/Apr\\/08 08:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommitted revision 647078.\u003c\\/p\u003e\\n\\n\u003cp\u003e(derbyall and suites.All both ran without failures)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12587884_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12587884_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Apr\\/08 08:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-04-11T08:40:26+0000\'\u003e11\\/Apr\\/08 08:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Committed revision 647078. \\n\\n (derbyall and suites.All both ran without failures)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="10594";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=10594&amp;avatarId=10122\\\" alt=\\\"Derby\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\"\u003eDerby\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520239045136"> 
    <input type="hidden" title="jira.request.server.time" value="219"> 
    <input type="hidden" title="jira.request.id" value="517x94376753x4"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="4"> 
    <input type="hidden" title="db.reads.time.in.ms" value="40"> 
    <input type="hidden" title="db.conns.time.in.ms" value="46"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 517x94376753x4
	          REQUEST TIMESTAMP : [05/Mar/2018:08:37:25 +0000]
	               REQUEST TIME : 0.2190
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 4

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=19, elapsedTotal=40810131, elapsedMin=507087, elapsedMax=13190125, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=23, elapsedTotal=46399223, elapsedMin=525079, elapsedMax=13247918, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>