<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|b0217337ad7af1de5df492894aecd7137b4171af|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"6cb8f025f56bf\"";
WRM._unparsedData["project-id"]="10594";
WRM._unparsedData["project-key"]="\"DERBY\"";
WRM._unparsedData["project-name"]="\"Derby\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="10594";
WRM._unparsedData["projectKey"]="\"DERBY\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="DERBY-1516"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[DERBY-1516] Inconsistent behavior for getBytes and getSubString for embedded versus network - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[DERBY-1516] Inconsistent behavior for getBytes and getSubString for embedded versus network - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/DERBY" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-1516">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="10594" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Derby'" src="https://issues.apache.org/jira/secure/projectavatar?pid=10594&amp;avatarId=10122"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/DERBY">Derby</a></li>
                 <li><a class="issue-link" data-issue-key="DERBY-1516" href="/jira/browse/DERBY-1516" id="key-val" rel="12346058">DERBY-1516</a></li>
                </ol>
                <h1 id="summary-val">Inconsistent behavior for getBytes and getSubString for embedded versus network</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-1516"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/DERBY-1516/DERBY-1516.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/DERBY-1516/DERBY-1516.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/DERBY-1516/DERBY-1516.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/DERBY-1516/DERBY-1516.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/minor.svg" title="Minor - Minor loss of function, or other problem where easy workaround is present." width="16"> Minor </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> None </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.2.1.6" title="10.2.1.6 ">10.2.1.6</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+component+%3D+JDBC" title="JDBC ">JDBC</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12346058-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>org.apache.derby.client.am.Clob.getSubString(pos, length) and org.apache.derby.client.am.Blob.getBytes(pos, length) check the length for less than zero. </p> 
                  <p> if ((pos &lt;= 0) || (length &lt; 0)) {<br> throw new SqlException(agent_.logWriter_, "Invalid position " + pos + " or length " + length);</p> 
                  <p>But org.apache.derby.impl.jdbc.EmbedClob(pos, length) and org.apache.derby.impl.jdbc.EmbedBlob(pos, length) check the length for less than or equal to zero.</p> 
                  <p> if (length &lt;= 0)<br> throw Util.generateCsSQLException(<br> SQLState.BLOB_NONPOSITIVE_LENGTH, new Integer(length));</p> 
                  <p>The specification does not disallow length of zero, so zero length should be allowed. I believe that the implementation in org.apache.derby.client.am is correct, and the implementation in org.apache.derby.impl.jdbc is incorrect. </p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/DERBY-1516?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/DERBY-1516?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/DERBY-1516?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/DERBY-1516?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12338436" data-issue-id="12346058" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12338436/DERBY-1516.patch" draggable="true" data-downloadurl="text/plain:DERBY-1516.patch:https://issues.apache.org/jira/secure/attachment/12338436/DERBY-1516.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12338436/DERBY-1516.patch" title="Latest  09/Aug/06 01:38 - Craig L Russell" draggable="true" data-downloadurl="text/plain:DERBY-1516.patch:https://issues.apache.org/jira/secure/attachment/12338436/DERBY-1516.patch">DERBY-1516.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-08-09T01:38:59.000Z">09/Aug/06 01:38</time>
                   </dd>
                   <dd class="attachment-size">
                    52 kB
                   </dd>
                   <dd class="attachment-author">
                    Craig L Russell
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12338401" data-issue-id="12346058" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12338401/DERBY-1516.patch" draggable="true" data-downloadurl="text/plain:DERBY-1516.patch:https://issues.apache.org/jira/secure/attachment/12338401/DERBY-1516.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12338401/DERBY-1516.patch" title=" 08/Aug/06 17:11 - Craig L Russell" draggable="true" data-downloadurl="text/plain:DERBY-1516.patch:https://issues.apache.org/jira/secure/attachment/12338401/DERBY-1516.patch">DERBY-1516.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-08-08T17:11:59.000Z">08/Aug/06 17:11</time>
                   </dd>
                   <dd class="attachment-size">
                    45 kB
                   </dd>
                   <dd class="attachment-author">
                    Craig L Russell
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12338107" data-issue-id="12346058" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12338107/DERBY-1516.patch" draggable="true" data-downloadurl="text/plain:DERBY-1516.patch:https://issues.apache.org/jira/secure/attachment/12338107/DERBY-1516.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12338107/DERBY-1516.patch" title=" 03/Aug/06 23:25 - Craig L Russell" draggable="true" data-downloadurl="text/plain:DERBY-1516.patch:https://issues.apache.org/jira/secure/attachment/12338107/DERBY-1516.patch">DERBY-1516.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-08-03T23:25:35.000Z">03/Aug/06 23:25</time>
                   </dd>
                   <dd class="attachment-size">
                    51 kB
                   </dd>
                   <dd class="attachment-author">
                    Craig L Russell
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12338042" data-issue-id="12346058" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12338042/DERBY-1516.patch" draggable="true" data-downloadurl="text/plain:DERBY-1516.patch:https://issues.apache.org/jira/secure/attachment/12338042/DERBY-1516.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12338042/DERBY-1516.patch" title=" 03/Aug/06 05:49 - Craig L Russell" draggable="true" data-downloadurl="text/plain:DERBY-1516.patch:https://issues.apache.org/jira/secure/attachment/12338042/DERBY-1516.patch">DERBY-1516.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-08-03T05:49:12.000Z">03/Aug/06 05:49</time>
                   </dd>
                   <dd class="attachment-size">
                    53 kB
                   </dd>
                   <dd class="attachment-author">
                    Craig L Russell
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12337824" data-issue-id="12346058" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12337824/DERBY-1516.patch" draggable="true" data-downloadurl="text/plain:DERBY-1516.patch:https://issues.apache.org/jira/secure/attachment/12337824/DERBY-1516.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12337824/DERBY-1516.patch" title=" 31/Jul/06 18:34 - Craig L Russell" draggable="true" data-downloadurl="text/plain:DERBY-1516.patch:https://issues.apache.org/jira/secure/attachment/12337824/DERBY-1516.patch">DERBY-1516.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-07-31T18:34:43.000Z">31/Jul/06 18:34</time>
                   </dd>
                   <dd class="attachment-size">
                    6 kB
                   </dd>
                   <dd class="attachment-author">
                    Craig L Russell
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12337752" data-issue-id="12346058" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12337752/DERBY-1516.patch" draggable="true" data-downloadurl="text/plain:DERBY-1516.patch:https://issues.apache.org/jira/secure/attachment/12337752/DERBY-1516.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12337752/DERBY-1516.patch" title=" 29/Jul/06 18:59 - Craig L Russell" draggable="true" data-downloadurl="text/plain:DERBY-1516.patch:https://issues.apache.org/jira/secure/attachment/12337752/DERBY-1516.patch">DERBY-1516.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-07-29T18:59:32.000Z">29/Jul/06 18:59</time>
                   </dd>
                   <dd class="attachment-size">
                    5 kB
                   </dd>
                   <dd class="attachment-author">
                    Craig L Russell
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12336972" data-issue-id="12346058" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12336972/DERBY-1516.patch" draggable="true" data-downloadurl="text/plain:DERBY-1516.patch:https://issues.apache.org/jira/secure/attachment/12336972/DERBY-1516.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12336972/DERBY-1516.patch" title=" 16/Jul/06 20:11 - Craig L Russell" draggable="true" data-downloadurl="text/plain:DERBY-1516.patch:https://issues.apache.org/jira/secure/attachment/12336972/DERBY-1516.patch">DERBY-1516.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-07-16T20:11:43.000Z">16/Jul/06 20:11</time>
                   </dd>
                   <dd class="attachment-size">
                    1 kB
                   </dd>
                   <dd class="attachment-author">
                    Craig L Russell
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is part of">
                   is part of
                  </dt> 
                  <dd id="internal-32841_12310010"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="DERBY-310: Document and/or change Derby client code to match behavior with Embedded driver where possible."> <a href="/jira/browse/DERBY-310" data-issue-key="DERBY-310" class="issue-link link-title resolution">DERBY-310</a> <span class="link-summary">Document and/or change Derby client code to match behavior with Embedded driver where possible.</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/minor.svg" width="16" height="16" title="Minor - Minor loss of function, or other problem where easy workaround is present." alt="Minor - Minor loss of function, or other problem where easy workaround is present."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="is related to">
                   is related to
                  </dt> 
                  <dd id="internal-12347932_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-1691: jdbcapi/blobclob4BLOB.java fails under DerbyNet framework with JCC 2.6"> <a href="/jira/browse/DERBY-1691" data-issue-key="DERBY-1691" class="issue-link link-title resolution">DERBY-1691</a> <span class="link-summary">jdbcapi/blobclob4BLOB.java fails under DerbyNet framework with JCC 2.6</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12346951_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="DERBY-1615: Rewrite the Clob implementation in the client driver"> <a href="/jira/browse/DERBY-1615" data-issue-key="DERBY-1615" class="issue-link link-title resolution">DERBY-1615</a> <span class="link-summary">Rewrite the Clob implementation in the client driver</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_clr" rel="clr" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Craig L Russell&quot;,&quot;emailAddress&quot;:&quot;clr@apache.org&quot;,&quot;username&quot;:&quot;clr&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="clr"></span></span> Craig L Russell </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_clr" rel="clr" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Craig L Russell&quot;,&quot;emailAddress&quot;:&quot;clr@apache.org&quot;,&quot;username&quot;:&quot;clr&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="clr"></span></span> Craig L Russell </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">1</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="16/Jul/06 20:09"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2006-07-16T20:09:58+0000">16/Jul/06 20:09</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="21/Jan/11 18:08"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2011-01-21T18:08:42+0000">21/Jan/11 18:08</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="11/Aug/06 16:49"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2006-08-11T16:49:22+0000">11/Aug/06 16:49</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-1516?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-1516?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-1516?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-1516?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-1516?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-1516?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-1516?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-1516?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/DERBY-1516?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-1516?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-1516?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/DERBY-1516?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12421470\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12421470&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12421470\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12421470_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12421470_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jul\\/06 20:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-16T20:11:43+0000\'\u003e16\\/Jul\\/06 20:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe attached patch is against Derby 10.1. A similar patch should work for the current code base.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12421470_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12421470_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jul\\/06 20:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-16T20:11:43+0000\'\u003e16\\/Jul\\/06 20:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The attached patch is against Derby 10.1. A similar patch should work for the current code base.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12424307\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12424307&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12424307\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12424307_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12424307_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jul\\/06 18:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-29T18:59:32+0000\'\u003e29\\/Jul\\/06 18:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis patch applies to the trunk. I\'ve updated the tests and canon for this change as well. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12424307_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12424307_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jul\\/06 18:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-29T18:59:32+0000\'\u003e29\\/Jul\\/06 18:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This patch applies to the trunk. I\'ve updated the tests and canon for this change as well.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12424444\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12424444&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12424444\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12424444_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12424444_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/06 21:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-30T21:29:16+0000\'\u003e30\\/Jul\\/06 21:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Craig for the patch and thanks for volunteering for 10.2.  You bring us up to 43 contributors.  I hope we make 50  #\u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e The code change looks good.\u003c\\/p\u003e\\n\\n\u003cp\u003eFor the test \u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eI  think  it would be good  to test both 0 and -1 length.\u003c\\/li\u003e\\n\\t\u003cli\u003eI think we need a  full derbyall run with the patch in case other tests are affected.   I noticed with DerbyNetClient framework the blobclob4BLOB test fails with\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e753 del\u003cbr\\/\u003e\\n&lt; EXPECTED SQLSTATE(XJ071): Zero or negative length argument \'-76\' passed in a BLOB or CLOB method.\u003cbr\\/\u003e\\n753a753,754\u003cbr\\/\u003e\\n&gt; EXPECTED SQLSTATE(XJ071): Negative length argument \'-76\' passed in a BLOB or CLOB method.\u003cbr\\/\u003e\\n&gt; EXPECTED SQLSTATE(XJ071): Negative length argument \'-1\' passed in a BLOB or CLOB method.\u003cbr\\/\u003e\\nTest Failed.\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003e\\n\\t\u003cul\u003e\\n\\t\\t\u003cli\u003e\\n\\t\\t\u003cul\u003e\\n\\t\\t\\t\u003cli\u003eEnd:   blobclob4BLOB jdk1.4.2_07 DerbyNetClient 2006-07-30 14:14:40 ***\u003c\\/li\u003e\\n\\t\\t\u003c\\/ul\u003e\\n\\t\\t\u003c\\/li\u003e\\n\\t\u003c\\/ul\u003e\\n\\t\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eI think the output is expected but the master needs to be updated, which is a necessary pain with our diff based harness.\u003c\\/p\u003e\\n\\n\u003cp\u003eI see the following  masters for blobclob4BLOB\u003cbr\\/\u003e\\n.\\/blobclob4BLOB.out\u003cbr\\/\u003e\\n.\\/DerbyNet\\/blobclob4BLOB.out\u003cbr\\/\u003e\\n.\\/DerbyNetClient\\/blobclob4BLOB.out\u003c\\/p\u003e\\n\\n\u003cp\u003eFor DerbyNet some folks don\'t test with that framework.  If you don\'t please just make a not when you submit the patch that there is a master there that may need to be updated.  Also please assign yourself if you are working actively on this issue.  It is always confusing when there are patches on unassigned issues because it is not really clear whether the patch author intends to pursue the fix furthur.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks\u003c\\/p\u003e\\n\\n\u003cp\u003eKathey\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12424444_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12424444_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/06 21:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-30T21:29:16+0000\'\u003e30\\/Jul\\/06 21:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks Craig for the patch and thanks for volunteering for 10.2.  You bring us up to 43 contributors.  I hope we make 50  #  \\n\\n  The code change looks good. \\n\\n For the test  \\n \\n\\t I  think  it would be good  to test both 0 and -1 length. \\n\\t I think we need a  full derbyall run with the patch in case other tests are affected.   I noticed with DerbyNetClient framework the blobclob4BLOB test fails with \\n \\n\\n\\n 753 del \\n&lt; EXPECTED SQLSTATE(XJ071): Zero or negative length argument \'-76\' passed in a BLOB or CLOB method. \\n753a753,754 \\n&gt; EXPECTED SQLSTATE(XJ071): Negative length argument \'-76\' passed in a BLOB or CLOB method. \\n&gt; EXPECTED SQLSTATE(XJ071): Negative length argument \'-1\' passed in a BLOB or CLOB method. \\nTest Failed. \\n \\n\\t \\n\\t \\n\\t\\t \\n\\t\\t \\n\\t\\t\\t End:   blobclob4BLOB jdk1.4.2_07 DerbyNetClient 2006-07-30 14:14:40 *** \\n\\t\\t \\n\\t\\t \\n\\t \\n\\t \\n \\n\\n\\n I think the output is expected but the master needs to be updated, which is a necessary pain with our diff based harness. \\n\\n I see the following  masters for blobclob4BLOB \\n.\\/blobclob4BLOB.out \\n.\\/DerbyNet\\/blobclob4BLOB.out \\n.\\/DerbyNetClient\\/blobclob4BLOB.out \\n\\n For DerbyNet some folks don\'t test with that framework.  If you don\'t please just make a not when you submit the patch that there is a master there that may need to be updated.  Also please assign yourself if you are working actively on this issue.  It is always confusing when there are patches on unassigned issues because it is not really clear whether the patch author intends to pursue the fix furthur. \\n\\n Thanks \\n\\n Kathey              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12424448\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12424448&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12424448\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12424448_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12424448_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/06 22:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-30T22:31:10+0000\'\u003e30\\/Jul\\/06 22:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Kathey,\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks for the feedback on the patch. A few notes:\u003c\\/p\u003e\\n\\n\u003cp\u003e1. I\'ve added myself to the derby-developers list so I can assign the issue to myself.\u003cbr\\/\u003e\\n2. The differences in the master blobclob4BLOB.out files shows the inconsistency of the behaviors quite nicely.\u003cbr\\/\u003e\\n3. I can update the master blobclob4BLOB.out files once we agree what we should test. What I understand from you is that you would like to see lengths of 0, -1, and -76 tested, and the master files updated. But the tests in question clobTest6 and blobTest6 are negative tests that look for exceptions. It\'s not clear to me that the test for 0 (which works for the network case) should be tested here.\u003cbr\\/\u003e\\n4. I noticed an unusual comment in clobTest6:\u003cbr\\/\u003e\\n            \\/\\/ 0 or negative position value\u003cbr\\/\u003e\\n                        if (isDerbyNet)\u003cbr\\/\u003e\\n                                System.out.println(\\\" negative tests for clob.getSubstring won\'t run  for network server  until 5243 is fixed\\\");\u003cbr\\/\u003e\\nCan you translate this? What\'s a 5243? \u003c\\/p\u003e\\n\\n\u003cp\u003eThanks,\u003c\\/p\u003e\\n\\n\u003cp\u003eCraig\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12424448_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12424448_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/06 22:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-30T22:31:10+0000\'\u003e30\\/Jul\\/06 22:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Kathey, \\n\\n Thanks for the feedback on the patch. A few notes: \\n\\n 1. I\'ve added myself to the derby-developers list so I can assign the issue to myself. \\n2. The differences in the master blobclob4BLOB.out files shows the inconsistency of the behaviors quite nicely. \\n3. I can update the master blobclob4BLOB.out files once we agree what we should test. What I understand from you is that you would like to see lengths of 0, -1, and -76 tested, and the master files updated. But the tests in question clobTest6 and blobTest6 are negative tests that look for exceptions. It\'s not clear to me that the test for 0 (which works for the network case) should be tested here. \\n4. I noticed an unusual comment in clobTest6: \\n            \\/\\/ 0 or negative position value \\n                        if (isDerbyNet) \\n                                System.out.println(\\\" negative tests for clob.getSubstring won\'t run  for network server  until 5243 is fixed\\\"); \\nCan you translate this? What\'s a 5243?  \\n\\n Thanks, \\n\\n Craig              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12424599\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12424599&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12424599\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12424599_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12424599_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Jul\\/06 18:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-31T18:34:43+0000\'\u003e31\\/Jul\\/06 18:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'ve updated the patch with changes to the master\\/DerbyNetClient\\/blobclob4BLOB.out canon.\u003c\\/p\u003e\\n\\n\u003cp\u003eI did not update master\\/DerbyNet\\/blobclob4BLOB.out canon because this canon seems out of date wrt the code. If this is incorrect, please let me know.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12424599_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12424599_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Jul\\/06 18:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-31T18:34:43+0000\'\u003e31\\/Jul\\/06 18:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'ve updated the patch with changes to the master\\/DerbyNetClient\\/blobclob4BLOB.out canon. \\n\\n I did not update master\\/DerbyNet\\/blobclob4BLOB.out canon because this canon seems out of date wrt the code. If this is incorrect, please let me know.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12424636\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12424636&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12424636\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12424636_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12424636_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Jul\\/06 20:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-31T20:15:56+0000\'\u003e31\\/Jul\\/06 20:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Craig for updating the masters.  \u003c\\/p\u003e\\n\\n\u003cp\u003eI thiink it is really neat how specifying the patch of the same name grays out the old patches but they are still available, seems like a great way to keep our reworked patches organized. \u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eI still think it would be good to add some 0 length test cases before we enable it to make sure behaviour is consistent between the two drivers.   Linking to derby-dev discussion\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e\u003ca href=\\\"http:\\/\\/www.nabble.com\\/Re%3A--jira--Commented%3A-%28DERBY-1516%29-Inconsistent-behavior-for-getBytes-and-getSubString-for-embedded-versus-network-p5577797.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/www.nabble.com\\/Re%3A--jira--Commented%3A-%28DERBY-1516%29-Inconsistent-behavior-for-getBytes-and-getSubString-for-embedded-versus-network-p5577797.html\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eI am not sure if the two drivers are consistent in this regard or what the behavior is.\u003c\\/p\u003e\\n\\n\u003cp\u003eKathey\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12424636_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12424636_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Jul\\/06 20:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-31T20:15:56+0000\'\u003e31\\/Jul\\/06 20:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks Craig for updating the masters.   \\n\\n I thiink it is really neat how specifying the patch of the same name grays out the old patches but they are still available, seems like a great way to keep our reworked patches organized.  \\n\\n \\n\\t I still think it would be good to add some 0 length test cases before we enable it to make sure behaviour is consistent between the two drivers.   Linking to derby-dev discussion \\n \\n\\n\\n  http:\\/\\/www.nabble.com\\/Re%3A--jira--Commented%3A-%28DERBY-1516%29-Inconsistent-behavior-for-getBytes-and-getSubString-for-embedded-versus-network-p5577797.html  \\n\\n I am not sure if the two drivers are consistent in this regard or what the behavior is. \\n\\n Kathey              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12424673\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12424673&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12424673\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12424673_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12424673_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Jul\\/06 21:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-31T21:54:39+0000\'\u003e31\\/Jul\\/06 21:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIncluding the discussion from the alias referenced immediately above:\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;&gt; One interesting test with 0 length is the case for getSubString(1,0) \u003cbr\\/\u003e\\n&gt;&gt; for a zero length lob. \u003cbr\\/\u003e\\n&gt;&gt; Should it throw an exception or return a zero length string? \u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;The API working doesn\'t give much help to resolve this; the wording for the exception in JDK 1.6 is \u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; Throws: \u003cbr\\/\u003e\\n&gt;    SQLException - if there is an error accessing the CLOB value \u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; which I guess is equivalent to YMMV... A case for Lance? \u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; Even if this case is allowed, should it make a difference if position is &gt; (length+1), e.g. getSubString(2,0) for an empty CLOB? \u003c\\/p\u003e\\n\\n\u003cp\u003eLance has not replied to a request to update the wording, and I think time is running out on this to be added to the specification in progress.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe jdbc spec has followed the java.lang.String spec pretty closely, modulo 1-origin vs. 0-origin indexing. The String spec allows accessing substrings of a 0-length string, as follows:\u003c\\/p\u003e\\n\\n\u003cp\u003epublic String substring(int beginIndex,\u003cbr\\/\u003e\\n                        int endIndex)\u003cbr\\/\u003e\\nReturns a new string that is a substring of this string. The substring begins at the specified beginIndex and extends to the character at index endIndex - 1. Thus the length of the substring is endIndex-beginIndex...\u003cbr\\/\u003e\\nIndexOutOfBoundsException - if the beginIndex is negative, or endIndex is larger than the length of this String object, or beginIndex is larger than endIndex.\u003c\\/p\u003e\\n\\n\u003cp\u003eFor a zero-length String:\u003cbr\\/\u003e\\n1. endIndex must be 0 or else endIndex would be larger than the length of the String;\u003cbr\\/\u003e\\n2. beginIndex must be 0 or else beginIndex would be larger than endIndex.\u003c\\/p\u003e\\n\\n\u003cp\u003eTranslating this to jdbc, for a zero-length Clob:\u003cbr\\/\u003e\\n1. position must be 1;\u003cbr\\/\u003e\\n2. length must be 0.\u003c\\/p\u003e\\n\\n\u003cp\u003eI agree we should add positive test cases to extract a zero-length substring from a Clob and Blob. \u003c\\/p\u003e\\n\\n\u003cp\u003eI propose adding to clobTest2 and blobTest2 a test like: \u003cbr\\/\u003e\\nblobclob4BLOB.printInterval(clob, 1, 0, 7, i, clobLength) \\/\\/ zero length\u003cbr\\/\u003e\\nblobclob4BLOB.printInterval(blob, 1, 0, 7, i, blobLength) \\/\\/ zero length\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12424673_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12424673_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Jul\\/06 21:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-31T21:54:39+0000\'\u003e31\\/Jul\\/06 21:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Including the discussion from the alias referenced immediately above: \\n\\n &gt;&gt; One interesting test with 0 length is the case for getSubString(1,0)  \\n&gt;&gt; for a zero length lob.  \\n&gt;&gt; Should it throw an exception or return a zero length string?  \\n\\n &gt;The API working doesn\'t give much help to resolve this; the wording for the exception in JDK 1.6 is  \\n\\n &gt; Throws:  \\n&gt;    SQLException - if there is an error accessing the CLOB value  \\n\\n &gt; which I guess is equivalent to YMMV... A case for Lance?  \\n\\n &gt; Even if this case is allowed, should it make a difference if position is &gt; (length+1), e.g. getSubString(2,0) for an empty CLOB?  \\n\\n Lance has not replied to a request to update the wording, and I think time is running out on this to be added to the specification in progress. \\n\\n The jdbc spec has followed the java.lang.String spec pretty closely, modulo 1-origin vs. 0-origin indexing. The String spec allows accessing substrings of a 0-length string, as follows: \\n\\n public String substring(int beginIndex, \\n                        int endIndex) \\nReturns a new string that is a substring of this string. The substring begins at the specified beginIndex and extends to the character at index endIndex - 1. Thus the length of the substring is endIndex-beginIndex... \\nIndexOutOfBoundsException - if the beginIndex is negative, or endIndex is larger than the length of this String object, or beginIndex is larger than endIndex. \\n\\n For a zero-length String: \\n1. endIndex must be 0 or else endIndex would be larger than the length of the String; \\n2. beginIndex must be 0 or else beginIndex would be larger than endIndex. \\n\\n Translating this to jdbc, for a zero-length Clob: \\n1. position must be 1; \\n2. length must be 0. \\n\\n I agree we should add positive test cases to extract a zero-length substring from a Clob and Blob.  \\n\\n I propose adding to clobTest2 and blobTest2 a test like:  \\nblobclob4BLOB.printInterval(clob, 1, 0, 7, i, clobLength) \\/\\/ zero length \\nblobclob4BLOB.printInterval(blob, 1, 0, 7, i, blobLength) \\/\\/ zero length              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12424850\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12424850&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12424850\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12424850_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12424850_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Aug\\/06 12:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-01T12:51:31+0000\'\u003e01\\/Aug\\/06 12:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe new positive cases sound fine to me. \u003c\\/p\u003e\\n\\n\u003cp\u003e If I understand all you wrote, you are saying that getSubstring(pos,0) where pos &gt; the length of the clob  should throw an exception for now while spec clarification is underway.  Is that correct?  If so,  that sounds good to me as it is always \u003cb\u003emuch\u003c\\/b\u003e easier to change an exception case to work in the future if need be.  What we want to avoid is a situation where something works and then we have to throw an exception later  to be compliant.  Can you add negative cases for this to make sure we are throwing an appropriate exception?  Then I think all the needed zero length cases will be covered.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eThanks\u003c\\/p\u003e\\n\\n\u003cp\u003eKathey\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12424850_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12424850_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Aug\\/06 12:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-01T12:51:31+0000\'\u003e01\\/Aug\\/06 12:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The new positive cases sound fine to me.  \\n\\n  If I understand all you wrote, you are saying that getSubstring(pos,0) where pos &gt; the length of the clob  should throw an exception for now while spec clarification is underway.  Is that correct?  If so,  that sounds good to me as it is always  much  easier to change an exception case to work in the future if need be.  What we want to avoid is a situation where something works and then we have to throw an exception later  to be compliant.  Can you add negative cases for this to make sure we are throwing an appropriate exception?  Then I think all the needed zero length cases will be covered. \\n\\n\\n Thanks \\n\\n Kathey \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12424887\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12424887&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12424887\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12424887_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12424887_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Aug\\/06 14:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-01T14:54:13+0000\'\u003e01\\/Aug\\/06 14:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for the feedback. I\'ll make some positive and negative test cases and update the patch.\u003c\\/p\u003e\\n\\n\u003cp\u003eYes, I\'m suggesting that we follow the java.lang.String specification and allow for zero-length getSubString only if the position is legal. This is so there\'s no special if (length == 0) \u003c\\/p\u003e\\n{ \\/\\/ ignore position for 0-length ...}\\n\u003cp\u003e. It actually simplifies development.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12424887_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12424887_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Aug\\/06 14:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-01T14:54:13+0000\'\u003e01\\/Aug\\/06 14:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for the feedback. I\'ll make some positive and negative test cases and update the patch. \\n\\n Yes, I\'m suggesting that we follow the java.lang.String specification and allow for zero-length getSubString only if the position is legal. This is so there\'s no special if (length == 0)  \\n{ \\/\\/ ignore position for 0-length ...}\\n . It actually simplifies development.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12425340\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12425340&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12425340\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12425340_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12425340_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Aug\\/06 18:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-02T18:48:45+0000\'\u003e02\\/Aug\\/06 18:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThere is different behavior between embedded and network in other areas as well as the one I\'m looking at here. I\'d like to see what people think about this as well. It\'s hard to add test cases for zero-length requests without rationalizing the current behavior.\u003c\\/p\u003e\\n\\n\u003cp\u003e1. Both embedded and network do not return an error but truncate the result when going past the end of the Clob. That is, ask a Clob with length 25 for 50 characters starting at position 1 and get 26 characters and no exception.\u003c\\/p\u003e\\n\\n\u003cp\u003eProposal: Leave this behavior; we would need to add a new message, since the current message \\\"SQLSTATE(XJ076): The position argument \'5,910\' exceeds the size of the BLOB\\/CLOB\\\" cannot be used to describe running off the end of the Clob. I\'d like to see this changed in future, to match the java.lang.String behavior, but this is a compatibility issue (existing applications might depend on this behavior).\u003c\\/p\u003e\\n\\n\u003cp\u003e2. Different behavior for zero-length Clobs:\u003cbr\\/\u003e\\nEmbedded Clob with zero length: throws an exception trying to get any non-zero length substring\u003cbr\\/\u003e\\nNetwork Clob with zero length throws an exception only if the position is not == 1.\u003c\\/p\u003e\\n\\n\u003cp\u003eProposal: Change Network to throw an exception on any request to get a non-zero length substring.\u003c\\/p\u003e\\n\\n\u003cp\u003eCraig\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12425340_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12425340_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Aug\\/06 18:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-02T18:48:45+0000\'\u003e02\\/Aug\\/06 18:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    There is different behavior between embedded and network in other areas as well as the one I\'m looking at here. I\'d like to see what people think about this as well. It\'s hard to add test cases for zero-length requests without rationalizing the current behavior. \\n\\n 1. Both embedded and network do not return an error but truncate the result when going past the end of the Clob. That is, ask a Clob with length 25 for 50 characters starting at position 1 and get 26 characters and no exception. \\n\\n Proposal: Leave this behavior; we would need to add a new message, since the current message \\\"SQLSTATE(XJ076): The position argument \'5,910\' exceeds the size of the BLOB\\/CLOB\\\" cannot be used to describe running off the end of the Clob. I\'d like to see this changed in future, to match the java.lang.String behavior, but this is a compatibility issue (existing applications might depend on this behavior). \\n\\n 2. Different behavior for zero-length Clobs: \\nEmbedded Clob with zero length: throws an exception trying to get any non-zero length substring \\nNetwork Clob with zero length throws an exception only if the position is not == 1. \\n\\n Proposal: Change Network to throw an exception on any request to get a non-zero length substring. \\n\\n Craig              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12425440\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12425440&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12425440\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12425440_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12425440_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/06 05:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-03T05:49:12+0000\'\u003e03\\/Aug\\/06 05:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis patch solves the discrepancy between the treatment of getBytes and getSubString where the requested length is zero. This makes up 2 lines of the patch, in the first 10 lines of EmbedBlob and EmbedClob. Most of the rest of the patch is testing.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ve updated embedded and network Lobs to consistently check validity of position requested. The position must be between 1 and the last position of the Lob. I\'ve added positive test cases for retrieving zero length byte[ ] and zero length Strings from position 1 and the last position of Blob and Clobs. \u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ve added negative test cases for retrieving zero length byte[ ] and String from position 0 and one past the end of the Blob and Clob.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ve changed the message regarding invalid length so that zero length is not mentioned as an error.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ve removed the code to disable tests that was put in because of issues 5243 and 5914. There is no longer any difference between the behavior of embedded and network drivers due to these issues. The canons for blobTest2, clobTest2, blobTest6, and clobTest6 are now the same for embedded and network.\u003c\\/p\u003e\\n\\n\u003cp\u003eI just had to reformat some of the test code which had random placement of beginning and ending braces, indentations, and try\\/catch formatting, and greater than 80 character lines. I removed commented-out code that represented the previous versions of clobTest2 and blobTest2.\u003c\\/p\u003e\\n\\n\u003cp\u003eI preserved the treatment of requests that started within the Lob but ran off the end. These cases still return a shorter result than requested, returning the last element of the Lob as the last element of the result. So there should be no backward compatibility issues. All the existing code will still work with this patch. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12425440_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12425440_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/06 05:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-03T05:49:12+0000\'\u003e03\\/Aug\\/06 05:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This patch solves the discrepancy between the treatment of getBytes and getSubString where the requested length is zero. This makes up 2 lines of the patch, in the first 10 lines of EmbedBlob and EmbedClob. Most of the rest of the patch is testing. \\n\\n I\'ve updated embedded and network Lobs to consistently check validity of position requested. The position must be between 1 and the last position of the Lob. I\'ve added positive test cases for retrieving zero length byte[ ] and zero length Strings from position 1 and the last position of Blob and Clobs.  \\n\\n I\'ve added negative test cases for retrieving zero length byte[ ] and String from position 0 and one past the end of the Blob and Clob. \\n\\n I\'ve changed the message regarding invalid length so that zero length is not mentioned as an error. \\n\\n I\'ve removed the code to disable tests that was put in because of issues 5243 and 5914. There is no longer any difference between the behavior of embedded and network drivers due to these issues. The canons for blobTest2, clobTest2, blobTest6, and clobTest6 are now the same for embedded and network. \\n\\n I just had to reformat some of the test code which had random placement of beginning and ending braces, indentations, and try\\/catch formatting, and greater than 80 character lines. I removed commented-out code that represented the previous versions of clobTest2 and blobTest2. \\n\\n I preserved the treatment of requests that started within the Lob but ran off the end. These cases still return a shorter result than requested, returning the last element of the Lob as the last element of the result. So there should be no backward compatibility issues. All the existing code will still work with this patch.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12425568\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12425568&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12425568\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12425568_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12425568_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/06 17:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-03T17:07:02+0000\'\u003e03\\/Aug\\/06 17:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIf you are modelling this on the java.lang.String modulo indexing, it\u003cbr\\/\u003e\\nseems to me that this is slightly wrong:\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"The position must be between 1 and the last position of the Lob\\\".\u003c\\/p\u003e\\n\\n\u003cp\u003eI think it should be \u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"The position must be between 1 and the last position + 1 of the Lob\\\",\u003cbr\\/\u003e\\ncf. this example which does not throw exceptions. In the substring of\u003cbr\\/\u003e\\nt2, the position is \u003cb\u003eone past\u003c\\/b\u003e the final position of the string, final\u003cbr\\/\u003e\\nposition being 0.\u003c\\/p\u003e\\n\\n\u003cp\u003e                String t1 = \\\"\\\";\u003cbr\\/\u003e\\n                String t2 = \\\"a\\\";\u003c\\/p\u003e\\n\\n\u003cp\u003e                String t3;\u003c\\/p\u003e\\n\\n\u003cp\u003e                try \u003c\\/p\u003e\\n{\\n                        System.out.println(\\\"t1.substring(0,0) = \'\\\" +\\n                                                           t1.substring(0,0) +  \\\"\'\\\");\\n                }\\n\u003cp\u003e catch (IndexOutOfBoundsException e) \u003c\\/p\u003e\\n{\\n                        System.out.println(\\\"t1.substring(0,0) throws\\\");\\n                }\\n\\n\u003cp\u003e                try \u003c\\/p\u003e\\n{\\n                        System.out.println(\\\"t2.substring(1,1) = \'\\\" +\\n                                                           t2.substring(1,1) +  \\\"\'\\\");\\n                }\\n\u003cp\u003e catch (IndexOutOfBoundsException e) \u003c\\/p\u003e\\n{\\n                        System.out.println(\\\"t2.substring(1,1) throws\\\");\\n                }\\n\u003cp\u003e    }\u003c\\/p\u003e\\n\\n\u003cp\u003ethat is, you can always request an empty string from the position\u003cbr\\/\u003e\\n\u003cb\u003eimmediately after\u003c\\/b\u003e the last byte, but not further out. This would\u003cbr\\/\u003e\\nremove the asymmetry you have in the code, too:\u003c\\/p\u003e\\n\\n\u003cp\u003e                if (this.length() == 0) {\u003cbr\\/\u003e\\n                    if (pos &gt; 1) \u003c\\/p\u003e\\n{\\n                    throw new SqlException(agent_.logWriter_, \\n                        new ClientMessageId(SQLState.BLOB_POSITION_TOO_LARGE), \\n                        new Long(pos));\\n                    }\\n\u003cp\u003e                } else { \\/\\/ this.length() &gt; 0\u003cbr\\/\u003e\\n                    if (pos &gt; this.length()) \u003c\\/p\u003e\\n{\\n                    throw new SqlException(agent_.logWriter_, \\n                        new ClientMessageId(SQLState.BLOB_POSITION_TOO_LARGE), \\n                        new Long(pos));                    \\n                    }\\n\u003cp\u003e                }\u003cbr\\/\u003e\\nwould reduce to:\u003c\\/p\u003e\\n\\n\u003cp\u003e                if (pos &gt; this.length() + 1) \u003c\\/p\u003e\\n{\\n                    throw new SqlException(agent_.logWriter_, \\n                        new ClientMessageId(SQLState.BLOB_POSITION_TOO_LARGE), \\n                        new Long(pos));\\n                }\\n\\n\u003cp\u003eI also think this is the symmetry one would want for programming\u003cbr\\/\u003e\\nconvenience, like you have mentioned. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12425568_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12425568_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/06 17:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-03T17:07:02+0000\'\u003e03\\/Aug\\/06 17:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    If you are modelling this on the java.lang.String modulo indexing, it \\nseems to me that this is slightly wrong: \\n\\n \\\"The position must be between 1 and the last position of the Lob\\\". \\n\\n I think it should be  \\n\\n \\\"The position must be between 1 and the last position + 1 of the Lob\\\", \\ncf. this example which does not throw exceptions. In the substring of \\nt2, the position is  one past  the final position of the string, final \\nposition being 0. \\n\\n                 String t1 = \\\"\\\"; \\n                String t2 = \\\"a\\\"; \\n\\n                 String t3; \\n\\n                 try  \\n{\\n                        System.out.println(\\\"t1.substring(0,0) = \'\\\" +\\n                                                           t1.substring(0,0) +  \\\"\'\\\");\\n                }\\n  catch (IndexOutOfBoundsException e)  \\n{\\n                        System.out.println(\\\"t1.substring(0,0) throws\\\");\\n                }\\n\\n                 try  \\n{\\n                        System.out.println(\\\"t2.substring(1,1) = \'\\\" +\\n                                                           t2.substring(1,1) +  \\\"\'\\\");\\n                }\\n  catch (IndexOutOfBoundsException e)  \\n{\\n                        System.out.println(\\\"t2.substring(1,1) throws\\\");\\n                }\\n     } \\n\\n that is, you can always request an empty string from the position \\n immediately after  the last byte, but not further out. This would \\nremove the asymmetry you have in the code, too: \\n\\n                 if (this.length() == 0) { \\n                    if (pos &gt; 1)  \\n{\\n                    throw new SqlException(agent_.logWriter_, \\n                        new ClientMessageId(SQLState.BLOB_POSITION_TOO_LARGE), \\n                        new Long(pos));\\n                    }\\n                 } else { \\/\\/ this.length() &gt; 0 \\n                    if (pos &gt; this.length())  \\n{\\n                    throw new SqlException(agent_.logWriter_, \\n                        new ClientMessageId(SQLState.BLOB_POSITION_TOO_LARGE), \\n                        new Long(pos));                    \\n                    }\\n                 } \\nwould reduce to: \\n\\n                 if (pos &gt; this.length() + 1)  \\n{\\n                    throw new SqlException(agent_.logWriter_, \\n                        new ClientMessageId(SQLState.BLOB_POSITION_TOO_LARGE), \\n                        new Long(pos));\\n                }\\n\\n I also think this is the symmetry one would want for programming \\nconvenience, like you have mentioned.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12425588\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12425588&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12425588\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12425588_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12425588_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/06 18:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-03T18:51:04+0000\'\u003e03\\/Aug\\/06 18:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Dag,\u003c\\/p\u003e\\n\\n\u003cp\u003eYou know, I read this a hundred times and did not read it as allowing t2.substring(1,1), since clearly 1 is beyond the length of the String.\u003c\\/p\u003e\\n\\n\u003cp\u003esubstring(int beginIndex, int endIndex)\u003cbr\\/\u003e\\nThrows:\u003cbr\\/\u003e\\nIndexOutOfBoundsException - if the beginIndex is negative, or endIndex is larger than the length of this String object, or beginIndex is larger than endIndex.\u003c\\/p\u003e\\n\\n\u003cp\u003eBut you are right and I\'ll change the implementation to support this. Much cleaner indeed.\u003c\\/p\u003e\\n\\n\u003cp\u003eI will reimplement the test for the case of pos one beyond the length of the Lob, which would now be legal. It would always return a zero-length result.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks,\u003c\\/p\u003e\\n\\n\u003cp\u003eCraig\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12425588_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12425588_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/06 18:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-03T18:51:04+0000\'\u003e03\\/Aug\\/06 18:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Dag, \\n\\n You know, I read this a hundred times and did not read it as allowing t2.substring(1,1), since clearly 1 is beyond the length of the String. \\n\\n substring(int beginIndex, int endIndex) \\nThrows: \\nIndexOutOfBoundsException - if the beginIndex is negative, or endIndex is larger than the length of this String object, or beginIndex is larger than endIndex. \\n\\n But you are right and I\'ll change the implementation to support this. Much cleaner indeed. \\n\\n I will reimplement the test for the case of pos one beyond the length of the Lob, which would now be legal. It would always return a zero-length result. \\n\\n Thanks, \\n\\n Craig              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12425635\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12425635&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12425635\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12425635_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12425635_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/06 23:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-03T23:25:35+0000\'\u003e03\\/Aug\\/06 23:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis patch incorporates all of the comments (thank you, Kathey and Dag) and therefore the logic is simpler for detecting invalid positions.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe canons for blobclob4BLOB have been changed to reflect that a request for bytes or a substring starting at position (length + 1) is now valid and the result will be of zero length, regardless of the length requested. This will not break existing applications except possibly regression testing applications that depend on Derby throwing an exception for this case. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12425635_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12425635_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/06 23:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-03T23:25:35+0000\'\u003e03\\/Aug\\/06 23:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This patch incorporates all of the comments (thank you, Kathey and Dag) and therefore the logic is simpler for detecting invalid positions. \\n\\n The canons for blobclob4BLOB have been changed to reflect that a request for bytes or a substring starting at position (length + 1) is now valid and the result will be of zero length, regardless of the length requested. This will not break existing applications except possibly regression testing applications that depend on Derby throwing an exception for this case.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12426397\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12426397&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12426397\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12426397_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426397_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/06 03:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-08T03:13:06+0000\'\u003e08\\/Aug\\/06 03:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have run derby-all with these changes, and no errors were reported.\u003c\\/p\u003e\\n\\n\u003cp\u003eAny other comments before I check this in?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12426397_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426397_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/06 03:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-08T03:13:06+0000\'\u003e08\\/Aug\\/06 03:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have run derby-all with these changes, and no errors were reported. \\n\\n Any other comments before I check this in?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12426525\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12426525&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12426525\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12426525_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426525_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/06 10:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-08T10:25:40+0000\'\u003e08\\/Aug\\/06 10:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Craig for the change,  adding the test cases, and making sure client and embedded have the same behavior.   My only comment is that  it would be  be good to first check in the reformatting changes for the test  and keep just the substantive code changes in issue commit..   I know the current situation with \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1363\\\" title=\\\"Derby should publish a well defined coding convention per the db project guidlines\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1363\\\"\u003eDERBY-1363\u003c\\/a\u003e is pretty intolerable, but it is better to keep code formatting changes, when necessary, separate from the actual code changes.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12426525_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426525_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/06 10:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-08T10:25:40+0000\'\u003e08\\/Aug\\/06 10:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks Craig for the change,  adding the test cases, and making sure client and embedded have the same behavior.   My only comment is that  it would be  be good to first check in the reformatting changes for the test  and keep just the substantive code changes in issue commit..   I know the current situation with  DERBY-1363  is pretty intolerable, but it is better to keep code formatting changes, when necessary, separate from the actual code changes.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12426621\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12426621&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12426621\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12426621_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426621_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/06 16:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-08T16:13:42+0000\'\u003e08\\/Aug\\/06 16:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSince this has been a tricky area to get correct, it seems that adding Javadoc comments to the methods your are modifying in the Derby implementations of Clob &amp; Blob would add great value. Otherwise a few months from now someone may change the code again thinking it is wrong (especially since the code no longer matches the javadoc).\u003c\\/p\u003e\\n\\n\u003cp\u003eIn Derby\'s JDBC implementation notes this comment exists for getSubString\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"http:\\/\\/db.apache.org\\/derby\\/papers\\/JDBCImplementation.html#getSubString%28int+pos%2C+int+length%29\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/db.apache.org\\/derby\\/papers\\/JDBCImplementation.html#getSubString%28int+pos%2C+int+length%29\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eIf the pos (position) argument is greater than the length of the CLOB then an exception is thrown. This matches the semantics of the SQL SUBSTR function.\u003c\\/p\u003e\\n\\n\u003cp\u003eDoes that need to be corrected, do we have an issue because the new code will not match SQL SUBSTR?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12426621_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426621_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/06 16:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-08T16:13:42+0000\'\u003e08\\/Aug\\/06 16:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Since this has been a tricky area to get correct, it seems that adding Javadoc comments to the methods your are modifying in the Derby implementations of Clob &amp; Blob would add great value. Otherwise a few months from now someone may change the code again thinking it is wrong (especially since the code no longer matches the javadoc). \\n\\n In Derby\'s JDBC implementation notes this comment exists for getSubString \\n\\n  http:\\/\\/db.apache.org\\/derby\\/papers\\/JDBCImplementation.html#getSubString%28int+pos%2C+int+length%29  \\n\\n If the pos (position) argument is greater than the length of the CLOB then an exception is thrown. This matches the semantics of the SQL SUBSTR function. \\n\\n Does that need to be corrected, do we have an issue because the new code will not match SQL SUBSTR?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12426642\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12426642&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12426642\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12426642_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426642_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/06 17:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-08T17:11:59+0000\'\u003e08\\/Aug\\/06 17:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'ve updated the Derby workspace as of this morning.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ve removed the formatting changes from blobclob4BLOB.java. They would have been duplicated by the changes anticipated by \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1363\\\" title=\\\"Derby should publish a well defined coding convention per the db project guidlines\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1363\\\"\u003eDERBY-1363\u003c\\/a\u003e.\u003c\\/p\u003e\\n\\n\u003cp\u003eTests pass. Check in at will.\u003c\\/p\u003e\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12426642_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426642_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/06 17:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-08T17:11:59+0000\'\u003e08\\/Aug\\/06 17:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'ve updated the Derby workspace as of this morning. \\n\\n I\'ve removed the formatting changes from blobclob4BLOB.java. They would have been duplicated by the changes anticipated by  DERBY-1363 . \\n\\n Tests pass. Check in at will. \\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12426647\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12426647&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12426647\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12426647_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426647_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/06 17:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-08T17:30:15+0000\'\u003e08\\/Aug\\/06 17:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDan observes:\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; Since this has been a tricky area to get correct, it seems that adding Javadoc comments to the methods your are modifying in the Derby implementations of Clob &amp; Blob would add great value. Otherwise a few months from now someone may change the code again thinking it is wrong (especially since the code no longer matches the javadoc). \u003c\\/p\u003e\\n\\n\u003cp\u003eCould you please be a bit more specific, so I can do this in one pass? Which parts of the code do you want to be better commented; e.g. just the parts I modified, or the entire method?\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; In Derby\'s JDBC implementation notes this comment exists for getSubString \u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; \u003ca href=\\\"http:\\/\\/db.apache.org\\/derby\\/papers\\/JDBCImplementation.html#getSubString%28int+pos%2C+int+length%29\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/db.apache.org\\/derby\\/papers\\/JDBCImplementation.html#getSubString%28int+pos%2C+int+length%29\u003c\\/a\u003e \u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; If the pos (position) argument is greater than the length of the CLOB then an exception is thrown. This matches the semantics of the SQL SUBSTR function. \u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; Does that need to be corrected, do we have an issue because the new code will not match SQL SUBSTR?\u003c\\/p\u003e\\n\\n\u003cp\u003eYes, that needs to be corrected, and I propose:\u003cbr\\/\u003e\\nIf the pos (position) argument is greater than the length + 1 of the CLOB then an exception is thrown. This matches the semantics of the java.lang.String.subString(int beginIndex, int endIndex) method. \u003c\\/p\u003e\\n\\n\u003cp\u003eA similar change is needed for Blob.getBytes\u003cbr\\/\u003e\\nIf the pos (position) argument is greater than the length of the BLOB then an exception is thrown. This matches the semantics of the SQL SUBSTR function.\u003c\\/p\u003e\\n\\n\u003cp\u003eI propose:\u003cbr\\/\u003e\\nIf the pos (position) argument is greater than the length + 1 of the BLOB then an exception is thrown. This matches the semantics of the java.lang.System.arraycopy method.\u003c\\/p\u003e\\n\\n\u003cp\u003eI don\'t think that matching SQL semantics is as important as matching java language semantics. After all, this API is a java language API.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12426647_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426647_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/06 17:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-08T17:30:15+0000\'\u003e08\\/Aug\\/06 17:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Dan observes: \\n\\n &gt; Since this has been a tricky area to get correct, it seems that adding Javadoc comments to the methods your are modifying in the Derby implementations of Clob &amp; Blob would add great value. Otherwise a few months from now someone may change the code again thinking it is wrong (especially since the code no longer matches the javadoc).  \\n\\n Could you please be a bit more specific, so I can do this in one pass? Which parts of the code do you want to be better commented; e.g. just the parts I modified, or the entire method? \\n\\n &gt; In Derby\'s JDBC implementation notes this comment exists for getSubString  \\n\\n &gt;  http:\\/\\/db.apache.org\\/derby\\/papers\\/JDBCImplementation.html#getSubString%28int+pos%2C+int+length%29   \\n\\n &gt; If the pos (position) argument is greater than the length of the CLOB then an exception is thrown. This matches the semantics of the SQL SUBSTR function.  \\n\\n &gt; Does that need to be corrected, do we have an issue because the new code will not match SQL SUBSTR? \\n\\n Yes, that needs to be corrected, and I propose: \\nIf the pos (position) argument is greater than the length + 1 of the CLOB then an exception is thrown. This matches the semantics of the java.lang.String.subString(int beginIndex, int endIndex) method.  \\n\\n A similar change is needed for Blob.getBytes \\nIf the pos (position) argument is greater than the length of the BLOB then an exception is thrown. This matches the semantics of the SQL SUBSTR function. \\n\\n I propose: \\nIf the pos (position) argument is greater than the length + 1 of the BLOB then an exception is thrown. This matches the semantics of the java.lang.System.arraycopy method. \\n\\n I don\'t think that matching SQL semantics is as important as matching java language semantics. After all, this API is a java language API.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12426674\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12426674&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12426674\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12426674_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426674_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/06 18:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-08T18:44:32+0000\'\u003e08\\/Aug\\/06 18:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s a proposed javadoc comment for EmbedClob.getSubString:\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eValid pos values require that 0 &lt; pos &lt; clob.length + 1.\u003c\\/li\u003e\\n\\t\u003cli\u003eValid length values require that 0 &lt;= length &lt;= clob.length.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eIf this looks ok, I can update the javadoc for the other implementation classes.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12426674_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426674_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/06 18:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-08T18:44:32+0000\'\u003e08\\/Aug\\/06 18:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here\'s a proposed javadoc comment for EmbedClob.getSubString: \\n\\n \\n\\t Valid pos values require that 0 &lt; pos &lt; clob.length + 1. \\n\\t Valid length values require that 0 &lt;= length &lt;= clob.length. \\n \\n\\n\\n If this looks ok, I can update the javadoc for the other implementation classes.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12426676\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12426676&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12426676\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12426676_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426676_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/06 18:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-08T18:51:06+0000\'\u003e08\\/Aug\\/06 18:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWhoops, there is no maximum restriction on length. Update the comment to:\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eValid length values require that 0 &lt;= length.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12426676_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426676_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/06 18:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-08T18:51:06+0000\'\u003e08\\/Aug\\/06 18:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Whoops, there is no maximum restriction on length. Update the comment to: \\n\\n \\n\\t Valid length values require that 0 &lt;= length. \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12426687\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12426687&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12426687\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12426687_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426687_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/06 19:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-08T19:35:04+0000\'\u003e08\\/Aug\\/06 19:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI mean comments clarifying the length &amp; position arguments passed in and the valid ranges etc. Though while you were in there you could see if the description was correct, e.g. EmbedClob.getSubString() says:\u003c\\/p\u003e\\n\\n\u003cp\u003eNOTE: return the empty string if pos is too large\u003c\\/p\u003e\\n\\n\u003cp\u003ewhich I don\'t think is true before or after your changes.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think there\'s a strong case for matching the SQL semantics rather than the Java semantics. One data point is that the value offsets are 1-based\u003cbr\\/\u003e\\nmatching SQL, not 0-based matching String. This is the offset into a class that represents a SQL value, not a Java value.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe other data point is the new range for the position argument looks very strange:\u003c\\/p\u003e\\n\\n\u003cp\u003eIf the pos (position) argument is greater than the length + 1 of the BLOB then an exception is thrown.\u003c\\/p\u003e\\n\\n\u003cp\u003eWhy length +1, why not &gt; length?\u003c\\/p\u003e\\n\\n\u003cp\u003eAlso that JDBC document already has clarified the behvaiour, why is it changing?\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12426687_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426687_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/06 19:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-08T19:35:04+0000\'\u003e08\\/Aug\\/06 19:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I mean comments clarifying the length &amp; position arguments passed in and the valid ranges etc. Though while you were in there you could see if the description was correct, e.g. EmbedClob.getSubString() says: \\n\\n NOTE: return the empty string if pos is too large \\n\\n which I don\'t think is true before or after your changes. \\n\\n I think there\'s a strong case for matching the SQL semantics rather than the Java semantics. One data point is that the value offsets are 1-based \\nmatching SQL, not 0-based matching String. This is the offset into a class that represents a SQL value, not a Java value. \\n\\n The other data point is the new range for the position argument looks very strange: \\n\\n If the pos (position) argument is greater than the length + 1 of the BLOB then an exception is thrown. \\n\\n Why length +1, why not &gt; length? \\n\\n Also that JDBC document already has clarified the behvaiour, why is it changing? \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12426707\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12426707&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12426707\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12426707_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426707_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/06 20:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-08T20:44:22+0000\'\u003e08\\/Aug\\/06 20:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Dan,\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks for your comments.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; I mean comments clarifying the length &amp; position arguments passed in and the valid ranges etc. Though while you were in there you could see if the description was correct, e.g. EmbedClob.getSubString() says: \u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; NOTE: return the empty string if pos is too large \u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; which I don\'t think is true before or after your changes. \u003c\\/p\u003e\\n\\n\u003cp\u003eI think I understand your comments and will try to update the comments to reflect reality.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; Why length +1, why not &gt; length? \u003c\\/p\u003e\\n\\n\u003cp\u003eIf 0 &lt; pos &lt;= length, then there is no way to get any bytes (even zero bytes) from a 0-length blob. And I don\'t believe that this is the intent. Nor is it consistent with what other vendors have implemented. \u003c\\/p\u003e\\n\\n\u003cp\u003eThere is no loss of functionality in the \\\"length + 1\\\" behavior. If your position is length + 1, then you can only get zero-length results from it. And this is exactly the case of a zero-length Lob.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe title of this issue is \\\"inconsistent behavior for embedded versus network\\\". So something\'s gotta give. And after looking at it in detail, I\'m convinced that the right behavior is to be consistent with regard to getBytes and getSubString; with regard to zero-length and non-zero-length Lobs; and with regard to embedded versus network. And this patch does it.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12426707_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426707_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/06 20:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-08T20:44:22+0000\'\u003e08\\/Aug\\/06 20:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Dan, \\n\\n Thanks for your comments. \\n\\n &gt; I mean comments clarifying the length &amp; position arguments passed in and the valid ranges etc. Though while you were in there you could see if the description was correct, e.g. EmbedClob.getSubString() says:  \\n\\n &gt; NOTE: return the empty string if pos is too large  \\n\\n &gt; which I don\'t think is true before or after your changes.  \\n\\n I think I understand your comments and will try to update the comments to reflect reality. \\n\\n &gt; Why length +1, why not &gt; length?  \\n\\n If 0 &lt; pos &lt;= length, then there is no way to get any bytes (even zero bytes) from a 0-length blob. And I don\'t believe that this is the intent. Nor is it consistent with what other vendors have implemented.  \\n\\n There is no loss of functionality in the \\\"length + 1\\\" behavior. If your position is length + 1, then you can only get zero-length results from it. And this is exactly the case of a zero-length Lob. \\n\\n The title of this issue is \\\"inconsistent behavior for embedded versus network\\\". So something\'s gotta give. And after looking at it in detail, I\'m convinced that the right behavior is to be consistent with regard to getBytes and getSubString; with regard to zero-length and non-zero-length Lobs; and with regard to embedded versus network. And this patch does it.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12426714\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12426714&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12426714\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12426714_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426714_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/06 20:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-08T20:58:20+0000\'\u003e08\\/Aug\\/06 20:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ethanks Craig, that\'s good reasoning, and the type of useful information I would like to see in the javadoc for these methods (using character for Clob and bytes for Blob though). I think that\'s much clearer than trying to equate to the behvaiour of String.substring.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12426714_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426714_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/06 20:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-08T20:58:20+0000\'\u003e08\\/Aug\\/06 20:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    thanks Craig, that\'s good reasoning, and the type of useful information I would like to see in the javadoc for these methods (using character for Clob and bytes for Blob though). I think that\'s much clearer than trying to equate to the behvaiour of String.substring. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12426790\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12426790&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12426790\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12426790_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426790_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Aug\\/06 01:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-09T01:38:59+0000\'\u003e09\\/Aug\\/06 01:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'ve updated the javadoc for the getBytes in EmbedBlob; and getSubString in EmbedClob. I\'ve created javadoc for the methods getBytes in Blob; and getSubString in Clob. I\'ve corrected the comments within the implementation of the methods.\u003c\\/p\u003e\\n\\n\u003cp\u003eNo other code changes were made compared to the last patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12426790_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12426790_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Aug\\/06 01:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-09T01:38:59+0000\'\u003e09\\/Aug\\/06 01:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'ve updated the javadoc for the getBytes in EmbedBlob; and getSubString in EmbedClob. I\'ve created javadoc for the methods getBytes in Blob; and getSubString in Clob. I\'ve corrected the comments within the implementation of the methods. \\n\\n No other code changes were made compared to the last patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12427062\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12427062&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12427062\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"davidvc\\\" id=\\\"commentauthor_12427062_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=davidvc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"davidvc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e David Van Couvering\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12427062_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Aug\\/06 00:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-10T00:26:10+0000\'\u003e10\\/Aug\\/06 00:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'m working on comitting this patch\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"davidvc\\\" id=\\\"commentauthor_12427062_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=davidvc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"davidvc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e David Van Couvering\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12427062_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Aug\\/06 00:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-10T00:26:10+0000\'\u003e10\\/Aug\\/06 00:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'m working on comitting this patch              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12427263\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12427263&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12427263\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"davidvc\\\" id=\\\"commentauthor_12427263_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=davidvc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"davidvc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e David Van Couvering\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12427263_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Aug\\/06 16:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-10T16:26:13+0000\'\u003e10\\/Aug\\/06 16:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi, Craig. I merged your patch into my sandbox and ran derbyall, and I\'m sorry to say I had a test failure.  \u003c\\/p\u003e\\n\\n\u003cp\u003ederbynetmats\\/DerbyNet\\/jdbcapi\\/blobclob4BLOB is the test, I think you just didn\'t run this under the DerbyNet framework (which is the IBM JDBC driver).  Here are the diffs.  If you think these look good I can go ahead and update the master file.  However, I am concerned about the \\\"open result set\\\" error at the end of the diff...\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003e\\n\\t\u003cul\u003e\\n\\t\\t\u003cli\u003e\\n\\t\\t\u003cul\u003e\\n\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\\t\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\u003cli\u003eDiff file derbyall\\/derbynetmats\\/DerbyNet\\/jdbcapi\\/blobclob4BLOB.diff\u003c\\/li\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\\t\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\\t\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\u003cli\u003eStart: blobclob4BLOB jdk1.5.0_06 DerbyNet derbynetmats:jdbcapi 2006-08-09 18:04:28 ***\u003cbr\\/\u003e\\n90d89\u003cbr\\/\u003e\\n&lt; CLOB getSubString 1 &gt; 0\u003cbr\\/\u003e\\n92,93d90\u003cbr\\/\u003e\\n&lt; CLOB FAIL - NO ERROR ON getSubString POS TOO LARGE 1 &gt; 0\u003cbr\\/\u003e\\n&lt; CLOB getSubString 1 &gt; 0\u003cbr\\/\u003e\\n95 del\u003cbr\\/\u003e\\n&lt; CLOB FAIL - NO ERROR ON getSubString POS TOO LARGE 1 &gt; 0\u003cbr\\/\u003e\\n95a92,93\u003cbr\\/\u003e\\n&gt; 1(7) (len 0)\u003cbr\\/\u003e\\n&gt; 1(8) (len 0)\u003cbr\\/\u003e\\n107a106,107\u003cbr\\/\u003e\\n&gt; 2(7) (len 0)\u003cbr\\/\u003e\\n&gt; 2(8) (len 0)\u003cbr\\/\u003e\\n119a120,121\u003cbr\\/\u003e\\n&gt; 3(7) (len 0)\u003cbr\\/\u003e\\n&gt; 3(8) (len 0)\u003cbr\\/\u003e\\n132a135,136\u003cbr\\/\u003e\\n&gt; 4(7) (len 0)\u003cbr\\/\u003e\\n&gt; 4(8) (len 0)\u003cbr\\/\u003e\\n144a149,150\u003cbr\\/\u003e\\n&gt; 5(7) (len 0)\u003cbr\\/\u003e\\n&gt; 5(8) (len 0)\u003cbr\\/\u003e\\n154 del\u003cbr\\/\u003e\\n&lt; 6(7)\u003cbr\\/\u003e\\n154a160,162\u003cbr\\/\u003e\\n&gt; 6(7) (len 0)\u003cbr\\/\u003e\\n&gt; 6(8) (len 0)\u003cbr\\/\u003e\\n&gt; 6(9)\u003cbr\\/\u003e\\n166d173\u003cbr\\/\u003e\\n&lt; CLOB getSubString 1 &gt; 0\u003cbr\\/\u003e\\n168,169d174\u003cbr\\/\u003e\\n&lt; CLOB FAIL - NO ERROR ON getSubString POS TOO LARGE 1 &gt; 0\u003cbr\\/\u003e\\n&lt; CLOB getSubString 1 &gt; 0\u003cbr\\/\u003e\\n171 del\u003cbr\\/\u003e\\n&lt; CLOB FAIL - NO ERROR ON getSubString POS TOO LARGE 1 &gt; 0\u003cbr\\/\u003e\\n171a176,177\u003cbr\\/\u003e\\n&gt; 7(7) (len 0)\u003cbr\\/\u003e\\n&gt; 7(8) (len 0)\u003cbr\\/\u003e\\n183 del\u003cbr\\/\u003e\\n&lt; 8(7)\u003cbr\\/\u003e\\n183a189,191\u003cbr\\/\u003e\\n&gt; 8(7) (len 0)\u003cbr\\/\u003e\\n&gt; 8(8) (len 0)\u003cbr\\/\u003e\\n&gt; 8(9)\u003cbr\\/\u003e\\n194 del\u003cbr\\/\u003e\\n&lt; 9(7)\u003cbr\\/\u003e\\n194a202,204\u003cbr\\/\u003e\\n&gt; 9(7) (len 0)\u003cbr\\/\u003e\\n&gt; 9(8) (len 0)\u003cbr\\/\u003e\\n&gt; 9(9)\u003cbr\\/\u003e\\n456a467\u003cbr\\/\u003e\\n&gt; java.lang.StringIndexOutOfBoundsException: String index out of range: -1\u003cbr\\/\u003e\\n460 del\u003cbr\\/\u003e\\n&lt;  negative tests for clob.getSubstring won\'t run  for network server  until 5243 is fixed\u003cbr\\/\u003e\\n460a471,475\u003cbr\\/\u003e\\n&gt; EXPECTED SQLSTATE(null): Invalid position 0 or length 5\u003cbr\\/\u003e\\n&gt; EXPECTED SQLSTATE(null): Invalid position 1 or length -76\u003cbr\\/\u003e\\n&gt; EXPECTED SQLSTATE(null): Invalid position 1 or length -1\u003cbr\\/\u003e\\n&gt; EXPECTED SQLSTATE(null): Invalid position 0 or length 0\u003cbr\\/\u003e\\n&gt; FAIL &#8211; unexpected exception:java.lang.StringIndexOutOfBoundsException: String index out of range: -1\u003cbr\\/\u003e\\n577 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n577a592\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n579 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n579a594\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n581 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n581a596\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n583 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n583a598\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n585 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n586 del\u003cbr\\/\u003e\\n&lt; testing Blob.getBytes() with pos 1 &gt; 0\u003cbr\\/\u003e\\n586a600\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n588,589d601\u003cbr\\/\u003e\\n&lt; FAIL testing Blob.getBytes() with pos 1 &gt; 0\u003cbr\\/\u003e\\n&lt; testing Blob.getBytes() with pos 1 &gt; 0\u003cbr\\/\u003e\\n591 del\u003cbr\\/\u003e\\n&lt; FAIL testing Blob.getBytes() with pos 1 &gt; 0\u003cbr\\/\u003e\\n591a603,604\u003cbr\\/\u003e\\n&gt; 1(7)\u003cbr\\/\u003e\\n&gt; 1(8)\u003cbr\\/\u003e\\n593 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n593a606\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n595 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n595a608\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n597 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n597a610\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n599 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n599a612\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n601 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n601a614\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n603a617,618\u003cbr\\/\u003e\\n&gt; 2(7)\u003cbr\\/\u003e\\n&gt; 2(8)\u003cbr\\/\u003e\\n605 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n605a620\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n607 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n607a622\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n609 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n609a624\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n611 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n611a626\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n613 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n613a628\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n615a631,632\u003cbr\\/\u003e\\n&gt; 3(7)\u003cbr\\/\u003e\\n&gt; 3(8)\u003cbr\\/\u003e\\n617 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n617a634\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n619 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n619a636\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n621 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n621a638\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n623 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n623a640\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n625 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n625a642\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n628a646,647\u003cbr\\/\u003e\\n&gt; 4(7)\u003cbr\\/\u003e\\n&gt; 4(8)\u003cbr\\/\u003e\\n630 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n630a649\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n632 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n632a651\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n634 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n634a653\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n636 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n636a655\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n638 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n638a657\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n640a660,661\u003cbr\\/\u003e\\n&gt; 5(7)\u003cbr\\/\u003e\\n&gt; 5(8)\u003cbr\\/\u003e\\n650a672,673\u003cbr\\/\u003e\\n&gt; 6(8)\u003cbr\\/\u003e\\n&gt; 6(9)\u003cbr\\/\u003e\\n653 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n653a676\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n655 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n655a678\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n657 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n657a680\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n659 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n659a682\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n661 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n662 del\u003cbr\\/\u003e\\n&lt; testing Blob.getBytes() with pos 1 &gt; 0\u003cbr\\/\u003e\\n662a684\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n664,665d685\u003cbr\\/\u003e\\n&lt; FAIL testing Blob.getBytes() with pos 1 &gt; 0\u003cbr\\/\u003e\\n&lt; testing Blob.getBytes() with pos 1 &gt; 0\u003cbr\\/\u003e\\n667 del\u003cbr\\/\u003e\\n&lt; FAIL testing Blob.getBytes() with pos 1 &gt; 0\u003cbr\\/\u003e\\n667a687,688\u003cbr\\/\u003e\\n&gt; 7(7) \u003cbr\\/\u003e\\n&gt; 7(8) \u003cbr\\/\u003e\\n669 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n669a690\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n671 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n671a692\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n673 del\u003cbr\\/\u003e\\n&lt; Known JCC Bug 5914\u003cbr\\/\u003e\\n673a694\u003cbr\\/\u003e\\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n679a701,702\u003cbr\\/\u003e\\n&gt; 8(8) \u003cbr\\/\u003e\\n&gt; 8(9) \u003cbr\\/\u003e\\n690a714,715\u003cbr\\/\u003e\\n&gt; 9(8) \u003cbr\\/\u003e\\n&gt; 9(9) \u003cbr\\/\u003e\\n741a767\u003cbr\\/\u003e\\n&gt; java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n755 del\u003cbr\\/\u003e\\n&lt; EXPECTED SQLSTATE(null): Search pattern cannot be null.\u003cbr\\/\u003e\\n756 del\u003cbr\\/\u003e\\n&lt; EXPECTED SQLSTATE(null): Search pattern cannot be null.\u003cbr\\/\u003e\\n757 del\u003cbr\\/\u003e\\n&lt; blobTest6 finished\u003cbr\\/\u003e\\n757a781,783\u003cbr\\/\u003e\\n&gt; EXPECTED SQLSTATE(null): Invalid position 1 or length -1\u003cbr\\/\u003e\\n&gt; EXPECTED SQLSTATE(null): Invalid position 0 or length 0\u003cbr\\/\u003e\\n&gt; FAIL &#8211; unexpected exception:java.lang.NegativeArraySizeException\u003cbr\\/\u003e\\n761 del\u003cbr\\/\u003e\\n&lt; Row Count 0 Null Row 0\u003cbr\\/\u003e\\n762 del\u003cbr\\/\u003e\\n&lt; Row Count 9 Null Row 1\u003cbr\\/\u003e\\n763 del\u003cbr\\/\u003e\\n&lt; Row Count 9 Null Row 1\u003cbr\\/\u003e\\n764 del\u003cbr\\/\u003e\\n&lt; blobTest8Trigger finished\u003cbr\\/\u003e\\n764a787,789\u003cbr\\/\u003e\\n&gt; FAIL &#8211; unexpected exception ****************\u003cbr\\/\u003e\\n&gt; SQLSTATE(X0X95): Operation \'CREATE TRIGGER\' cannot be performed on object \'TESTBLOB\' because there is an open ResultSet dependent on that object.\u003cbr\\/\u003e\\n&gt; com.ibm.db2.jcc.c.SqlException: Operation \'CREATE TRIGGER\' cannot be performed on object \'TESTBLOB\' because there is an open ResultSet dependent on that object.\u003cbr\\/\u003e\\nTest Failed.\u003c\\/li\u003e\\n\\t\\t\u003c\\/ul\u003e\\n\\t\\t\u003c\\/li\u003e\\n\\t\u003c\\/ul\u003e\\n\\t\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"davidvc\\\" id=\\\"commentauthor_12427263_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=davidvc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"davidvc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e David Van Couvering\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12427263_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Aug\\/06 16:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-10T16:26:13+0000\'\u003e10\\/Aug\\/06 16:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi, Craig. I merged your patch into my sandbox and ran derbyall, and I\'m sorry to say I had a test failure.   \\n\\n derbynetmats\\/DerbyNet\\/jdbcapi\\/blobclob4BLOB is the test, I think you just didn\'t run this under the DerbyNet framework (which is the IBM JDBC driver).  Here are the diffs.  If you think these look good I can go ahead and update the master file.  However, I am concerned about the \\\"open result set\\\" error at the end of the diff... \\n\\n \\n\\t \\n\\t \\n\\t\\t \\n\\t\\t \\n\\t\\t\\t \\n\\t\\t\\t \\n\\t\\t\\t\\t \\n\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t\\t\\t Diff file derbyall\\/derbynetmats\\/DerbyNet\\/jdbcapi\\/blobclob4BLOB.diff \\n\\t\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t \\n\\t\\t\\t\\t \\n\\t\\t\\t \\n\\t\\t\\t \\n\\t\\t\\t Start: blobclob4BLOB jdk1.5.0_06 DerbyNet derbynetmats:jdbcapi 2006-08-09 18:04:28 *** \\n90d89 \\n&lt; CLOB getSubString 1 &gt; 0 \\n92,93d90 \\n&lt; CLOB FAIL - NO ERROR ON getSubString POS TOO LARGE 1 &gt; 0 \\n&lt; CLOB getSubString 1 &gt; 0 \\n95 del \\n&lt; CLOB FAIL - NO ERROR ON getSubString POS TOO LARGE 1 &gt; 0 \\n95a92,93 \\n&gt; 1(7) (len 0) \\n&gt; 1(8) (len 0) \\n107a106,107 \\n&gt; 2(7) (len 0) \\n&gt; 2(8) (len 0) \\n119a120,121 \\n&gt; 3(7) (len 0) \\n&gt; 3(8) (len 0) \\n132a135,136 \\n&gt; 4(7) (len 0) \\n&gt; 4(8) (len 0) \\n144a149,150 \\n&gt; 5(7) (len 0) \\n&gt; 5(8) (len 0) \\n154 del \\n&lt; 6(7) \\n154a160,162 \\n&gt; 6(7) (len 0) \\n&gt; 6(8) (len 0) \\n&gt; 6(9) \\n166d173 \\n&lt; CLOB getSubString 1 &gt; 0 \\n168,169d174 \\n&lt; CLOB FAIL - NO ERROR ON getSubString POS TOO LARGE 1 &gt; 0 \\n&lt; CLOB getSubString 1 &gt; 0 \\n171 del \\n&lt; CLOB FAIL - NO ERROR ON getSubString POS TOO LARGE 1 &gt; 0 \\n171a176,177 \\n&gt; 7(7) (len 0) \\n&gt; 7(8) (len 0) \\n183 del \\n&lt; 8(7) \\n183a189,191 \\n&gt; 8(7) (len 0) \\n&gt; 8(8) (len 0) \\n&gt; 8(9) \\n194 del \\n&lt; 9(7) \\n194a202,204 \\n&gt; 9(7) (len 0) \\n&gt; 9(8) (len 0) \\n&gt; 9(9) \\n456a467 \\n&gt; java.lang.StringIndexOutOfBoundsException: String index out of range: -1 \\n460 del \\n&lt;  negative tests for clob.getSubstring won\'t run  for network server  until 5243 is fixed \\n460a471,475 \\n&gt; EXPECTED SQLSTATE(null): Invalid position 0 or length 5 \\n&gt; EXPECTED SQLSTATE(null): Invalid position 1 or length -76 \\n&gt; EXPECTED SQLSTATE(null): Invalid position 1 or length -1 \\n&gt; EXPECTED SQLSTATE(null): Invalid position 0 or length 0 \\n&gt; FAIL &#8211; unexpected exception:java.lang.StringIndexOutOfBoundsException: String index out of range: -1 \\n577 del \\n&lt; Known JCC Bug 5914 \\n577a592 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n579 del \\n&lt; Known JCC Bug 5914 \\n579a594 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n581 del \\n&lt; Known JCC Bug 5914 \\n581a596 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n583 del \\n&lt; Known JCC Bug 5914 \\n583a598 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n585 del \\n&lt; Known JCC Bug 5914 \\n586 del \\n&lt; testing Blob.getBytes() with pos 1 &gt; 0 \\n586a600 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n588,589d601 \\n&lt; FAIL testing Blob.getBytes() with pos 1 &gt; 0 \\n&lt; testing Blob.getBytes() with pos 1 &gt; 0 \\n591 del \\n&lt; FAIL testing Blob.getBytes() with pos 1 &gt; 0 \\n591a603,604 \\n&gt; 1(7) \\n&gt; 1(8) \\n593 del \\n&lt; Known JCC Bug 5914 \\n593a606 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n595 del \\n&lt; Known JCC Bug 5914 \\n595a608 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n597 del \\n&lt; Known JCC Bug 5914 \\n597a610 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n599 del \\n&lt; Known JCC Bug 5914 \\n599a612 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n601 del \\n&lt; Known JCC Bug 5914 \\n601a614 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n603a617,618 \\n&gt; 2(7) \\n&gt; 2(8) \\n605 del \\n&lt; Known JCC Bug 5914 \\n605a620 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n607 del \\n&lt; Known JCC Bug 5914 \\n607a622 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n609 del \\n&lt; Known JCC Bug 5914 \\n609a624 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n611 del \\n&lt; Known JCC Bug 5914 \\n611a626 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n613 del \\n&lt; Known JCC Bug 5914 \\n613a628 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n615a631,632 \\n&gt; 3(7) \\n&gt; 3(8) \\n617 del \\n&lt; Known JCC Bug 5914 \\n617a634 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n619 del \\n&lt; Known JCC Bug 5914 \\n619a636 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n621 del \\n&lt; Known JCC Bug 5914 \\n621a638 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n623 del \\n&lt; Known JCC Bug 5914 \\n623a640 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n625 del \\n&lt; Known JCC Bug 5914 \\n625a642 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n628a646,647 \\n&gt; 4(7) \\n&gt; 4(8) \\n630 del \\n&lt; Known JCC Bug 5914 \\n630a649 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n632 del \\n&lt; Known JCC Bug 5914 \\n632a651 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n634 del \\n&lt; Known JCC Bug 5914 \\n634a653 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n636 del \\n&lt; Known JCC Bug 5914 \\n636a655 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n638 del \\n&lt; Known JCC Bug 5914 \\n638a657 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n640a660,661 \\n&gt; 5(7) \\n&gt; 5(8) \\n650a672,673 \\n&gt; 6(8) \\n&gt; 6(9) \\n653 del \\n&lt; Known JCC Bug 5914 \\n653a676 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n655 del \\n&lt; Known JCC Bug 5914 \\n655a678 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n657 del \\n&lt; Known JCC Bug 5914 \\n657a680 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n659 del \\n&lt; Known JCC Bug 5914 \\n659a682 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n661 del \\n&lt; Known JCC Bug 5914 \\n662 del \\n&lt; testing Blob.getBytes() with pos 1 &gt; 0 \\n662a684 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n664,665d685 \\n&lt; FAIL testing Blob.getBytes() with pos 1 &gt; 0 \\n&lt; testing Blob.getBytes() with pos 1 &gt; 0 \\n667 del \\n&lt; FAIL testing Blob.getBytes() with pos 1 &gt; 0 \\n667a687,688 \\n&gt; 7(7)  \\n&gt; 7(8)  \\n669 del \\n&lt; Known JCC Bug 5914 \\n669a690 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n671 del \\n&lt; Known JCC Bug 5914 \\n671a692 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n673 del \\n&lt; Known JCC Bug 5914 \\n673a694 \\n&gt; FAIL: Caught exception java.lang.NegativeArraySizeException \\n679a701,702 \\n&gt; 8(8)  \\n&gt; 8(9)  \\n690a714,715 \\n&gt; 9(8)  \\n&gt; 9(9)  \\n741a767 \\n&gt; java.lang.NegativeArraySizeException \\n755 del \\n&lt; EXPECTED SQLSTATE(null): Search pattern cannot be null. \\n756 del \\n&lt; EXPECTED SQLSTATE(null): Search pattern cannot be null. \\n757 del \\n&lt; blobTest6 finished \\n757a781,783 \\n&gt; EXPECTED SQLSTATE(null): Invalid position 1 or length -1 \\n&gt; EXPECTED SQLSTATE(null): Invalid position 0 or length 0 \\n&gt; FAIL &#8211; unexpected exception:java.lang.NegativeArraySizeException \\n761 del \\n&lt; Row Count 0 Null Row 0 \\n762 del \\n&lt; Row Count 9 Null Row 1 \\n763 del \\n&lt; Row Count 9 Null Row 1 \\n764 del \\n&lt; blobTest8Trigger finished \\n764a787,789 \\n&gt; FAIL &#8211; unexpected exception **************** \\n&gt; SQLSTATE(X0X95): Operation \'CREATE TRIGGER\' cannot be performed on object \'TESTBLOB\' because there is an open ResultSet dependent on that object. \\n&gt; com.ibm.db2.jcc.c.SqlException: Operation \'CREATE TRIGGER\' cannot be performed on object \'TESTBLOB\' because there is an open ResultSet dependent on that object. \\nTest Failed. \\n\\t\\t \\n\\t\\t \\n\\t \\n\\t \\n \\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12427294\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12427294&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12427294\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12427294_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12427294_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Aug\\/06 18:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-10T18:06:52+0000\'\u003e10\\/Aug\\/06 18:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi David,\u003c\\/p\u003e\\n\\n\u003cp\u003eFrom my comments 31-Jul-2006:\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; I did not update master\\/DerbyNet\\/blobclob4BLOB.out canon because this canon seems out of date wrt the code. If this is incorrect, please let me know. \u003c\\/p\u003e\\n\\n\u003cp\u003eI recommend checking in the new DerbyNet canon for the blobclob4BLOB output. The differences in the DerbyNet canon are expected due to the additional tests that I wrote. The \\\"unexpected exception\\\" in DerbyNet is expected in this scenario due to the blobTest6 stimulating the DerbyNet driver to throw an exception that is not a SQLException. Once the driver is fixed to properly handle boundary errors (length &lt; 0; pos &gt; lob.length + 1; etc.), this unexpected exception will go away.\u003c\\/p\u003e\\n\\n\u003cp\u003eThere is a general issue in many of the tests that I looked at, that result sets, statements, and connections are not closed in a finally block but are in the main line code. So \\\"unexpected exceptions\\\" in general will cause subsequent tests to behave unpredictably. But it\'s not specific to this issue.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"clr\\\" id=\\\"commentauthor_12427294_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=clr\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"clr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Craig L Russell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12427294_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Aug\\/06 18:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-10T18:06:52+0000\'\u003e10\\/Aug\\/06 18:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi David, \\n\\n From my comments 31-Jul-2006: \\n\\n &gt; I did not update master\\/DerbyNet\\/blobclob4BLOB.out canon because this canon seems out of date wrt the code. If this is incorrect, please let me know.  \\n\\n I recommend checking in the new DerbyNet canon for the blobclob4BLOB output. The differences in the DerbyNet canon are expected due to the additional tests that I wrote. The \\\"unexpected exception\\\" in DerbyNet is expected in this scenario due to the blobTest6 stimulating the DerbyNet driver to throw an exception that is not a SQLException. Once the driver is fixed to properly handle boundary errors (length &lt; 0; pos &gt; lob.length + 1; etc.), this unexpected exception will go away. \\n\\n There is a general issue in many of the tests that I looked at, that result sets, statements, and connections are not closed in a finally block but are in the main line code. So \\\"unexpected exceptions\\\" in general will cause subsequent tests to behave unpredictably. But it\'s not specific to this issue.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12427555\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-1516?focusedCommentId=12427555&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12427555\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"davidvc\\\" id=\\\"commentauthor_12427555_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=davidvc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"davidvc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e David Van Couvering\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12427555_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Aug\\/06 16:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-11T16:49:22+0000\'\u003e11\\/Aug\\/06 16:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSending        java\\/client\\/org\\/apache\\/derby\\/client\\/am\\/Blob.java\u003cbr\\/\u003e\\nSending        java\\/client\\/org\\/apache\\/derby\\/client\\/am\\/Clob.java\u003cbr\\/\u003e\\nSending        java\\/engine\\/org\\/apache\\/derby\\/impl\\/jdbc\\/EmbedBlob.java\u003cbr\\/\u003e\\nSending        java\\/engine\\/org\\/apache\\/derby\\/impl\\/jdbc\\/EmbedClob.java\u003cbr\\/\u003e\\nSending        java\\/engine\\/org\\/apache\\/derby\\/loc\\/messages_en.properties\u003cbr\\/\u003e\\nSending        java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/DerbyNet\\/blobclob4BLOB.out\u003cbr\\/\u003e\\nSending        java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/DerbyNetClient\\/blobclob4BLOB.out\u003cbr\\/\u003e\\nSending        java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/blobclob4BLOB.out\u003cbr\\/\u003e\\nSending        java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/jdbcapi\\/blobclob4BLOB.java\u003cbr\\/\u003e\\nTransmitting file data .........\u003cbr\\/\u003e\\nCommitted revision 430825.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"davidvc\\\" id=\\\"commentauthor_12427555_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=davidvc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"davidvc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e David Van Couvering\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12427555_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Aug\\/06 16:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-11T16:49:22+0000\'\u003e11\\/Aug\\/06 16:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Sending        java\\/client\\/org\\/apache\\/derby\\/client\\/am\\/Blob.java \\nSending        java\\/client\\/org\\/apache\\/derby\\/client\\/am\\/Clob.java \\nSending        java\\/engine\\/org\\/apache\\/derby\\/impl\\/jdbc\\/EmbedBlob.java \\nSending        java\\/engine\\/org\\/apache\\/derby\\/impl\\/jdbc\\/EmbedClob.java \\nSending        java\\/engine\\/org\\/apache\\/derby\\/loc\\/messages_en.properties \\nSending        java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/DerbyNet\\/blobclob4BLOB.out \\nSending        java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/DerbyNetClient\\/blobclob4BLOB.out \\nSending        java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/blobclob4BLOB.out \\nSending        java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/jdbcapi\\/blobclob4BLOB.java \\nTransmitting file data ......... \\nCommitted revision 430825.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="10594";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=10594&amp;avatarId=10122\\\" alt=\\\"Derby\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\"\u003eDerby\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520238385816"> 
    <input type="hidden" title="jira.request.server.time" value="227"> 
    <input type="hidden" title="jira.request.id" value="506x94356042x2"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="1"> 
    <input type="hidden" title="db.reads.time.in.ms" value="29"> 
    <input type="hidden" title="db.conns.time.in.ms" value="35"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 506x94356042x2
	          REQUEST TIMESTAMP : [05/Mar/2018:08:26:25 +0000]
	               REQUEST TIME : 0.2270
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 1

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=24, elapsedTotal=29731982, elapsedMin=553323, elapsedMax=11687143, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=28, elapsedTotal=35406821, elapsedMin=577678, elapsedMax=11716930, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>