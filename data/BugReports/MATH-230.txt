<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|3be627c8d3c22d4f5fc8798d3caa1a7230e32c8e|lout"> 
  <link rel="shortcut icon" href="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"sd.customer.profile.multi.languages\":true,\"sd.customer.portal.transitions\":true,\"sd.customer.portal.transitions.config\":true,\"sd.custom.email.stripping.rules\":false,\"sd.sla.lucene.issue.id.callback.performance\":true,\"sd.new.settings.sidebar.location\":true,\"sd.workload.report.paginator\":true,\"sd.experimental.portal.search.algorithm.default.1\":false,\"sd.customer.portal.help.center.agent.announcement\":true,\"sd.sla.improved.rendering\":false,\"sd.experimental.portal.search.algorithm.default.2\":false,\"sd.customer.feedback.validate.reporter.on.token\":true,\"sd.custom.email.notifications.utf8.csat.star\":true,\"sd.who.create.customers.by.email.setting\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.renderer.consider.variable.format\":true,\"sd.stats.event.tracking\":true,\"sd.password.helper.dialog\":true,\"sd.canned.responses\":false,\"sd.portal.help.center.customer.signup.secondary.email\":true,\"sd.custom.email.notifications.manage.language\":true,\"sd.use.search.by.permissions\":true,\"sd.slavalue.record.updated.date\":false,\"sd.report.custom.date.range\":false,\"sd.kb.article.helpfulness.report\":false,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"sd.custom.email.notifications.styling\":true,\"sd.workinghours.new.page.bulldog.1\":false,\"sd.customer.portal.two.step.login\":false,\"sd.automation.psmq.async.executor\":true,\"sd.customer.org.list.page.lazy.search\":true,\"sd.approval.requested.when.handler\":true,\"sd.request.type.field.rest.api.filtering.bugfix\":true,\"sd.automation.then.action.auto.answer.approval\":true,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"sla.will.only.be.paused.if.they.are.already.started\":true,\"sd.kb.comment.share.stats.collection\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"sd.customer.orgs.group.participants\":true,\"sd.portal.help.center.customer.signup\":true,\"sd.sla.agent.jql.security.restricted\":true,\"sd.test.feature.flag.x\":true,\"sd.test.feature.flag.y\":false,\"sd.cluster.safe.mail.channel.shutdown\":true,\"sd.email.channel.folders\":false,\"sd.email.analytics.open\":false,\"sd.kb.project.creation.create.link.space\":true,\"sd.workinghours.new.page\":false,\"sd.confluence.anonymous.permission.fix\":true,\"com.atlassian.jira.issuetable.draggable\":true,\"sd.customer.portal.project.agent.announcement\":true,\"sd.automation.audit.log\":true,\"jira.jql.suggestrecentfields\":false,\"sd.canned.responses.check.index.startup\":false,\"sd.new.project.templates\":true,\"sd.custom.email.notifications.custom.rules.simple.ui\":false,\"sd.custom.email.notifications.cut.over\":true,\"sd.dismiss.all.misconfiguration.warnings.setting\":true,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"sd.sla.configurations.export\":true,\"sd.canned.responses.variable.substitution\":true,\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"sd.customer.portal.prioties.per.project.fix\":true,\"jira.instrumentation.laas\":false,\"sd.kb.self.service.report\":false,\"sla.improved.request.handling\":true,\"sd.no.schedule.async.upgrade.tasks\":true,\"sd.kb.primary.nav\":true,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"sd.kb.issueview.panel.phase2\":true,\"sd.email.outsider.comments\":true,\"jira.create.linked.issue\":true,\"sd.kb.issueview.panel\":true,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"sd.approvals.light.weight\":false,\"sd.automation.then.webhook\":true,\"sd.respect.inline.edit.issue.off\":true,\"jira.jql.smartautoselectfirst\":false,\"sd.global.portal.search.atlassian.only.tracking\":false,\"sd.automation.if.condition.comment.primary.action\":true,\"jira.priorities.per.project\":true,\"sd.inline.noformat.renderer\":true,\"sd.customer.request.type.create.edit.screens\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/png,image/vnd.wap.wbmp,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["com.atlassian.servicedesk.servicedesk-canned-responses-plugin:canned-responses-data-provider.data"]="{\"substitutionVariables\":{\"issue.summary\":\"Issue summary\",\"issue.description\":\"Issue description\",\"issue.key\":\"Issue key\",\"issue.reporter.name\":\"Issue reporter\",\"issue.resolution\":\"Issue resolution\",\"request.url\":\"Request URL\",\"request.status\":\"Request status\"}}";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-help-links.help-links"]="{\"help\":{\"email.settings\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"managing.queues\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+queues+for+your+team\",\"email.setup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"request.settings.help.bubble\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\",\"email.settings.suitablerequest\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email#Receivingrequestsbyemail-suitablerequest\",\"sla.import.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Importing+SLAs\",\"documentation.home\":\"https://docs.atlassian.com/jira/jsd-docs-039/JIRA+Service+Desk+Documentation\",\"default\":\"https://docs.atlassian.com/jira/jsd-docs-039/\",\"create.space.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base#serving-customers-with-a-knowledge-base-createpermission\",\"email.settings.troubleshooting\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+the+email+channel\",\"admin.notifications.config\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+service+desk+notifications\",\"troubleshoot.requesttype\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+request+types\",\"approvals.configuration\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+JIRA+Service+Desk+approvals\",\"setting.up.reports\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+service+desk+reports\",\"public.signup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+public+signup\",\"knowledge.base\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base\",\"resolve.permission.scheme.errors\":\"https://docs.atlassian.com/jira/jsd-docs-039/Resolving+permission+scheme+errors\",\"getting.started\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+with+JIRA+Service+Desk\",\"getting.started.agent\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+for+service+desk+agents\",\"invite.customers\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\"},\"kb\":{\"default\":\"https://confluence.atlassian.com/display/SDKB/\",\"troubleshooting.user.management.issues\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\",\"legacytransition\":\"https://confluence.atlassian.com/display/SDKB/Replacing+legacy+automatic+transitions+with+automation+rules\",\"umtroubleshoot\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\"}}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-base-url.base-url"]="\"https://issues.apache.org/jira\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"348742ae34455\"";
WRM._unparsedData["project-id"]="12310485";
WRM._unparsedData["project-key"]="\"MATH\"";
WRM._unparsedData["project-name"]="\"Commons Math\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310485";
WRM._unparsedData["projectKey"]="\"MATH\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/1a6b21131945f6f49ff48336b49ca3fe-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/d8484c9183f546511a8e336a8779bcd9-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d3b35d835f8f46fc3b53bb4db7f85158-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/71d42e74136d842a3ef4d5d136484843-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/95a4826c265852f4904f1e0e7300df68-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/944bb39eced1b35cfc7194aa02eb5a5a/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/5a8f0f8b8aa8f96a4f0f7e9e248d62f3-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="MATH-230"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[MATH-230] Implement Sparse Matrix Support - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[MATH-230] Implement Sparse Matrix Support - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/MATH" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FMATH-230">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310485" class="aui-avatar aui-avatar-large aui-avatar-project jira-system-avatar"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Commons Math'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310485&amp;avatarId=10011"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/MATH">Commons Math</a></li>
                 <li><a class="issue-link" data-issue-key="MATH-230" href="/jira/browse/MATH-230" id="key-val" rel="12409516">MATH-230</a></li>
                </ol>
                <h1 id="summary-val">Implement Sparse Matrix Support</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FMATH-230"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/MATH-230/MATH-230.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/MATH-230/MATH-230.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/MATH-230/MATH-230.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/MATH-230/MATH-230.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" title="Improvement - An improvement or enhancement to an existing feature or task." width="16"> Improvement </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/minor.svg" title="Minor - Minor loss of function, or other problem where easy workaround is present." width="16"> Minor </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="2.0 ">2.0</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+MATH+AND+fixVersion+%3D+2.0" title="2.0 ">2.0</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12409516-value">None</span> 
                   </div> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap"> 
                   <strong class="name">Environment:</strong> 
                   <div id="environment-val" class="value"> 
                    <p>N/A</p> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>I needed a way to deal with large sparse matrices using commons-math RealMatrix, so I implemented it. The SparseRealMatrixImpl is a subclass of RealMatrixImpl, and the backing data structure is a Map&lt;Point,Double&gt;, where Point is a struct like inner-class which exposes two int parameters row and column. I had to make some changes to the existing components to keep the code for SparseRealMatrixImpl clean. Here are the details.</p> 
                  <p>1) RealMatrix.java:</p> 
                  <ul class="alternate" type="square"> 
                   <li>added a new method setEntry(int, int, double) to set data into a matrix<br> 2) RealMatrixImpl.java:</li> 
                   <li>changed all internal calls to data<span class="error">[i]</span><span class="error">[j]</span> to getEntry(i,j).</li> 
                   <li>for some methods such as add(), subtract(), premultiply(), etc, there<br> was code that checked for ClassCastException and had two versions,<br> one for a generic RealMatrix and one for a RealMatrixImpl. This has<br> been changed to have only one that operates on a RealMatrix. The <br> result is something like auto-type casting. So if:<br> RealMatrixImpl.add(RealMatrix) returns a RealMatrixImpl<br> SparseRealMatrixImpl.add(RealMatrix) returns a SparseRealMatrixImpl<br> 3) SparseRealMatrixImpl added as a subclass of RealMatrixImpl.<br> 4) LUDecompositionImpl changed to use a clone of the passed in RealMatrix<br> instead of its data[][] block, and now it uses clone.getEntry(row,col)<br> calls instead of data<span class="error">[row]</span><span class="error">[col]</span> calls.<br> 5) LUDecompositionImpl returned RealMatrixImpl for getL(), getU(), getP()<br> and solve(). It now returns the same RealMatrix impl that is passed <br> in through its constructor for these methods.<br> 6) New test for SparseRealMatrixImpl, mimics the tests in RealMatrixImplTest,<br> 7) New static method to create SparseRealMatrixImpl out of a double[][] in<br> MatrixUtils.createSparseRealMatrix().<br> but using SparseRealMatrixImpl.<br> 8) Verified that all JUnit tests pass.</li> 
                  </ul> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/MATH-230?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/MATH-230?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/MATH-230?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/MATH-230?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12395520" data-issue-id="12409516" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12395520/math-230.diff" draggable="true" data-downloadurl="application/octet-stream:math-230.diff:https://issues.apache.org/jira/secure/attachment/12395520/math-230.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12395520/math-230.diff" title="Latest  08/Dec/08 01:11 - Ismael Juma" draggable="true" data-downloadurl="application/octet-stream:math-230.diff:https://issues.apache.org/jira/secure/attachment/12395520/math-230.diff">math-230.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-12-08T01:11:58.389Z">08/Dec/08 01:11</time>
                   </dd>
                   <dd class="attachment-size">
                    49 kB
                   </dd>
                   <dd class="attachment-author">
                    Ismael Juma
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12395960" data-issue-id="12409516" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12395960/patch-2.txt" draggable="true" data-downloadurl="text/plain:patch-2.txt:https://issues.apache.org/jira/secure/attachment/12395960/patch-2.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12395960/patch-2.txt" title="Latest  12/Dec/08 18:37 - Sujit Pal" draggable="true" data-downloadurl="text/plain:patch-2.txt:https://issues.apache.org/jira/secure/attachment/12395960/patch-2.txt">patch-2.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-12-12T18:37:36.708Z">12/Dec/08 18:37</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Sujit Pal
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12395126" data-issue-id="12409516" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12395126/RealMatrixImplPerformanceTest.java" draggable="true" data-downloadurl="text/x-java:RealMatrixImplPerformanceTest.java:https://issues.apache.org/jira/secure/attachment/12395126/RealMatrixImplPerformanceTest.java"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-code" title="Java Source File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12395126/RealMatrixImplPerformanceTest.java" title="Latest  02/Dec/08 20:16 - Sujit Pal" draggable="true" data-downloadurl="text/x-java:RealMatrixImplPerformanceTest.java:https://issues.apache.org/jira/secure/attachment/12395126/RealMatrixImplPerformanceTest.java">RealMatrixImplPerformanceTest.java</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-12-02T20:16:31.111Z">02/Dec/08 20:16</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Sujit Pal
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12395958" data-issue-id="12409516" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12395958/SparseRealMatrix.java" draggable="true" data-downloadurl="text/x-java:SparseRealMatrix.java:https://issues.apache.org/jira/secure/attachment/12395958/SparseRealMatrix.java"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-code" title="Java Source File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12395958/SparseRealMatrix.java" title="Latest  12/Dec/08 18:36 - Sujit Pal" draggable="true" data-downloadurl="text/x-java:SparseRealMatrix.java:https://issues.apache.org/jira/secure/attachment/12395958/SparseRealMatrix.java">SparseRealMatrix.java</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-12-12T18:36:03.304Z">12/Dec/08 18:36</time>
                   </dd>
                   <dd class="attachment-size">
                    11 kB
                   </dd>
                   <dd class="attachment-author">
                    Sujit Pal
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12395959" data-issue-id="12409516" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12395959/SparseRealMatrixTest.java" draggable="true" data-downloadurl="text/x-java:SparseRealMatrixTest.java:https://issues.apache.org/jira/secure/attachment/12395959/SparseRealMatrixTest.java"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-code" title="Java Source File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12395959/SparseRealMatrixTest.java" title="Latest  12/Dec/08 18:36 - Sujit Pal" draggable="true" data-downloadurl="text/x-java:SparseRealMatrixTest.java:https://issues.apache.org/jira/secure/attachment/12395959/SparseRealMatrixTest.java">SparseRealMatrixTest.java</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-12-12T18:36:57.019Z">12/Dec/08 18:36</time>
                   </dd>
                   <dd class="attachment-size">
                    25 kB
                   </dd>
                   <dd class="attachment-author">
                    Sujit Pal
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="depends upon">
                   depends upon
                  </dt> 
                  <dd id="internal-12409800_10001"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype" width="16" height="16" title="New Feature - A new feature of the product, which has yet to be developed." alt="New Feature - A new feature of the product, which has yet to be developed."> <span title="MATH-231: User-extendable Abstract RealMatrix implementation"> <a href="/jira/browse/MATH-231" data-issue-key="MATH-231" class="issue-link link-title resolution">MATH-231</a> <span class="link-summary">User-extendable Abstract RealMatrix implementation</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/minor.svg" width="16" height="16" title="Minor - Minor loss of function, or other problem where easy workaround is present." alt="Minor - Minor loss of function, or other problem where easy workaround is present."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_luc" rel="luc" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Luc Maisonobe&quot;,&quot;emailAddress&quot;:&quot;luc@spaceroots.org&quot;,&quot;username&quot;:&quot;luc&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="luc"></span></span> Luc Maisonobe </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_sujitpal" rel="sujitpal" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Sujit Pal&quot;,&quot;emailAddress&quot;:&quot;sujit.pal@comcast.net&quot;,&quot;username&quot;:&quot;sujitpal&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="sujitpal"></span></span> Sujit Pal </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">1</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">2</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="30/Nov/08 20:16"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2008-11-30T20:16:53+0000">30/Nov/08 20:16</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="23/Apr/09 02:26"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2009-04-23T02:26:19+0000">23/Apr/09 02:26</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="14/Dec/08 15:08"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2008-12-14T15:08:33+0000">14/Dec/08 15:08</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for n/a, Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/MATH-230?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/MATH-230?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/MATH-230?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/MATH-230?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/MATH-230?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/MATH-230?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/MATH-230?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/MATH-230?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/MATH-230?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/MATH-230?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/MATH-230?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/MATH-230?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12651858\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12651858&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12651858\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12651858_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12651858_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Nov\\/08 20:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-11-30T20:19:19+0000\'\u003e30\\/Nov\\/08 20:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePatch file containing diffs for java classes that are already in the BRANCH_2_0 code. List follows:\u003c\\/p\u003e\\n\\n\u003cp\u003esrc\\/java\\/org\\/apache\\/commons\\/math\\/linear\\/LUDecompositionImpl.java\u003cbr\\/\u003e\\nsrc\\/java\\/org\\/apache\\/commons\\/math\\/linear\\/RealMatrix.java\u003cbr\\/\u003e\\nsrc\\/java\\/org\\/apache\\/commons\\/math\\/linear\\/MatrixUtils.java\u003cbr\\/\u003e\\nsrc\\/java\\/org\\/apache\\/commons\\/math\\/linear\\/RealMatrixImpl.java\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12651858_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12651858_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Nov\\/08 20:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-11-30T20:19:19+0000\'\u003e30\\/Nov\\/08 20:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Patch file containing diffs for java classes that are already in the BRANCH_2_0 code. List follows: \\n\\n src\\/java\\/org\\/apache\\/commons\\/math\\/linear\\/LUDecompositionImpl.java \\nsrc\\/java\\/org\\/apache\\/commons\\/math\\/linear\\/RealMatrix.java \\nsrc\\/java\\/org\\/apache\\/commons\\/math\\/linear\\/MatrixUtils.java \\nsrc\\/java\\/org\\/apache\\/commons\\/math\\/linear\\/RealMatrixImpl.java              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12651860\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12651860&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12651860\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12651860_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12651860_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Nov\\/08 20:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-11-30T20:20:14+0000\'\u003e30\\/Nov\\/08 20:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSparseRealMatrixImpl.java\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12651860_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12651860_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Nov\\/08 20:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-11-30T20:20:14+0000\'\u003e30\\/Nov\\/08 20:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    SparseRealMatrixImpl.java              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12651861\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12651861&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12651861\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12651861_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12651861_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Nov\\/08 20:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-11-30T20:21:06+0000\'\u003e30\\/Nov\\/08 20:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSparseRealMatrixImplTest.java\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12651861_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12651861_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Nov\\/08 20:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-11-30T20:21:06+0000\'\u003e30\\/Nov\\/08 20:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    SparseRealMatrixImplTest.java              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12652487\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12652487&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12652487\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12652487_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12652487_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Dec\\/08 20:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-02T20:08:07+0000\'\u003e02\\/Dec\\/08 20:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBased on conversation with previous committers for the RealMatrixImpl code, I discovered that I had accidentally removed some performance enhancement code. I have put this back in and am resubmitting a fresh patch.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn addition to the changes described in the initial comment, the change here are:\u003cbr\\/\u003e\\n1) Put back in the RealMatrixImpl.add(RealMatrixImpl), RealMatrixImpl.subtract(RealMatrixImpl) and RealMatrixImpl.multiply(RealMatrixImpl) methods. These are now private methods since they are meant to be used by the class itself for performance. Having them be public meant that subclasses would use these instead its own overriden API methods, because the subclasses of RealMatrixImpl is also a RealMatrixImpl, and thus a better match than a RealMatrix.\u003cbr\\/\u003e\\n2) Add back the code which delegates to this method from RealMatrixImpl.add(RealMatrix), RealMatrixImpl.subtract(RealMatrix) and RealMatrixImpl.multiply(RealMatrix). Instead of the try {} catch (ClassCastException) {}, it is now using a if (RealMatrixImpl.class.equals(m.getClass()) {} else {} block to get around the fact that subclasses are also RealMatrixImpl and hence are chosen in the try block.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12652487_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12652487_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Dec\\/08 20:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-02T20:08:07+0000\'\u003e02\\/Dec\\/08 20:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Based on conversation with previous committers for the RealMatrixImpl code, I discovered that I had accidentally removed some performance enhancement code. I have put this back in and am resubmitting a fresh patch. \\n\\n In addition to the changes described in the initial comment, the change here are: \\n1) Put back in the RealMatrixImpl.add(RealMatrixImpl), RealMatrixImpl.subtract(RealMatrixImpl) and RealMatrixImpl.multiply(RealMatrixImpl) methods. These are now private methods since they are meant to be used by the class itself for performance. Having them be public meant that subclasses would use these instead its own overriden API methods, because the subclasses of RealMatrixImpl is also a RealMatrixImpl, and thus a better match than a RealMatrix. \\n2) Add back the code which delegates to this method from RealMatrixImpl.add(RealMatrix), RealMatrixImpl.subtract(RealMatrix) and RealMatrixImpl.multiply(RealMatrix). Instead of the try {} catch (ClassCastException) {}, it is now using a if (RealMatrixImpl.class.equals(m.getClass()) {} else {} block to get around the fact that subclasses are also RealMatrixImpl and hence are chosen in the try block.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12652490\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12652490&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12652490\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12652490_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12652490_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Dec\\/08 20:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-02T20:10:34+0000\'\u003e02\\/Dec\\/08 20:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003esvn diff containing diffs against trunk for the following files:\u003c\\/p\u003e\\n\\n\u003cp\u003esrc\\/java\\/org\\/apache\\/commons\\/math\\/linear\\/LUDecompositionImpl.java\u003cbr\\/\u003e\\nsrc\\/java\\/org\\/apache\\/commons\\/math\\/linear\\/RealMatrix.java\u003cbr\\/\u003e\\nsrc\\/java\\/org\\/apache\\/commons\\/math\\/linear\\/MatrixUtils.java\u003cbr\\/\u003e\\nsrc\\/java\\/org\\/apache\\/commons\\/math\\/linear\\/RealMatrixImpl.java\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12652490_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12652490_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Dec\\/08 20:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-02T20:10:34+0000\'\u003e02\\/Dec\\/08 20:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    svn diff containing diffs against trunk for the following files: \\n\\n src\\/java\\/org\\/apache\\/commons\\/math\\/linear\\/LUDecompositionImpl.java \\nsrc\\/java\\/org\\/apache\\/commons\\/math\\/linear\\/RealMatrix.java \\nsrc\\/java\\/org\\/apache\\/commons\\/math\\/linear\\/MatrixUtils.java \\nsrc\\/java\\/org\\/apache\\/commons\\/math\\/linear\\/RealMatrixImpl.java              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12652491\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12652491&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12652491\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12652491_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12652491_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Dec\\/08 20:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-02T20:11:56+0000\'\u003e02\\/Dec\\/08 20:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSparseRealMatrixImpl.java &#8211; subclasses RealMatrixImpl.java with a backing data store of Map&lt;Point,Double&gt;.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12652491_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12652491_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Dec\\/08 20:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-02T20:11:56+0000\'\u003e02\\/Dec\\/08 20:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    SparseRealMatrixImpl.java &#8211; subclasses RealMatrixImpl.java with a backing data store of Map&lt;Point,Double&gt;.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12652492\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12652492&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12652492\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12652492_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12652492_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Dec\\/08 20:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-02T20:12:58+0000\'\u003e02\\/Dec\\/08 20:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eTest case for SparseRealMatrixImpl.java &#8211; mimics tests in RealMatrixImplTest, against a SparseRealMatrixImpl.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12652492_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12652492_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Dec\\/08 20:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-02T20:12:58+0000\'\u003e02\\/Dec\\/08 20:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Test case for SparseRealMatrixImpl.java &#8211; mimics tests in RealMatrixImplTest, against a SparseRealMatrixImpl.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12652497\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12652497&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12652497\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12652497_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12652497_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Dec\\/08 20:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-02T20:16:31+0000\'\u003e02\\/Dec\\/08 20:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cul\u003e\\n\\t\u003cli\u003e\\n\\t\u003cul\u003e\\n\\t\\t\u003cli\u003e\\n\\t\\t\u003cul\u003e\\n\\t\\t\\t\u003cli\u003eNot for inclusion in svn, only meant to be used if necessary for verification of times below ***\u003c\\/li\u003e\\n\\t\\t\u003c\\/ul\u003e\\n\\t\\t\u003c\\/li\u003e\\n\\t\u003c\\/ul\u003e\\n\\t\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eQuick and dirty test (to measure wallclock times for multiplying RealMatrixImpls using the original method (currently in svn), the getEntry() method (from the original patch submission), and the rolled back method (using data[][] as fallback). My test times on a 64-bit AMD dual-core laptop with 2GB RAM is shown below:\u003c\\/p\u003e\\n\\n\u003cp\u003esize               data[][]  getEntry()  restored data[][]\u003cbr\\/\u003e\\n\u003cspan class=\\\"error\\\"\u003e&#91;3x2&#93;\u003c\\/span\u003e*\u003cspan class=\\\"error\\\"\u003e&#91;2x4&#93;\u003c\\/span\u003e          0ms         0ms           0ms\u003cbr\\/\u003e\\n\u003cspan class=\\\"error\\\"\u003e&#91;6x4&#93;\u003c\\/span\u003e*\u003cspan class=\\\"error\\\"\u003e&#91;4x8&#93;\u003c\\/span\u003e)         0ms         0ms           0ms\u003cbr\\/\u003e\\n\u003cspan class=\\\"error\\\"\u003e&#91;12x8&#93;\u003c\\/span\u003e*\u003cspan class=\\\"error\\\"\u003e&#91;8x16&#93;\u003c\\/span\u003e)       1ms         0ms           0ms\u003cbr\\/\u003e\\n\u003cspan class=\\\"error\\\"\u003e&#91;24x16&#93;\u003c\\/span\u003e*\u003cspan class=\\\"error\\\"\u003e&#91;16x32&#93;\u003c\\/span\u003e      2ms         2ms           2ms\u003cbr\\/\u003e\\n\u003cspan class=\\\"error\\\"\u003e&#91;48x32&#93;\u003c\\/span\u003e*\u003cspan class=\\\"error\\\"\u003e&#91;32x64&#93;\u003c\\/span\u003e)     14ms        16ms          23ms\u003cbr\\/\u003e\\n\u003cspan class=\\\"error\\\"\u003e&#91;96x64&#93;\u003c\\/span\u003e*\u003cspan class=\\\"error\\\"\u003e&#91;64x128&#93;\u003c\\/span\u003e     2ms         3ms           3ms\u003cbr\\/\u003e\\n\u003cspan class=\\\"error\\\"\u003e&#91;192x128&#93;\u003c\\/span\u003e*\u003cspan class=\\\"error\\\"\u003e&#91;128x256&#93;\u003c\\/span\u003e  24ms        50ms          28ms\u003cbr\\/\u003e\\n\u003cspan class=\\\"error\\\"\u003e&#91;384x256&#93;\u003c\\/span\u003e*\u003cspan class=\\\"error\\\"\u003e&#91;256x512&#93;\u003c\\/span\u003e  770ms       813ms         768ms\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12652497_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12652497_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Dec\\/08 20:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-02T20:16:31+0000\'\u003e02\\/Dec\\/08 20:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    \\n\\t \\n\\t \\n\\t\\t \\n\\t\\t \\n\\t\\t\\t Not for inclusion in svn, only meant to be used if necessary for verification of times below *** \\n\\t\\t \\n\\t\\t \\n\\t \\n\\t \\n \\n\\n\\n Quick and dirty test (to measure wallclock times for multiplying RealMatrixImpls using the original method (currently in svn), the getEntry() method (from the original patch submission), and the rolled back method (using data[][] as fallback). My test times on a 64-bit AMD dual-core laptop with 2GB RAM is shown below: \\n\\n size               data[][]  getEntry()  restored data[][] \\n &#91;3x2&#93; * &#91;2x4&#93;           0ms         0ms           0ms \\n &#91;6x4&#93; * &#91;4x8&#93; )         0ms         0ms           0ms \\n &#91;12x8&#93; * &#91;8x16&#93; )       1ms         0ms           0ms \\n &#91;24x16&#93; * &#91;16x32&#93;       2ms         2ms           2ms \\n &#91;48x32&#93; * &#91;32x64&#93; )     14ms        16ms          23ms \\n &#91;96x64&#93; * &#91;64x128&#93;      2ms         3ms           3ms \\n &#91;192x128&#93; * &#91;128x256&#93;   24ms        50ms          28ms \\n &#91;384x256&#93; * &#91;256x512&#93;   770ms       813ms         768ms              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12653566\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12653566&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12653566\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12653566_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12653566_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/08 00:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-05T00:40:34+0000\'\u003e05\\/Dec\\/08 00:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOne issue with the proposed implementation is that it causes excessive objective allocation. Each non-zero entry involves a HashMap.Entry, a Point and a Double. This is quite inefficient in terms of memory usage.\u003c\\/p\u003e\\n\\n\u003cp\u003eOne alternative would be to use a specialised HashMap with open addressing that would only take double primitives as values (similar to TObjectDoubleHashMap from Trove). Using this approach, the only object would be Point. It\'s possible to avoid that too, but that\'s more complicated (look at Colt\'s SparseDoubleMatrix2D for an example).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12653566_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12653566_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/08 00:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-05T00:40:34+0000\'\u003e05\\/Dec\\/08 00:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    One issue with the proposed implementation is that it causes excessive objective allocation. Each non-zero entry involves a HashMap.Entry, a Point and a Double. This is quite inefficient in terms of memory usage. \\n\\n One alternative would be to use a specialised HashMap with open addressing that would only take double primitives as values (similar to TObjectDoubleHashMap from Trove). Using this approach, the only object would be Point. It\'s possible to avoid that too, but that\'s more complicated (look at Colt\'s SparseDoubleMatrix2D for an example).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12653609\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12653609&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12653609\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12653609_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12653609_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/08 03:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-05T03:40:46+0000\'\u003e05\\/Dec\\/08 03:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for the pointer to TObjectDoubleHashMap. So basically what you\u003cbr\\/\u003e\\nare suggesting is for the incoming (x,y) object, whatever that is, to be\u003cbr\\/\u003e\\nhashed to a single int object which is modded against the internal\u003cbr\\/\u003e\\none-dimensional array length. Finally the hash\\/mod result needs to be\u003cbr\\/\u003e\\nchecked against the internal double array to see if it is already\u003cbr\\/\u003e\\noccupied, and if so, another location should be found.\u003c\\/p\u003e\\n\\n\u003cp\u003eHere are the relevant links:\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/trove4j.cvs.sourceforge.net\\/viewvc\\/trove4j\\/trove\\/src\\/gnu\\/trove\\/TObjectDoubleHashMap.java?hideattic=0&amp;revision=1.16&amp;view=markup\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/trove4j.cvs.sourceforge.net\\/viewvc\\/trove4j\\/trove\\/src\\/gnu\\/trove\\/TObjectDoubleHashMap.java?hideattic=0&amp;revision=1.16&amp;view=markup\u003c\\/a\u003e\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/trove4j.cvs.sourceforge.net\\/viewvc\\/trove4j\\/trove\\/src\\/gnu\\/trove\\/TObjectHash.java?hideattic=0&amp;revision=1.26&amp;view=markup\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/trove4j.cvs.sourceforge.net\\/viewvc\\/trove4j\\/trove\\/src\\/gnu\\/trove\\/TObjectHash.java?hideattic=0&amp;revision=1.26&amp;view=markup\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eThat \\/would\\/ definitely decrease the size of the matrix, but would make\u003cbr\\/\u003e\\nthe get\\/set code quite complex, unless one could use (something like)\u003cbr\\/\u003e\\ntrove4j as a dependency.\u003c\\/p\u003e\\n\\n\u003cp\u003eRather than add this impl, then, it may be better to open the door for\u003cbr\\/\u003e\\nextension (via the suggestion in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/MATH-231\\\" title=\\\"User-extendable Abstract RealMatrix implementation\\\" class=\\\"issue-link\\\" data-issue-key=\\\"MATH-231\\\"\u003e\u003cdel\u003eMATH-231\u003c\\/del\u003e\u003c\\/a\u003e) and let the client (who will\u003cbr\\/\u003e\\nprobably find it easier to add different jars as dependencies) do the\u003cbr\\/\u003e\\nextension as he desires?\u003c\\/p\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12653609_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12653609_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/08 03:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-05T03:40:46+0000\'\u003e05\\/Dec\\/08 03:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for the pointer to TObjectDoubleHashMap. So basically what you \\nare suggesting is for the incoming (x,y) object, whatever that is, to be \\nhashed to a single int object which is modded against the internal \\none-dimensional array length. Finally the hash\\/mod result needs to be \\nchecked against the internal double array to see if it is already \\noccupied, and if so, another location should be found. \\n\\n Here are the relevant links: \\n http:\\/\\/trove4j.cvs.sourceforge.net\\/viewvc\\/trove4j\\/trove\\/src\\/gnu\\/trove\\/TObjectDoubleHashMap.java?hideattic=0&amp;revision=1.16&amp;view=markup  \\n http:\\/\\/trove4j.cvs.sourceforge.net\\/viewvc\\/trove4j\\/trove\\/src\\/gnu\\/trove\\/TObjectHash.java?hideattic=0&amp;revision=1.26&amp;view=markup  \\n\\n That \\/would\\/ definitely decrease the size of the matrix, but would make \\nthe get\\/set code quite complex, unless one could use (something like) \\ntrove4j as a dependency. \\n\\n Rather than add this impl, then, it may be better to open the door for \\nextension (via the suggestion in   MATH-231  ) and let the client (who will \\nprobably find it easier to add different jars as dependencies) do the \\nextension as he desires? \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12653805\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12653805&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12653805\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12653805_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12653805_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/08 14:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-05T14:48:58+0000\'\u003e05\\/Dec\\/08 14:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOr we could just add the appropriate specialised Map to commons-math. Are there objections to that? I could provide one, it\'s relatively easy to do. I think the best approach might even be one not mentioned above. Use a Map.Entry object with two ints and a double. This has a few advantages:\u003c\\/p\u003e\\n\\n\u003cp\u003e(1) We use chaining instead of open addressing, so we can use a higher load factor with good performance (e.g. 0.75 instead of 0.50). This should mitigate the additional memory used by the Map.Entry object.\u003c\\/p\u003e\\n\\n\u003cp\u003e(2) We use a single array of Map.Entry objects instead of two arrays (one for keys and one for values). When testing the performance for Scala HashMap implementations (which converts to bytecode very similar to the one generated by Java), it seems that using two arrays performs quite a bit worse (although the test was using Strings instead of primitives for the value)\u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e.\u003c\\/p\u003e\\n\\n\u003cp\u003e(3) Gets don\'t require any boxing if we provide a get(int, int) method (this is the same as using open addressing with primitives only though).\u003c\\/p\u003e\\n\\n\u003cp\u003eA rough sample of the implementation outline:\u003c\\/p\u003e\\n\\n\u003cp\u003eclass IntPairToDoubleHashMap {\u003cbr\\/\u003e\\n  static class Entry \u003c\\/p\u003e\\n{\\n    final int firstKey;\\n    final int secondKey;\\n    double value;\\n  }\\n\u003cp\u003e  int size;\u003cbr\\/\u003e\\n  Entry[] entries;\u003c\\/p\u003e\\n\\n\u003cp\u003e  double get(int firstKey, int secondKey)\u003cbr\\/\u003e\\n  double put(int firstKey, int secondKey, double value)\u003cbr\\/\u003e\\n}\u003c\\/p\u003e\\n\\n\u003cp\u003eThis would be an internal map for usage by SparseRealMatrixImpl. I think HotSpot would be able to inline calls to it, but we could also just have the relevant code in SparseMatrixImpl. I think it\'s important to provide an implementation that has the right performance characteristics by default.\u003c\\/p\u003e\\n\\n\u003cp\u003eWhat do you think?\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e \u003ca href=\\\"http:\\/\\/www.nabble.com\\/-scala--Open-versus-Chained-HashMap-td19254845.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/www.nabble.com\\/-scala--Open-versus-Chained-HashMap-td19254845.html\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12653805_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12653805_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/08 14:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-05T14:48:58+0000\'\u003e05\\/Dec\\/08 14:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Or we could just add the appropriate specialised Map to commons-math. Are there objections to that? I could provide one, it\'s relatively easy to do. I think the best approach might even be one not mentioned above. Use a Map.Entry object with two ints and a double. This has a few advantages: \\n\\n (1) We use chaining instead of open addressing, so we can use a higher load factor with good performance (e.g. 0.75 instead of 0.50). This should mitigate the additional memory used by the Map.Entry object. \\n\\n (2) We use a single array of Map.Entry objects instead of two arrays (one for keys and one for values). When testing the performance for Scala HashMap implementations (which converts to bytecode very similar to the one generated by Java), it seems that using two arrays performs quite a bit worse (although the test was using Strings instead of primitives for the value) &#91;1&#93; . \\n\\n (3) Gets don\'t require any boxing if we provide a get(int, int) method (this is the same as using open addressing with primitives only though). \\n\\n A rough sample of the implementation outline: \\n\\n class IntPairToDoubleHashMap { \\n  static class Entry  \\n{\\n    final int firstKey;\\n    final int secondKey;\\n    double value;\\n  }\\n   int size; \\n  Entry[] entries; \\n\\n   double get(int firstKey, int secondKey) \\n  double put(int firstKey, int secondKey, double value) \\n} \\n\\n This would be an internal map for usage by SparseRealMatrixImpl. I think HotSpot would be able to inline calls to it, but we could also just have the relevant code in SparseMatrixImpl. I think it\'s important to provide an implementation that has the right performance characteristics by default. \\n\\n What do you think? \\n\\n  &#91;1&#93;   http:\\/\\/www.nabble.com\\/-scala--Open-versus-Chained-HashMap-td19254845.html               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12653887\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12653887&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12653887\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12653887_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12653887_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/08 18:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-05T18:34:42+0000\'\u003e05\\/Dec\\/08 18:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt;&gt; Or we could just add the appropriate specialised Map to commons-math. Are there objections to that?\u003cbr\\/\u003e\\nI cannot answer this one, since I am not a developer on the project - my observation is that there are no dependencies for this project save the JDK, which leads me to believe that there may have been a concious decision to keep it that way, but I could be wrong. As for adding it into commons-math, my personal opinion is that it belongs in a data structure package such as commons-collections or such, but thats just my view.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;&gt; I think it\'s important to provide an implementation that has the right performance characteristics \u003cbr\\/\u003e\\n&gt;&gt; by default.\u003cbr\\/\u003e\\nI completely agree. And the open\\/chained hashmap would definitely be more appropriate in a memory constrained environment where a SparseMatrix would be considered, than my Map&lt;Point,Double&gt;.\u003c\\/p\u003e\\n\\n\u003cp\u003eAnd if it is implemented as a private inner class, then it is visible only from within the implementation, so I think there should be no issues. And it would be completely justifiable, since we are basically creating a fast data structure to serve the impl.\u003c\\/p\u003e\\n\\n\u003cp\u003eHowever, it is already assigned to be reviewed, so I am guessing that when Luc gets to this bug, he will post his review. FWIW, I think that if we do end up including the SparseMatrixImpl, then definitely your approach with the open\\/chained hashmap would be preferable to the one thats in there. If you have th bandwidth to build it, then I think it may be quite helpful.\u003c\\/p\u003e\\n\\n\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12653887_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12653887_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/08 18:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-05T18:34:42+0000\'\u003e05\\/Dec\\/08 18:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt;&gt; Or we could just add the appropriate specialised Map to commons-math. Are there objections to that? \\nI cannot answer this one, since I am not a developer on the project - my observation is that there are no dependencies for this project save the JDK, which leads me to believe that there may have been a concious decision to keep it that way, but I could be wrong. As for adding it into commons-math, my personal opinion is that it belongs in a data structure package such as commons-collections or such, but thats just my view. \\n\\n &gt;&gt; I think it\'s important to provide an implementation that has the right performance characteristics  \\n&gt;&gt; by default. \\nI completely agree. And the open\\/chained hashmap would definitely be more appropriate in a memory constrained environment where a SparseMatrix would be considered, than my Map&lt;Point,Double&gt;. \\n\\n And if it is implemented as a private inner class, then it is visible only from within the implementation, so I think there should be no issues. And it would be completely justifiable, since we are basically creating a fast data structure to serve the impl. \\n\\n However, it is already assigned to be reviewed, so I am guessing that when Luc gets to this bug, he will post his review. FWIW, I think that if we do end up including the SparseMatrixImpl, then definitely your approach with the open\\/chained hashmap would be preferable to the one thats in there. If you have th bandwidth to build it, then I think it may be quite helpful. \\n\\n\\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12653888\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12653888&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12653888\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12653888_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12653888_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/08 18:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-05T18:39:40+0000\'\u003e05\\/Dec\\/08 18:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYes, when I said \\\"add the appropriate specialised Map to commons-math\\\", I meant it as an internal implementation detail of SparseRealMatrixImpl. I will try to post something here during the weekend and we\'ll let Luc decide.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12653888_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12653888_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/08 18:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-05T18:39:40+0000\'\u003e05\\/Dec\\/08 18:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yes, when I said \\\"add the appropriate specialised Map to commons-math\\\", I meant it as an internal implementation detail of SparseRealMatrixImpl. I will try to post something here during the weekend and we\'ll let Luc decide.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12654003\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12654003&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12654003\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12654003_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12654003_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/08 00:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-06T00:35:39+0000\'\u003e06\\/Dec\\/08 00:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI looked into this more carefully and I have a few comments (note that I don\'t speak for commons-math, just an interested onlooker who might use it in the near future):\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eThere have been a few commits after the patch was generated that make it not apply anymore.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eI am not sure if extending RealMatrixImpl is the right approach. Stuff like the following is a red flag.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003epublic double[][] getData() \u003c\\/p\u003e\\n{\\n        throw new UnsupportedOperationException(\\n            \\\"Not supported because sparse matrices are usually chosen when \\\" +\\n            \\\"the matrix to be modeled is too large to fit into memory, trying \\\" +\\n            \\\"to build the data array from this may result in an OutOfMemoryException.\\\");\\n    }\\n\\n\u003cp\u003eAlso, it seems to override most (if not all) of the methods. Is it perhaps better to introduce an AbstractRealMatrix containing the shared methods and have both RealMatrixImpl and SparseRealMatrix extend it? I notice that this won\'t fix the getData() issue though, would it make sense to move that method into the dense matrix? (only possible if 2.0 can break compatibility).\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eThe following code in SparseRealMatrixImpl.setEntry does not need the containsKey call, remove can be called directly (avoiding an unnecessary look-up):\u003cbr\\/\u003e\\n            \\/\\/ if an entry exists, remove it\u003cbr\\/\u003e\\n            if (entries.containsKey(point)) \\n{\\n                entries.remove(point);\\n            }\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eThere is another case of containsKey that is unnecessary because it\'s followed by a get after it, but once the specialised map exists the code will be even simpler so we can leave that for later.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12654003_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12654003_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/08 00:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-06T00:35:39+0000\'\u003e06\\/Dec\\/08 00:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I looked into this more carefully and I have a few comments (note that I don\'t speak for commons-math, just an interested onlooker who might use it in the near future): \\n\\n \\n\\t There have been a few commits after the patch was generated that make it not apply anymore. \\n \\n\\n\\n \\n\\t I am not sure if extending RealMatrixImpl is the right approach. Stuff like the following is a red flag. \\n \\n\\n\\n public double[][] getData()  \\n{\\n        throw new UnsupportedOperationException(\\n            \\\"Not supported because sparse matrices are usually chosen when \\\" +\\n            \\\"the matrix to be modeled is too large to fit into memory, trying \\\" +\\n            \\\"to build the data array from this may result in an OutOfMemoryException.\\\");\\n    }\\n\\n Also, it seems to override most (if not all) of the methods. Is it perhaps better to introduce an AbstractRealMatrix containing the shared methods and have both RealMatrixImpl and SparseRealMatrix extend it? I notice that this won\'t fix the getData() issue though, would it make sense to move that method into the dense matrix? (only possible if 2.0 can break compatibility). \\n\\n \\n\\t The following code in SparseRealMatrixImpl.setEntry does not need the containsKey call, remove can be called directly (avoiding an unnecessary look-up): \\n            \\/\\/ if an entry exists, remove it \\n            if (entries.containsKey(point)) \\n{\\n                entries.remove(point);\\n            } \\n \\n\\n\\n There is another case of containsKey that is unnecessary because it\'s followed by a get after it, but once the specialised map exists the code will be even simpler so we can leave that for later.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12654033\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12654033&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12654033\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12654033_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12654033_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/08 04:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-06T04:41:24+0000\'\u003e06\\/Dec\\/08 04:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAn initial untested implementation of the IntPairToDoubleHashMap. It doesn\'t have javadoc and does not implement a custom Serialization mechanism yet.  If Luc agrees that this class should be used, I will add some tests and polish it up.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12654033_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12654033_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/08 04:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-06T04:41:24+0000\'\u003e06\\/Dec\\/08 04:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    An initial untested implementation of the IntPairToDoubleHashMap. It doesn\'t have javadoc and does not implement a custom Serialization mechanism yet.  If Luc agrees that this class should be used, I will add some tests and polish it up.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12654126\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12654126&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12654126\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12654126_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12654126_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/08 16:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-06T16:29:30+0000\'\u003e06\\/Dec\\/08 16:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eInstead of using an IntPairToDoubleHashMap, we can use a IntToDoubleHashMap and simply do compute (row * columnCount + column) to find the key. This means that we have one less int in each Entry object. With this change, it starts to look like an open addressed hash map might be better. I will work on that next.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12654126_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12654126_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/08 16:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-06T16:29:30+0000\'\u003e06\\/Dec\\/08 16:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Instead of using an IntPairToDoubleHashMap, we can use a IntToDoubleHashMap and simply do compute (row * columnCount + column) to find the key. This means that we have one less int in each Entry object. With this change, it starts to look like an open addressed hash map might be better. I will work on that next.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12654131\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12654131&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12654131\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"luc\\\" id=\\\"commentauthor_12654131_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=luc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"luc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Luc Maisonobe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12654131_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/08 16:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-06T16:43:58+0000\'\u003e06\\/Dec\\/08 16:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI will try to fix \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/MATH-231\\\" title=\\\"User-extendable Abstract RealMatrix implementation\\\" class=\\\"issue-link\\\" data-issue-key=\\\"MATH-231\\\"\u003e\u003cdel\u003eMATH-231\u003c\\/del\u003e\u003c\\/a\u003e soon if possible. This could help simplify the fix for this issue as well.\u003cbr\\/\u003e\\nI will let you polish your solution and check it afterwards.\u003cbr\\/\u003e\\nPlease, don\'t assume I am the one who decides, here. I am just one developer among others in this community project.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"luc\\\" id=\\\"commentauthor_12654131_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=luc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"luc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Luc Maisonobe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12654131_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/08 16:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-06T16:43:58+0000\'\u003e06\\/Dec\\/08 16:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I will try to fix   MATH-231   soon if possible. This could help simplify the fix for this issue as well. \\nI will let you polish your solution and check it afterwards. \\nPlease, don\'t assume I am the one who decides, here. I am just one developer among others in this community project.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12654132\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12654132&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12654132\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12654132_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12654132_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/08 16:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-06T16:49:22+0000\'\u003e06\\/Dec\\/08 16:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI wasn\'t aware of that ticket. Indeed that would simplify things. Thanks for looking into it.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12654132_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12654132_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/08 16:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-06T16:49:22+0000\'\u003e06\\/Dec\\/08 16:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I wasn\'t aware of that ticket. Indeed that would simplify things. Thanks for looking into it.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12654219\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12654219&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12654219\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"luc\\\" id=\\\"commentauthor_12654219_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=luc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"luc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Luc Maisonobe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12654219_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Dec\\/08 17:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-07T17:03:19+0000\'\u003e07\\/Dec\\/08 17:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eissue \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/MATH-231\\\" title=\\\"User-extendable Abstract RealMatrix implementation\\\" class=\\\"issue-link\\\" data-issue-key=\\\"MATH-231\\\"\u003e\u003cdel\u003eMATH-231\u003c\\/del\u003e\u003c\\/a\u003e has been fixed now.\u003cbr\\/\u003e\\nCould you update your patch to make it consistent with the new abstract class ?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"luc\\\" id=\\\"commentauthor_12654219_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=luc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"luc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Luc Maisonobe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12654219_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Dec\\/08 17:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-07T17:03:19+0000\'\u003e07\\/Dec\\/08 17:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    issue   MATH-231   has been fixed now. \\nCould you update your patch to make it consistent with the new abstract class ?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12654257\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12654257&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12654257\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12654257_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12654257_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Dec\\/08 23:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-07T23:12:24+0000\'\u003e07\\/Dec\\/08 23:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis attachment includes:\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eSparseRealMatrixImpl from Sujit (renamed to SparseRealMatrix).\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eChanges to SparseRealMatrix to use AbstractRealMatrix.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eChanges to SparseRealMatrixTest to use LUSolver.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eOpenIntToDoubleHashMap as a static inner class of SparseRealMatrix. The former is an open addressed hash map that does not create any wrapper objects. It uses a int[], double[] and byte[] to store the entries. The hashing scheme is based on Python\'s dict (a highly optimised hash map written in C because the runtime uses it for almost everything).\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eOpenIntToDoubleHashMapTest.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eChanges to SparseRealMatrix to use OpenIntToDoubleHashMap.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eMatrixUtils.createSparseRealMatrix from Sujit\'s patch.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eChanges to a couple of check methods in AbstractRealMatrix so that they\'re protected final instead of private.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eThere are a few things from Sujit\'s patch that this one does not include:\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eRealMatrixImpl changes. I don\'t think these are necessary anymore.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eMatrixUtils.getRealMatrixInstance (not sure what this is for).\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eLUDecomposition changes.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eIn SparseRealMatrixImpl.setSubMatrix, there were some additional checks if entries.size() == 0. Are those still needed?\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eBecause of the missing LUDecomposition changes, some tests in SparseRealMatrixTest are failing. I am going to be away for a few days, so if Sujit or anyone else wants to update LUDecomposition to work with any matrix type, that would be good. On the other hand, perhaps those changes could be in a separate bug since adding the SparseRealMatrix is a decent amount of work on its own.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12654257_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12654257_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Dec\\/08 23:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-07T23:12:24+0000\'\u003e07\\/Dec\\/08 23:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This attachment includes: \\n\\n \\n\\t SparseRealMatrixImpl from Sujit (renamed to SparseRealMatrix). \\n \\n\\n\\n \\n\\t Changes to SparseRealMatrix to use AbstractRealMatrix. \\n \\n\\n\\n \\n\\t Changes to SparseRealMatrixTest to use LUSolver. \\n \\n\\n\\n \\n\\t OpenIntToDoubleHashMap as a static inner class of SparseRealMatrix. The former is an open addressed hash map that does not create any wrapper objects. It uses a int[], double[] and byte[] to store the entries. The hashing scheme is based on Python\'s dict (a highly optimised hash map written in C because the runtime uses it for almost everything). \\n \\n\\n\\n \\n\\t OpenIntToDoubleHashMapTest. \\n \\n\\n\\n \\n\\t Changes to SparseRealMatrix to use OpenIntToDoubleHashMap. \\n \\n\\n\\n \\n\\t MatrixUtils.createSparseRealMatrix from Sujit\'s patch. \\n \\n\\n\\n \\n\\t Changes to a couple of check methods in AbstractRealMatrix so that they\'re protected final instead of private. \\n \\n\\n\\n There are a few things from Sujit\'s patch that this one does not include: \\n\\n \\n\\t RealMatrixImpl changes. I don\'t think these are necessary anymore. \\n \\n\\n\\n \\n\\t MatrixUtils.getRealMatrixInstance (not sure what this is for). \\n \\n\\n\\n \\n\\t LUDecomposition changes. \\n \\n\\n\\n \\n\\t In SparseRealMatrixImpl.setSubMatrix, there were some additional checks if entries.size() == 0. Are those still needed? \\n \\n\\n\\n Because of the missing LUDecomposition changes, some tests in SparseRealMatrixTest are failing. I am going to be away for a few days, so if Sujit or anyone else wants to update LUDecomposition to work with any matrix type, that would be good. On the other hand, perhaps those changes could be in a separate bug since adding the SparseRealMatrix is a decent amount of work on its own.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12654270\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12654270&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12654270\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12654270_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12654270_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Dec\\/08 01:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-08T01:11:58+0000\'\u003e08\\/Dec\\/08 01:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAdded a few more tests to increase coverage to 100% and add License header to one file.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12654270_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12654270_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Dec\\/08 01:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-08T01:11:58+0000\'\u003e08\\/Dec\\/08 01:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Added a few more tests to increase coverage to 100% and add License header to one file.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12654519\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12654519&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12654519\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12654519_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12654519_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Dec\\/08 19:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-08T19:01:08+0000\'\u003e08\\/Dec\\/08 19:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for doing this Ismael &#8211; I will take a look at the patch tonight as well as the new code that Luc has put in for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/MATH-231\\\" title=\\\"User-extendable Abstract RealMatrix implementation\\\" class=\\\"issue-link\\\" data-issue-key=\\\"MATH-231\\\"\u003e\u003cdel\u003eMATH-231\u003c\\/del\u003e\u003c\\/a\u003e and update it. Thanks for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/MATH-231\\\" title=\\\"User-extendable Abstract RealMatrix implementation\\\" class=\\\"issue-link\\\" data-issue-key=\\\"MATH-231\\\"\u003e\u003cdel\u003eMATH-231\u003c\\/del\u003e\u003c\\/a\u003e Luc.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12654519_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12654519_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Dec\\/08 19:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-08T19:01:08+0000\'\u003e08\\/Dec\\/08 19:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for doing this Ismael &#8211; I will take a look at the patch tonight as well as the new code that Luc has put in for   MATH-231   and update it. Thanks for   MATH-231   Luc.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12655323\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12655323&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12655323\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"luc\\\" id=\\\"commentauthor_12655323_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=luc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"luc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Luc Maisonobe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12655323_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Dec\\/08 19:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-10T19:20:00+0000\'\u003e10\\/Dec\\/08 19:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have reviewed the path, I am basically OK with it.\u003cbr\\/\u003e\\nThe only thing that bothers me is the design decision to use a static inner class for OpenIntToDoubleHashMap. Since we already have a util package with a ResizableDoubleArray, I think it could be put there too and referenced from SparseRealMatrix. It doesn\'t seem to be too specialized as a strorage for matrices, and even uses a single integer as a key. So it could perhaps be made public.\u003cbr\\/\u003e\\nBill Barker also said he would review the patch on the dev list. Let\'s wait for his comments.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"luc\\\" id=\\\"commentauthor_12655323_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=luc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"luc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Luc Maisonobe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12655323_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Dec\\/08 19:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-10T19:20:00+0000\'\u003e10\\/Dec\\/08 19:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have reviewed the path, I am basically OK with it. \\nThe only thing that bothers me is the design decision to use a static inner class for OpenIntToDoubleHashMap. Since we already have a util package with a ResizableDoubleArray, I think it could be put there too and referenced from SparseRealMatrix. It doesn\'t seem to be too specialized as a strorage for matrices, and even uses a single integer as a key. So it could perhaps be made public. \\nBill Barker also said he would review the patch on the dev list. Let\'s wait for his comments.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12655330\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12655330&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12655330\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12655330_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12655330_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Dec\\/08 19:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-10T19:40:12+0000\'\u003e10\\/Dec\\/08 19:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI don\'t have a strong opinion either way. It currently only implements the methods that are needed by SparseRealMatrix so if we were to move it to the util package, it would probably be a good idea to add at least two methods:\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eboolean containsKey(int) since map.get(key) == 0.0 only works if one never inserts 0.0 into the Map (which is the case for SparseRealMatrix).\u003c\\/li\u003e\\n\\t\u003cli\u003eint[] keys() that would return all the keys in the map allowing iteration.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eThis would expose a basic set of operations. Convenience methods could then be added later if and when needed.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12655330_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12655330_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Dec\\/08 19:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-10T19:40:12+0000\'\u003e10\\/Dec\\/08 19:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I don\'t have a strong opinion either way. It currently only implements the methods that are needed by SparseRealMatrix so if we were to move it to the util package, it would probably be a good idea to add at least two methods: \\n\\n \\n\\t boolean containsKey(int) since map.get(key) == 0.0 only works if one never inserts 0.0 into the Map (which is the case for SparseRealMatrix). \\n\\t int[] keys() that would return all the keys in the map allowing iteration. \\n \\n\\n\\n This would expose a basic set of operations. Convenience methods could then be added later if and when needed.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12655868\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12655868&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12655868\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12655868_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12655868_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/08 03:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-12T03:02:39+0000\'\u003e12\\/Dec\\/08 03:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eApologies for not getting back earlier on this, I had a chance to look at the diff this morning. I will work on making the SparseMatrix tests pass this evening and post the patch tomorrow morning.\u003c\\/p\u003e\\n\\n\u003cp\u003eHowever, looking at the patch, I notice that this method is used to find the key to the internal map for storing the entry:\u003c\\/p\u003e\\n\\n\u003cp\u003e+    private int computeKey(int row, int column) \u003c\\/p\u003e\\n{\\n+        return row * columnDimension + column;\\n+    }\\n\\n\u003cp\u003eThis effectively flattens out the matrix so a matrix like this:\u003cbr\\/\u003e\\n1 2 3 4\u003cbr\\/\u003e\\n5 6 7 8\u003cbr\\/\u003e\\n9 10 11 12\u003cbr\\/\u003e\\nis flattened out to:\u003cbr\\/\u003e\\n1 2 3 4 5 6 7 8 9 10 11 12\u003c\\/p\u003e\\n\\n\u003cp\u003eNow if you wanted to look for entry (1,2) you look for entry (1*4 + 2) = 6. So we will always get a unique key for a given matrix position, given that by specifying the row and column dimension we are always specifying a fixed size rectangular matrix. \u003c\\/p\u003e\\n\\n\u003cp\u003eThis is quite beautiful and clever (note to Ismael: Thanks for doing this, and I wish I had thought of this \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e). \u003c\\/p\u003e\\n\\n\u003cp\u003eBut the question is: do we still need an open-addressed map structure? It seems to me that we can now just represent the sparse matrix internally with a Map&lt;Integer,Double&gt;? That way we don\'t even have to think about whether we want to put it as an inner class or in utils.\u003c\\/p\u003e\\n\\n\u003cp\u003eThoughts?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12655868_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12655868_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/08 03:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-12T03:02:39+0000\'\u003e12\\/Dec\\/08 03:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Apologies for not getting back earlier on this, I had a chance to look at the diff this morning. I will work on making the SparseMatrix tests pass this evening and post the patch tomorrow morning. \\n\\n However, looking at the patch, I notice that this method is used to find the key to the internal map for storing the entry: \\n\\n +    private int computeKey(int row, int column)  \\n{\\n+        return row * columnDimension + column;\\n+    }\\n\\n This effectively flattens out the matrix so a matrix like this: \\n1 2 3 4 \\n5 6 7 8 \\n9 10 11 12 \\nis flattened out to: \\n1 2 3 4 5 6 7 8 9 10 11 12 \\n\\n Now if you wanted to look for entry (1,2) you look for entry (1*4 + 2) = 6. So we will always get a unique key for a given matrix position, given that by specifying the row and column dimension we are always specifying a fixed size rectangular matrix.  \\n\\n This is quite beautiful and clever (note to Ismael: Thanks for doing this, and I wish I had thought of this  ).  \\n\\n But the question is: do we still need an open-addressed map structure? It seems to me that we can now just represent the sparse matrix internally with a Map&lt;Integer,Double&gt;? That way we don\'t even have to think about whether we want to put it as an inner class or in utils. \\n\\n Thoughts?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12655953\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12655953&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12655953\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12655953_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12655953_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/08 10:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-12T10:17:08+0000\'\u003e12\\/Dec\\/08 10:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYes, we still need an open addressed map if we want to have good space characteristics. A comparison of how much space each entry takes for each case follows (note that I ignore the things that take constant space independent of the number of entries like size and such):\u003c\\/p\u003e\\n\\n\u003cp\u003eFor HashMap&lt;Integer,Double&gt;, assuming a 32-bit JVM (would be much worse for the 64-bit one) and that the map has reached the maximum load factor (in bytes):\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eMap.Entry object = 4 (key reference) + 4 (value reference) + 4 (next reference) + 4 (cached int hash) + 8 (JVM mark and klass)\u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e = 24 bytes\u003c\\/li\u003e\\n\\t\u003cli\u003eInteger object = 16 bytes\u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e\u003c\\/li\u003e\\n\\t\u003cli\u003eDouble object = 16 bytes (the reason why Integer and Double objects take the same space is due to alignment padding in Integer)\u003c\\/li\u003e\\n\\t\u003cli\u003eSpace in Map.Entry[] = 4 bytes \\/ 0.75 = 5.33 bytes\u003c\\/li\u003e\\n\\t\u003cli\u003eTotal = 41.33 bytes\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eFor OpentIntToDoubleHashMap, assuming a 32-bit JVM (would be similar in 64-bit JVM since it doesn\'t rely on pointers in the non constant variables) that the map has reached the maximum load factor (in bytes):\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eSpace in byte[] = 1 byte \\/ 0.50 (load factor) = 2 bytes\u003c\\/li\u003e\\n\\t\u003cli\u003eSpace in double[] = 8 bytes \\/ 0.50 (load factor) = 16 bytes\u003c\\/li\u003e\\n\\t\u003cli\u003eSpace in int[] = 4 bytes \\/ 0.50 (load factor) = 8 bytes\u003c\\/li\u003e\\n\\t\u003cli\u003eTotal = 26 bytes\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eSo, HashMap takes more than 50% more space for a 32-bit JVM and quite a bit more for the 64-bit one (since it\'s pointer heavy and alignment issues make it worse) and it\'s harder on the GC because all those Double, Integer and Map.Entry objects must be collected. Furthermore, the additional space doesn\'t even necessarily help with cache locality since Map.Entry only holds references to the actual objects (unfortunately, until we get value types, a.k.a. structs, we can\'t implement the ideal HashMap).\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e \u003ca href=\\\"http:\\/\\/blogs.sun.com\\/jrose\\/entry\\/fixnums_in_the_vm\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/blogs.sun.com\\/jrose\\/entry\\/fixnums_in_the_vm\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12655953_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12655953_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/08 10:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-12T10:17:08+0000\'\u003e12\\/Dec\\/08 10:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yes, we still need an open addressed map if we want to have good space characteristics. A comparison of how much space each entry takes for each case follows (note that I ignore the things that take constant space independent of the number of entries like size and such): \\n\\n For HashMap&lt;Integer,Double&gt;, assuming a 32-bit JVM (would be much worse for the 64-bit one) and that the map has reached the maximum load factor (in bytes): \\n\\n \\n\\t Map.Entry object = 4 (key reference) + 4 (value reference) + 4 (next reference) + 4 (cached int hash) + 8 (JVM mark and klass) &#91;1&#93;  = 24 bytes \\n\\t Integer object = 16 bytes &#91;1&#93;  \\n\\t Double object = 16 bytes (the reason why Integer and Double objects take the same space is due to alignment padding in Integer) \\n\\t Space in Map.Entry[] = 4 bytes \\/ 0.75 = 5.33 bytes \\n\\t Total = 41.33 bytes \\n \\n\\n\\n For OpentIntToDoubleHashMap, assuming a 32-bit JVM (would be similar in 64-bit JVM since it doesn\'t rely on pointers in the non constant variables) that the map has reached the maximum load factor (in bytes): \\n\\n \\n\\t Space in byte[] = 1 byte \\/ 0.50 (load factor) = 2 bytes \\n\\t Space in double[] = 8 bytes \\/ 0.50 (load factor) = 16 bytes \\n\\t Space in int[] = 4 bytes \\/ 0.50 (load factor) = 8 bytes \\n\\t Total = 26 bytes \\n \\n\\n\\n So, HashMap takes more than 50% more space for a 32-bit JVM and quite a bit more for the 64-bit one (since it\'s pointer heavy and alignment issues make it worse) and it\'s harder on the GC because all those Double, Integer and Map.Entry objects must be collected. Furthermore, the additional space doesn\'t even necessarily help with cache locality since Map.Entry only holds references to the actual objects (unfortunately, until we get value types, a.k.a. structs, we can\'t implement the ideal HashMap). \\n\\n  &#91;1&#93;   http:\\/\\/blogs.sun.com\\/jrose\\/entry\\/fixnums_in_the_vm               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12655968\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12655968&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12655968\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12655968_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12655968_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/08 10:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-12T10:50:17+0000\'\u003e12\\/Dec\\/08 10:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI should add that I was a bit conservative in the load factor of OpenIntHashMap. We can reduce the space of the OpenIntToDoubleHashMap to 19.69 bytes by using a load factor of 0.66 (which is the default for the python dict).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12655968_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12655968_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/08 10:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-12T10:50:17+0000\'\u003e12\\/Dec\\/08 10:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I should add that I was a bit conservative in the load factor of OpenIntHashMap. We can reduce the space of the OpenIntToDoubleHashMap to 19.69 bytes by using a load factor of 0.66 (which is the default for the python dict).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12656099\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12656099&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12656099\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12656099_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656099_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/08 18:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-12T18:34:22+0000\'\u003e12\\/Dec\\/08 18:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOk, thanks, now understand more fully the justification for the OpenIntHashMap, thanks for the lucid explanation.\u003c\\/p\u003e\\n\\n\u003cp\u003eI am uploading the following attachments:\u003cbr\\/\u003e\\n1) SparseMatrixImpl.java - extends AbstractRealMatrixImpl and uses the get\\/setEntry methods provided. Uses a static inner class OpenIntHashMap for data storage.\u003cbr\\/\u003e\\n2) SparseMatrixImplTest.java - all tests run except for the ones involving LUDecompositionImpl - they are testInverse() and testExamples(), commented out. The reason seems to be that LUDecompositionImpl wants the double[][] data array to work with, which is available only from a RealMatrixImpl.\u003cbr\\/\u003e\\n  It seems to be simple enough to replace the various lu\u003cspan class=\\\"error\\\"\u003e&#91;i&#93;\u003c\\/span\u003e\u003cspan class=\\\"error\\\"\u003e&#91;j&#93;\u003c\\/span\u003e calls with a local RealMatrix.get\\/setEntry() call, something like this:\u003cbr\\/\u003e\\n  \\/\\/ lu = realMatrix.data();\u003cbr\\/\u003e\\n  RealMatrix rm = realMatrix.copy();\u003cbr\\/\u003e\\n ...\u003cbr\\/\u003e\\n  \\/\\/ lu\u003cspan class=\\\"error\\\"\u003e&#91;i&#93;\u003c\\/span\u003e\u003cspan class=\\\"error\\\"\u003e&#91;j&#93;\u003c\\/span\u003e = v;\u003cbr\\/\u003e\\n  rm.setEntry(i,j,v);\u003cbr\\/\u003e\\n ... etc.\u003cbr\\/\u003e\\n  But when I did this locally, I started getting errors about non singularity, and quite a few other tests began to fail, so I put the LUDecompositionImpl back to the svn version.\u003cbr\\/\u003e\\n  It may be better, as Ismael pointed out, to remove the getData() method out of the RealMatrix interface and move it to the RealMatrixImpl, since getData() probably makes sense for dense matrices.\u003cbr\\/\u003e\\n3) Changed AbstractRealMatrix.toString() to reflect the class name of the extending class. Changed visibility of checkRowIndex and checkColumnIndex from private to protected to allow usage within SparseMatrixImpl.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think the next step would be to make LUDecompositionImpl work without RealMatrix.getData() and use get\\/setEntry() methods instead.\u003c\\/p\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12656099_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656099_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/08 18:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-12T18:34:22+0000\'\u003e12\\/Dec\\/08 18:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Ok, thanks, now understand more fully the justification for the OpenIntHashMap, thanks for the lucid explanation. \\n\\n I am uploading the following attachments: \\n1) SparseMatrixImpl.java - extends AbstractRealMatrixImpl and uses the get\\/setEntry methods provided. Uses a static inner class OpenIntHashMap for data storage. \\n2) SparseMatrixImplTest.java - all tests run except for the ones involving LUDecompositionImpl - they are testInverse() and testExamples(), commented out. The reason seems to be that LUDecompositionImpl wants the double[][] data array to work with, which is available only from a RealMatrixImpl. \\n  It seems to be simple enough to replace the various lu &#91;i&#93;  &#91;j&#93;  calls with a local RealMatrix.get\\/setEntry() call, something like this: \\n  \\/\\/ lu = realMatrix.data(); \\n  RealMatrix rm = realMatrix.copy(); \\n ... \\n  \\/\\/ lu &#91;i&#93;  &#91;j&#93;  = v; \\n  rm.setEntry(i,j,v); \\n ... etc. \\n  But when I did this locally, I started getting errors about non singularity, and quite a few other tests began to fail, so I put the LUDecompositionImpl back to the svn version. \\n  It may be better, as Ismael pointed out, to remove the getData() method out of the RealMatrix interface and move it to the RealMatrixImpl, since getData() probably makes sense for dense matrices. \\n3) Changed AbstractRealMatrix.toString() to reflect the class name of the extending class. Changed visibility of checkRowIndex and checkColumnIndex from private to protected to allow usage within SparseMatrixImpl. \\n\\n I think the next step would be to make LUDecompositionImpl work without RealMatrix.getData() and use get\\/setEntry() methods instead. \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12656101\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12656101&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12656101\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12656101_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656101_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/08 18:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-12T18:36:03+0000\'\u003e12\\/Dec\\/08 18:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNew SparseRealMatrix impl\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12656101_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656101_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/08 18:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-12T18:36:03+0000\'\u003e12\\/Dec\\/08 18:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    New SparseRealMatrix impl              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12656103\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12656103&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12656103\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12656103_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656103_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/08 18:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-12T18:36:57+0000\'\u003e12\\/Dec\\/08 18:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003etest case with two tests involving LUDecompositionImpl commented out.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12656103_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656103_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/08 18:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-12T18:36:57+0000\'\u003e12\\/Dec\\/08 18:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    test case with two tests involving LUDecompositionImpl commented out.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12656104\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12656104&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12656104\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12656104_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656104_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/08 18:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-12T18:37:36+0000\'\u003e12\\/Dec\\/08 18:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003epatch for minor changes to AbstractRealMatrixImpl\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sujitpal\\\" id=\\\"commentauthor_12656104_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sujitpal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sujitpal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sujit Pal\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656104_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/08 18:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-12T18:37:36+0000\'\u003e12\\/Dec\\/08 18:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    patch for minor changes to AbstractRealMatrixImpl              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12656343\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12656343&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12656343\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"luc\\\" id=\\\"commentauthor_12656343_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=luc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"luc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Luc Maisonobe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656343_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/08 22:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-13T22:08:37+0000\'\u003e13\\/Dec\\/08 22:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'ve started applying the patch with slight changes (like curly braces, javadoc).\u003cbr\\/\u003e\\nThe most important change was to extract the map class and put it into the util packages, adding the containsKey() and keys() methods as suggested.\u003c\\/p\u003e\\n\\n\u003cp\u003eI have random test failures occurring in testRemove2(). The failures are triggered by the assertEquals(mapSize, map.size()) in the assertPutAndGet mathod called at the end of testRemove2(). mapSize was 2009 while map.size was 2010. I have succeded once (and only once) to trigger the failure under debugger. In that case, the key was -1035761067. It appeared in the map both at index 627 with status FULL and value 0.9939107277401076 and at index 1363 with status FREE and value 0.0. In the javaMap it was associated with value 0.21972202724338397. The load factor was 0.5 so array size was 4096 I think.\u003c\\/p\u003e\\n\\n\u003cp\u003eTrying to reuse the values above in a dedicated new test with various combinations of put and remove didn\'t reproduce the bug.\u003c\\/p\u003e\\n\\n\u003cp\u003eI don\'t understand what happens yet and since it appears randomly (due to the use of java.util.Random within the test), it is quite difficult to analyze.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"luc\\\" id=\\\"commentauthor_12656343_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=luc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"luc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Luc Maisonobe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656343_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/08 22:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-13T22:08:37+0000\'\u003e13\\/Dec\\/08 22:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'ve started applying the patch with slight changes (like curly braces, javadoc). \\nThe most important change was to extract the map class and put it into the util packages, adding the containsKey() and keys() methods as suggested. \\n\\n I have random test failures occurring in testRemove2(). The failures are triggered by the assertEquals(mapSize, map.size()) in the assertPutAndGet mathod called at the end of testRemove2(). mapSize was 2009 while map.size was 2010. I have succeded once (and only once) to trigger the failure under debugger. In that case, the key was -1035761067. It appeared in the map both at index 627 with status FULL and value 0.9939107277401076 and at index 1363 with status FREE and value 0.0. In the javaMap it was associated with value 0.21972202724338397. The load factor was 0.5 so array size was 4096 I think. \\n\\n Trying to reuse the values above in a dedicated new test with various combinations of put and remove didn\'t reproduce the bug. \\n\\n I don\'t understand what happens yet and since it appears randomly (due to the use of java.util.Random within the test), it is quite difficult to analyze.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12656344\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12656344&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12656344\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12656344_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656344_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/08 22:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-13T22:12:44+0000\'\u003e13\\/Dec\\/08 22:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eInteresting Luc. I will try to reproduce this. Thanks for the additional information.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12656344_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656344_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/08 22:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-13T22:12:44+0000\'\u003e13\\/Dec\\/08 22:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Interesting Luc. I will try to reproduce this. Thanks for the additional information.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12656345\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12656345&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12656345\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12656345_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656345_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/08 22:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-13T22:33:51+0000\'\u003e13\\/Dec\\/08 22:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAfter running the test suite a few times, I also got a failure. I should be able to create a test case that does not involve randomness by adding some code to track puts, gets and removes. By the way, the reason why the initial tests involved random numbers is precisely for their ability to find weird corner cases like this (similar to QuickCheck and ScalaCheck, but done manually). They are not the best way to narrow down the problem though. \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12656345_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656345_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/08 22:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-13T22:33:51+0000\'\u003e13\\/Dec\\/08 22:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    After running the test suite a few times, I also got a failure. I should be able to create a test case that does not involve randomness by adding some code to track puts, gets and removes. By the way, the reason why the initial tests involved random numbers is precisely for their ability to find weird corner cases like this (similar to QuickCheck and ScalaCheck, but done manually). They are not the best way to narrow down the problem though.                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12656357\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12656357&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12656357\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12656357_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656357_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Dec\\/08 01:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-14T01:37:52+0000\'\u003e14\\/Dec\\/08 01:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Ismael Juma - 14\\/Dec\\/08 01:41\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThat was a tricky one. Luc, since you\'ve done some changes to the code, it might be easier for me to just paste the methods that have changed.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn OpenIntToDoubleHashMapTest, please add:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e    \\/**\\n     * Regression test \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e a bug in findInsertionIndex where the hashing in the second probing\\n     * loop was inconsistent with the first causing duplicate keys after the right sequence\\n     * of puts and removes.\\n     *\\/\\n    \u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e void testPutKeysWithCollisions() {\\n        OpenIntToDoubleHashMap map = \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e OpenIntToDoubleHashMap();\\n        \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e key1 = -1996012590;\\n        \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e value1 = 1.0;\\n        map.put(key1, value1);\\n        \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e key2 = 835099822;\\n        map.put(key2, value1);\\n        \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e key3 = 1008859686;\\n        map.put(key3, value1);\\n        assertEquals(value1, map.get(key3));\\n        assertEquals(3, map.size());\\n        \\n        map.remove(key2);\\n        \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e value2 = 2.0;\\n        map.put(key3, value2);\\n        assertEquals(value2, map.get(key3));\\n        assertEquals(2, map.size());\\n    }\\n    \\n    \\/**\\n     * Similar to testPutKeysWithCollisions() but exercises the codepaths in a slightly\\n     * different manner.\\n     *\\/\\n    \u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e void testPutKeysWithCollision2() {\\n        OpenIntToDoubleHashMap map = \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e OpenIntToDoubleHashMap();\\n        \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e key1 = 837989881;\\n        \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e value1 = 1.0;\\n        map.put(key1, value1);\\n        \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e key2 = 476463321;\\n        map.put(key2, value1);\\n        assertEquals(2, map.size());\\n        assertEquals(value1, map.get(key2));\\n        \\n        map.remove(key1);\\n        \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e value2 = 2.0;\\n        map.put(key2, value2);\\n        assertEquals(1, map.size());\\n        assertEquals(value2, map.get(key2));\\n    }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eand also update setUp to be like (I added some negative keys just in case):\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e    @Override\\n    \u003cspan class=\\\"code-keyword\\\"\u003eprotected\u003c\\/span\u003e void setUp() \u003cspan class=\\\"code-keyword\\\"\u003ethrows\u003c\\/span\u003e Exception {\\n        javaMap.put(50, 100.0);\\n        javaMap.put(75, 75.0);\\n        javaMap.put(25, 500.0);\\n        javaMap.put(\u003cspan class=\\\"code-object\\\"\u003eInteger\u003c\\/span\u003e.MAX_VALUE, \u003cspan class=\\\"code-object\\\"\u003eDouble\u003c\\/span\u003e.MAX_VALUE);\\n        javaMap.put(0, -1.0);\\n        javaMap.put(1, 0.0);\\n        javaMap.put(33, -0.1);\\n        javaMap.put(23234234, -242343.0);\\n        javaMap.put(23321, \u003cspan class=\\\"code-object\\\"\u003eDouble\u003c\\/span\u003e.MIN_VALUE);\\n        javaMap.put(-4444, 332.0);\\n        javaMap.put(-1, -2323.0);\\n        javaMap.put(\u003cspan class=\\\"code-object\\\"\u003eInteger\u003c\\/span\u003e.MIN_VALUE, 44.0);\\n\\n        \u003cspan class=\\\"code-comment\\\"\u003e\\/* Add a few more to cause the table to rehash *\\/\u003c\\/span\u003e\\n        javaMap.putAll(generate());\\n\\n    }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eRun the tests and they should show at least one failure (I am not sure if the second collisions test will fail with the version you have, but I added it to verify a potential bug that I visually identified while modifying findInsertionIndex).\u003c\\/p\u003e\\n\\n\u003cp\u003eThen change findInsertionIndex to be like:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e        \u003cspan class=\\\"code-keyword\\\"\u003eprivate\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003estatic\u003c\\/span\u003e \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e findInsertionIndex(\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e[] keys, \u003cspan class=\\\"code-object\\\"\u003ebyte\u003c\\/span\u003e[] states,\\n                \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e key, \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e mask) {\\n            \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e hash = hashOf(key);\\n            \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e index = hash &amp; mask;\\n            \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (states[index] == FREE)\\n                \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e index;\\n            \u003cspan class=\\\"code-keyword\\\"\u003eelse\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (states[index] == FULL &amp;&amp; keys[index] == key)\\n                \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e changeIndexSign(index);\\n\\n            \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e perturb = perturb(hash);\\n            \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e j = index;\\n            \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (states[index] == FULL) {\\n                \u003cspan class=\\\"code-keyword\\\"\u003ewhile\u003c\\/span\u003e (\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e) {\\n                    j = probe(perturb, j);\\n                    index = j &amp; mask;\\n                    perturb &gt;&gt;= PERTURB_SHIFT;\\n                    \\n                    \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (states[index] != FULL || keys[index] == key)\\n                        \u003cspan class=\\\"code-keyword\\\"\u003ebreak\u003c\\/span\u003e;\\n                }\\n            }\\n            \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (states[index] == FREE)\\n                \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e index;\\n            \\/*\\n             * Due to the loop exit condition, \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (states[index] == FULL) then\\n             * keys[index] == key\\n             *\\/\\n            \u003cspan class=\\\"code-keyword\\\"\u003eelse\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (states[index] == FULL)\\n                \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e changeIndexSign(index);\\n\\n            \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e firstRemoved = index;\\n            \u003cspan class=\\\"code-keyword\\\"\u003ewhile\u003c\\/span\u003e (\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e) {\\n                j = probe(perturb, j);\\n                index = j &amp; mask;\\n\\n                \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (states[index] == FREE)\\n                    \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e firstRemoved;\\n                \u003cspan class=\\\"code-keyword\\\"\u003eelse\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (states[index] == FULL &amp;&amp; keys[index] == key)\\n                    \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e changeIndexSign(index);\\n\\n                perturb &gt;&gt;= PERTURB_SHIFT;\\n            }\\n        }\\n\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eAll tests should pass after that. Nice catch by the way, it was a nasty bug.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12656357_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656357_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Dec\\/08 01:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-14T01:37:52+0000\'\u003e14\\/Dec\\/08 01:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Ismael Juma - 14\\/Dec\\/08 01:41\\\"\u003eedited\u003c\\/span\u003e                   That was a tricky one. Luc, since you\'ve done some changes to the code, it might be easier for me to just paste the methods that have changed. \\n\\n In OpenIntToDoubleHashMapTest, please add: \\n\\n  \\n     \\/**\\n     * Regression test  for  a bug in findInsertionIndex where the hashing in the second probing\\n     * loop was inconsistent with the first causing duplicate keys after the right sequence\\n     * of puts and removes.\\n     *\\/\\n     public  void testPutKeysWithCollisions() {\\n        OpenIntToDoubleHashMap map =  new  OpenIntToDoubleHashMap();\\n         int  key1 = -1996012590;\\n         double  value1 = 1.0;\\n        map.put(key1, value1);\\n         int  key2 = 835099822;\\n        map.put(key2, value1);\\n         int  key3 = 1008859686;\\n        map.put(key3, value1);\\n        assertEquals(value1, map.get(key3));\\n        assertEquals(3, map.size());\\n        \\n        map.remove(key2);\\n         double  value2 = 2.0;\\n        map.put(key3, value2);\\n        assertEquals(value2, map.get(key3));\\n        assertEquals(2, map.size());\\n    }\\n    \\n    \\/**\\n     * Similar to testPutKeysWithCollisions() but exercises the codepaths in a slightly\\n     * different manner.\\n     *\\/\\n     public  void testPutKeysWithCollision2() {\\n        OpenIntToDoubleHashMap map =  new  OpenIntToDoubleHashMap();\\n         int  key1 = 837989881;\\n         double  value1 = 1.0;\\n        map.put(key1, value1);\\n         int  key2 = 476463321;\\n        map.put(key2, value1);\\n        assertEquals(2, map.size());\\n        assertEquals(value1, map.get(key2));\\n        \\n        map.remove(key1);\\n         double  value2 = 2.0;\\n        map.put(key2, value2);\\n        assertEquals(1, map.size());\\n        assertEquals(value2, map.get(key2));\\n    }\\n \\n  \\n and also update setUp to be like (I added some negative keys just in case): \\n\\n  \\n     @Override\\n     protected  void setUp()  throws  Exception {\\n        javaMap.put(50, 100.0);\\n        javaMap.put(75, 75.0);\\n        javaMap.put(25, 500.0);\\n        javaMap.put( Integer .MAX_VALUE,  Double .MAX_VALUE);\\n        javaMap.put(0, -1.0);\\n        javaMap.put(1, 0.0);\\n        javaMap.put(33, -0.1);\\n        javaMap.put(23234234, -242343.0);\\n        javaMap.put(23321,  Double .MIN_VALUE);\\n        javaMap.put(-4444, 332.0);\\n        javaMap.put(-1, -2323.0);\\n        javaMap.put( Integer .MIN_VALUE, 44.0);\\n\\n         \\/* Add a few more to cause the table to rehash *\\/ \\n        javaMap.putAll(generate());\\n\\n    }\\n \\n  \\n\\n Run the tests and they should show at least one failure (I am not sure if the second collisions test will fail with the version you have, but I added it to verify a potential bug that I visually identified while modifying findInsertionIndex). \\n\\n Then change findInsertionIndex to be like: \\n\\n  \\n          private   static   int  findInsertionIndex( int [] keys,  byte [] states,\\n                 int  key,  int  mask) {\\n             int  hash = hashOf(key);\\n             int  index = hash &amp; mask;\\n             if  (states[index] == FREE)\\n                 return  index;\\n             else   if  (states[index] == FULL &amp;&amp; keys[index] == key)\\n                 return  changeIndexSign(index);\\n\\n             int  perturb = perturb(hash);\\n             int  j = index;\\n             if  (states[index] == FULL) {\\n                 while  ( true ) {\\n                    j = probe(perturb, j);\\n                    index = j &amp; mask;\\n                    perturb &gt;&gt;= PERTURB_SHIFT;\\n                    \\n                     if  (states[index] != FULL || keys[index] == key)\\n                         break ;\\n                }\\n            }\\n             if  (states[index] == FREE)\\n                 return  index;\\n            \\/*\\n             * Due to the loop exit condition,  if  (states[index] == FULL) then\\n             * keys[index] == key\\n             *\\/\\n             else   if  (states[index] == FULL)\\n                 return  changeIndexSign(index);\\n\\n             int  firstRemoved = index;\\n             while  ( true ) {\\n                j = probe(perturb, j);\\n                index = j &amp; mask;\\n\\n                 if  (states[index] == FREE)\\n                     return  firstRemoved;\\n                 else   if  (states[index] == FULL &amp;&amp; keys[index] == key)\\n                     return  changeIndexSign(index);\\n\\n                perturb &gt;&gt;= PERTURB_SHIFT;\\n            }\\n        }\\n\\n \\n  \\n\\n All tests should pass after that. Nice catch by the way, it was a nasty bug.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12656394\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12656394&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12656394\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"luc\\\" id=\\\"commentauthor_12656394_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=luc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"luc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Luc Maisonobe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656394_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Dec\\/08 15:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-14T15:08:33+0000\'\u003e14\\/Dec\\/08 15:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003efixed in trunk as of r726460\u003c\\/p\u003e\\n\\n\u003cp\u003eThe map class has been put in the util packages. Iteration support has been added.\u003cbr\\/\u003e\\nTwo specialized implementations of add and subtract have been added to benefit from small number of elements when both matrices are sparse: we iterate only on the non-null elements.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"luc\\\" id=\\\"commentauthor_12656394_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=luc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"luc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Luc Maisonobe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656394_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Dec\\/08 15:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-14T15:08:33+0000\'\u003e14\\/Dec\\/08 15:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    fixed in trunk as of r726460 \\n\\n The map class has been put in the util packages. Iteration support has been added. \\nTwo specialized implementations of add and subtract have been added to benefit from small number of elements when both matrices are sparse: we iterate only on the non-null elements.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12656396\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12656396&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12656396\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12656396_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656396_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Dec\\/08 15:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-14T15:38:29+0000\'\u003e14\\/Dec\\/08 15:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Ismael Juma - 14\\/Dec\\/08 15:38\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for committing this Luc. Good point about specialised implementations of add and subtract. However, the current implementation has a lot of overhead due to the allocation of Entry objects. Since the iterator doesn\'t implement java.util.Iterator anyway, we can do better by using an iterator similar to Trove\'s. I will paste part of the javadoc below:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\\/**\\n * Iterator \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e maps of type \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e and \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e.\\n *\\n * &lt;p&gt;The iterator semantics \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e Trove\'s primitive maps is slightly different\\n * from those defined in &lt;tt&gt;java.util.Iterator&lt;\\/tt&gt;, but still well within\\n * the scope of the pattern, as defined by Gamma, et al.&lt;\\/p&gt;\\n *\\n * &lt;p&gt;This iterator does &lt;b&gt;not&lt;\\/b&gt; implicitly advance to the next entry when\\n * the value at the current position is retrieved.  Rather, you must explicitly\\n * ask the iterator to &lt;tt&gt;advance()&lt;\\/tt&gt; and then retrieve either the &lt;tt&gt;key()&lt;\\/tt&gt;,\\n * the &lt;tt&gt;value()&lt;\\/tt&gt; or both.  This is done so that you have the option, but not\\n * the obligation, to retrieve keys and\\/or values as your application requires, and\\n * without introducing wrapper objects that would carry both.  As the iteration is\\n * stateful, access to the key\\/value parts of the current map entry happens in\\n * constant time.&lt;\\/p&gt;\\n *\\n * &lt;p&gt;In practice, the iterator is akin to a \u003cspan class=\\\"code-quote\\\"\u003e\\\"search finger\\\"\u003c\\/span\u003e that you move from\\n * position to position.  Read or write operations affect the current entry only and\\n * \u003cspan class=\\\"code-keyword\\\"\u003edo\u003c\\/span\u003e not assume responsibility \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e moving the finger.&lt;\\/p&gt;\\n *\\n * &lt;p&gt;Here are some sample scenarios \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003eclass \u003c\\/span\u003eof iterator:&lt;\\/p&gt;\\n *\\n * &lt;pre&gt;\\n * \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ accessing keys\\/values through an iterator:\\n\u003c\\/span\u003e * \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e (TIntDoubleIterator it = map.iterator();\\n *      it.hasNext();) {\\n *   it.advance();\\n *   \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (satisfiesCondition(it.key()) {\\n *     doSomethingWithValue(it.value());\\n *   }\\n * }\\n * (snipped)\\n *\\/\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eShall I file a separate issue for that?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12656396_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656396_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Dec\\/08 15:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-14T15:38:29+0000\'\u003e14\\/Dec\\/08 15:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Ismael Juma - 14\\/Dec\\/08 15:38\\\"\u003eedited\u003c\\/span\u003e                   Thanks for committing this Luc. Good point about specialised implementations of add and subtract. However, the current implementation has a lot of overhead due to the allocation of Entry objects. Since the iterator doesn\'t implement java.util.Iterator anyway, we can do better by using an iterator similar to Trove\'s. I will paste part of the javadoc below: \\n\\n  \\n \\/**\\n * Iterator  for  maps of type  int  and  double .\\n *\\n * &lt;p&gt;The iterator semantics  for  Trove\'s primitive maps is slightly different\\n * from those defined in &lt;tt&gt;java.util.Iterator&lt;\\/tt&gt;, but still well within\\n * the scope of the pattern, as defined by Gamma, et al.&lt;\\/p&gt;\\n *\\n * &lt;p&gt;This iterator does &lt;b&gt;not&lt;\\/b&gt; implicitly advance to the next entry when\\n * the value at the current position is retrieved.  Rather, you must explicitly\\n * ask the iterator to &lt;tt&gt;advance()&lt;\\/tt&gt; and then retrieve either the &lt;tt&gt;key()&lt;\\/tt&gt;,\\n * the &lt;tt&gt;value()&lt;\\/tt&gt; or both.  This is done so that you have the option, but not\\n * the obligation, to retrieve keys and\\/or values as your application requires, and\\n * without introducing wrapper objects that would carry both.  As the iteration is\\n * stateful, access to the key\\/value parts of the current map entry happens in\\n * constant time.&lt;\\/p&gt;\\n *\\n * &lt;p&gt;In practice, the iterator is akin to a  \\\"search finger\\\"  that you move from\\n * position to position.  Read or write operations affect the current entry only and\\n *  do  not assume responsibility  for  moving the finger.&lt;\\/p&gt;\\n *\\n * &lt;p&gt;Here are some sample scenarios  for   this   class  of iterator:&lt;\\/p&gt;\\n *\\n * &lt;pre&gt;\\n *  \\/\\/ accessing keys\\/values through an iterator:\\n  *  for  (TIntDoubleIterator it = map.iterator();\\n *      it.hasNext();) {\\n *   it.advance();\\n *    if  (satisfiesCondition(it.key()) {\\n *     doSomethingWithValue(it.value());\\n *   }\\n * }\\n * (snipped)\\n *\\/\\n \\n  \\n\\n Shall I file a separate issue for that?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12656407\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12656407&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12656407\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"luc\\\" id=\\\"commentauthor_12656407_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=luc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"luc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Luc Maisonobe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656407_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Dec\\/08 16:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-14T16:33:35+0000\'\u003e14\\/Dec\\/08 16:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNo need to file another issue. I have fixed this as of r726490.\u003cbr\\/\u003e\\nHope this is better now.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"luc\\\" id=\\\"commentauthor_12656407_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=luc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"luc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Luc Maisonobe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656407_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Dec\\/08 16:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-14T16:33:35+0000\'\u003e14\\/Dec\\/08 16:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    No need to file another issue. I have fixed this as of r726490. \\nHope this is better now.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12656416\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MATH-230?focusedCommentId=12656416&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12656416\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12656416_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656416_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Dec\\/08 17:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-14T17:36:50+0000\'\u003e14\\/Dec\\/08 17:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks, that is indeed what I meant by the API. I didn\'t have a chance to look at the implementation in detail, but seems right.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ijuma\\\" id=\\\"commentauthor_12656416_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ijuma\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ijuma\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ismael Juma\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12656416_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Dec\\/08 17:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-14T17:36:50+0000\'\u003e14\\/Dec\\/08 17:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks, that is indeed what I meant by the API. I didn\'t have a chance to look at the implementation in detail, but seems right.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310485";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/MATH\\/summary\\\" title=\\\"Commons Math\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310485&amp;avatarId=10011\\\" alt=\\\"Commons Math\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/MATH\\/summary\\\" title=\\\"Commons Math\\\"\u003eCommons Math\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/MATH\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/MATH?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/MATH?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1516194720612"> 
    <input type="hidden" title="jira.request.server.time" value="326"> 
    <input type="hidden" title="jira.request.id" value="792x7337745x5"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="4"> 
    <input type="hidden" title="db.reads.time.in.ms" value="40"> 
    <input type="hidden" title="db.conns.time.in.ms" value="47"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 792x7337745x5
	          REQUEST TIMESTAMP : [17/Jan/2018:13:12:00 +0000]
	               REQUEST TIME : 0.3260
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 4

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=19, elapsedTotal=40767919, elapsedMin=519274, elapsedMax=15239809, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=22, elapsedTotal=47134585, elapsedMin=574335, elapsedMax=15329821, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>