<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|56050e87e4a4d93097b1c4ed8693cb0bc8be2e5f|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"97491c6808f99b\"";
WRM._unparsedData["project-id"]="10594";
WRM._unparsedData["project-key"]="\"DERBY\"";
WRM._unparsedData["project-name"]="\"Derby\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="10594";
WRM._unparsedData["projectKey"]="\"DERBY\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="DERBY-5554"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[DERBY-5554] NullPointerException in generated VTI code - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[DERBY-5554] NullPointerException in generated VTI code - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/DERBY" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-5554">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="10594" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Derby'" src="https://issues.apache.org/jira/secure/projectavatar?pid=10594&amp;avatarId=10122"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/DERBY">Derby</a></li>
                 <li><a class="issue-link" data-issue-key="DERBY-5554" href="/jira/browse/DERBY-5554" id="key-val" rel="12536241">DERBY-5554</a></li>
                </ol>
                <h1 id="summary-val">NullPointerException in generated VTI code</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-5554"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/DERBY-5554/DERBY-5554.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/DERBY-5554/DERBY-5554.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/DERBY-5554/DERBY-5554.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/DERBY-5554/DERBY-5554.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="10.3.1.4 ">10.3.1.4</span>, <span title="10.4.1.3 ">10.4.1.3</span>, <span title="10.5.1.1 build: 764942, 14/Apr/09. Voted release: 28/Apr/09. Announced: 1/May/09">10.5.1.1</span>, <span title="10.6.1.0 Feature release">10.6.1.0</span>, <span title="10.7.1.1 First release on the 10.7 branch.">10.7.1.1</span>, <span title="10.8.2.2 second release on the 10.8 branch">10.8.2.2</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.9.1.0" title="10.9.1.0 First release on the 10.9 branch">10.9.1.0</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+component+%3D+SQL" title="SQL ">SQL</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <ul class="labels" id="labels-12536241-value"> 
                     <li><a class="lozenge" href="/jira/issues/?jql=labels+%3D+derby_backport_reject_10_8" title="derby_backport_reject_10_8"><span>derby_backport_reject_10_8</span></a></li> 
                     <li><a class="lozenge" href="/jira/issues/?jql=labels+%3D+derby_triage10_9" title="derby_triage10_9"><span>derby_triage10_9</span></a></li> 
                    </ul> 
                   </div> 
                  </div> </li> 
                </ul> 
                <div id="customfieldmodule"> 
                 <div class="aui-tabs horizontal-tabs" id="customfield-tabs"> 
                  <div id="customfield-panel-1" class="tabs-pane active-pane"> 
                   <ul class="property-list"> 
                    <li id="rowForcustomfield_12310050" class="item"> 
                     <div class="wrap"> 
                      <strong title="Urgency" class="name">Urgency:</strong> 
                      <div id="customfield_12310050-val" class="value type-select" data-fieldtype="select" data-fieldtypecompletekey="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        Normal 
                      </div> 
                     </div> </li> 
                    <li id="rowForcustomfield_12310090" class="item"> 
                     <div class="wrap"> 
                      <strong title="Issue &amp; fix info" class="name">Issue &amp; fix info:</strong> 
                      <div id="customfield_12310090-val" class="value type-multicheckboxes" data-fieldtype="multicheckboxes" data-fieldtypecompletekey="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"> 
                       <div class="shorten" id="customfield_12310090-field"> 
                        <span>Patch Available</span>, 
                        <span>Release Note Needed</span>, 
                        <span>Repro attached</span> 
                       </div> 
                      </div> 
                     </div> </li> 
                    <li id="rowForcustomfield_12310200" class="item"> 
                     <div class="wrap"> 
                      <strong title="Bug behavior facts" class="name">Bug behavior facts:</strong> 
                      <div id="customfield_12310200-val" class="value type-multicheckboxes" data-fieldtype="multicheckboxes" data-fieldtypecompletekey="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"> 
                       <div class="shorten" id="customfield_12310200-field"> 
                        <span>Crash</span> 
                       </div> 
                      </div> 
                     </div> </li> 
                   </ul> 
                  </div> 
                 </div>
                </div> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>With the latest 10.8.2.2 binary distribution, the following short script produces a NullPointerException:</p> 
                  <p>java -Dij.exceptionTrace=true org.apache.derby.tools.ij<br> ij&gt; connect 'jdbc:derby:brydb;create=true';<br> ij&gt; create table t1 (a int);<br> ij&gt; SELECT T2.<b>, systabs.</b>, syscgs.conglomeratenumber<br> FROM <br> SYS.SYSTABLES systabs, sys.sysconglomerates syscgs,<br> TABLE (SYSCS_DIAG.SPACE_TABLE(systabs.tablename)) AS T2<br> WHERE systabs.tabletype = 'T' and systabs.tableid = syscgs.tableid;</p> 
                  <p>The exception trace is pasted below:</p> 
                  <p>ERROR 38000: The exception 'java.lang.NullPointerException' was thrown while evaluating an expression.<br> java.sql.SQLException: The exception 'java.lang.NullPointerException' was thrown while evaluating an expression.<br> at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)<br> at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source)<br> at org.apache.derby.impl.jdbc.Util.seeNextException(Unknown Source)<br> at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)<br> at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)<br> at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)<br> at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)<br> at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)<br> at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)<br> at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)<br> at org.apache.derby.impl.tools.ij.ij.executeImmediate(Unknown Source)<br> at org.apache.derby.impl.tools.ij.utilMain.doCatch(Unknown Source)<br> at org.apache.derby.impl.tools.ij.utilMain.runScriptGuts(Unknown Source)<br> at org.apache.derby.impl.tools.ij.utilMain.go(Unknown Source)<br> at org.apache.derby.impl.tools.ij.Main.go(Unknown Source)<br> at org.apache.derby.impl.tools.ij.Main.mainCore(Unknown Source)<br> at org.apache.derby.impl.tools.ij.Main.main(Unknown Source)<br> at org.apache.derby.tools.ij.main(Unknown Source)<br> Caused by: java.sql.SQLException: The exception 'java.lang.NullPointerException' was thrown while evaluating an expression.<br> at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)<br> at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source)<br> ... 18 more<br> Caused by: java.sql.SQLException: Java exception: ': java.lang.NullPointerException'.<br> at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)<br> at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source)<br> at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)<br> at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source)<br> at org.apache.derby.impl.jdbc.Util.javaException(Unknown Source)<br> at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)<br> ... 15 more<br> Caused by: java.lang.NullPointerException<br> at org.apache.derby.exe.acf81e0010x0134x6972x0511x0000033820000.g0(Unknown Source)<br> at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br> at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)<br> at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)<br> at java.lang.reflect.Method.invoke(Method.java:616)<br> at org.apache.derby.impl.services.reflect.ReflectMethod.invoke(Unknown Source)<br> at org.apache.derby.impl.sql.execute.VTIResultSet.openCore(Unknown Source)<br> at org.apache.derby.impl.sql.execute.JoinResultSet.openRight(Unknown Source)<br> at org.apache.derby.impl.sql.execute.JoinResultSet.openCore(Unknown Source)<br> at org.apache.derby.impl.sql.execute.JoinResultSet.openCore(Unknown Source)<br> at org.apache.derby.impl.sql.execute.ProjectRestrictResultSet.openCore(Unknown Source)<br> at org.apache.derby.impl.sql.execute.BasicNoPutResultSetImpl.open(Unknown Source)<br> at org.apache.derby.impl.sql.GenericPreparedStatement.executeStmt(Unknown Source)<br> at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)<br> ... 11 more<br> ERROR XJ001: Java exception: ': java.lang.NullPointerException'.<br> java.sql.SQLException: Java exception: ': java.lang.NullPointerException'.<br> at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)<br> at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source)<br> at org.apache.derby.impl.jdbc.Util.javaException(Unknown Source)<br> at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)<br> at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)<br> at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)<br> at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)<br> at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)<br> at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)<br> at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)<br> at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)<br> at org.apache.derby.impl.tools.ij.ij.executeImmediate(Unknown Source)<br> at org.apache.derby.impl.tools.ij.utilMain.doCatch(Unknown Source)<br> at org.apache.derby.impl.tools.ij.utilMain.runScriptGuts(Unknown Source)<br> at org.apache.derby.impl.tools.ij.utilMain.go(Unknown Source)<br> at org.apache.derby.impl.tools.ij.Main.go(Unknown Source)<br> at org.apache.derby.impl.tools.ij.Main.mainCore(Unknown Source)<br> at org.apache.derby.impl.tools.ij.Main.main(Unknown Source)<br> at org.apache.derby.tools.ij.main(Unknown Source)<br> Caused by: java.sql.SQLException: Java exception: ': java.lang.NullPointerException'.<br> at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)<br> at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source)<br> ... 19 more<br> Caused by: java.lang.NullPointerException<br> at org.apache.derby.exe.acf81e0010x0134x6972x0511x0000033820000.g0(Unknown Source)<br> at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br> at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)<br> at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)<br> at java.lang.reflect.Method.invoke(Method.java:616)<br> at org.apache.derby.impl.services.reflect.ReflectMethod.invoke(Unknown Source)<br> at org.apache.derby.impl.sql.execute.VTIResultSet.openCore(Unknown Source)<br> at org.apache.derby.impl.sql.execute.JoinResultSet.openRight(Unknown Source)<br> at org.apache.derby.impl.sql.execute.JoinResultSet.openCore(Unknown Source)<br> at org.apache.derby.impl.sql.execute.JoinResultSet.openCore(Unknown Source)<br> at org.apache.derby.impl.sql.execute.ProjectRestrictResultSet.openCore(Unknown Source)<br> at org.apache.derby.impl.sql.execute.BasicNoPutResultSetImpl.open(Unknown Source)<br> at org.apache.derby.impl.sql.GenericPreparedStatement.executeStmt(Unknown Source)<br> at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)<br> ... 11 more</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/DERBY-5554?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/DERBY-5554?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/DERBY-5554?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/DERBY-5554?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12532449" data-issue-id="12536241" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12532449/derby-5554-01-aa-addTableIDcolumn.diff" draggable="true" data-downloadurl="application/octet-stream:derby-5554-01-aa-addTableIDcolumn.diff:https://issues.apache.org/jira/secure/attachment/12532449/derby-5554-01-aa-addTableIDcolumn.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12532449/derby-5554-01-aa-addTableIDcolumn.diff" title="Latest  18/Jun/12 19:10 - Rick Hillegas" draggable="true" data-downloadurl="application/octet-stream:derby-5554-01-aa-addTableIDcolumn.diff:https://issues.apache.org/jira/secure/attachment/12532449/derby-5554-01-aa-addTableIDcolumn.diff">derby-5554-01-aa-addTableIDcolumn.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-06-18T19:10:47.200Z">18/Jun/12 19:10</time>
                   </dd>
                   <dd class="attachment-size">
                    11 kB
                   </dd>
                   <dd class="attachment-author">
                    Rick Hillegas
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12532545" data-issue-id="12536241" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12532545/derby-5554-01-ab-addTableIDcolumn.diff" draggable="true" data-downloadurl="application/octet-stream:derby-5554-01-ab-addTableIDcolumn.diff:https://issues.apache.org/jira/secure/attachment/12532545/derby-5554-01-ab-addTableIDcolumn.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12532545/derby-5554-01-ab-addTableIDcolumn.diff" title="Latest  19/Jun/12 13:53 - Rick Hillegas" draggable="true" data-downloadurl="application/octet-stream:derby-5554-01-ab-addTableIDcolumn.diff:https://issues.apache.org/jira/secure/attachment/12532545/derby-5554-01-ab-addTableIDcolumn.diff">derby-5554-01-ab-addTableIDcolumn.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-06-19T13:53:39.103Z">19/Jun/12 13:53</time>
                   </dd>
                   <dd class="attachment-size">
                    10 kB
                   </dd>
                   <dd class="attachment-author">
                    Rick Hillegas
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12532573" data-issue-id="12536241" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12532573/derby-5554-02-aa-0argConstructor.diff" draggable="true" data-downloadurl="application/octet-stream:derby-5554-02-aa-0argConstructor.diff:https://issues.apache.org/jira/secure/attachment/12532573/derby-5554-02-aa-0argConstructor.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12532573/derby-5554-02-aa-0argConstructor.diff" title="Latest  19/Jun/12 16:12 - Rick Hillegas" draggable="true" data-downloadurl="application/octet-stream:derby-5554-02-aa-0argConstructor.diff:https://issues.apache.org/jira/secure/attachment/12532573/derby-5554-02-aa-0argConstructor.diff">derby-5554-02-aa-0argConstructor.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-06-19T16:12:57.668Z">19/Jun/12 16:12</time>
                   </dd>
                   <dd class="attachment-size">
                    16 kB
                   </dd>
                   <dd class="attachment-author">
                    Rick Hillegas
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12534963" data-issue-id="12536241" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12534963/derby-5554-03-aa-forbidVTItoVTIjoins.diff" draggable="true" data-downloadurl="application/octet-stream:derby-5554-03-aa-forbidVTItoVTIjoins.diff:https://issues.apache.org/jira/secure/attachment/12534963/derby-5554-03-aa-forbidVTItoVTIjoins.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12534963/derby-5554-03-aa-forbidVTItoVTIjoins.diff" title="Latest  03/Jul/12 20:11 - Rick Hillegas" draggable="true" data-downloadurl="application/octet-stream:derby-5554-03-aa-forbidVTItoVTIjoins.diff:https://issues.apache.org/jira/secure/attachment/12534963/derby-5554-03-aa-forbidVTItoVTIjoins.diff">derby-5554-03-aa-forbidVTItoVTIjoins.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-07-03T20:11:31.390Z">03/Jul/12 20:11</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Rick Hillegas
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12535717" data-issue-id="12536241" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12535717/derby-5554-04-aa-forceVTIAfterJoin.diff" draggable="true" data-downloadurl="application/octet-stream:derby-5554-04-aa-forceVTIAfterJoin.diff:https://issues.apache.org/jira/secure/attachment/12535717/derby-5554-04-aa-forceVTIAfterJoin.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12535717/derby-5554-04-aa-forceVTIAfterJoin.diff" title="Latest  09/Jul/12 19:00 - Rick Hillegas" draggable="true" data-downloadurl="application/octet-stream:derby-5554-04-aa-forceVTIAfterJoin.diff:https://issues.apache.org/jira/secure/attachment/12535717/derby-5554-04-aa-forceVTIAfterJoin.diff">derby-5554-04-aa-forceVTIAfterJoin.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-07-09T19:00:35.876Z">09/Jul/12 19:00</time>
                   </dd>
                   <dd class="attachment-size">
                    4 kB
                   </dd>
                   <dd class="attachment-author">
                    Rick Hillegas
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12535722" data-issue-id="12536241" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12535722/derby-5554-04-ab-remapVTIarg.diff" draggable="true" data-downloadurl="application/octet-stream:derby-5554-04-ab-remapVTIarg.diff:https://issues.apache.org/jira/secure/attachment/12535722/derby-5554-04-ab-remapVTIarg.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12535722/derby-5554-04-ab-remapVTIarg.diff" title="Latest  09/Jul/12 19:21 - Rick Hillegas" draggable="true" data-downloadurl="application/octet-stream:derby-5554-04-ab-remapVTIarg.diff:https://issues.apache.org/jira/secure/attachment/12535722/derby-5554-04-ab-remapVTIarg.diff">derby-5554-04-ab-remapVTIarg.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-07-09T19:21:08.332Z">09/Jul/12 19:21</time>
                   </dd>
                   <dd class="attachment-size">
                    6 kB
                   </dd>
                   <dd class="attachment-author">
                    Rick Hillegas
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12535838" data-issue-id="12536241" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12535838/derby-5554-04-ac-remapVTIarg.diff" draggable="true" data-downloadurl="application/octet-stream:derby-5554-04-ac-remapVTIarg.diff:https://issues.apache.org/jira/secure/attachment/12535838/derby-5554-04-ac-remapVTIarg.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12535838/derby-5554-04-ac-remapVTIarg.diff" title="Latest  10/Jul/12 14:31 - Rick Hillegas" draggable="true" data-downloadurl="application/octet-stream:derby-5554-04-ac-remapVTIarg.diff:https://issues.apache.org/jira/secure/attachment/12535838/derby-5554-04-ac-remapVTIarg.diff">derby-5554-04-ac-remapVTIarg.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-07-10T14:31:31.299Z">10/Jul/12 14:31</time>
                   </dd>
                   <dd class="attachment-size">
                    5 kB
                   </dd>
                   <dd class="attachment-author">
                    Rick Hillegas
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12535351" data-issue-id="12536241" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12535351/releaseNote.html" draggable="true" data-downloadurl="text/html:releaseNote.html:https://issues.apache.org/jira/secure/attachment/12535351/releaseNote.html"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-code" title="HTML File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12535351/releaseNote.html" title="Latest  06/Jul/12 12:43 - Rick Hillegas" draggable="true" data-downloadurl="text/html:releaseNote.html:https://issues.apache.org/jira/secure/attachment/12535351/releaseNote.html">releaseNote.html</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-07-06T12:43:49.981Z">06/Jul/12 12:43</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Rick Hillegas
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12535228" data-issue-id="12536241" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12535228/releaseNote.html" draggable="true" data-downloadurl="text/html:releaseNote.html:https://issues.apache.org/jira/secure/attachment/12535228/releaseNote.html"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-code" title="HTML File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12535228/releaseNote.html" title=" 05/Jul/12 17:22 - Rick Hillegas" draggable="true" data-downloadurl="text/html:releaseNote.html:https://issues.apache.org/jira/secure/attachment/12535228/releaseNote.html">releaseNote.html</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-07-05T17:22:55.011Z">05/Jul/12 17:22</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Rick Hillegas
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is related to">
                   is related to
                  </dt> 
                  <dd id="internal-12717893_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-6593: Using a natural join, you can invoke a table function with an argument which is outside the scope of the query block."> <a href="/jira/browse/DERBY-6593" data-issue-key="DERBY-6593" class="issue-link link-title">DERBY-6593</a> <span class="link-summary">Using a natural join, you can invoke a table function with an argument which is outside the scope of the query block.</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-blue-gray jira-issue-status-lozenge-new aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Open</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is open and ready for the assignee to start work on it.</span>">Open</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12557004_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-5779: Table functions should only accept arguments which are constant in their query block."> <a href="/jira/browse/DERBY-5779" data-issue-key="DERBY-5779" class="issue-link link-title resolution">DERBY-5779</a> <span class="link-summary">Table functions should only accept arguments which are constant in their query block.</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12595142_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-5822: Document the new SQL standard behavior of the SPACE_TABLE vti"> <a href="/jira/browse/DERBY-5822" data-issue-key="DERBY-5822" class="issue-link link-title resolution">DERBY-5822</a> <span class="link-summary">Document the new SQL standard behavior of the SPACE_TABLE vti</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="relates to">
                   relates to
                  </dt> 
                  <dd id="internal-12346111_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype" width="16" height="16" title="Sub-task - The sub-task of the issue" alt="Sub-task - The sub-task of the issue"> <span title="DERBY-1520: Document new SYSCS_DIAG tables"> <a href="/jira/browse/DERBY-1520" data-issue-key="DERBY-1520" class="issue-link link-title resolution">DERBY-1520</a> <span class="link-summary">Document new SYSCS_DIAG tables</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12357812_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="DERBY-2152: Support diagnostic vti tables that take parameters, such as SpaceTable"> <a href="/jira/browse/DERBY-2152" data-issue-key="DERBY-2152" class="issue-link link-title resolution">DERBY-2152</a> <span class="link-summary">Support diagnostic vti tables that take parameters, such as SpaceTable</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_rhillegas" rel="rhillegas" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Rick Hillegas&quot;,&quot;emailAddress&quot;:&quot;rhillegas@apache.org&quot;,&quot;username&quot;:&quot;rhillegas&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="rhillegas"></span></span> Rick Hillegas </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_bryanpendleton" rel="bryanpendleton" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Bryan Pendleton&quot;,&quot;emailAddress&quot;:&quot;bpendleton.derby@gmail.com&quot;,&quot;username&quot;:&quot;bryanpendleton&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="bryanpendleton"></span></span> Bryan Pendleton </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">6</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="23/Dec/11 05:49"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2011-12-23T05:49:41+0000">23/Dec/11 05:49</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="02/Jun/14 12:37"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2014-06-02T12:37:25+0000">02/Jun/14 12:37</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="14/Jun/13 16:54"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2013-06-14T16:54:41+0000">14/Jun/13 16:54</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-5554?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-5554?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-5554?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-5554?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-5554?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-5554?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-5554?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-5554?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/DERBY-5554?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-5554?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-5554?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/DERBY-5554?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-13175328\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13175328&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13175328\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13175328_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13175328_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/11 08:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2011-12-23T08:25:34+0000\'\u003e23\\/Dec\\/11 08:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSeen all the way back to 10.3.1.4 (earlier releases didn\'t support the syntax - \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2152\\\" title=\\\"Support diagnostic vti tables that take parameters, such as SpaceTable\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2152\\\"\u003e\u003cdel\u003eDERBY-2152\u003c\\/del\u003e\u003c\\/a\u003e).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13175328_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13175328_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/11 08:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2011-12-23T08:25:34+0000\'\u003e23\\/Dec\\/11 08:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Seen all the way back to 10.3.1.4 (earlier releases didn\'t support the syntax -   DERBY-2152  ).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13279085\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13279085&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13279085\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13279085_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13279085_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/May\\/12 19:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-05-18T19:01:45+0000\'\u003e18\\/May\\/12 19:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe failing query looks very similar to the sample query for SYSCS_DIAG.SPACE_TABLE found in the Reference Manual section titled \\\"SYSCS_DIAG diagnostic tables and functions\\\":\u003c\\/p\u003e\\n\\n\u003cp\u003eSELECT T2.*\u003cbr\\/\u003e\\n    FROM \u003cbr\\/\u003e\\n        SYS.SYSTABLES systabs,\u003cbr\\/\u003e\\n        TABLE (SYSCS_DIAG.SPACE_TABLE(systabs.tablename)) AS T2\u003cbr\\/\u003e\\n    WHERE systabs.tabletype = \'T\'\u003c\\/p\u003e\\n\\n\u003cp\u003eI confess that I don\'t understand the meaning of either query. When we implemented user-defined table functions, we specified that the arguments to the table function should be expressions built from the following:\u003c\\/p\u003e\\n\\n\u003cp\u003e1) literals\u003cbr\\/\u003e\\n2) ? parameters\u003cbr\\/\u003e\\n3) correlated references to variables in outer query blocks\u003c\\/p\u003e\\n\\n\u003cp\u003eThat is, the arguments were supposed to be constant within the query block. We specifically did not want table function arguments to be variables from other tables in the FROM list. However, we don\'t enforce this limitation. You get a similar NPE if you replace the SYSCS_DIAG.SPACE_TABLE element in the FROM list with an invocation of a user defined table function which takes the SYSTABLES.TABLENAME variable as an argument.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m trying to figure out what these queries mean. My usual approach to understanding a query is to follow these steps:\u003c\\/p\u003e\\n\\n\u003cp\u003eA) Compute the cartesian product of the elements in the FROM list.\u003c\\/p\u003e\\n\\n\u003cp\u003eB) Then join and restrict by applying the WHERE clause to the cartesian product.\u003c\\/p\u003e\\n\\n\u003cp\u003eC) Then apply the other clauses in an order which doesn\'t affect this discussion.\u003c\\/p\u003e\\n\\n\u003cp\u003eWith these queries, what is (A)? I don\'t see a cartesian product here because there is an implicit, undefined join in the FROM list.\u003c\\/p\u003e\\n\\n\u003cp\u003eMy gut feeling is that these may be illegal queries, but I haven\'t found the relevant chapter and verse in the SQL Standard. I would be interested in other people\'s theories about the meaning of these queries and how you thread your way through the SQL Standard in order to determine that meaning.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks,\u003cbr\\/\u003e\\n-Rick\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13279085_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13279085_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/May\\/12 19:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-05-18T19:01:45+0000\'\u003e18\\/May\\/12 19:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The failing query looks very similar to the sample query for SYSCS_DIAG.SPACE_TABLE found in the Reference Manual section titled \\\"SYSCS_DIAG diagnostic tables and functions\\\": \\n\\n SELECT T2.* \\n    FROM  \\n        SYS.SYSTABLES systabs, \\n        TABLE (SYSCS_DIAG.SPACE_TABLE(systabs.tablename)) AS T2 \\n    WHERE systabs.tabletype = \'T\' \\n\\n I confess that I don\'t understand the meaning of either query. When we implemented user-defined table functions, we specified that the arguments to the table function should be expressions built from the following: \\n\\n 1) literals \\n2) ? parameters \\n3) correlated references to variables in outer query blocks \\n\\n That is, the arguments were supposed to be constant within the query block. We specifically did not want table function arguments to be variables from other tables in the FROM list. However, we don\'t enforce this limitation. You get a similar NPE if you replace the SYSCS_DIAG.SPACE_TABLE element in the FROM list with an invocation of a user defined table function which takes the SYSTABLES.TABLENAME variable as an argument. \\n\\n I\'m trying to figure out what these queries mean. My usual approach to understanding a query is to follow these steps: \\n\\n A) Compute the cartesian product of the elements in the FROM list. \\n\\n B) Then join and restrict by applying the WHERE clause to the cartesian product. \\n\\n C) Then apply the other clauses in an order which doesn\'t affect this discussion. \\n\\n With these queries, what is (A)? I don\'t see a cartesian product here because there is an implicit, undefined join in the FROM list. \\n\\n My gut feeling is that these may be illegal queries, but I haven\'t found the relevant chapter and verse in the SQL Standard. I would be interested in other people\'s theories about the meaning of these queries and how you thread your way through the SQL Standard in order to determine that meaning. \\n\\n Thanks, \\n-Rick              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13279391\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13279391&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13279391\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_13279391_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13279391_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/May\\/12 01:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-05-19T01:28:33+0000\'\u003e19\\/May\\/12 01:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think the intention is clear: you want a union of tables resulting from subtables of the form TABLE (SYSCS_DIAG.SPACE_TABLE(&lt;name of a system table&gt;), where &lt;name of a system table&gt; would range over all the system tables of type \'T\'. Now, how would a correct\\/better query for this look? It would need to employ correlated references to variables in outer query blocks, since literal and ? are not applicable here...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_13279391_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13279391_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/May\\/12 01:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-05-19T01:28:33+0000\'\u003e19\\/May\\/12 01:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I think the intention is clear: you want a union of tables resulting from subtables of the form TABLE (SYSCS_DIAG.SPACE_TABLE(&lt;name of a system table&gt;), where &lt;name of a system table&gt; would range over all the system tables of type \'T\'. Now, how would a correct\\/better query for this look? It would need to employ correlated references to variables in outer query blocks, since literal and ? are not applicable here...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13280001\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13280001&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13280001\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13280001_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13280001_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/May\\/12 08:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-05-21T08:03:25+0000\'\u003e21\\/May\\/12 08:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe query passes if I add an optimizer override to force the table function to be the inner table in the join (which makes some sense, since otherwise the argument to the table function would not have a known value):\u003c\\/p\u003e\\n\\n\u003cp\u003eSELECT T2.\u003cb\u003e, systabs.\u003c\\/b\u003e, syscgs.conglomeratenumber\u003cbr\\/\u003e\\n    FROM --DERBY-PROPERTIES joinOrder=fixed\u003cbr\\/\u003e\\n        SYS.SYSTABLES systabs, sys.sysconglomerates syscgs,\u003cbr\\/\u003e\\n        TABLE (SYSCS_DIAG.SPACE_TABLE(systabs.tablename)) AS T2\u003cbr\\/\u003e\\n    WHERE systabs.tabletype = \'T\' and systabs.tableid = syscgs.tableid;\u003c\\/p\u003e\\n\\n\u003cp\u003eIf I reverse the join order, I see this error:\u003c\\/p\u003e\\n\\n\u003cp\u003eij&gt; SELECT T2.\u003cb\u003e, systabs.\u003c\\/b\u003e, syscgs.conglomeratenumber\u003cbr\\/\u003e\\n&gt;    FROM --DERBY-PROPERTIES joinOrder=fixed\u003cbr\\/\u003e\\n&gt;        TABLE (SYSCS_DIAG.SPACE_TABLE(systabs.tablename)) AS T2, sys.sysconglomerates syscgs, SYS.SYSTABLES systabs\u003cbr\\/\u003e\\n&gt;    WHERE systabs.tabletype = \'T\' and systabs.tableid = syscgs.tableid; \u003cbr\\/\u003e\\nERROR 42Y70: The user specified an illegal join order. This could be caused by a join column from an inner table being passed as a parameter to an external virtual table.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe error message implies that the original query was supposed to work, I think, but the optimizer for some reason didn\'t enforce the correct ordering.\u003c\\/p\u003e\\n\\n\u003cp\u003eOr maybe the optimizer does enforce the requirement that the table function call must be the inner table relative to the table from which it takes its arguments, but the query only works if the table function call is the innermost table? For example, it does accept the following forced join order, in which systabs.tablename should be known when SPACE_TABLE is called, but it still fails with a NullPointerException during execution:\u003c\\/p\u003e\\n\\n\u003cp\u003eSELECT T2.\u003cb\u003e, systabs.\u003c\\/b\u003e, syscgs.conglomeratenumber\u003cbr\\/\u003e\\n    FROM --DERBY-PROPERTIES joinOrder=fixed\u003cbr\\/\u003e\\n        SYS.SYSTABLES systabs,\u003cbr\\/\u003e\\n        TABLE (SYSCS_DIAG.SPACE_TABLE(systabs.tablename)) AS T2,\u003cbr\\/\u003e\\n        sys.sysconglomerates syscgs\u003cbr\\/\u003e\\n    WHERE systabs.tabletype = \'T\' and systabs.tableid = syscgs.tableid;\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13280001_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13280001_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/May\\/12 08:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-05-21T08:03:25+0000\'\u003e21\\/May\\/12 08:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The query passes if I add an optimizer override to force the table function to be the inner table in the join (which makes some sense, since otherwise the argument to the table function would not have a known value): \\n\\n SELECT T2. , systabs. , syscgs.conglomeratenumber \\n    FROM --DERBY-PROPERTIES joinOrder=fixed \\n        SYS.SYSTABLES systabs, sys.sysconglomerates syscgs, \\n        TABLE (SYSCS_DIAG.SPACE_TABLE(systabs.tablename)) AS T2 \\n    WHERE systabs.tabletype = \'T\' and systabs.tableid = syscgs.tableid; \\n\\n If I reverse the join order, I see this error: \\n\\n ij&gt; SELECT T2. , systabs. , syscgs.conglomeratenumber \\n&gt;    FROM --DERBY-PROPERTIES joinOrder=fixed \\n&gt;        TABLE (SYSCS_DIAG.SPACE_TABLE(systabs.tablename)) AS T2, sys.sysconglomerates syscgs, SYS.SYSTABLES systabs \\n&gt;    WHERE systabs.tabletype = \'T\' and systabs.tableid = syscgs.tableid;  \\nERROR 42Y70: The user specified an illegal join order. This could be caused by a join column from an inner table being passed as a parameter to an external virtual table. \\n\\n The error message implies that the original query was supposed to work, I think, but the optimizer for some reason didn\'t enforce the correct ordering. \\n\\n Or maybe the optimizer does enforce the requirement that the table function call must be the inner table relative to the table from which it takes its arguments, but the query only works if the table function call is the innermost table? For example, it does accept the following forced join order, in which systabs.tablename should be known when SPACE_TABLE is called, but it still fails with a NullPointerException during execution: \\n\\n SELECT T2. , systabs. , syscgs.conglomeratenumber \\n    FROM --DERBY-PROPERTIES joinOrder=fixed \\n        SYS.SYSTABLES systabs, \\n        TABLE (SYSCS_DIAG.SPACE_TABLE(systabs.tablename)) AS T2, \\n        sys.sysconglomerates syscgs \\n    WHERE systabs.tabletype = \'T\' and systabs.tableid = syscgs.tableid;              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13280235\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13280235&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13280235\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13280235_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13280235_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/May\\/12 15:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-05-21T15:49:12+0000\'\u003e21\\/May\\/12 15:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNote that Derby does not allow subqueries in the FROM list to join to other tables in the query block. This behavior of Derby seems correct to me. At the very least it is odd that you can get around this limitation by wrapping the query in a table function.\u003c\\/p\u003e\\n\\n\u003cp\u003eij&gt; connect \'jdbc:derby:memory:db;create=true\';\u003cbr\\/\u003e\\nij&gt; create table t1 ( a int );\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij&gt; create table t2( b int );\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij&gt; select *\u003cbr\\/\u003e\\nfrom t1 t, ( select * from t2 ) s\u003cbr\\/\u003e\\nwhere s.b &gt; t.a;\u003cbr\\/\u003e\\nA          |B          \u003cbr\\/\u003e\\n-----------------------\u003c\\/p\u003e\\n\\n\u003cp\u003e0 rows selected\u003cbr\\/\u003e\\nij&gt; select *\u003cbr\\/\u003e\\nfrom t1 t\u003cbr\\/\u003e\\nwhere exists ( select * from t2 where b &gt; t.a );\u003cbr\\/\u003e\\nA          \u003cbr\\/\u003e\\n-----------\u003c\\/p\u003e\\n\\n\u003cp\u003e0 rows selected\u003cbr\\/\u003e\\nij&gt; select *\u003cbr\\/\u003e\\nfrom t1 t, ( select * from t2 where b &gt; t.a ) s;\u003cbr\\/\u003e\\nERROR 42X04: Column \'T.A\' is either not in any table in the FROM list or appears within a join specification and is outside the scope of the join specification or appears in a HAVING clause and is not in the GROUP BY list. If this is a CREATE or ALTER TABLE  statement then \'T.A\' is not a column in the target table.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13280235_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13280235_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/May\\/12 15:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-05-21T15:49:12+0000\'\u003e21\\/May\\/12 15:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Note that Derby does not allow subqueries in the FROM list to join to other tables in the query block. This behavior of Derby seems correct to me. At the very least it is odd that you can get around this limitation by wrapping the query in a table function. \\n\\n ij&gt; connect \'jdbc:derby:memory:db;create=true\'; \\nij&gt; create table t1 ( a int ); \\n0 rows inserted\\/updated\\/deleted \\nij&gt; create table t2( b int ); \\n0 rows inserted\\/updated\\/deleted \\nij&gt; select * \\nfrom t1 t, ( select * from t2 ) s \\nwhere s.b &gt; t.a; \\nA          |B           \\n----------------------- \\n\\n 0 rows selected \\nij&gt; select * \\nfrom t1 t \\nwhere exists ( select * from t2 where b &gt; t.a ); \\nA           \\n----------- \\n\\n 0 rows selected \\nij&gt; select * \\nfrom t1 t, ( select * from t2 where b &gt; t.a ) s; \\nERROR 42X04: Column \'T.A\' is either not in any table in the FROM list or appears within a join specification and is outside the scope of the join specification or appears in a HAVING clause and is not in the GROUP BY list. If this is a CREATE or ALTER TABLE  statement then \'T.A\' is not a column in the target table.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13281057\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13281057&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13281057\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13281057_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13281057_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/May\\/12 15:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-05-22T15:55:50+0000\'\u003e22\\/May\\/12 15:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI believe that chapter and verse on this syntax can be found in part 2 of the SQL Standard, section 7.6 (&lt;table reference&gt;), Syntax Rule 6.a:\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"If TR is contained in a &lt;from clause&gt; FC with no intervening &lt;query expression&gt;, then the scope clause SC of TR is the &lt;select statement: single row&gt; or innermost &lt;query specification&gt; that contains FC. The scope of a range variable of TR is the &lt;select list&gt;, &lt;where clause&gt;, &lt;group by clause&gt;, &lt;having clause&gt;, and &lt;window clause&gt; of SC, together with every &lt;lateral derived table&gt; that is simply contained in FC and is preceded by TR, and every &lt;collection derived table&gt; that is simply contained in FC and is preceded by TR, and the &lt;join condition&gt; of all &lt;joined table&gt;s contained in SC that contain TR. If SC is the &lt;query specification&gt; that is the &lt;query expression body&gt; of a simple table query STQ, then the scope of a range variable of TR also includes the &lt;order by clause&gt; of STQ.\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eWhen applied to Bryan\'s original query, this says that the systabs table reference can be mentioned in the query\'s SELECT list, WHERE clause, GROUP BY clause, HAVING clause, WINDOW clause, and ORDER BY clause. The systabs table reference may be mentioned in the FROM clause only as follows:\u003c\\/p\u003e\\n\\n\u003cp\u003ea) in some syntax which Derby does not support (lateral derived tables and collection derived tables)\u003c\\/p\u003e\\n\\n\u003cp\u003eb) in the ON clause of a JOIN to another tabular data set.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe sample SYSCS_DIAG.SPACE_TABLE syntax given in the Reference Manual is illegal and has no meaning.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eI don\'t see how to write a legal query which expresses Bryan\'s intent. We could consider adding a TABLEID column to the SPACE_TABLE output and change the vti\'s arguments so that they accept the % wildcard (like the metadata calls). Then something like this might capture Bryan\'s intent:\u003c\\/p\u003e\\n\\n\u003cp\u003eSELECT T2.\u003cb\u003e, systabs.\u003c\\/b\u003e, syscgs.conglomeratenumber\u003cbr\\/\u003e\\n    FROM\u003cbr\\/\u003e\\n        SYS.SYSTABLES systabs, sys.sysconglomerates syscgs,\u003cbr\\/\u003e\\n        TABLE (SYSCS_DIAG.SPACE_TABLE( \'%\' )) AS T2\u003cbr\\/\u003e\\n    WHERE systabs.tabletype = \'T\'\u003cbr\\/\u003e\\n    and systabs.tableid = syscgs.tableid\u003cbr\\/\u003e\\n    and systabs.tableid = t2.tableid;\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13281057_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13281057_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/May\\/12 15:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-05-22T15:55:50+0000\'\u003e22\\/May\\/12 15:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I believe that chapter and verse on this syntax can be found in part 2 of the SQL Standard, section 7.6 (&lt;table reference&gt;), Syntax Rule 6.a: \\n\\n \\\"If TR is contained in a &lt;from clause&gt; FC with no intervening &lt;query expression&gt;, then the scope clause SC of TR is the &lt;select statement: single row&gt; or innermost &lt;query specification&gt; that contains FC. The scope of a range variable of TR is the &lt;select list&gt;, &lt;where clause&gt;, &lt;group by clause&gt;, &lt;having clause&gt;, and &lt;window clause&gt; of SC, together with every &lt;lateral derived table&gt; that is simply contained in FC and is preceded by TR, and every &lt;collection derived table&gt; that is simply contained in FC and is preceded by TR, and the &lt;join condition&gt; of all &lt;joined table&gt;s contained in SC that contain TR. If SC is the &lt;query specification&gt; that is the &lt;query expression body&gt; of a simple table query STQ, then the scope of a range variable of TR also includes the &lt;order by clause&gt; of STQ.\\\" \\n\\n When applied to Bryan\'s original query, this says that the systabs table reference can be mentioned in the query\'s SELECT list, WHERE clause, GROUP BY clause, HAVING clause, WINDOW clause, and ORDER BY clause. The systabs table reference may be mentioned in the FROM clause only as follows: \\n\\n a) in some syntax which Derby does not support (lateral derived tables and collection derived tables) \\n\\n b) in the ON clause of a JOIN to another tabular data set. \\n\\n The sample SYSCS_DIAG.SPACE_TABLE syntax given in the Reference Manual is illegal and has no meaning. \\n\\n\\n I don\'t see how to write a legal query which expresses Bryan\'s intent. We could consider adding a TABLEID column to the SPACE_TABLE output and change the vti\'s arguments so that they accept the % wildcard (like the metadata calls). Then something like this might capture Bryan\'s intent: \\n\\n SELECT T2. , systabs. , syscgs.conglomeratenumber \\n    FROM \\n        SYS.SYSTABLES systabs, sys.sysconglomerates syscgs, \\n        TABLE (SYSCS_DIAG.SPACE_TABLE( \'%\' )) AS T2 \\n    WHERE systabs.tabletype = \'T\' \\n    and systabs.tableid = syscgs.tableid \\n    and systabs.tableid = t2.tableid;              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13281477\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13281477&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13281477\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13281477_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13281477_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/May\\/12 09:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-05-23T09:30:38+0000\'\u003e23\\/May\\/12 09:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSince SPACE_TABLE currently accepts one or two arguments (schema is optional), we could probably also make it to accept zero arguments, and return information for all tables when it\'s called that way. Then we wouldn\'t break applications that call their tables %. \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13281477_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13281477_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/May\\/12 09:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-05-23T09:30:38+0000\'\u003e23\\/May\\/12 09:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Since SPACE_TABLE currently accepts one or two arguments (schema is optional), we could probably also make it to accept zero arguments, and return information for all tables when it\'s called that way. Then we wouldn\'t break applications that call their tables %.                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13281489\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13281489&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13281489\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13281489_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13281489_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/May\\/12 09:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-05-23T09:56:41+0000\'\u003e23\\/May\\/12 09:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBy the way, here\'s an assert failure in a similar query (NPE in insane builds):\u003c\\/p\u003e\\n\\n\u003cp\u003eij&gt; select * from sys.systables st, sys.sysconglomerates sc, (select * from table(syscs_diag.space_table(st.tablename)) t2) t3 where st.tabletype=\'T\' and st.tableid=sc.tableid;\u003cbr\\/\u003e\\nERROR XJ001: Java exception: \'ASSERT FAILED Found multiple optimizables that share one or more referenced table numbers (esp: \'\u003c\\/p\u003e\\n{0}\\n\u003cp\u003e\'), but that should not be the case.: org.apache.derby.shared.common.sanity.AssertFailure\'.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13281489_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13281489_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/May\\/12 09:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-05-23T09:56:41+0000\'\u003e23\\/May\\/12 09:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    By the way, here\'s an assert failure in a similar query (NPE in insane builds): \\n\\n ij&gt; select * from sys.systables st, sys.sysconglomerates sc, (select * from table(syscs_diag.space_table(st.tablename)) t2) t3 where st.tabletype=\'T\' and st.tableid=sc.tableid; \\nERROR XJ001: Java exception: \'ASSERT FAILED Found multiple optimizables that share one or more referenced table numbers (esp: \' \\n{0}\\n \'), but that should not be the case.: org.apache.derby.shared.common.sanity.AssertFailure\'.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13281601\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13281601&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13281601\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_13281601_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13281601_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/May\\/12 13:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-05-23T13:34:46+0000\'\u003e23\\/May\\/12 13:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAnything that makes it easier to call SPACE_TABLE is fine, in my opinion,\u003cbr\\/\u003e\\nsince that\'s one of the most commonly called functions in our built-in set.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_13281601_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13281601_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/May\\/12 13:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-05-23T13:34:46+0000\'\u003e23\\/May\\/12 13:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Anything that makes it easier to call SPACE_TABLE is fine, in my opinion, \\nsince that\'s one of the most commonly called functions in our built-in set.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13396162\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13396162&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13396162\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13396162_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13396162_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jun\\/12 19:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-06-18T19:10:47+0000\'\u003e18\\/Jun\\/12 19:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching derby-5554-01-aa-addTableIDcolumn.diff. This patch adds a trailing TABLEID column to the SPACE_TABLE vti. This is the first step toward addressing this issue, as outlined in the plan attached to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-5779\\\" title=\\\"Table functions should only accept arguments which are constant in their query block.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-5779\\\"\u003e\u003cdel\u003eDERBY-5779\u003c\\/del\u003e\u003c\\/a\u003e. I am running regression tests now.\u003c\\/p\u003e\\n\\n\u003cp\u003eTouches the following files:\u003c\\/p\u003e\\n\\n\u003cp\u003eM       java\\/engine\\/org\\/apache\\/derby\\/diag\\/SpaceTable.java\u003cbr\\/\u003e\\nM       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/lang\\/SysDiagVTIMappingTest.java\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13396162_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13396162_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jun\\/12 19:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-06-18T19:10:47+0000\'\u003e18\\/Jun\\/12 19:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching derby-5554-01-aa-addTableIDcolumn.diff. This patch adds a trailing TABLEID column to the SPACE_TABLE vti. This is the first step toward addressing this issue, as outlined in the plan attached to   DERBY-5779  . I am running regression tests now. \\n\\n Touches the following files: \\n\\n M       java\\/engine\\/org\\/apache\\/derby\\/diag\\/SpaceTable.java \\nM       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/lang\\/SysDiagVTIMappingTest.java              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13396770\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13396770&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13396770\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13396770_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13396770_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Jun\\/12 13:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-06-19T13:53:39+0000\'\u003e19\\/Jun\\/12 13:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching a second rev of the patch: derby-5554-01-ab-addTableIDcolumn.diff. The second rev gets the tableid from a more general location and will work better when we add a no-arg constructor to the vti.\u003c\\/p\u003e\\n\\n\u003cp\u003eTests passed cleanly for me on this rev. Committed at subversion revision 1351714.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13396770_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13396770_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Jun\\/12 13:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-06-19T13:53:39+0000\'\u003e19\\/Jun\\/12 13:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching a second rev of the patch: derby-5554-01-ab-addTableIDcolumn.diff. The second rev gets the tableid from a more general location and will work better when we add a no-arg constructor to the vti. \\n\\n Tests passed cleanly for me on this rev. Committed at subversion revision 1351714.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13396891\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13396891&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13396891\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13396891_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13396891_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Jun\\/12 16:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-06-19T16:12:57+0000\'\u003e19\\/Jun\\/12 16:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching derby-5554-02-aa-0argConstructor.diff. This patch adds a 0-arg constructor to SPACE_TABLE. I am running regression tests now.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe meaning of the 0-arg constructor is \\\"give me information on all conglomerates for all tables\\\". With this patch, the following statement returns space information on all conglomerates:\u003c\\/p\u003e\\n\\n\u003cp\u003eselect * from table(syscs_diag.space_table()) x\u003cbr\\/\u003e\\norder by conglomeratename;\u003c\\/p\u003e\\n\\n\u003cp\u003eThis patch allows us to re-write the example in the Reference Guide section on SPACE_TABLE. The following new syntax is valid standard SQL:\u003c\\/p\u003e\\n\\n\u003cp\u003eselect t2.*\u003cbr\\/\u003e\\n    from\u003cbr\\/\u003e\\n        sys.systables systabs,\u003cbr\\/\u003e\\n        table (syscs_diag.space_table()) as t2\u003cbr\\/\u003e\\n    where systabs.tabletype = \'T\'\u003cbr\\/\u003e\\n    and systabs.tableid = t2.tableid;\u003c\\/p\u003e\\n\\n\u003cp\u003eBryan\'s query can now be re-written as follows. Note that the join to SYSCONGLOMERATES gives rise to a cartesian product because there is no unique join column between SYSCONGLOMERATES and SPACE_TABLE. This was true of the original query also:\u003c\\/p\u003e\\n\\n\u003cp\u003eselect t2.\u003cb\u003e, systabs.\u003c\\/b\u003e, syscgs.conglomeratenumber\u003cbr\\/\u003e\\n    from\u003cbr\\/\u003e\\n        sys.systables systabs, sys.sysconglomerates syscgs,\u003cbr\\/\u003e\\n        table (syscs_diag.space_table()) as t2\u003cbr\\/\u003e\\n    where systabs.tabletype = \'T\'\u003cbr\\/\u003e\\n    and systabs.tableid = t2.tableid\u003cbr\\/\u003e\\n    and systabs.tableid = syscgs.tableid;\u003c\\/p\u003e\\n\\n\\n\\n\u003cp\u003eTouches the following files:\u003c\\/p\u003e\\n\\n\u003cp\u003e----------\u003c\\/p\u003e\\n\\n\u003cp\u003eM       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/catalog\\/DataDictionaryImpl.java\u003cbr\\/\u003e\\nM       java\\/engine\\/org\\/apache\\/derby\\/iapi\\/sql\\/dictionary\\/DataDictionary.java\u003c\\/p\u003e\\n\\n\u003cp\u003eExpands the meaning of getConglomerateDescriptors( UUID ). If the UUID argument is null, this method now returns all of the conglomerates in the database.\u003c\\/p\u003e\\n\\n\u003cp\u003e----------\u003c\\/p\u003e\\n\\n\u003cp\u003eM       java\\/engine\\/org\\/apache\\/derby\\/diag\\/SpaceTable.java\u003c\\/p\u003e\\n\\n\u003cp\u003eGives SPACE_TABLE a 0-arg construtor which behaves as described above.\u003c\\/p\u003e\\n\\n\u003cp\u003e----------\u003c\\/p\u003e\\n\\n\u003cp\u003eM       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/lang\\/SysDiagVTIMappingTest.java\u003c\\/p\u003e\\n\\n\u003cp\u003eTests for the new constructor.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13396891_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13396891_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Jun\\/12 16:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-06-19T16:12:57+0000\'\u003e19\\/Jun\\/12 16:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching derby-5554-02-aa-0argConstructor.diff. This patch adds a 0-arg constructor to SPACE_TABLE. I am running regression tests now. \\n\\n The meaning of the 0-arg constructor is \\\"give me information on all conglomerates for all tables\\\". With this patch, the following statement returns space information on all conglomerates: \\n\\n select * from table(syscs_diag.space_table()) x \\norder by conglomeratename; \\n\\n This patch allows us to re-write the example in the Reference Guide section on SPACE_TABLE. The following new syntax is valid standard SQL: \\n\\n select t2.* \\n    from \\n        sys.systables systabs, \\n        table (syscs_diag.space_table()) as t2 \\n    where systabs.tabletype = \'T\' \\n    and systabs.tableid = t2.tableid; \\n\\n Bryan\'s query can now be re-written as follows. Note that the join to SYSCONGLOMERATES gives rise to a cartesian product because there is no unique join column between SYSCONGLOMERATES and SPACE_TABLE. This was true of the original query also: \\n\\n select t2. , systabs. , syscgs.conglomeratenumber \\n    from \\n        sys.systables systabs, sys.sysconglomerates syscgs, \\n        table (syscs_diag.space_table()) as t2 \\n    where systabs.tabletype = \'T\' \\n    and systabs.tableid = t2.tableid \\n    and systabs.tableid = syscgs.tableid; \\n\\n\\n\\n Touches the following files: \\n\\n ---------- \\n\\n M       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/catalog\\/DataDictionaryImpl.java \\nM       java\\/engine\\/org\\/apache\\/derby\\/iapi\\/sql\\/dictionary\\/DataDictionary.java \\n\\n Expands the meaning of getConglomerateDescriptors( UUID ). If the UUID argument is null, this method now returns all of the conglomerates in the database. \\n\\n ---------- \\n\\n M       java\\/engine\\/org\\/apache\\/derby\\/diag\\/SpaceTable.java \\n\\n Gives SPACE_TABLE a 0-arg construtor which behaves as described above. \\n\\n ---------- \\n\\n M       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/lang\\/SysDiagVTIMappingTest.java \\n\\n Tests for the new constructor.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13396969\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13396969&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13396969\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13396969_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13396969_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Jun\\/12 18:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-06-19T18:29:20+0000\'\u003e19\\/Jun\\/12 18:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eTests passed cleanly for me on derby-5554-02-aa-0argConstructor.diff. Committed at subversion revision 1351795.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13396969_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13396969_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Jun\\/12 18:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-06-19T18:29:20+0000\'\u003e19\\/Jun\\/12 18:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Tests passed cleanly for me on derby-5554-02-aa-0argConstructor.diff. Committed at subversion revision 1351795.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13396975\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13396975&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13396975\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13396975_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13396975_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Jun\\/12 18:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-06-19T18:40:44+0000\'\u003e19\\/Jun\\/12 18:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUnless someone objects, I am inclined to port 1351714 and 1351795 to the 10.9 and 10.8 branches. That should give quicker relief to people affected by this bug. Because SPACE_TABLE is a vti, no changes were made to catalog data; so it should be ok to port the fixes to release branches. The combined patches change SPACE_TABLE as follows:\u003c\\/p\u003e\\n\\n\u003cp\u003e1) The vti now has a trailing TABLEID column.\u003c\\/p\u003e\\n\\n\u003cp\u003e2) The vti can now be invoked with a 0-arg constructor.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13396975_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13396975_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Jun\\/12 18:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-06-19T18:40:44+0000\'\u003e19\\/Jun\\/12 18:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Unless someone objects, I am inclined to port 1351714 and 1351795 to the 10.9 and 10.8 branches. That should give quicker relief to people affected by this bug. Because SPACE_TABLE is a vti, no changes were made to catalog data; so it should be ok to port the fixes to release branches. The combined patches change SPACE_TABLE as follows: \\n\\n 1) The vti now has a trailing TABLEID column. \\n\\n 2) The vti can now be invoked with a 0-arg constructor.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13398744\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13398744&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13398744\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13398744_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13398744_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jun\\/12 18:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-06-21T18:56:45+0000\'\u003e21\\/Jun\\/12 18:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePorted 1351714 and 1351795 from trunk to the 10.9 branch at subversion revision 1352648.\u003c\\/p\u003e\\n\\n\u003cp\u003ePorted 1351714 and 1351795 from trunk to the 10.8 branch at subversion revision 1352652.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe port to 10.8 involved a change to SysDiagVTIMappingTest to account for a catalog query which returns different results in 10.8. That is because the SYSUSERS table does not exist in 10.8.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13398744_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13398744_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jun\\/12 18:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-06-21T18:56:45+0000\'\u003e21\\/Jun\\/12 18:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Ported 1351714 and 1351795 from trunk to the 10.9 branch at subversion revision 1352648. \\n\\n Ported 1351714 and 1351795 from trunk to the 10.8 branch at subversion revision 1352652. \\n\\n The port to 10.8 involved a change to SysDiagVTIMappingTest to account for a catalog query which returns different results in 10.8. That is because the SYSUSERS table does not exist in 10.8.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13403420\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13403420&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13403420\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13403420_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13403420_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jun\\/12 19:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-06-28T19:46:08+0000\'\u003e28\\/Jun\\/12 19:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have left this issue open because I think the following work should still be done. We can close this issue and open a new issue for the follow-on work if people think that\'s better:\u003c\\/p\u003e\\n\\n\u003cp\u003e1) Formally describe the meaning of the special syntax which we still allow for VTIs but no longer allow for table functions (viz., the joins inside the FROM list).\u003c\\/p\u003e\\n\\n\u003cp\u003e2) Fix the optimizer so that query plans are picked which enforce the formal meaning. This is the crux of fixing this issue. Once we fix the optimizer, Bryan\'s original query should run.\u003c\\/p\u003e\\n\\n\u003cp\u003e3) Decide whether we want to document the formal meaning.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks,\u003cbr\\/\u003e\\n-Rick\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13403420_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13403420_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jun\\/12 19:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-06-28T19:46:08+0000\'\u003e28\\/Jun\\/12 19:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have left this issue open because I think the following work should still be done. We can close this issue and open a new issue for the follow-on work if people think that\'s better: \\n\\n 1) Formally describe the meaning of the special syntax which we still allow for VTIs but no longer allow for table functions (viz., the joins inside the FROM list). \\n\\n 2) Fix the optimizer so that query plans are picked which enforce the formal meaning. This is the crux of fixing this issue. Once we fix the optimizer, Bryan\'s original query should run. \\n\\n 3) Decide whether we want to document the formal meaning. \\n\\n Thanks, \\n-Rick              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13405229\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13405229&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13405229\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13405229_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13405229_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Jul\\/12 18:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-02T18:41:59+0000\'\u003e02\\/Jul\\/12 18:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eLinking this issue to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2152\\\" title=\\\"Support diagnostic vti tables that take parameters, such as SpaceTable\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2152\\\"\u003e\u003cdel\u003eDERBY-2152\u003c\\/del\u003e\u003c\\/a\u003e. That is the issue which introduced parameterized diagnostic VTIs.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13405229_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13405229_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Jul\\/12 18:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-02T18:41:59+0000\'\u003e02\\/Jul\\/12 18:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Linking this issue to   DERBY-2152  . That is the issue which introduced parameterized diagnostic VTIs.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13405243\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13405243&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13405243\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13405243_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13405243_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Jul\\/12 18:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-02T18:59:24+0000\'\u003e02\\/Jul\\/12 18:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eLinking to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1520\\\" title=\\\"Document new SYSCS_DIAG tables\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1520\\\"\u003e\u003cdel\u003eDERBY-1520\u003c\\/del\u003e\u003c\\/a\u003e, the issue which documented parameterized diagnostic VTIs. \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2152\\\" title=\\\"Support diagnostic vti tables that take parameters, such as SpaceTable\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2152\\\"\u003e\u003cdel\u003eDERBY-2152\u003c\\/del\u003e\u003c\\/a\u003e does not discuss the meaning of joining parameterized VTIs in the FROM list. The first mention of this capability is on 2007-03-23 on \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1520\\\" title=\\\"Document new SYSCS_DIAG tables\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1520\\\"\u003e\u003cdel\u003eDERBY-1520\u003c\\/del\u003e\u003c\\/a\u003e. Although \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1520\\\" title=\\\"Document new SYSCS_DIAG tables\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1520\\\"\u003e\u003cdel\u003eDERBY-1520\u003c\\/del\u003e\u003c\\/a\u003e mentions the capability (and the example made its way into the Reference Guide), there is no discussion of the meaning of these joins.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13405243_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13405243_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Jul\\/12 18:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-02T18:59:24+0000\'\u003e02\\/Jul\\/12 18:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Linking to   DERBY-1520  , the issue which documented parameterized diagnostic VTIs.   DERBY-2152   does not discuss the meaning of joining parameterized VTIs in the FROM list. The first mention of this capability is on 2007-03-23 on   DERBY-1520  . Although   DERBY-1520   mentions the capability (and the example made its way into the Reference Guide), there is no discussion of the meaning of these joins.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13405281\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13405281&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13405281\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13405281_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13405281_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Jul\\/12 19:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-02T19:31:15+0000\'\u003e02\\/Jul\\/12 19:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThere does not seem to be any previous discussion of what it means to join a parameterized diagnostic VTI in the FROM list. \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2152\\\" title=\\\"Support diagnostic vti tables that take parameters, such as SpaceTable\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2152\\\"\u003e\u003cdel\u003eDERBY-2152\u003c\\/del\u003e\u003c\\/a\u003e was a follow-on issue to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-571\\\" title=\\\"Virtual Table Mapping for no argument Diagnostic tables\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-571\\\"\u003e\u003cdel\u003eDERBY-571\u003c\\/del\u003e\u003c\\/a\u003e. It seems to me that the clear intent of those issues was to fit diagnostic VTIs inside the SQL Standard, replacing the Derby-specific constructor syntax. The intent was not to create more syntax outside the SQL Standard. It does not appear that anyone realized the possibility of the illegal join in the FROM list until late in the process of documenting \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2152\\\" title=\\\"Support diagnostic vti tables that take parameters, such as SpaceTable\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2152\\\"\u003e\u003cdel\u003eDERBY-2152\u003c\\/del\u003e\u003c\\/a\u003e. It does not appear that anyone at that time was aware that the syntax had no meaning inside the SQL Standard. Certainly there is no discussion of how the syntax violates the Standard and there is no discussion of what the non-standard syntax means.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis suggests the following:\u003c\\/p\u003e\\n\\n\u003cp\u003e1) Without any guidance from the people who introduced this feature, we will have to try to come up with our own meaning.\u003c\\/p\u003e\\n\\n\u003cp\u003e2) We should not document the meaning of the non-standard syntax. The point of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2152\\\" title=\\\"Support diagnostic vti tables that take parameters, such as SpaceTable\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2152\\\"\u003e\u003cdel\u003eDERBY-2152\u003c\\/del\u003e\u003c\\/a\u003e was to steer people away from Derby extensions and encourage people to use standard syntax.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13405281_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13405281_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Jul\\/12 19:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-02T19:31:15+0000\'\u003e02\\/Jul\\/12 19:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    There does not seem to be any previous discussion of what it means to join a parameterized diagnostic VTI in the FROM list.   DERBY-2152   was a follow-on issue to   DERBY-571  . It seems to me that the clear intent of those issues was to fit diagnostic VTIs inside the SQL Standard, replacing the Derby-specific constructor syntax. The intent was not to create more syntax outside the SQL Standard. It does not appear that anyone realized the possibility of the illegal join in the FROM list until late in the process of documenting   DERBY-2152  . It does not appear that anyone at that time was aware that the syntax had no meaning inside the SQL Standard. Certainly there is no discussion of how the syntax violates the Standard and there is no discussion of what the non-standard syntax means. \\n\\n This suggests the following: \\n\\n 1) Without any guidance from the people who introduced this feature, we will have to try to come up with our own meaning. \\n\\n 2) We should not document the meaning of the non-standard syntax. The point of   DERBY-2152   was to steer people away from Derby extensions and encourage people to use standard syntax.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13405985\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13405985&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13405985\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13405985_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13405985_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jul\\/12 19:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-03T19:46:07+0000\'\u003e03\\/Jul\\/12 19:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIn standard SQL, the order of elements in the FROM list does not affect whether the query compiles. This is only partly true for queries which use the FROM list to join VTIs. In particular, non-standard behavior arises when VTIs join with other VTIs. I have observed the following:\u003c\\/p\u003e\\n\\n\u003cp\u003e1) The order of non-VTI and non-table-function elements is not significant.\u003c\\/p\u003e\\n\\n\u003cp\u003e2) However, a VTI argument can only join to VTIs\\/table-functions which precede it in the FROM list.\u003c\\/p\u003e\\n\\n\u003cp\u003eI don\'t imagine that anyone joins our argument-bearing VTIs with one another. Our internal metadata queries don\'t seem to do this. In addition, the diagnostic VTI columns are not meaningful arguments for other diagnostic VTIs. For this reason, I think that it should be ok to put in some bind-time logic which prevents users from writing queries which join diagnostic VTIs to one another in the FROM list. Removing this useless edge-case makes it easier to define the meaning of the remaining, useful joins.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe following script demonstrates how you can (and can\'t) join VTIs to one another in the FROM list today:\u003c\\/p\u003e\\n\\n\u003cp\u003econnect \'jdbc:derby:memory:db;create=true\';\u003c\\/p\u003e\\n\\n\u003cp\u003eselect t1.*\u003cbr\\/\u003e\\nfrom \u003cbr\\/\u003e\\n    sys.systables systabs,\u003cbr\\/\u003e\\n    table ( syscs_diag.space_table( systabs.tablename ) ) as t1\u003cbr\\/\u003e\\nwhere systabs.tabletype = \'T\';\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; compiles\u003cbr\\/\u003e\\nselect t1.\u003cb\u003e, t2.\u003c\\/b\u003e\u003cbr\\/\u003e\\nfrom \u003cbr\\/\u003e\\n    sys.systables systabs,\u003cbr\\/\u003e\\n    table ( syscs_diag.space_table( systabs.tablename ) ) as t1,\u003cbr\\/\u003e\\n    table ( syscs_diag.space_table( t1.conglomeratename ) ) as t2\u003cbr\\/\u003e\\nwhere systabs.tabletype = \'T\';\u003c\\/p\u003e\\n\\n\u003cp\u003eselect t1.*\u003cbr\\/\u003e\\nfrom \u003cbr\\/\u003e\\n    table ( syscs_diag.space_table( systabs.tablename ) ) as t1,\u003cbr\\/\u003e\\n    sys.systables systabs\u003cbr\\/\u003e\\nwhere systabs.tabletype = \'T\';\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; does not compile\u003cbr\\/\u003e\\nselect t1.\u003cb\u003e, t2.\u003c\\/b\u003e\u003cbr\\/\u003e\\nfrom \u003cbr\\/\u003e\\n    sys.systables systabs,\u003cbr\\/\u003e\\n    table ( syscs_diag.space_table( t1.conglomeratename ) ) as t2,\u003cbr\\/\u003e\\n    table ( syscs_diag.space_table( systabs.tablename ) ) as t1\u003cbr\\/\u003e\\nwhere systabs.tabletype = \'T\';\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13405985_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13405985_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jul\\/12 19:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-03T19:46:07+0000\'\u003e03\\/Jul\\/12 19:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    In standard SQL, the order of elements in the FROM list does not affect whether the query compiles. This is only partly true for queries which use the FROM list to join VTIs. In particular, non-standard behavior arises when VTIs join with other VTIs. I have observed the following: \\n\\n 1) The order of non-VTI and non-table-function elements is not significant. \\n\\n 2) However, a VTI argument can only join to VTIs\\/table-functions which precede it in the FROM list. \\n\\n I don\'t imagine that anyone joins our argument-bearing VTIs with one another. Our internal metadata queries don\'t seem to do this. In addition, the diagnostic VTI columns are not meaningful arguments for other diagnostic VTIs. For this reason, I think that it should be ok to put in some bind-time logic which prevents users from writing queries which join diagnostic VTIs to one another in the FROM list. Removing this useless edge-case makes it easier to define the meaning of the remaining, useful joins. \\n\\n The following script demonstrates how you can (and can\'t) join VTIs to one another in the FROM list today: \\n\\n connect \'jdbc:derby:memory:db;create=true\'; \\n\\n select t1.* \\nfrom  \\n    sys.systables systabs, \\n    table ( syscs_diag.space_table( systabs.tablename ) ) as t1 \\nwhere systabs.tabletype = \'T\'; \\n\\n &#8211; compiles \\nselect t1. , t2.  \\nfrom  \\n    sys.systables systabs, \\n    table ( syscs_diag.space_table( systabs.tablename ) ) as t1, \\n    table ( syscs_diag.space_table( t1.conglomeratename ) ) as t2 \\nwhere systabs.tabletype = \'T\'; \\n\\n select t1.* \\nfrom  \\n    table ( syscs_diag.space_table( systabs.tablename ) ) as t1, \\n    sys.systables systabs \\nwhere systabs.tabletype = \'T\'; \\n\\n &#8211; does not compile \\nselect t1. , t2.  \\nfrom  \\n    sys.systables systabs, \\n    table ( syscs_diag.space_table( t1.conglomeratename ) ) as t2, \\n    table ( syscs_diag.space_table( systabs.tablename ) ) as t1 \\nwhere systabs.tabletype = \'T\';              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13405997\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13405997&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13405997\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13405997_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13405997_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jul\\/12 20:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-03T20:11:31+0000\'\u003e03\\/Jul\\/12 20:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching derby-5554-03-aa-forbidVTItoVTIjoins.diff. This patch makes it illegal to join two VTIs to one another in the FROM list. Regression tests passed cleanly for me.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eTouches the following files:\u003c\\/p\u003e\\n\\n\u003cp\u003e--------\u003c\\/p\u003e\\n\\n\u003cp\u003eM       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/compile\\/FromVTI.java\u003c\\/p\u003e\\n\\n\u003cp\u003eForbid the illegal join at bind() time.\u003c\\/p\u003e\\n\\n\u003cp\u003e--------\u003c\\/p\u003e\\n\\n\u003cp\u003eM       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/lang\\/SysDiagVTIMappingTest.java\u003c\\/p\u003e\\n\\n\u003cp\u003eAdd a test case.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13405997_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13405997_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jul\\/12 20:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-03T20:11:31+0000\'\u003e03\\/Jul\\/12 20:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching derby-5554-03-aa-forbidVTItoVTIjoins.diff. This patch makes it illegal to join two VTIs to one another in the FROM list. Regression tests passed cleanly for me. \\n\\n\\n Touches the following files: \\n\\n -------- \\n\\n M       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/compile\\/FromVTI.java \\n\\n Forbid the illegal join at bind() time. \\n\\n -------- \\n\\n M       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/lang\\/SysDiagVTIMappingTest.java \\n\\n Add a test case.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13406095\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13406095&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13406095\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_13406095_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13406095_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jul\\/12 21:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-03T21:57:57+0000\'\u003e03\\/Jul\\/12 21:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThat seems like a reasonable restriction.   It would be good to mention in a release note.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_13406095_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13406095_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jul\\/12 21:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-03T21:57:57+0000\'\u003e03\\/Jul\\/12 21:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    That seems like a reasonable restriction.   It would be good to mention in a release note.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13406102\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13406102&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13406102\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_13406102_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13406102_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jul\\/12 22:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-03T22:05:30+0000\'\u003e03\\/Jul\\/12 22:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCouldn\'t we just rearrange the order at bind time (top sort) ? So long as there is no circularity, it seems to me the ordering shouldn\'t be significant, SQL being set oriented and not imperative...\u003cbr\\/\u003e\\n(using a dependency relation expressing that a from list element references another in the way used here)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_13406102_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13406102_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jul\\/12 22:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-03T22:05:30+0000\'\u003e03\\/Jul\\/12 22:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Couldn\'t we just rearrange the order at bind time (top sort) ? So long as there is no circularity, it seems to me the ordering shouldn\'t be significant, SQL being set oriented and not imperative... \\n(using a dependency relation expressing that a from list element references another in the way used here)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13407172\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13407172&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13407172\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13407172_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13407172_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jul\\/12 14:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-05T14:38:03+0000\'\u003e05\\/Jul\\/12 14:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks, Kathey. I have marked this issue as needing a release note.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks for that additional discussion, Dag. I don\'t see much value in building more internal support for a non-standard syntax whose use we want to discourage. The only use-case I can imagine for joining VTIs in the FROM list would be for future, internal queries involving new diagnostic VTIs. I think that a better approach to that use-case would be to design the new diagnostic VTIs in such a way that joins in the FROM list are not necessary. Thanks.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13407172_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13407172_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jul\\/12 14:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-05T14:38:03+0000\'\u003e05\\/Jul\\/12 14:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks, Kathey. I have marked this issue as needing a release note. \\n\\n Thanks for that additional discussion, Dag. I don\'t see much value in building more internal support for a non-standard syntax whose use we want to discourage. The only use-case I can imagine for joining VTIs in the FROM list would be for future, internal queries involving new diagnostic VTIs. I think that a better approach to that use-case would be to design the new diagnostic VTIs in such a way that joins in the FROM list are not necessary. Thanks.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13407217\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13407217&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13407217\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13407217_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13407217_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jul\\/12 15:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-05T15:41:47+0000\'\u003e05\\/Jul\\/12 15:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommitted derby-5554-03-aa-forbidVTItoVTIjoins.diff at subversion revision 1357692.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13407217_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13407217_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jul\\/12 15:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-05T15:41:47+0000\'\u003e05\\/Jul\\/12 15:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Committed derby-5554-03-aa-forbidVTItoVTIjoins.diff at subversion revision 1357692.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13407220\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13407220&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13407220\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13407220_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13407220_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jul\\/12 15:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-05T15:45:37+0000\'\u003e05\\/Jul\\/12 15:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBefore defining what it means to join VTIs in the FROM list, it\'s useful to describe how the clauses in a SQL Standard query are supposed to be evaluated. The following discussion is based on these sections in part 2 of the SQL Standard:\u003c\\/p\u003e\\n\\n\u003cp\u003eo 7.13 &lt;query expression&gt; - This section describes a Query as a series of Selects, separated by UNION\\/INTERSECT operators, sorted by an ORDER BY clause, and bounded by FETCH FIRST and OFFSET clauses.\u003c\\/p\u003e\\n\\n\u003cp\u003eo 7.12 &lt;query specification&gt; - This section describes a Select as a SELECT list on top of a &lt;table expression&gt;.\u003c\\/p\u003e\\n\\n\u003cp\u003eo 7.4 &lt;table expression&gt; - This section describes the order of the remaining clauses: FROM, WHERE, GROUP BY, HAVING, WINDOW.\u003c\\/p\u003e\\n\\n\u003cp\u003e1) Let Q be a query composed of a series of Selects, S1...Sn, separated by UNION\\/INTERSECT operators, sorted by an ORDER BY clause, and bounded by FETCH FIRST and OFFSET clauses.\u003c\\/p\u003e\\n\\n\u003cp\u003e2) We evaluate each Select S as follows:\u003c\\/p\u003e\\n\\n\u003cp\u003e  F = the cartesian product of all tables, joined tables, views, subqueries, and table functions in the FROM clause.\u003c\\/p\u003e\\n\\n\u003cp\u003e  W = the result of applying the WHERE clause to F\u003c\\/p\u003e\\n\\n\u003cp\u003e  G = the result of applying the GROUP BY clause to W\u003c\\/p\u003e\\n\\n\u003cp\u003e  H = the result of applying the HAVING clause to G\u003c\\/p\u003e\\n\\n\u003cp\u003e  WW = the result of applying the WINDOW clause to H\u003c\\/p\u003e\\n\\n\u003cp\u003e  S = the result of applying the SELECT list expressions (including aggregates) to WW\u003c\\/p\u003e\\n\\n\u003cp\u003e3) Now we compute\u003c\\/p\u003e\\n\\n\u003cp\u003e  U = the result of applying the UNION\\/INTERSECT operators to S1...Sn\u003c\\/p\u003e\\n\\n\u003cp\u003e  O = the result of applying the ORDER BY clause to U\u003c\\/p\u003e\\n\\n\u003cp\u003e  Q = the result of applying the FETCH FIRST and OFFSET clauses to O\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13407220_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13407220_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jul\\/12 15:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-05T15:45:37+0000\'\u003e05\\/Jul\\/12 15:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Before defining what it means to join VTIs in the FROM list, it\'s useful to describe how the clauses in a SQL Standard query are supposed to be evaluated. The following discussion is based on these sections in part 2 of the SQL Standard: \\n\\n o 7.13 &lt;query expression&gt; - This section describes a Query as a series of Selects, separated by UNION\\/INTERSECT operators, sorted by an ORDER BY clause, and bounded by FETCH FIRST and OFFSET clauses. \\n\\n o 7.12 &lt;query specification&gt; - This section describes a Select as a SELECT list on top of a &lt;table expression&gt;. \\n\\n o 7.4 &lt;table expression&gt; - This section describes the order of the remaining clauses: FROM, WHERE, GROUP BY, HAVING, WINDOW. \\n\\n 1) Let Q be a query composed of a series of Selects, S1...Sn, separated by UNION\\/INTERSECT operators, sorted by an ORDER BY clause, and bounded by FETCH FIRST and OFFSET clauses. \\n\\n 2) We evaluate each Select S as follows: \\n\\n   F = the cartesian product of all tables, joined tables, views, subqueries, and table functions in the FROM clause. \\n\\n   W = the result of applying the WHERE clause to F \\n\\n   G = the result of applying the GROUP BY clause to W \\n\\n   H = the result of applying the HAVING clause to G \\n\\n   WW = the result of applying the WINDOW clause to H \\n\\n   S = the result of applying the SELECT list expressions (including aggregates) to WW \\n\\n 3) Now we compute \\n\\n   U = the result of applying the UNION\\/INTERSECT operators to S1...Sn \\n\\n   O = the result of applying the ORDER BY clause to U \\n\\n   Q = the result of applying the FETCH FIRST and OFFSET clauses to O              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13407222\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13407222&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13407222\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13407222_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13407222_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jul\\/12 15:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-05T15:47:52+0000\'\u003e05\\/Jul\\/12 15:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNow we can give meaning to Queries which join VTI parameters to other tables in the FROM list. This involves redefining the F, W, and S expressions described above.\u003c\\/p\u003e\\n\\n\u003cp\u003eNote that VTI arguments can mention columns in tables, joined tables, views, and subqueries. However, VTI arguments may not mention columns in table functions or other VTIs.\u003c\\/p\u003e\\n\\n\u003cp\u003eo Let V1...Vn be the VTIs which join to other elements in the FROM list.\u003c\\/p\u003e\\n\\n\u003cp\u003eo Let C be the cartesian product of all other FROM list elements.\u003c\\/p\u003e\\n\\n\u003cp\u003eo For each Vi, let Ki1...Kim be the columns in C which are mentioned by the arguments to Vi.\u003c\\/p\u003e\\n\\n\u003cp\u003eo For each Vi, construct a temporary table Ti. The columns in Ti are all of the columns in Vi followed by additional columns Ki1...Kim. For each unique key combination (Ki1, ..., Kim) found in C, insert into Ti the results of evaluating Vi by plugging Ki1...Kim into its arguments.\u003c\\/p\u003e\\n\\n\u003cp\u003eo For each Vij, add to the WHERE clause the conjunct (C.Kij = Ti.Kij). Call the resulting clause WHERE_2.\u003c\\/p\u003e\\n\\n\u003cp\u003eo Finally, we construct these new values:\u003c\\/p\u003e\\n\\n\u003cp\u003e  F = the cartesian product of C with T1...Tn\u003c\\/p\u003e\\n\\n\u003cp\u003e  W = the result of applying WHERE_2 to F\u003c\\/p\u003e\\n\\n\u003cp\u003e  S = the result of applying the SELECT list to WW, throwing away all Ti.Kij columns.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13407222_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13407222_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jul\\/12 15:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-05T15:47:52+0000\'\u003e05\\/Jul\\/12 15:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Now we can give meaning to Queries which join VTI parameters to other tables in the FROM list. This involves redefining the F, W, and S expressions described above. \\n\\n Note that VTI arguments can mention columns in tables, joined tables, views, and subqueries. However, VTI arguments may not mention columns in table functions or other VTIs. \\n\\n o Let V1...Vn be the VTIs which join to other elements in the FROM list. \\n\\n o Let C be the cartesian product of all other FROM list elements. \\n\\n o For each Vi, let Ki1...Kim be the columns in C which are mentioned by the arguments to Vi. \\n\\n o For each Vi, construct a temporary table Ti. The columns in Ti are all of the columns in Vi followed by additional columns Ki1...Kim. For each unique key combination (Ki1, ..., Kim) found in C, insert into Ti the results of evaluating Vi by plugging Ki1...Kim into its arguments. \\n\\n o For each Vij, add to the WHERE clause the conjunct (C.Kij = Ti.Kij). Call the resulting clause WHERE_2. \\n\\n o Finally, we construct these new values: \\n\\n   F = the cartesian product of C with T1...Tn \\n\\n   W = the result of applying WHERE_2 to F \\n\\n   S = the result of applying the SELECT list to WW, throwing away all Ti.Kij columns.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13407293\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13407293&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13407293\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13407293_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13407293_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jul\\/12 17:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-05T17:22:55+0000\'\u003e05\\/Jul\\/12 17:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching the first rev of a release note for this issue.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13407293_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13407293_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jul\\/12 17:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-05T17:22:55+0000\'\u003e05\\/Jul\\/12 17:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching the first rev of a release note for this issue.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13407394\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13407394&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13407394\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_13407394_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13407394_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jul\\/12 18:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-05T18:55:30+0000\'\u003e05\\/Jul\\/12 18:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks, Rick. My main concern was that the VT be placeable at any joinee position, your proposal handles that, so +1.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_13407394_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13407394_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jul\\/12 18:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-05T18:55:30+0000\'\u003e05\\/Jul\\/12 18:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks, Rick. My main concern was that the VT be placeable at any joinee position, your proposal handles that, so +1.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13407593\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13407593&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13407593\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_13407593_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13407593_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jul\\/12 23:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-05T23:27:19+0000\'\u003e05\\/Jul\\/12 23:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eRick, thanks for adding the release note.\u003c\\/p\u003e\\n\\n\u003cp\u003eDo you think it would be useful to include the \u003cb\u003ecorrect\u003c\\/b\u003e syntax for the (invalid) query given as an example in the release note?\u003c\\/p\u003e\\n\\n\u003cp\u003eSomething along the lines of:\u003c\\/p\u003e\\n\\n\u003cp\u003e    Applications which rely on these forbidden joins in the FROM list must be re-coded to use legal syntax. For example, the above query should be rewritten as: ...\u003c\\/p\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_13407593_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13407593_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jul\\/12 23:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-05T23:27:19+0000\'\u003e05\\/Jul\\/12 23:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Rick, thanks for adding the release note. \\n\\n Do you think it would be useful to include the  correct  syntax for the (invalid) query given as an example in the release note? \\n\\n Something along the lines of: \\n\\n     Applications which rely on these forbidden joins in the FROM list must be re-coded to use legal syntax. For example, the above query should be rewritten as: ... \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13407961\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13407961&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13407961\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13407961_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13407961_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Jul\\/12 12:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-06T12:43:50+0000\'\u003e06\\/Jul\\/12 12:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks, Bryan. That is a good idea. Attaching a second rev of the release note. This presents a different bad query along with an example of how to re-write it so that it will compile.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe new bad query joins a user-written table function to SPACE_TABLE in the FROM list. This is the only example I could imagine for a real query which might be affected by this change. Although joins to other SYSCS_DIAG tables and table functions are now forbidden, none of those joins really make any sense to begin with; it\'s hard to come up with substitute, re-written queries for queries which don\'t have any meaning!\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks,\u003cbr\\/\u003e\\n-Rick\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13407961_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13407961_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Jul\\/12 12:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-06T12:43:50+0000\'\u003e06\\/Jul\\/12 12:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks, Bryan. That is a good idea. Attaching a second rev of the release note. This presents a different bad query along with an example of how to re-write it so that it will compile. \\n\\n The new bad query joins a user-written table function to SPACE_TABLE in the FROM list. This is the only example I could imagine for a real query which might be affected by this change. Although joins to other SYSCS_DIAG tables and table functions are now forbidden, none of those joins really make any sense to begin with; it\'s hard to come up with substitute, re-written queries for queries which don\'t have any meaning! \\n\\n Thanks, \\n-Rick              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13408471\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13408471&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13408471\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_13408471_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13408471_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jul\\/12 00:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-07T00:12:18+0000\'\u003e07\\/Jul\\/12 00:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e+1 to the revised release note.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_13408471_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13408471_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jul\\/12 00:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-07T00:12:18+0000\'\u003e07\\/Jul\\/12 00:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    +1 to the revised release note.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13409730\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13409730&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13409730\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13409730_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13409730_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jul\\/12 19:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-09T19:00:35+0000\'\u003e09\\/Jul\\/12 19:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching derby-5554-04-aa-forceVTIAfterJoin.diff. This is one approach to making Bryan\'s query work. Regression tests pass cleanly for me on this patch. I will also attach a second approach to fixing Bryan\'s query.\u003c\\/p\u003e\\n\\n\u003cp\u003eIt appears to me that this is what is going on:\u003c\\/p\u003e\\n\\n\u003cp\u003e1) The problem query gives rise to a query plan with the following\u003cbr\\/\u003e\\nshape:\u003c\\/p\u003e\\n\\n\u003cp\u003e             SelectList\u003cbr\\/\u003e\\n             \\/\u003cbr\\/\u003e\\n           HashJoin\u003cbr\\/\u003e\\n           \\/          \\\\\u003cbr\\/\u003e\\nNestedLoop     sysconglomerates\u003cbr\\/\u003e\\n            \\/  \\\\\u003cbr\\/\u003e\\nsystables   space_table\u003c\\/p\u003e\\n\\n\u003cp\u003e2) At run-time, we are trying to initialize space_table from the NestedLoop row rather than from systables. The insertion of the extra HashJoin should have forced a renumbering of the result set number in the systables.tablename column reference. But it didn\'t.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe derby-5554-04-aa-forceVTIAfterJoin.diff patch forces the VTI after all of the base tables in the join order. The VTI is then initialized from a row which has been filled in.\u003c\\/p\u003e\\n\\n\u003cp\u003eI am not thrilled with this fix. It fiddles with the optimizer in order to work around a code-generation problem. However, I am attaching this approach as a fallback in case we find a fatal problem with a second approach which I will attach presently. The second approach is more complicated.\u003c\\/p\u003e\\n\\n\u003cp\u003eTouches the following files:\u003c\\/p\u003e\\n\\n\u003cp\u003e------------\u003c\\/p\u003e\\n\\n\u003cp\u003eM       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/compile\\/FromVTI.java\u003c\\/p\u003e\\n\\n\u003cp\u003eIf a VTI argument refers to another element in the FROM list, then force the the VTI to follow all non-VTIs in the join order.\u003c\\/p\u003e\\n\\n\u003cp\u003e------------\u003c\\/p\u003e\\n\\n\u003cp\u003eM       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/lang\\/SysDiagVTIMappingTest.java\u003c\\/p\u003e\\n\\n\u003cp\u003eAdd Bryan\'s query as a test case.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13409730_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13409730_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jul\\/12 19:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-09T19:00:35+0000\'\u003e09\\/Jul\\/12 19:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching derby-5554-04-aa-forceVTIAfterJoin.diff. This is one approach to making Bryan\'s query work. Regression tests pass cleanly for me on this patch. I will also attach a second approach to fixing Bryan\'s query. \\n\\n It appears to me that this is what is going on: \\n\\n 1) The problem query gives rise to a query plan with the following \\nshape: \\n\\n              SelectList \\n             \\/ \\n           HashJoin \\n           \\/          \\\\ \\nNestedLoop     sysconglomerates \\n            \\/  \\\\ \\nsystables   space_table \\n\\n 2) At run-time, we are trying to initialize space_table from the NestedLoop row rather than from systables. The insertion of the extra HashJoin should have forced a renumbering of the result set number in the systables.tablename column reference. But it didn\'t. \\n\\n The derby-5554-04-aa-forceVTIAfterJoin.diff patch forces the VTI after all of the base tables in the join order. The VTI is then initialized from a row which has been filled in. \\n\\n I am not thrilled with this fix. It fiddles with the optimizer in order to work around a code-generation problem. However, I am attaching this approach as a fallback in case we find a fatal problem with a second approach which I will attach presently. The second approach is more complicated. \\n\\n Touches the following files: \\n\\n ------------ \\n\\n M       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/compile\\/FromVTI.java \\n\\n If a VTI argument refers to another element in the FROM list, then force the the VTI to follow all non-VTIs in the join order. \\n\\n ------------ \\n\\n M       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/lang\\/SysDiagVTIMappingTest.java \\n\\n Add Bryan\'s query as a test case.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13409754\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13409754&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13409754\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13409754_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13409754_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jul\\/12 19:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-09T19:21:08+0000\'\u003e09\\/Jul\\/12 19:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching derby-5554-04-ab-remapVTIarg.diff, a second approach to fixing Bryan\'s query. I am running regression tests now.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe second approach code generates a reference to the result column in the SYSTABLES base table rather than to a column in a node above it. I am not thrilled by the complexity of this solution and I think that it may not be as general as the first approach of forcing the VTI to an inner slot in the join order. For instance, it may be possible to cook up elaborate queries which still fail because the VTI joins to the output of joined tables or subqueries in the FROM list.\u003c\\/p\u003e\\n\\n\u003cp\u003eOn balance, I think this is a better approach because it fixes a code generator problem in the code generator. I\'m reluctant to spend more time coming up with a better fix since we want to discourage use of this kind of join.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe fix is to have the base tables tell the VTI where their rows are. I could not find an easy way to dig up this information in the existing context available to the code generator. So I added a new method and piece of state to FromVTI for tracking this information.\u003c\\/p\u003e\\n\\n\u003cp\u003eTouches the following files:\u003c\\/p\u003e\\n\\n\u003cp\u003e-----------\u003c\\/p\u003e\\n\\n\u003cp\u003eM       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/compile\\/FromVTI.java\u003cbr\\/\u003e\\nM       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/compile\\/FromBaseTable.java\u003c\\/p\u003e\\n\\n\u003cp\u003eBase tables give the location of their result rows to FromVTIs at code generation time.\u003c\\/p\u003e\\n\\n\u003cp\u003e-----------\u003c\\/p\u003e\\n\\n\u003cp\u003eM       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/lang\\/SysDiagVTIMappingTest.java\u003c\\/p\u003e\\n\\n\u003cp\u003eAdds Bryan\'s query as a test case.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13409754_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13409754_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jul\\/12 19:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-09T19:21:08+0000\'\u003e09\\/Jul\\/12 19:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching derby-5554-04-ab-remapVTIarg.diff, a second approach to fixing Bryan\'s query. I am running regression tests now. \\n\\n The second approach code generates a reference to the result column in the SYSTABLES base table rather than to a column in a node above it. I am not thrilled by the complexity of this solution and I think that it may not be as general as the first approach of forcing the VTI to an inner slot in the join order. For instance, it may be possible to cook up elaborate queries which still fail because the VTI joins to the output of joined tables or subqueries in the FROM list. \\n\\n On balance, I think this is a better approach because it fixes a code generator problem in the code generator. I\'m reluctant to spend more time coming up with a better fix since we want to discourage use of this kind of join. \\n\\n The fix is to have the base tables tell the VTI where their rows are. I could not find an easy way to dig up this information in the existing context available to the code generator. So I added a new method and piece of state to FromVTI for tracking this information. \\n\\n Touches the following files: \\n\\n ----------- \\n\\n M       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/compile\\/FromVTI.java \\nM       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/compile\\/FromBaseTable.java \\n\\n Base tables give the location of their result rows to FromVTIs at code generation time. \\n\\n ----------- \\n\\n M       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/lang\\/SysDiagVTIMappingTest.java \\n\\n Adds Bryan\'s query as a test case.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13409775\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13409775&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13409775\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13409775_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13409775_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jul\\/12 19:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-09T19:36:22+0000\'\u003e09\\/Jul\\/12 19:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eTests passed cleanly for me on derby-5554-04-ab-remapVTIarg.diff.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13409775_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13409775_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jul\\/12 19:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-09T19:36:22+0000\'\u003e09\\/Jul\\/12 19:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Tests passed cleanly for me on derby-5554-04-ab-remapVTIarg.diff.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13410266\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13410266&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13410266\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13410266_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13410266_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jul\\/12 11:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-10T11:44:03+0000\'\u003e10\\/Jul\\/12 11:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIf I understand the description of the 04-ab patch, it should not be dependent on the join order. That makes me wonder from which row in the base table it reads the value that it passes as an argument to the VTI, if the VTI happens to be the outer table in the join. Will the VTI be executed just once, with the value taken from the first row in the base table? I tried to test it by forcing the join order with an optimizer override, but then I just got \\\"ERROR 42Y70: The user specified an illegal join order. This could be caused by a join column from an inner table being passed as a parameter to an external virtual table.\\\" So it may be that the optimizer knows not to use the VTI as the outer table, but it\'s not entirely obvious to me.\u003c\\/p\u003e\\n\\n\u003cp\u003eI tried a variant of Bryan\'s original query, just with a different ordering of the FROM list, and I\'m afraid I still see a NullPointerException with the 04-ab patch:\u003c\\/p\u003e\\n\\n\u003cp\u003eij&gt; create table t1(x int);\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij&gt; create table t2(y int);\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij&gt; SELECT T2.\u003cb\u003e, systabs.\u003c\\/b\u003e, syscgs.conglomeratenumber \u003cbr\\/\u003e\\n    FROM \u003cbr\\/\u003e\\n        sys.sysconglomerates syscgs, \u003cbr\\/\u003e\\n        TABLE (SYSCS_DIAG.SPACE_TABLE(systabs.tablename)) AS T2,\u003cbr\\/\u003e\\n        SYS.SYSTABLES systabs\u003cbr\\/\u003e\\n    WHERE systabs.tabletype = \'T\' and systabs.tableid = syscgs.tableid;\u003cbr\\/\u003e\\nERROR 38000: The exception \'java.lang.NullPointerException\' was thrown while evaluating an expression. (errorCode = 20000)\u003cbr\\/\u003e\\nERROR XJ001: Java exception: \': java.lang.NullPointerException\'. (errorCode = 20000)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13410266_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13410266_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jul\\/12 11:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-10T11:44:03+0000\'\u003e10\\/Jul\\/12 11:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    If I understand the description of the 04-ab patch, it should not be dependent on the join order. That makes me wonder from which row in the base table it reads the value that it passes as an argument to the VTI, if the VTI happens to be the outer table in the join. Will the VTI be executed just once, with the value taken from the first row in the base table? I tried to test it by forcing the join order with an optimizer override, but then I just got \\\"ERROR 42Y70: The user specified an illegal join order. This could be caused by a join column from an inner table being passed as a parameter to an external virtual table.\\\" So it may be that the optimizer knows not to use the VTI as the outer table, but it\'s not entirely obvious to me. \\n\\n I tried a variant of Bryan\'s original query, just with a different ordering of the FROM list, and I\'m afraid I still see a NullPointerException with the 04-ab patch: \\n\\n ij&gt; create table t1(x int); \\n0 rows inserted\\/updated\\/deleted \\nij&gt; create table t2(y int); \\n0 rows inserted\\/updated\\/deleted \\nij&gt; SELECT T2. , systabs. , syscgs.conglomeratenumber  \\n    FROM  \\n        sys.sysconglomerates syscgs,  \\n        TABLE (SYSCS_DIAG.SPACE_TABLE(systabs.tablename)) AS T2, \\n        SYS.SYSTABLES systabs \\n    WHERE systabs.tabletype = \'T\' and systabs.tableid = syscgs.tableid; \\nERROR 38000: The exception \'java.lang.NullPointerException\' was thrown while evaluating an expression. (errorCode = 20000) \\nERROR XJ001: Java exception: \': java.lang.NullPointerException\'. (errorCode = 20000)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13410287\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13410287&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13410287\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13410287_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13410287_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jul\\/12 12:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-10T12:24:22+0000\'\u003e10\\/Jul\\/12 12:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for test-driving the patch, Knut. The same query also raises an NPE with the first patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13410287_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13410287_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jul\\/12 12:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-10T12:24:22+0000\'\u003e10\\/Jul\\/12 12:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for test-driving the patch, Knut. The same query also raises an NPE with the first patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13410379\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13410379&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13410379\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13410379_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13410379_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jul\\/12 14:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-10T14:31:31+0000\'\u003e10\\/Jul\\/12 14:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching derby-5554-04-ac-remapVTIarg.diff, a new rev of the argument-remapping approach. I am running regression tests now.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis rev is simpler than the previous attempt. It may also handle more cases than the previous patch. The patch merely touches FromVTI.\u003c\\/p\u003e\\n\\n\u003cp\u003eTouches the following files:\u003c\\/p\u003e\\n\\n\u003cp\u003e-----------\u003c\\/p\u003e\\n\\n\u003cp\u003eM       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/compile\\/FromVTI.java\u003c\\/p\u003e\\n\\n\u003cp\u003e1) At bind-time, we save a reference to every FROM list element referenced by the VTI\'s arguments.\u003c\\/p\u003e\\n\\n\u003cp\u003e2) At code-generation time, we build an argument expression from the ResultColumn actually used when the FROM list element was code generated.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e-----------\u003c\\/p\u003e\\n\\n\u003cp\u003eM       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/lang\\/SysDiagVTIMappingTest.java\u003c\\/p\u003e\\n\\n\u003cp\u003eAdds Bryan\'s original query and Knut\'s re-ordered query as test cases.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13410379_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13410379_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jul\\/12 14:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-10T14:31:31+0000\'\u003e10\\/Jul\\/12 14:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching derby-5554-04-ac-remapVTIarg.diff, a new rev of the argument-remapping approach. I am running regression tests now. \\n\\n This rev is simpler than the previous attempt. It may also handle more cases than the previous patch. The patch merely touches FromVTI. \\n\\n Touches the following files: \\n\\n ----------- \\n\\n M       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/compile\\/FromVTI.java \\n\\n 1) At bind-time, we save a reference to every FROM list element referenced by the VTI\'s arguments. \\n\\n 2) At code-generation time, we build an argument expression from the ResultColumn actually used when the FROM list element was code generated. \\n\\n\\n ----------- \\n\\n M       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/lang\\/SysDiagVTIMappingTest.java \\n\\n Adds Bryan\'s original query and Knut\'s re-ordered query as test cases.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13411444\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13411444&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13411444\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13411444_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13411444_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jul\\/12 12:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-11T12:48:08+0000\'\u003e11\\/Jul\\/12 12:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks, Rick. That seems to fix all possible orderings of the from list in that query. However, I still see a NPE if I use the JOIN keyword:\u003c\\/p\u003e\\n\\n\u003cp\u003eij&gt; connect \'jdbc:derby:memory:db;create=true\';\u003cbr\\/\u003e\\nij&gt; create table t1(x int);\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij&gt; create table t2(y int);\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij&gt; select tt.* from table(syscs_diag.space_table(st.tablename)) tt join sys.systables st using(tableid);\u003cbr\\/\u003e\\nERROR 38000: The exception \'java.lang.NullPointerException\' was thrown while evaluating an expression.\u003cbr\\/\u003e\\nERROR XJ001: Java exception: \': java.lang.NullPointerException\'.\u003c\\/p\u003e\\n\\n\u003cp\u003ePerhaps related, if I change the join to an outer join (doesn\'t matter if it\'s right or left join), it fails with an assert failure (or NPE with insane jars).\u003c\\/p\u003e\\n\\n\u003cp\u003eij&gt; select tt.* from table(syscs_diag.space_table(st.tablename)) tt right join sys.systables st using(tableid);\u003cbr\\/\u003e\\nERROR XJ001: Java exception: \'ASSERT FAILED costEstimate is not expected to be null for org.apache.derby.impl.sql.compile.FromVTI: org.apache.derby.shared.common.sanity.AssertFailure\'.\u003c\\/p\u003e\\n\\n\u003cp\u003eI do see these errors also without your patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13411444_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13411444_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jul\\/12 12:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-11T12:48:08+0000\'\u003e11\\/Jul\\/12 12:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks, Rick. That seems to fix all possible orderings of the from list in that query. However, I still see a NPE if I use the JOIN keyword: \\n\\n ij&gt; connect \'jdbc:derby:memory:db;create=true\'; \\nij&gt; create table t1(x int); \\n0 rows inserted\\/updated\\/deleted \\nij&gt; create table t2(y int); \\n0 rows inserted\\/updated\\/deleted \\nij&gt; select tt.* from table(syscs_diag.space_table(st.tablename)) tt join sys.systables st using(tableid); \\nERROR 38000: The exception \'java.lang.NullPointerException\' was thrown while evaluating an expression. \\nERROR XJ001: Java exception: \': java.lang.NullPointerException\'. \\n\\n Perhaps related, if I change the join to an outer join (doesn\'t matter if it\'s right or left join), it fails with an assert failure (or NPE with insane jars). \\n\\n ij&gt; select tt.* from table(syscs_diag.space_table(st.tablename)) tt right join sys.systables st using(tableid); \\nERROR XJ001: Java exception: \'ASSERT FAILED costEstimate is not expected to be null for org.apache.derby.impl.sql.compile.FromVTI: org.apache.derby.shared.common.sanity.AssertFailure\'. \\n\\n I do see these errors also without your patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13411490\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13411490&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13411490\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13411490_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13411490_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jul\\/12 13:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-11T13:35:01+0000\'\u003e11\\/Jul\\/12 13:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for test-driving the derby-5554-04-ac-remapVTIarg.diff patch, Knut. My instinct is to limit support for this non-standard syntax to the cases documented in the user guides or used by our internal metadata queries. The additional cases you have discovered are probably not being stressed in the wild--at least no-one has filed a bug report for them. We could probably extrapolate a meaning for these additional queries, based on the meaning which we have given to VTI-joins in the FROM list, but I am reluctant to extend the applicability of this Derby extension unless we have to.\u003c\\/p\u003e\\n\\n\u003cp\u003eWhat do you think about this plan:\u003c\\/p\u003e\\n\\n\u003cp\u003e1) Commit derby-5554-04-ac-remapVTIarg.diff once we\'re convinced that it works for our metadata queries and for the joins documented in our user guides.\u003c\\/p\u003e\\n\\n\u003cp\u003e2) Prepare another patch to raise an error when compiling the additional query families you have discovered.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks,\u003cbr\\/\u003e\\n-Rick\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13411490_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13411490_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jul\\/12 13:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-11T13:35:01+0000\'\u003e11\\/Jul\\/12 13:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for test-driving the derby-5554-04-ac-remapVTIarg.diff patch, Knut. My instinct is to limit support for this non-standard syntax to the cases documented in the user guides or used by our internal metadata queries. The additional cases you have discovered are probably not being stressed in the wild--at least no-one has filed a bug report for them. We could probably extrapolate a meaning for these additional queries, based on the meaning which we have given to VTI-joins in the FROM list, but I am reluctant to extend the applicability of this Derby extension unless we have to. \\n\\n What do you think about this plan: \\n\\n 1) Commit derby-5554-04-ac-remapVTIarg.diff once we\'re convinced that it works for our metadata queries and for the joins documented in our user guides. \\n\\n 2) Prepare another patch to raise an error when compiling the additional query families you have discovered. \\n\\n Thanks, \\n-Rick              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13411534\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13411534&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13411534\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13411534_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13411534_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jul\\/12 14:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-11T14:06:31+0000\'\u003e11\\/Jul\\/12 14:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIn any event, I think that we need to file a new JIRA to forbid the use of table functions in the additional query families which Knut identified. I see the same errors when I use table functions instead of diagnostic VTIs. The following script shows this:\u003c\\/p\u003e\\n\\n\u003cp\u003econnect \'jdbc:derby:memory:db;create=true\';\u003c\\/p\u003e\\n\\n\u003cp\u003ecreate function lowerCaseRow( contents varchar( 32672 ) )\u003cbr\\/\u003e\\nreturns table\u003cbr\\/\u003e\\n(\u003cbr\\/\u003e\\n    contents varchar( 32672 )\u003cbr\\/\u003e\\n)\u003cbr\\/\u003e\\nlanguage java parameter style DERBY_JDBC_RESULT_SET no sql\u003cbr\\/\u003e\\nexternal name \'org.apache.derbyTesting.functionTests.tests.lang.TableFunctionTest.lowerCaseRow\';\u003c\\/p\u003e\\n\\n\u003cp\u003eselect tt.* from table( lowerCaseRow(st.tablename)) tt join sys.systables st on tt.contents = st.tablename;\u003c\\/p\u003e\\n\\n\u003cp\u003eselect tt.* from table( lowerCaseRow(st.tablename)) tt right join sys.systables st on tt.contents = st.tablename;\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13411534_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13411534_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jul\\/12 14:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-11T14:06:31+0000\'\u003e11\\/Jul\\/12 14:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    In any event, I think that we need to file a new JIRA to forbid the use of table functions in the additional query families which Knut identified. I see the same errors when I use table functions instead of diagnostic VTIs. The following script shows this: \\n\\n connect \'jdbc:derby:memory:db;create=true\'; \\n\\n create function lowerCaseRow( contents varchar( 32672 ) ) \\nreturns table \\n( \\n    contents varchar( 32672 ) \\n) \\nlanguage java parameter style DERBY_JDBC_RESULT_SET no sql \\nexternal name \'org.apache.derbyTesting.functionTests.tests.lang.TableFunctionTest.lowerCaseRow\'; \\n\\n select tt.* from table( lowerCaseRow(st.tablename)) tt join sys.systables st on tt.contents = st.tablename; \\n\\n select tt.* from table( lowerCaseRow(st.tablename)) tt right join sys.systables st on tt.contents = st.tablename;              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13411676\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13411676&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13411676\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_13411676_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13411676_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jul\\/12 16:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-11T16:07:07+0000\'\u003e11\\/Jul\\/12 16:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFor table functions, should those queries be rejected according to the standard?\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_13411676_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13411676_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jul\\/12 16:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-11T16:07:07+0000\'\u003e11\\/Jul\\/12 16:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    For table functions, should those queries be rejected according to the standard? \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13411682\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13411682&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13411682\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13411682_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13411682_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jul\\/12 16:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-11T16:15:22+0000\'\u003e11\\/Jul\\/12 16:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Kathey,\u003c\\/p\u003e\\n\\n\u003cp\u003eYes, these queries are another violation of part 2 of the SQL Standard, section 7.6 (&lt;table reference&gt;), Syntax Rule 6.a. I have re-opened \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-5779\\\" title=\\\"Table functions should only accept arguments which are constant in their query block.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-5779\\\"\u003e\u003cdel\u003eDERBY-5779\u003c\\/del\u003e\u003c\\/a\u003e to continue the work of rejecting these violations. Thanks.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13411682_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13411682_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jul\\/12 16:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-11T16:15:22+0000\'\u003e11\\/Jul\\/12 16:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Kathey, \\n\\n Yes, these queries are another violation of part 2 of the SQL Standard, section 7.6 (&lt;table reference&gt;), Syntax Rule 6.a. I have re-opened   DERBY-5779   to continue the work of rejecting these violations. Thanks.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13411738\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13411738&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13411738\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13411738_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13411738_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jul\\/12 17:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-11T17:15:48+0000\'\u003e11\\/Jul\\/12 17:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eTests passed cleanly for me on derby-5554-04-ac-remapVTIarg.diff. As an incremental improvement, I have committed the patch at subversion revision 1360306.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13411738_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13411738_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jul\\/12 17:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-11T17:15:48+0000\'\u003e11\\/Jul\\/12 17:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Tests passed cleanly for me on derby-5554-04-ac-remapVTIarg.diff. As an incremental improvement, I have committed the patch at subversion revision 1360306.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13417401\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13417401&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13417401\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13417401_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13417401_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jul\\/12 19:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-18T19:39:20+0000\'\u003e18\\/Jul\\/12 19:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eResolving this issue because the work on \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-5779\\\" title=\\\"Table functions should only accept arguments which are constant in their query block.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-5779\\\"\u003e\u003cdel\u003eDERBY-5779\u003c\\/del\u003e\u003c\\/a\u003e prevents the additional bad syntax. We can re-open this issue if we discover other bad syntax.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13417401_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13417401_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jul\\/12 19:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-18T19:39:20+0000\'\u003e18\\/Jul\\/12 19:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Resolving this issue because the work on   DERBY-5779   prevents the additional bad syntax. We can re-open this issue if we discover other bad syntax.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13726762\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-5554?focusedCommentId=13726762&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13726762\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_13726762_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13726762_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Aug\\/13 19:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-08-01T19:07:06+0000\'\u003e01\\/Aug\\/13 19:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMarking derby_backport_reject_10_8 as this issue required a release note and restricted SQL syntax. Doesn\'t look appropriate for backport.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_13726762_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13726762_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Aug\\/13 19:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-08-01T19:07:06+0000\'\u003e01\\/Aug\\/13 19:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Marking derby_backport_reject_10_8 as this issue required a release note and restricted SQL syntax. Doesn\'t look appropriate for backport.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="10594";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=10594&amp;avatarId=10122\\\" alt=\\\"Derby\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\"\u003eDerby\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520240400311"> 
    <input type="hidden" title="jira.request.server.time" value="247"> 
    <input type="hidden" title="jira.request.id" value="540x94423855x2"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="1"> 
    <input type="hidden" title="db.reads.time.in.ms" value="53"> 
    <input type="hidden" title="db.conns.time.in.ms" value="58"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 540x94423855x2
	          REQUEST TIMESTAMP : [05/Mar/2018:09:00:00 +0000]
	               REQUEST TIME : 0.2470
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 1

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=29, elapsedTotal=53700877, elapsedMin=269386, elapsedMax=14825228, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=33, elapsedTotal=58025506, elapsedMin=289595, elapsedMax=14905055, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>