<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|432cdbfa86f9e7f57064d2100e9f4735510e2823|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"6eb01c45dccb02\"";
WRM._unparsedData["project-id"]="10594";
WRM._unparsedData["project-key"]="\"DERBY\"";
WRM._unparsedData["project-name"]="\"Derby\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="10594";
WRM._unparsedData["projectKey"]="\"DERBY\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="DERBY-3023"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[DERBY-3023] Different result rows depending on the sequence of INNER JOIN and OUTER JOIN - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[DERBY-3023] Different result rows depending on the sequence of INNER JOIN and OUTER JOIN - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/DERBY" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-3023">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="10594" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Derby'" src="https://issues.apache.org/jira/secure/projectavatar?pid=10594&amp;avatarId=10122"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/DERBY">Derby</a></li>
                 <li><a class="issue-link" data-issue-key="DERBY-3023" href="/jira/browse/DERBY-3023" id="key-val" rel="12376689">DERBY-3023</a></li>
                </ol>
                <h1 id="summary-val">Different result rows depending on the sequence of INNER JOIN and OUTER JOIN</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-3023"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/DERBY-3023/DERBY-3023.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/DERBY-3023/DERBY-3023.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/DERBY-3023/DERBY-3023.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/DERBY-3023/DERBY-3023.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="10.1.2.1 ">10.1.2.1</span>, <span title="10.2.2.0 ">10.2.2.0</span>, <span title="10.3.1.4 ">10.3.1.4</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.1.3.2" title="10.1.3.2 ">10.1.3.2</a>, <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.2.2.1" title="10.2.2.1 Head of 10.2 branch">10.2.2.1</a>, <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.3.3.0" title="10.3.3.0 ">10.3.3.0</a>, <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.4.1.3" title="10.4.1.3 ">10.4.1.3</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+component+%3D+SQL" title="SQL ">SQL</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12376689-value">None</span> 
                   </div> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap"> 
                   <strong class="name">Environment:</strong> 
                   <div id="environment-val" class="value">
                     Windows XP, Java 1.4.2 
                   </div> 
                  </div> </li> 
                </ul> 
                <div id="customfieldmodule"> 
                 <div class="aui-tabs horizontal-tabs" id="customfield-tabs"> 
                  <div id="customfield-panel-1" class="tabs-pane active-pane"> 
                   <ul class="property-list"> 
                    <li id="rowForcustomfield_12310090" class="item"> 
                     <div class="wrap"> 
                      <strong title="Issue &amp; fix info" class="name">Issue &amp; fix info:</strong> 
                      <div id="customfield_12310090-val" class="value type-multicheckboxes" data-fieldtype="multicheckboxes" data-fieldtypecompletekey="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"> 
                       <div class="shorten" id="customfield_12310090-field"> 
                        <span>Release Note Needed</span> 
                       </div> 
                      </div> 
                     </div> </li> 
                   </ul> 
                  </div> 
                 </div>
                </div> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>We have a complex SQL joining 11 Tables via INNER JOIN and OUTER JOIN.<br> These SQLs were tested against an z/OS DB2 Version 8.<br> After moving to our local platform with Derby we found out the resultsets returned by the SQLs were too less.</p> 
                  <p>I tested our "old style" SQL which results in 889 rows.<br> Our new style SQL expected to give similar rows but gives <b>0</b>.</p> 
                  <p>After some work we found a workaround: first place all the "INNER JOIN"s in the SQL and then the "OUTER JOIN"s.</p> 
                  <div class="code panel" style="border-width: 1px;">
                   <div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
                    <b>Result of testprogram</b>
                   </div>
                   <div class="codeContent panelContent"> 
                    <pre class="code-java">Derby=10.3-b561794
Test 10.3-b561794-old-style-sql
889 Rows in 1703ms
Test 10.3-b561794-<span class="code-keyword">new</span>-style-sql
0 Rows in 563ms  _(expected 924 rows instead)_
Test 10.3-b561794-<span class="code-keyword">new</span>-style-sql-only-<span class="code-keyword">inner</span>
2 Rows in 766ms _(only <span class="code-keyword">inner</span> joins, no <span class="code-keyword">outer</span> joins but larger result)_
Test 10.3-b561794-<span class="code-keyword">new</span>-style-sql_first-<span class="code-keyword">inner</span>-joins
924 Rows in 578ms
Test 10.3-b561794-<span class="code-keyword">new</span>-style-sql_without-condition
924 Rows in 438ms
</pre> 
                   </div>
                  </div> 
                  <p>Here our initial used SQL:</p> 
                  <div class="code panel" style="border-width: 1px;">
                   <div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
                    <b>SQL giving wrong result (0 rows)</b>
                   </div>
                   <div class="codeContent panelContent"> 
                    <pre class="code-java">SELECT O4Work.ESVN01.NU_BUY_CPY AS PO_BuyCompanyNo, O4Work.ESVN01.NU_ODR AS PO_Number, O4Work.ESVN01.FL_ODR_CAE AS PO_Type, O4Work.ESVN01.NU_MCS_SPY AS PO_SupplierNo, O4Work.ESVN01.NU_ST3 AS PO_StatusNo, O4Work.ESVN01.DA_SPY_COY_PRT AS PO_SCPrintDate, O4Work.ESVN01.FL_SAS AS PO_SeasFlag, CASE WHEN (SELECT COUNT(O4Work.ESVNA5.ID_PTE) FROM O4Work.ESVNA5 WHERE O4Work.ESVN02.NU_BUY_CPY = O4Work.ESVNA5.NU_BUY_CPY AND O4Work.ESVN02.NU_ODR = O4Work.ESVNA5.NU_ODR AND O4Work.ESVN02.NU_PST = O4Work.ESVNA5.NU_PST) = 0 THEN <span class="code-quote">'N'</span> ELSE <span class="code-quote">'Y'</span> END AS POPA_PictureID, CASE WHEN (SELECT COUNT(O4Work.ESVNG3.NU_ODR) FROM O4Work.ESVNG3 WHERE O4Work.ESVN01.NU_BUY_CPY = O4Work.ESVNG3.NU_BUY_CPY AND O4Work.ESVN01.NU_ODR = O4Work.ESVNG3.NU_ODR) = 0 THEN <span class="code-quote">'N'</span> ELSE <span class="code-quote">'Y'</span> END AS ON_ID, O4Work.ESVN02.NU_PST AS POP_Position_Id, O4Work.ESVN02.NU_CTT AS POP_ContractNo, O4Work.ESVN02.NU_ARO_CTT AS POP_ArosContractNo, O4Work.ESVN02.NU_ST3 AS POP_StatusNo, O4Work.ESVN02.DA_CAE AS POP_CreationDate, O4Work.ESVN02.DA_LAT_AMD AS POP_LastAmendDate, O4Work.ESVNA0.NU_SSN_IDE AS POPD_SeasonInd,  O4Work.ESVNA0.NU_STL_ID1 AS POPD_StyleId, O4Work.ESVNA0.NU_SRY_ID1 AS POPD_StoryID, O4Work.ESVNA0.NU_LC1 AS POPD_LicenseID, O4Work.ESVP00.NU_CSY AS SER_ClassNo, O4Work.ESVP00.NU_COE AS SER_CodeNo, O4Work.ESVP00.NU_SRL AS SER_SerialNo, O4Work.ESVP00.NU_PIK_MOD AS SER_PickingM, O4Work.ESVN03.NU_MT1_CPY AS POPC_MasterCpyNo, O4Work.ESVN03.QU_ODR AS POPC_OrderedQty, O4Work.ESVN03.DA_EDD AS POPC_Edd, O4Work.ESVN03.DA_LDD AS POPC_Ldd, O4Work.ESVN03.DA_PAD AS POPC_Pad, O4Work.ESVN03.DA_SAD AS POPC_Sad, O4Work.ESVN03.PR_SCP AS POPC_SupCstPrice, O4Work.ESVN03.NU_SCP_CR1 AS POPC_SupCstPrCurr, O4Work.ESVN03.NU_ST3 AS POPC_StatusNo, O4Work.ESVN03.NU_COY_FRM_ODR AS POPC_Src_PO_Number, O4Work.ESVN03.NU_COY_UTL_ODR AS POPC_Tgt_PO_Number, O4Work.ESVN03.DA_FLR_RDY AS POPC_FRM_DATE, O4Work.ESVN03.FL_CSG AS POPC_CS_FLAG, O4Work.ESVN03.NU_PAK_MOD_SPY AS POPC_PackSupplNo, O4Work.ESVN03.NU_PAK_MOD_DCR AS POPC_PackingDCNo, O4Work.ESVN03.NU_PS2_MOD AS POPC_PresMethodNo, O4Work.ESVN04.NU_RTL_CPY AS POPRC_RetailCode, O4Work.ESVN04.PR_PLN_SEL AS POPRC_SellPrice, O4Work.ESVN04.NU_PLN_SEL_PRC_CR1 AS POPRC_SellPrCurr, O4Work.ESVN08.NU_AVE AS POPRCA_AdvertNo, O4Work.ESVQ00.ID_SHP AS SHP_ShippingID, O4Work.ESVQ00.NU_SHP AS SHP_ShippingNo, O4Work.ESVNB0.NU_NTL_PDE_ID1 AS POPDC_NationalID, O4Work.ESVNB0.NU_EQP AS POPDC_EquipNumber, O4Work.ESVNE1.PE_OMU AS POPCC_OMU, CASE WHEN (SELECT COUNT(O4Work.ESVN07.NU_ODR) FROM O4Work.ESVN07 WHERE O4Work.ESVN03.NU_BUY_CPY = O4Work.ESVN07.NU_BUY_CPY AND O4Work.ESVN03.NU_MT1_CPY = O4Work.ESVN07.NU_MT1_CPY AND O4Work.ESVN03.NU_ODR = O4Work.ESVN07.NU_ODR AND O4Work.ESVN03.NU_PST = O4Work.ESVN07.NU_PST AND O4Work.ESVN07.FL_ALE_RMK = <span class="code-quote">'Y'</span>) = 0 THEN <span class="code-quote">'N'</span> ELSE <span class="code-quote">'Y'</span> END AS POPCU_AllocRem FROM O4Work.ESVN02 
INNER JOIN O4Work.ESVN01 ON O4Work.ESVN02.NU_BUY_CPY = O4Work.ESVN01.NU_BUY_CPY AND O4Work.ESVN02.NU_ODR = O4Work.ESVN01.NU_ODR 
INNER JOIN O4Work.ESVNA0 ON O4Work.ESVN02.NU_BUY_CPY = O4Work.ESVNA0.NU_BUY_CPY AND O4Work.ESVN02.NU_ODR = O4Work.ESVNA0.NU_ODR AND O4Work.ESVN02.NU_PST = O4Work.ESVNA0.NU_PST 
INNER JOIN O4Work.ESVP00 ON O4Work.ESVNA0.ID_SRL = O4Work.ESVP00.ID_SRL 
LEFT OUTER JOIN O4Work.ESVNA4 ON O4Work.ESVNA0.NU_BUY_CPY = O4Work.ESVNA4.NU_BUY_CPY AND O4Work.ESVNA0.NU_ODR = O4Work.ESVNA4.NU_ODR AND O4Work.ESVNA0.NU_PST = O4Work.ESVNA4.NU_PST 
INNER JOIN O4Work.ESVN03 ON O4Work.ESVN02.NU_BUY_CPY = O4Work.ESVN03.NU_BUY_CPY AND O4Work.ESVN02.NU_ODR = O4Work.ESVN03.NU_ODR AND O4Work.ESVN02.NU_PST = O4Work.ESVN03.NU_PST 
LEFT OUTER JOIN O4Work.ESVN04 ON O4Work.ESVN03.NU_BUY_CPY = O4Work.ESVN04.NU_BUY_CPY AND O4Work.ESVN03.NU_MT1_CPY = O4Work.ESVN04.NU_MT1_CPY AND O4Work.ESVN03.NU_ODR = O4Work.ESVN04.NU_ODR AND O4Work.ESVN03.NU_PST = O4Work.ESVN04.NU_PST 
LEFT OUTER JOIN O4Work.ESVN08 ON O4Work.ESVN04.NU_BUY_CPY = O4Work.ESVN08.NU_BUY_CPY AND O4Work.ESVN04.NU_RTL_CPY = O4Work.ESVN08.NU_RTL_CPY AND O4Work.ESVN04.NU_MT1_CPY = O4Work.ESVN08.NU_MT1_CPY AND O4Work.ESVN04.NU_ODR = O4Work.ESVN08.NU_ODR AND O4Work.ESVN04.NU_PST = O4Work.ESVN08.NU_PST 
INNER JOIN O4Work.ESVQ00 ON O4Work.ESVN03.ID_SHP = O4Work.ESVQ00.ID_SHP 
INNER JOIN O4Work.ESVNB0 ON O4Work.ESVN03.NU_BUY_CPY = O4Work.ESVNB0.NU_BUY_CPY AND O4Work.ESVN03.NU_MT1_CPY = O4Work.ESVNB0.NU_MT1_CPY AND O4Work.ESVN03.NU_ODR = O4Work.ESVNB0.NU_ODR AND O4Work.ESVN03.NU_PST = O4Work.ESVNB0.NU_PST 
INNER JOIN O4Work.ESVNE1 ON O4Work.ESVN03.NU_BUY_CPY = O4Work.ESVNE1.NU_BUY_CPY AND O4Work.ESVN03.NU_MT1_CPY = O4Work.ESVNE1.NU_MT1_CPY AND O4Work.ESVN03.NU_ODR = O4Work.ESVNE1.NU_ODR AND O4Work.ESVN03.NU_PST = O4Work.ESVNE1.NU_PST 
WHERE O4Work.ESVN01.NU_BUY_CPY = 99 AND O4Work.ESVNA0.NU_CPY_GRP = 0
</pre> 
                   </div>
                  </div> 
                  <p>and the one with moved inner joins:</p> 
                  <div class="code panel" style="border-width: 1px;">
                   <div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
                    <b>SQL giving correct result (924 rows)</b>
                   </div>
                   <div class="codeContent panelContent"> 
                    <pre class="code-java">SELECT O4Work.ESVN01.NU_BUY_CPY AS PO_BuyCompanyNo, O4Work.ESVN01.NU_ODR AS PO_Number, O4Work.ESVN01.FL_ODR_CAE AS PO_Type, O4Work.ESVN01.NU_MCS_SPY AS PO_SupplierNo, O4Work.ESVN01.NU_ST3 AS PO_StatusNo, O4Work.ESVN01.DA_SPY_COY_PRT AS PO_SCPrintDate, O4Work.ESVN01.FL_SAS AS PO_SeasFlag, CASE WHEN (SELECT COUNT(O4Work.ESVNA5.ID_PTE) FROM O4Work.ESVNA5 WHERE O4Work.ESVN02.NU_BUY_CPY = O4Work.ESVNA5.NU_BUY_CPY AND O4Work.ESVN02.NU_ODR = O4Work.ESVNA5.NU_ODR AND O4Work.ESVN02.NU_PST = O4Work.ESVNA5.NU_PST) = 0 THEN <span class="code-quote">'N'</span> ELSE <span class="code-quote">'Y'</span> END AS POPA_PictureID, CASE WHEN (SELECT COUNT(O4Work.ESVNG3.NU_ODR) FROM O4Work.ESVNG3 WHERE O4Work.ESVN01.NU_BUY_CPY = O4Work.ESVNG3.NU_BUY_CPY AND O4Work.ESVN01.NU_ODR = O4Work.ESVNG3.NU_ODR) = 0 THEN <span class="code-quote">'N'</span> ELSE <span class="code-quote">'Y'</span> END AS ON_ID, O4Work.ESVN02.NU_PST AS POP_Position_Id, O4Work.ESVN02.NU_CTT AS POP_ContractNo, O4Work.ESVN02.NU_ARO_CTT AS POP_ArosContractNo, O4Work.ESVN02.NU_ST3 AS POP_StatusNo, O4Work.ESVN02.DA_CAE AS POP_CreationDate, O4Work.ESVN02.DA_LAT_AMD AS POP_LastAmendDate, O4Work.ESVNA0.NU_SSN_IDE AS POPD_SeasonInd,  O4Work.ESVNA0.NU_STL_ID1 AS POPD_StyleId, O4Work.ESVNA0.NU_SRY_ID1 AS POPD_StoryID, O4Work.ESVNA0.NU_LC1 AS POPD_LicenseID, O4Work.ESVP00.NU_CSY AS SER_ClassNo, O4Work.ESVP00.NU_COE AS SER_CodeNo, O4Work.ESVP00.NU_SRL AS SER_SerialNo, O4Work.ESVP00.NU_PIK_MOD AS SER_PickingM, O4Work.ESVN03.NU_MT1_CPY AS POPC_MasterCpyNo, O4Work.ESVN03.QU_ODR AS POPC_OrderedQty, O4Work.ESVN03.DA_EDD AS POPC_Edd, O4Work.ESVN03.DA_LDD AS POPC_Ldd, O4Work.ESVN03.DA_PAD AS POPC_Pad, O4Work.ESVN03.DA_SAD AS POPC_Sad, O4Work.ESVN03.PR_SCP AS POPC_SupCstPrice, O4Work.ESVN03.NU_SCP_CR1 AS POPC_SupCstPrCurr, O4Work.ESVN03.NU_ST3 AS POPC_StatusNo, O4Work.ESVN03.NU_COY_FRM_ODR AS POPC_Src_PO_Number, O4Work.ESVN03.NU_COY_UTL_ODR AS POPC_Tgt_PO_Number, O4Work.ESVN03.DA_FLR_RDY AS POPC_FRM_DATE, O4Work.ESVN03.FL_CSG AS POPC_CS_FLAG, O4Work.ESVN03.NU_PAK_MOD_SPY AS POPC_PackSupplNo, O4Work.ESVN03.NU_PAK_MOD_DCR AS POPC_PackingDCNo, O4Work.ESVN03.NU_PS2_MOD AS POPC_PresMethodNo, O4Work.ESVN04.NU_RTL_CPY AS POPRC_RetailCode, O4Work.ESVN04.PR_PLN_SEL AS POPRC_SellPrice, O4Work.ESVN04.NU_PLN_SEL_PRC_CR1 AS POPRC_SellPrCurr, O4Work.ESVN08.NU_AVE AS POPRCA_AdvertNo, O4Work.ESVQ00.ID_SHP AS SHP_ShippingID, O4Work.ESVQ00.NU_SHP AS SHP_ShippingNo, O4Work.ESVNB0.NU_NTL_PDE_ID1 AS POPDC_NationalID, O4Work.ESVNB0.NU_EQP AS POPDC_EquipNumber, O4Work.ESVNE1.PE_OMU AS POPCC_OMU, CASE WHEN (SELECT COUNT(O4Work.ESVN07.NU_ODR) FROM O4Work.ESVN07 WHERE O4Work.ESVN03.NU_BUY_CPY = O4Work.ESVN07.NU_BUY_CPY AND O4Work.ESVN03.NU_MT1_CPY = O4Work.ESVN07.NU_MT1_CPY AND O4Work.ESVN03.NU_ODR = O4Work.ESVN07.NU_ODR AND O4Work.ESVN03.NU_PST = O4Work.ESVN07.NU_PST AND O4Work.ESVN07.FL_ALE_RMK = <span class="code-quote">'Y'</span>) = 0 THEN <span class="code-quote">'N'</span> ELSE <span class="code-quote">'Y'</span> END AS POPCU_AllocRem FROM O4Work.ESVN02 
INNER JOIN O4Work.ESVN01 ON O4Work.ESVN02.NU_BUY_CPY = O4Work.ESVN01.NU_BUY_CPY AND O4Work.ESVN02.NU_ODR = O4Work.ESVN01.NU_ODR 
INNER JOIN O4Work.ESVNA0 ON O4Work.ESVN02.NU_BUY_CPY = O4Work.ESVNA0.NU_BUY_CPY AND O4Work.ESVN02.NU_ODR = O4Work.ESVNA0.NU_ODR AND O4Work.ESVN02.NU_PST = O4Work.ESVNA0.NU_PST 
INNER JOIN O4Work.ESVP00 ON O4Work.ESVNA0.ID_SRL = O4Work.ESVP00.ID_SRL 
INNER JOIN O4Work.ESVN03 ON O4Work.ESVN02.NU_BUY_CPY = O4Work.ESVN03.NU_BUY_CPY AND O4Work.ESVN02.NU_ODR = O4Work.ESVN03.NU_ODR AND O4Work.ESVN02.NU_PST = O4Work.ESVN03.NU_PST 
INNER JOIN O4Work.ESVNB0 ON O4Work.ESVN03.NU_BUY_CPY = O4Work.ESVNB0.NU_BUY_CPY AND O4Work.ESVN03.NU_MT1_CPY = O4Work.ESVNB0.NU_MT1_CPY AND O4Work.ESVN03.NU_ODR = O4Work.ESVNB0.NU_ODR AND O4Work.ESVN03.NU_PST = O4Work.ESVNB0.NU_PST 
INNER JOIN O4Work.ESVQ00 ON O4Work.ESVN03.ID_SHP = O4Work.ESVQ00.ID_SHP 
LEFT OUTER JOIN O4Work.ESVNA4 ON O4Work.ESVNA0.NU_BUY_CPY = O4Work.ESVNA4.NU_BUY_CPY AND O4Work.ESVNA0.NU_ODR = O4Work.ESVNA4.NU_ODR AND O4Work.ESVNA0.NU_PST = O4Work.ESVNA4.NU_PST 
LEFT OUTER JOIN O4Work.ESVN04 ON O4Work.ESVN03.NU_BUY_CPY = O4Work.ESVN04.NU_BUY_CPY AND O4Work.ESVN03.NU_MT1_CPY = O4Work.ESVN04.NU_MT1_CPY AND O4Work.ESVN03.NU_ODR = O4Work.ESVN04.NU_ODR AND O4Work.ESVN03.NU_PST = O4Work.ESVN04.NU_PST 
LEFT OUTER JOIN O4Work.ESVN08 ON O4Work.ESVN04.NU_BUY_CPY = O4Work.ESVN08.NU_BUY_CPY AND O4Work.ESVN04.NU_RTL_CPY = O4Work.ESVN08.NU_RTL_CPY AND O4Work.ESVN04.NU_MT1_CPY = O4Work.ESVN08.NU_MT1_CPY AND O4Work.ESVN04.NU_ODR = O4Work.ESVN08.NU_ODR AND O4Work.ESVN04.NU_PST = O4Work.ESVN08.NU_PST 
INNER JOIN O4Work.ESVNE1 ON O4Work.ESVN03.NU_BUY_CPY = O4Work.ESVNE1.NU_BUY_CPY AND O4Work.ESVN03.NU_MT1_CPY = O4Work.ESVNE1.NU_MT1_CPY AND O4Work.ESVN03.NU_ODR = O4Work.ESVNE1.NU_ODR AND O4Work.ESVN03.NU_PST = O4Work.ESVNE1.NU_PST 
WHERE O4Work.ESVN01.NU_BUY_CPY = 99 AND O4Work.ESVNA0.NU_CPY_GRP = 0
</pre> 
                   </div>
                  </div> 
                  <p>Another curious behavior is that leaving out the condition <tt>O4Work.ESVNA0.NU_CPY_GRP = 0</tt> in the first SQL will give us the result of 924 all having O4Work.ESVNA0.NU_CPY_GRP = 0. So evaluation of the condition is buggy, too.</p> 
                  <p>I think there may be a dependency between this issue and these ones:<br> <a href="http://issues.apache.org/jira/browse/DERBY-1681" class="external-link" rel="nofollow">DERBY-1681</a> (Regression (wrong results): Join predicate can be ignored for left-most child in a chain of nested unions.)<br> <a href="https://issues.apache.org/jira/browse/DERBY-1633" class="external-link" rel="nofollow">DERBY-1633</a> (Regression: The fields of views are not being calculated properly since 10.1.2.4)</p> 
                  <p>Attached is an Eclipse project with the Test-Program (without the Derby-Libraries) and the several RUNTIMESTATISTICS.</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/DERBY-3023?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/DERBY-3023?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/DERBY-3023?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/DERBY-3023?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12369735" data-issue-id="12376689" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12369735/d3023_notTested_v1.patch" draggable="true" data-downloadurl="text/x-diff:d3023_notTested_v1.patch:https://issues.apache.org/jira/secure/attachment/12369735/d3023_notTested_v1.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12369735/d3023_notTested_v1.patch" title="Latest  18/Nov/07 01:31 - A B" draggable="true" data-downloadurl="text/x-diff:d3023_notTested_v1.patch:https://issues.apache.org/jira/secure/attachment/12369735/d3023_notTested_v1.patch">d3023_notTested_v1.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-11-18T01:31:21.310Z">18/Nov/07 01:31</time>
                   </dd>
                   <dd class="attachment-size">
                    10 kB
                   </dd>
                   <dd class="attachment-author">
                    A B
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12369734" data-issue-id="12376689" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12369734/d3023_repro.sql" draggable="true" data-downloadurl="application/octet-stream:d3023_repro.sql:https://issues.apache.org/jira/secure/attachment/12369734/d3023_repro.sql"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12369734/d3023_repro.sql" title="Latest  18/Nov/07 01:31 - A B" draggable="true" data-downloadurl="application/octet-stream:d3023_repro.sql:https://issues.apache.org/jira/secure/attachment/12369734/d3023_repro.sql">d3023_repro.sql</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-11-18T01:31:21.228Z">18/Nov/07 01:31</time>
                   </dd>
                   <dd class="attachment-size">
                    1.0 kB
                   </dd>
                   <dd class="attachment-author">
                    A B
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12369811" data-issue-id="12376689" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12369811/d3023_v2.patch" draggable="true" data-downloadurl="text/x-diff:d3023_v2.patch:https://issues.apache.org/jira/secure/attachment/12369811/d3023_v2.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12369811/d3023_v2.patch" title="Latest  19/Nov/07 19:49 - A B" draggable="true" data-downloadurl="text/x-diff:d3023_v2.patch:https://issues.apache.org/jira/secure/attachment/12369811/d3023_v2.patch">d3023_v2.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-11-19T19:49:17.676Z">19/Nov/07 19:49</time>
                   </dd>
                   <dd class="attachment-size">
                    10 kB
                   </dd>
                   <dd class="attachment-author">
                    A B
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12364397" data-issue-id="12376689" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12364397/derby-02-search-joins.zip" draggable="true" data-downloadurl="application/x-zip-compressed:derby-02-search-joins.zip:https://issues.apache.org/jira/secure/attachment/12364397/derby-02-search-joins.zip"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12364397/derby-02-search-joins.zip" title="Latest  23/Aug/07 08:33 - Stefan Cordes" draggable="true" data-downloadurl="application/x-zip-compressed:derby-02-search-joins.zip:https://issues.apache.org/jira/secure/attachment/12364397/derby-02-search-joins.zip">derby-02-search-joins.zip</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-08-23T08:33:17.212Z">23/Aug/07 08:33</time>
                   </dd>
                   <dd class="attachment-size">
                    528 kB
                   </dd>
                   <dd class="attachment-author">
                    Stefan Cordes
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12364762" data-issue-id="12376689" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12364762/derby-02-search-joins2.zip" draggable="true" data-downloadurl="application/x-zip-compressed:derby-02-search-joins2.zip:https://issues.apache.org/jira/secure/attachment/12364762/derby-02-search-joins2.zip"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12364762/derby-02-search-joins2.zip" title="Latest  29/Aug/07 12:16 - Stefan Cordes" draggable="true" data-downloadurl="application/x-zip-compressed:derby-02-search-joins2.zip:https://issues.apache.org/jira/secure/attachment/12364762/derby-02-search-joins2.zip">derby-02-search-joins2.zip</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-08-29T12:16:57.758Z">29/Aug/07 12:16</time>
                   </dd>
                   <dd class="attachment-size">
                    3.67 MB
                   </dd>
                   <dd class="attachment-author">
                    Stefan Cordes
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12371434" data-issue-id="12376689" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12371434/DerbySearchJoins.java" draggable="true" data-downloadurl="text/plain:DerbySearchJoins.java:https://issues.apache.org/jira/secure/attachment/12371434/DerbySearchJoins.java"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12371434/DerbySearchJoins.java" title="Latest  11/Dec/07 14:00 - Stefan Cordes" draggable="true" data-downloadurl="text/plain:DerbySearchJoins.java:https://issues.apache.org/jira/secure/attachment/12371434/DerbySearchJoins.java">DerbySearchJoins.java</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-12-11T14:00:53.221Z">11/Dec/07 14:00</time>
                   </dd>
                   <dd class="attachment-size">
                    36 kB
                   </dd>
                   <dd class="attachment-author">
                    Stefan Cordes
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12379131" data-issue-id="12376689" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12379131/releaseNote.html" draggable="true" data-downloadurl="text/html:releaseNote.html:https://issues.apache.org/jira/secure/attachment/12379131/releaseNote.html"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-code" title="HTML File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12379131/releaseNote.html" title="Latest  02/Apr/08 13:20 - Rick Hillegas" draggable="true" data-downloadurl="text/html:releaseNote.html:https://issues.apache.org/jira/secure/attachment/12379131/releaseNote.html">releaseNote.html</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-04-02T13:20:11.646Z">02/Apr/08 13:20</time>
                   </dd>
                   <dd class="attachment-size">
                    4 kB
                   </dd>
                   <dd class="attachment-author">
                    Rick Hillegas
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12379093" data-issue-id="12376689" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12379093/releaseNote.html" draggable="true" data-downloadurl="text/html:releaseNote.html:https://issues.apache.org/jira/secure/attachment/12379093/releaseNote.html"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-code" title="HTML File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12379093/releaseNote.html" title=" 02/Apr/08 03:31 - A B" draggable="true" data-downloadurl="text/html:releaseNote.html:https://issues.apache.org/jira/secure/attachment/12379093/releaseNote.html">releaseNote.html</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-04-02T03:31:46.449Z">02/Apr/08 03:31</time>
                   </dd>
                   <dd class="attachment-size">
                    5 kB
                   </dd>
                   <dd class="attachment-author">
                    A B
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12364396" data-issue-id="12376689" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12364396/RUNTIMESTATISTICS-10.3.zip" draggable="true" data-downloadurl="application/x-zip-compressed:RUNTIMESTATISTICS-10.3.zip:https://issues.apache.org/jira/secure/attachment/12364396/RUNTIMESTATISTICS-10.3.zip"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12364396/RUNTIMESTATISTICS-10.3.zip" title="Latest  23/Aug/07 08:32 - Stefan Cordes" draggable="true" data-downloadurl="application/x-zip-compressed:RUNTIMESTATISTICS-10.3.zip:https://issues.apache.org/jira/secure/attachment/12364396/RUNTIMESTATISTICS-10.3.zip">RUNTIMESTATISTICS-10.3.zip</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-08-23T08:32:49.791Z">23/Aug/07 08:32</time>
                   </dd>
                   <dd class="attachment-size">
                    19 kB
                   </dd>
                   <dd class="attachment-author">
                    Stefan Cordes
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12364763" data-issue-id="12376689" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12364763/Statement10.3.1.4%20-%20%28561794%29-j1.4.2_10.zip" draggable="true" data-downloadurl="application/x-zip-compressed:Statement10.3.1.4 - (561794)-j1.4.2_10.zip:https://issues.apache.org/jira/secure/attachment/12364763/Statement10.3.1.4%20-%20%28561794%29-j1.4.2_10.zip"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12364763/Statement10.3.1.4%20-%20%28561794%29-j1.4.2_10.zip" title="Latest  29/Aug/07 12:18 - Stefan Cordes" draggable="true" data-downloadurl="application/x-zip-compressed:Statement10.3.1.4 - (561794)-j1.4.2_10.zip:https://issues.apache.org/jira/secure/attachment/12364763/Statement10.3.1.4%20-%20%28561794%29-j1.4.2_10.zip">Statement10.3.1.4 - (561794)-j1.4.2_10.zip</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-08-29T12:18:41.999Z">29/Aug/07 12:18</time>
                   </dd>
                   <dd class="attachment-size">
                    530 kB
                   </dd>
                   <dd class="attachment-author">
                    Stefan Cordes
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is part of">
                   is part of
                  </dt> 
                  <dd id="internal-12354628_12310010"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype" width="16" height="16" title="Task - A task that needs to be done." alt="Task - A task that needs to be done."> <span title="DERBY-2034: Tracking of bugs that lead to incorrect results being stored or returned to the client"> <a href="/jira/browse/DERBY-2034" data-issue-key="DERBY-2034" class="issue-link link-title resolution">DERBY-2034</a> <span class="link-summary">Tracking of bugs that lead to incorrect results being stored or returned to the client</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/trivial.svg" width="16" height="16" title="Trivial - Cosmetic problem like misspelt words or misaligned text." alt="Trivial - Cosmetic problem like misspelt words or misaligned text."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="relates to">
                   relates to
                  </dt> 
                  <dd id="internal-12366604_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-2526: Wrong results with queries that use the JOIN ... ON syntax to join with views or other non-base table expressions."> <a href="/jira/browse/DERBY-2526" data-issue-key="DERBY-2526" class="issue-link link-title resolution">DERBY-2526</a> <span class="link-summary">Wrong results with queries that use the JOIN ... ON syntax to join with views or other non-base table expressions.</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12608438_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-5933: SQL sorting error"> <a href="/jira/browse/DERBY-5933" data-issue-key="DERBY-5933" class="issue-link link-title resolution">DERBY-5933</a> <span class="link-summary">SQL sorting error</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_army" rel="army" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;A B&quot;,&quot;emailAddress&quot;:&quot;qozinx@gmail.com&quot;,&quot;username&quot;:&quot;army&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="army"></span></span> A B </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_trippeltrappel" rel="trippeltrappel" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Stefan Cordes&quot;,&quot;emailAddress&quot;:&quot;cordes@retail-sc.com&quot;,&quot;username&quot;:&quot;trippeltrappel&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="trippeltrappel"></span></span> Stefan Cordes </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">0</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="23/Aug/07 08:32"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2007-08-23T08:32:00+0000">23/Aug/07 08:32</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="25/Sep/12 15:46"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2012-09-25T15:46:13+0000">25/Sep/12 15:46</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="16/Jan/08 16:52"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2008-01-16T16:52:15+0000">16/Jan/08 16:52</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3023?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-3023?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3023?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3023?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-3023?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3023?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-3023?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3023?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/DERBY-3023?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3023?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-3023?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/DERBY-3023?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12522176\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3023?focusedCommentId=12522176&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12522176\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12522176_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12522176_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Aug\\/07 15:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-08-23T15:27:10+0000\'\u003e23\\/Aug\\/07 15:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAm I right in understanding that this error (wrong results) is reproduceable with Derby 10.1.2.\u003cb\u003e1\u003c\\/b\u003e?\u003c\\/p\u003e\\n\\n\u003cp\u003eIf so, then that\'s useful information: \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1681\\\" title=\\\"Regression (wrong results): Join predicate can be ignored for left-most child in a chain of nested unions.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1681\\\"\u003e\u003cdel\u003eDERBY-1681\u003c\\/del\u003e\u003c\\/a\u003e and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1633\\\" title=\\\"Regression: The fields of views are not being calculated properly since 10.1.2.4\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1633\\\"\u003e\u003cdel\u003eDERBY-1633\u003c\\/del\u003e\u003c\\/a\u003e were regressions caused by changes for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-805\\\" title=\\\"Push join predicates into union and other set operations. DERBY-649 implemented scalar (single table) predicate pushdown. Adding join predicate push down could improve performance significantly.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-805\\\"\u003e\u003cdel\u003eDERBY-805\u003c\\/del\u003e\u003c\\/a\u003e, and the first commit for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-805\\\" title=\\\"Push join predicates into union and other set operations. DERBY-649 implemented scalar (single table) predicate pushdown. Adding join predicate push down could improve performance significantly.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-805\\\"\u003e\u003cdel\u003eDERBY-805\u003c\\/del\u003e\u003c\\/a\u003e (there were many) went into 10.2 with svn #381859.  The first \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-805\\\" title=\\\"Push join predicates into union and other set operations. DERBY-649 implemented scalar (single table) predicate pushdown. Adding join predicate push down could improve performance significantly.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-805\\\"\u003e\u003cdel\u003eDERBY-805\u003c\\/del\u003e\u003c\\/a\u003e changes were then ported back to the 10.1 branch with svn #396211.  But that\'s \u003cb\u003eafter\u003c\\/b\u003e the 10.1.2.1 release was cut--10.1.2.1 was released at svn # 330608, per:\u003c\\/p\u003e\\n\\n\u003cp\u003e  \u003ca href=\\\"http:\\/\\/db.apache.org\\/derby\\/derby_downloads.html#Archived+Official+Releases\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/db.apache.org\\/derby\\/derby_downloads.html#Archived+Official+Releases\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eSo if this bug does actually affect 10.1.2.\u003cb\u003e1\u003c\\/b\u003e, then we can say with some degree of certainty that this particular Jira is \u003cb\u003enot\u003c\\/b\u003e a regression caused by \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-805\\\" title=\\\"Push join predicates into union and other set operations. DERBY-649 implemented scalar (single table) predicate pushdown. Adding join predicate push down could improve performance significantly.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-805\\\"\u003e\u003cdel\u003eDERBY-805\u003c\\/del\u003e\u003c\\/a\u003e (nor any of the \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-805\\\" title=\\\"Push join predicates into union and other set operations. DERBY-649 implemented scalar (single table) predicate pushdown. Adding join predicate push down could improve performance significantly.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-805\\\"\u003e\u003cdel\u003eDERBY-805\u003c\\/del\u003e\u003c\\/a\u003e follow-up work).  That\'s a good indication that the problem has been around for a while, which helps narrow down the searching field.  It is quite possible that the problem resides in the code that was changed for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1681\\\" title=\\\"Regression (wrong results): Join predicate can be ignored for left-most child in a chain of nested unions.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1681\\\"\u003e\u003cdel\u003eDERBY-1681\u003c\\/del\u003e\u003c\\/a\u003e and\\/or \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1633\\\" title=\\\"Regression: The fields of views are not being calculated properly since 10.1.2.4\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1633\\\"\u003e\u003cdel\u003eDERBY-1633\u003c\\/del\u003e\u003c\\/a\u003e, but it would be good to know for sure whether or not those Jiras are actually the cause, or just different problems in the same area of code.\u003c\\/p\u003e\\n\\n\u003cp\u003eI do not have time to try to run the repro against 10.1.2.1 right now, but if you could confirm that the problem does exist there, I do think that would be helpful...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12522176_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12522176_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Aug\\/07 15:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-08-23T15:27:10+0000\'\u003e23\\/Aug\\/07 15:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Am I right in understanding that this error (wrong results) is reproduceable with Derby 10.1.2. 1 ? \\n\\n If so, then that\'s useful information:   DERBY-1681   and   DERBY-1633   were regressions caused by changes for   DERBY-805  , and the first commit for   DERBY-805   (there were many) went into 10.2 with svn #381859.  The first   DERBY-805   changes were then ported back to the 10.1 branch with svn #396211.  But that\'s  after  the 10.1.2.1 release was cut--10.1.2.1 was released at svn # 330608, per: \\n\\n    http:\\/\\/db.apache.org\\/derby\\/derby_downloads.html#Archived+Official+Releases  \\n\\n So if this bug does actually affect 10.1.2. 1 , then we can say with some degree of certainty that this particular Jira is  not  a regression caused by   DERBY-805   (nor any of the   DERBY-805   follow-up work).  That\'s a good indication that the problem has been around for a while, which helps narrow down the searching field.  It is quite possible that the problem resides in the code that was changed for   DERBY-1681   and\\/or   DERBY-1633  , but it would be good to know for sure whether or not those Jiras are actually the cause, or just different problems in the same area of code. \\n\\n I do not have time to try to run the repro against 10.1.2.1 right now, but if you could confirm that the problem does exist there, I do think that would be helpful...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12523555\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3023?focusedCommentId=12523555&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12523555\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"trippeltrappel\\\" id=\\\"commentauthor_12523555_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=trippeltrappel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"trippeltrappel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Stefan Cordes\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12523555_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/07 12:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-08-29T12:16:00+0000\'\u003e29\\/Aug\\/07 12:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHallo!\u003cbr\\/\u003e\\nThis bug does affect 10.1.2.1. Even 10.1.1.0 is affected.\u003c\\/p\u003e\\n\\n\u003cp\u003eI tested with some of the Derby releases and all have the exactly the same (wrong) resultset depending on the join order:\u003cbr\\/\u003e\\nStatement10.1.1.0 - (208786)-j1.4.2_10\u003cbr\\/\u003e\\nStatement10.1.2.1 - (330608)-j1.4.2_10\u003cbr\\/\u003e\\nStatement10.1.2.2 - (349064)-j1.4.2_10\u003cbr\\/\u003e\\nStatement10.1.2.2 - (370021)-j1.4.2_10\u003cbr\\/\u003e\\nStatement10.2.2.0 - (485682)-j1.4.2_10\u003cbr\\/\u003e\\nStatement10.3.1.4 - (561794)-j1.4.2_10\u003c\\/p\u003e\\n\\n\u003cp\u003eIn addition I mixed our Joins to all possible combinations and found out e.g.\u003cbr\\/\u003e\\nThe join order \u003cbr\\/\u003e\\nNA0-P00-NA4-N01-N03-NE1-N04-N08-NB0-Q00\\tgives 924 rows,\u003cbr\\/\u003e\\nbut \u003cbr\\/\u003e\\nNA0-P00-NA4-N01-N03-NE1-N04-N08-Q00-NB0\\tonly 0 rows.\u003cbr\\/\u003e\\n(Only last to tables are switched)\u003c\\/p\u003e\\n\\n\u003cp\u003eComparing the statistics the sucessful SQL with Q00 as right join (Rows seen = 924)\u003c\\/p\u003e\\n\\n\u003cp\u003e\\tRight result set:\u003cbr\\/\u003e\\n\\t\\tHash Scan ResultSet for ESVQ00 at read committed isolation level using instantaneous share table locking: \u003cbr\\/\u003e\\n\\t\\tNumber of opens = 924\u003cbr\\/\u003e\\n\\t\\tHash table size = 60\u003cbr\\/\u003e\\n\\t\\tHash key is column number 0\u003cbr\\/\u003e\\n\\t\\tRows seen = 924\u003cbr\\/\u003e\\n\\t\\tRows filtered = 0\u003cbr\\/\u003e\\n\\t\\t\\tconstructor time (milliseconds) = 0\u003cbr\\/\u003e\\n\\t\\t\\topen time (milliseconds) = 0\u003cbr\\/\u003e\\n\\t\\t\\tnext time (milliseconds) = 0\u003cbr\\/\u003e\\n\\t\\t\\tclose time (milliseconds) = 0\u003cbr\\/\u003e\\n\\t\\t\\tnext time in milliseconds\\/row = 0\u003c\\/p\u003e\\n\\n\u003cp\u003e\\t\\tscan information: \u003cbr\\/\u003e\\n\\t\\t\\tBit set of columns fetched=\u003c\\/p\u003e\\n{0, 6}\\n\u003cp\u003e\\t\\t\\tNumber of columns fetched=2\u003cbr\\/\u003e\\n\\t\\t\\tNumber of pages visited=3\u003cbr\\/\u003e\\n\\t\\t\\tNumber of rows qualified=60\u003cbr\\/\u003e\\n\\t\\t\\tNumber of rows visited=60\u003c\\/p\u003e\\n\\n\u003cp\u003ebut on the other hand (Rows seen = 0) with NB0 as most right join:\u003c\\/p\u003e\\n\\n\u003cp\u003e\\tRight result set:\u003cbr\\/\u003e\\n\\t\\tHash Scan ResultSet for ESVNB0 at read committed isolation level using instantaneous share table locking: \u003cbr\\/\u003e\\n\\t\\tNumber of opens = 924\u003cbr\\/\u003e\\n\\t\\tHash table size = 0\u003cbr\\/\u003e\\n\\t\\tHash keys are column numbers (1,2)\u003cbr\\/\u003e\\n\\t\\tRows seen = 0\u003cbr\\/\u003e\\n\\t\\tRows filtered = 0\u003cbr\\/\u003e\\n\\t\\t\\tconstructor time (milliseconds) = 0\u003cbr\\/\u003e\\n\\t\\t\\topen time (milliseconds) = 0\u003cbr\\/\u003e\\n\\t\\t\\tnext time (milliseconds) = 0\u003cbr\\/\u003e\\n\\t\\t\\tclose time (milliseconds) = 0\u003c\\/p\u003e\\n\\n\u003cp\u003e\\t\\tscan information: \u003cbr\\/\u003e\\n\\t\\t\\tBit set of columns fetched=\u003c\\/p\u003e\\n{0, 1, 2, 3, 6, 8}\\n\u003cp\u003e\\t\\t\\tNumber of columns fetched=6\u003cbr\\/\u003e\\n\\t\\t\\tNumber of pages visited=8\u003cbr\\/\u003e\\n\\t\\t\\tNumber of rows qualified=0\u003cbr\\/\u003e\\n\\t\\t\\tNumber of rows visited=240\u003c\\/p\u003e\\n\\n\u003cp\u003eMaybe that helps.\u003c\\/p\u003e\\n\\n\u003cp\u003eI attach the complete results from all versions I tested as derby-02-search-joins2.zip\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"trippeltrappel\\\" id=\\\"commentauthor_12523555_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=trippeltrappel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"trippeltrappel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Stefan Cordes\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12523555_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Aug\\/07 12:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-08-29T12:16:00+0000\'\u003e29\\/Aug\\/07 12:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hallo! \\nThis bug does affect 10.1.2.1. Even 10.1.1.0 is affected. \\n\\n I tested with some of the Derby releases and all have the exactly the same (wrong) resultset depending on the join order: \\nStatement10.1.1.0 - (208786)-j1.4.2_10 \\nStatement10.1.2.1 - (330608)-j1.4.2_10 \\nStatement10.1.2.2 - (349064)-j1.4.2_10 \\nStatement10.1.2.2 - (370021)-j1.4.2_10 \\nStatement10.2.2.0 - (485682)-j1.4.2_10 \\nStatement10.3.1.4 - (561794)-j1.4.2_10 \\n\\n In addition I mixed our Joins to all possible combinations and found out e.g. \\nThe join order  \\nNA0-P00-NA4-N01-N03-NE1-N04-N08-NB0-Q00\\tgives 924 rows, \\nbut  \\nNA0-P00-NA4-N01-N03-NE1-N04-N08-Q00-NB0\\tonly 0 rows. \\n(Only last to tables are switched) \\n\\n Comparing the statistics the sucessful SQL with Q00 as right join (Rows seen = 924) \\n\\n \\tRight result set: \\n\\t\\tHash Scan ResultSet for ESVQ00 at read committed isolation level using instantaneous share table locking:  \\n\\t\\tNumber of opens = 924 \\n\\t\\tHash table size = 60 \\n\\t\\tHash key is column number 0 \\n\\t\\tRows seen = 924 \\n\\t\\tRows filtered = 0 \\n\\t\\t\\tconstructor time (milliseconds) = 0 \\n\\t\\t\\topen time (milliseconds) = 0 \\n\\t\\t\\tnext time (milliseconds) = 0 \\n\\t\\t\\tclose time (milliseconds) = 0 \\n\\t\\t\\tnext time in milliseconds\\/row = 0 \\n\\n \\t\\tscan information:  \\n\\t\\t\\tBit set of columns fetched= \\n{0, 6}\\n \\t\\t\\tNumber of columns fetched=2 \\n\\t\\t\\tNumber of pages visited=3 \\n\\t\\t\\tNumber of rows qualified=60 \\n\\t\\t\\tNumber of rows visited=60 \\n\\n but on the other hand (Rows seen = 0) with NB0 as most right join: \\n\\n \\tRight result set: \\n\\t\\tHash Scan ResultSet for ESVNB0 at read committed isolation level using instantaneous share table locking:  \\n\\t\\tNumber of opens = 924 \\n\\t\\tHash table size = 0 \\n\\t\\tHash keys are column numbers (1,2) \\n\\t\\tRows seen = 0 \\n\\t\\tRows filtered = 0 \\n\\t\\t\\tconstructor time (milliseconds) = 0 \\n\\t\\t\\topen time (milliseconds) = 0 \\n\\t\\t\\tnext time (milliseconds) = 0 \\n\\t\\t\\tclose time (milliseconds) = 0 \\n\\n \\t\\tscan information:  \\n\\t\\t\\tBit set of columns fetched= \\n{0, 1, 2, 3, 6, 8}\\n \\t\\t\\tNumber of columns fetched=6 \\n\\t\\t\\tNumber of pages visited=8 \\n\\t\\t\\tNumber of rows qualified=0 \\n\\t\\t\\tNumber of rows visited=240 \\n\\n Maybe that helps. \\n\\n I attach the complete results from all versions I tested as derby-02-search-joins2.zip              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12536484\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3023?focusedCommentId=12536484&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12536484\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12536484_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12536484_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Oct\\/07 02:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-10-21T02:42:37+0000\'\u003e21\\/Oct\\/07 02:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"A B - 21\\/Oct\\/07 02:47\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI did some tracing through the execution-time result set processing for \\\"new-style-sql.txt\\\" and while I still do not understand what is going on, I \u003cb\u003ethink\u003c\\/b\u003e that part of the problem is that the two predicates for the outer-most query, i.e.:\u003c\\/p\u003e\\n\\n\u003cp\u003e  WHERE O4Work.ESVN01.NU_BUY_CPY = 99 AND O4Work.ESVNA0.NU_CPY_GRP = 0\u003c\\/p\u003e\\n\\n\u003cp\u003eare both being applied as \\\"scan qualifiers\\\" to the initial scans for ESVNB0 and ESVNE1, in addition to being applied to their respective target tables.  That is to say, \\\"NU_BUY_CPY = 99\\\" translates into a qualifier on the \\\"first column\\\" in ESVN01 (because NU_BUY_CPY is the first column in that table); but further up the result set tree, that same qualifier is being applied to the \\\"first column\\\" of ESVNB0 and (still later) to the \\\"first column\\\" of ESVNE1--which, if that\'s what is actually happening, would be wrong...\u003c\\/p\u003e\\n\\n\u003cp\u003eSimilarly, \\\"NU_CPY_GRP = 0\\\" translates into a qualifier on the \\\"fourth column\\\" of ESVNA0 (because NU_CPY_GRP is the fourth column in that table); but later that same qualifier is being applied to the \\\"fourth column\\\" of ESVNB0 and (still later) the \\\"fourth column\\\" of ESVNE1.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe reason the query returns the correct results (924 rows) if there is only one predicate, \\\"ESVN01.NU_BUY_CPY = 99\\\", is because, as luck would have it, the first column in both ESVNB0 and ESVNE1 is \u003cb\u003ealso\u003c\\/b\u003e NU_BUY_CPY, and it, like ESVN01, has the value 99 for all rows.  So even though the predicate is (apparently) mis-applied, it doesn\'t affect the results because it doesn\'t actually filter any rows.\u003c\\/p\u003e\\n\\n\u003cp\u003eBut the second predicate, \\\"ESVNA0.NU_CPY_GRP = 0\\\", does affect the results because the fourth column of ESVNB0 and ESVNE1 is \\\"NU_MT1_CPY\\\", and that column does not have any rows with value \\\"0\\\".  So when the predicate is mis-applied to ESVNB0, it eliminates all of ESVNB0\'s rows, thus causing the query to return no results.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn an attempt to validate this somewhat bizarre theory, I updated a few of the rows in ESVNB0 to have the value \\\"0\\\" for column NU_MT1_CPY:\u003c\\/p\u003e\\n\\n\u003cp\u003e  update o4work.esvnb0 set nu_mt1_cpy = 0 where nu_mt1_cpy = 2;\u003c\\/p\u003e\\n\\n\u003cp\u003eWhen I re-ran \\\"new-style-sql.txt\\\", the query still returned 0 rows.  Further tracing showed that we were now getting some rows back from ESVNB0, but then we were joining them with ESVNE1--and since ESVNE1 still didn\'t have any NU_MT1_CPY columns with value 0, we were filtering out all of ESVNE1\'s rows, leading to an empty result set.  So I then updated ESVNE1 in a way similar to ESVNB0, ie:\u003c\\/p\u003e\\n\\n\u003cp\u003e  update o4work.esvne1 set nu_mt1_cpy = 0 where nu_mt1_cpy = 2;\u003c\\/p\u003e\\n\\n\u003cp\u003eWhen I did that, \\\"new-style-sql.txt\\\" returned 906 rows.  This seems to suggest (though it\'s far from conclusive) that the NU_CPY_GRP qualifier is being mis-applied in the hash scans for ESVNB0 and ESNB1.\u003c\\/p\u003e\\n\\n\u003cp\u003eA look at the query plans for \\\"new-style-sql_without-condition.txt\\\" and \\\"new-style-sql.txt\\\" seems to suggest a similar thing.  Note in particular the scan qualifiers for the hash scans on ESVNB0 and ESVNE1.  For \\\"new-style-sql_without-condition\\\", we see a single scan qualifier on the first column:\u003c\\/p\u003e\\n\\n\u003cp\u003e scan qualifiers:\u003cbr\\/\u003e\\n Column\u003cspan class=\\\"error\\\"\u003e&#91;0&#93;\u003c\\/span\u003e\u003cspan class=\\\"error\\\"\u003e&#91;0&#93;\u003c\\/span\u003e Id: 0\u003cbr\\/\u003e\\n Operator: =\u003cbr\\/\u003e\\n Ordered nulls: false\u003cbr\\/\u003e\\n Unknown return value: false\u003cbr\\/\u003e\\n Negate comparison result: false\u003c\\/p\u003e\\n\\n\u003cp\u003eThis corresponds to \\\"NU_BUY_CPY = 99\\\" (verified by tracing, where the qualifier value is \'99\'), which is always true for all rows of ESVNB0 and ESVNE1.  But for \\\"new-style-sql.txt\\\", we see \u003cb\u003etwo\u003c\\/b\u003e scan qualifiers:\u003c\\/p\u003e\\n\\n\u003cp\u003e scan qualifiers:\u003cbr\\/\u003e\\n Column\u003cspan class=\\\"error\\\"\u003e&#91;0&#93;\u003c\\/span\u003e\u003cspan class=\\\"error\\\"\u003e&#91;0&#93;\u003c\\/span\u003e Id: 0\u003cbr\\/\u003e\\n Operator: =\u003cbr\\/\u003e\\n Ordered nulls: false\u003cbr\\/\u003e\\n Unknown return value: false\u003cbr\\/\u003e\\n Negate comparison result: false\u003c\\/p\u003e\\n\\n\u003cp\u003e Column\u003cspan class=\\\"error\\\"\u003e&#91;0&#93;\u003c\\/span\u003e\u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e Id: 3\u003cbr\\/\u003e\\n Operator: =\u003cbr\\/\u003e\\n Ordered nulls: false\u003cbr\\/\u003e\\n Unknown return value: false\u003cbr\\/\u003e\\n Negate comparison result: false\u003c\\/p\u003e\\n\\n\u003cp\u003eThe second qualifier is on the fourth column and has a value of \'0\', which appears to be coming from the \\\"NU_CPY_GRP = 0\\\" predicate.  That qualifier is eliminating all rows from the scans (for both ESVNB0 and ESVNE1), leading to zero results.\u003c\\/p\u003e\\n\\n\u003cp\u003eGiven this potentially erroneus theory, it appears that somehow the qualifiers for the outer-most WHERE clause are being mapped incorrectly onto ESVNB0 and ESVNE1.  Maybe this is a transitive closure computation problem, maybe it\'s something else entirely.  At this point I don\'t know, I\'m just dumping what I\'ve seen thus far...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12536484_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12536484_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Oct\\/07 02:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-10-21T02:42:37+0000\'\u003e21\\/Oct\\/07 02:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"A B - 21\\/Oct\\/07 02:47\\\"\u003eedited\u003c\\/span\u003e                   I did some tracing through the execution-time result set processing for \\\"new-style-sql.txt\\\" and while I still do not understand what is going on, I  think  that part of the problem is that the two predicates for the outer-most query, i.e.: \\n\\n   WHERE O4Work.ESVN01.NU_BUY_CPY = 99 AND O4Work.ESVNA0.NU_CPY_GRP = 0 \\n\\n are both being applied as \\\"scan qualifiers\\\" to the initial scans for ESVNB0 and ESVNE1, in addition to being applied to their respective target tables.  That is to say, \\\"NU_BUY_CPY = 99\\\" translates into a qualifier on the \\\"first column\\\" in ESVN01 (because NU_BUY_CPY is the first column in that table); but further up the result set tree, that same qualifier is being applied to the \\\"first column\\\" of ESVNB0 and (still later) to the \\\"first column\\\" of ESVNE1--which, if that\'s what is actually happening, would be wrong... \\n\\n Similarly, \\\"NU_CPY_GRP = 0\\\" translates into a qualifier on the \\\"fourth column\\\" of ESVNA0 (because NU_CPY_GRP is the fourth column in that table); but later that same qualifier is being applied to the \\\"fourth column\\\" of ESVNB0 and (still later) the \\\"fourth column\\\" of ESVNE1. \\n\\n The reason the query returns the correct results (924 rows) if there is only one predicate, \\\"ESVN01.NU_BUY_CPY = 99\\\", is because, as luck would have it, the first column in both ESVNB0 and ESVNE1 is  also  NU_BUY_CPY, and it, like ESVN01, has the value 99 for all rows.  So even though the predicate is (apparently) mis-applied, it doesn\'t affect the results because it doesn\'t actually filter any rows. \\n\\n But the second predicate, \\\"ESVNA0.NU_CPY_GRP = 0\\\", does affect the results because the fourth column of ESVNB0 and ESVNE1 is \\\"NU_MT1_CPY\\\", and that column does not have any rows with value \\\"0\\\".  So when the predicate is mis-applied to ESVNB0, it eliminates all of ESVNB0\'s rows, thus causing the query to return no results. \\n\\n In an attempt to validate this somewhat bizarre theory, I updated a few of the rows in ESVNB0 to have the value \\\"0\\\" for column NU_MT1_CPY: \\n\\n   update o4work.esvnb0 set nu_mt1_cpy = 0 where nu_mt1_cpy = 2; \\n\\n When I re-ran \\\"new-style-sql.txt\\\", the query still returned 0 rows.  Further tracing showed that we were now getting some rows back from ESVNB0, but then we were joining them with ESVNE1--and since ESVNE1 still didn\'t have any NU_MT1_CPY columns with value 0, we were filtering out all of ESVNE1\'s rows, leading to an empty result set.  So I then updated ESVNE1 in a way similar to ESVNB0, ie: \\n\\n   update o4work.esvne1 set nu_mt1_cpy = 0 where nu_mt1_cpy = 2; \\n\\n When I did that, \\\"new-style-sql.txt\\\" returned 906 rows.  This seems to suggest (though it\'s far from conclusive) that the NU_CPY_GRP qualifier is being mis-applied in the hash scans for ESVNB0 and ESNB1. \\n\\n A look at the query plans for \\\"new-style-sql_without-condition.txt\\\" and \\\"new-style-sql.txt\\\" seems to suggest a similar thing.  Note in particular the scan qualifiers for the hash scans on ESVNB0 and ESVNE1.  For \\\"new-style-sql_without-condition\\\", we see a single scan qualifier on the first column: \\n\\n  scan qualifiers: \\n Column &#91;0&#93;  &#91;0&#93;  Id: 0 \\n Operator: = \\n Ordered nulls: false \\n Unknown return value: false \\n Negate comparison result: false \\n\\n This corresponds to \\\"NU_BUY_CPY = 99\\\" (verified by tracing, where the qualifier value is \'99\'), which is always true for all rows of ESVNB0 and ESVNE1.  But for \\\"new-style-sql.txt\\\", we see  two  scan qualifiers: \\n\\n  scan qualifiers: \\n Column &#91;0&#93;  &#91;0&#93;  Id: 0 \\n Operator: = \\n Ordered nulls: false \\n Unknown return value: false \\n Negate comparison result: false \\n\\n  Column &#91;0&#93;  &#91;1&#93;  Id: 3 \\n Operator: = \\n Ordered nulls: false \\n Unknown return value: false \\n Negate comparison result: false \\n\\n The second qualifier is on the fourth column and has a value of \'0\', which appears to be coming from the \\\"NU_CPY_GRP = 0\\\" predicate.  That qualifier is eliminating all rows from the scans (for both ESVNB0 and ESVNE1), leading to zero results. \\n\\n Given this potentially erroneus theory, it appears that somehow the qualifiers for the outer-most WHERE clause are being mapped incorrectly onto ESVNB0 and ESVNE1.  Maybe this is a transitive closure computation problem, maybe it\'s something else entirely.  At this point I don\'t know, I\'m just dumping what I\'ve seen thus far...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12543327\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3023?focusedCommentId=12543327&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12543327\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12543327_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12543327_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Nov\\/07 01:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-11-18T01:31:21+0000\'\u003e18\\/Nov\\/07 01:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI did some further tracing\\/investigation of this issue and confirmed that search transitive closure is indeed adding incorrect predicates to the predicate list.  In the case of \\\"new-style-sql.txt\\\", we end up with four additional predicates:\u003c\\/p\u003e\\n\\n\u003cp\u003e   ESVNB0.NU_BUY_CPY = 99\u003cbr\\/\u003e\\n   ESVNE1.NU_BUY_CPY = 99\u003cbr\\/\u003e\\n   ESVNB0.NU_MT1_CPY = 0\u003cbr\\/\u003e\\n   ESVNE1.NU_MT1_CPY = 0\u003c\\/p\u003e\\n\\n\u003cp\u003eAll of these predicates are incorrectly inferred from two predicates in the outermost WHERE clause, namely \u003c\\/p\u003e\\n\\n\u003cp\u003e  O4Work.ESVN01.NU_BUY_CPY = 99 AND O4Work.ESVNA0.NU_CPY_GRP = 0\u003c\\/p\u003e\\n\\n\u003cp\u003eIt turns out that the introduction of these invalid predicates stems from a problem that is almost identical to the one described in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2526\\\" title=\\\"Wrong results with queries that use the JOIN ... ON syntax to join with views or other non-base table expressions.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2526\\\"\u003e\u003cdel\u003eDERBY-2526\u003c\\/del\u003e\u003c\\/a\u003e.  For details please see d2526_v1.html as attached to that issue, since pretty much everything in that document applies to this issue, as well.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn fact, the fix for that issue nearly solved this one, too.  More specifically, the fix for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2526\\\" title=\\\"Wrong results with queries that use the JOIN ... ON syntax to join with views or other non-base table expressions.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2526\\\"\u003e\u003cdel\u003eDERBY-2526\u003c\\/del\u003e\u003c\\/a\u003e added the following lines to the remapColumnReferencesToExpressions() method of ColumnReference.java:\u003c\\/p\u003e\\n\\n\u003cp\u003e    \\/* It\'s not enough to just set the table number.  Depending\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eon the original query specified and on whether or not\u003c\\/li\u003e\\n\\t\u003cli\u003esubquery flattening has occurred, it\'s possible that\u003c\\/li\u003e\\n\\t\u003cli\u003ethe expression to which we\'re remapping has a different\u003c\\/li\u003e\\n\\t\u003cli\u003eresult column list than the one to which we were mapped\u003c\\/li\u003e\\n\\t\u003cli\u003ebefore we got here.  In that case we also need to update\u003c\\/li\u003e\\n\\t\u003cli\u003ethe columnNumber to point to the correct column in \\\"ft\\\".\u003c\\/li\u003e\\n\\t\u003cli\u003eThat\'s what the following line does. See \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2526\\\" title=\\\"Wrong results with queries that use the JOIN ... ON syntax to join with views or other non-base table expressions.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2526\\\"\u003e\u003cdel\u003eDERBY-2526\u003c\\/del\u003e\u003c\\/a\u003e for\u003c\\/li\u003e\\n\\t\u003cli\u003edetails.\u003cbr\\/\u003e\\n     *\\/\u003cbr\\/\u003e\\n    ResultColumn ftRC =\u003cbr\\/\u003e\\n        ft.getResultColumns().getResultColumn(columnName);\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e    columnNumber = ftRC.getColumnPosition();\u003c\\/p\u003e\\n\\n\u003cp\u003eThat code depends on the \\\"getColumnPosition()\\\" method of ResultColumn, which looks as follows:\u003c\\/p\u003e\\n\\n\u003cp\u003e    public int getColumnPosition()\u003c\\/p\u003e\\n    {\\n        if (columnDescriptor!=null)\\n            return columnDescriptor.getPosition();\\n        else\\n            return virtualColumnId;\\n    }\\n\\n\u003cp\u003eThe document d2526_v1.html mentioned two things regarding this code:\u003c\\/p\u003e\\n\\n\u003cp\u003e  1) if \\\"columnDescriptor\\\" is null, the method will return virtualColumnId;\u003cbr\\/\u003e\\n  2) columnDescriptor will \u003cb\u003enot\u003c\\/b\u003e be null if the ResultColumn (ftRC in this case)\u003cbr\\/\u003e\\n     points directly to a base table.  In that case the method will return the\u003cbr\\/\u003e\\n     position as stored in the column descriptor.\u003c\\/p\u003e\\n\\n\u003cp\u003eBoth of those statements are still true.  But there\'s another fact about this code that \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2526\\\" title=\\\"Wrong results with queries that use the JOIN ... ON syntax to join with views or other non-base table expressions.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2526\\\"\u003e\u003cdel\u003eDERBY-2526\u003c\\/del\u003e\u003c\\/a\u003e did not catch:\u003c\\/p\u003e\\n\\n\u003cp\u003e  3) columnDescriptor may be NON-null \u003cb\u003eeven if\u003c\\/b\u003e ftRC points to a virtual\u003cbr\\/\u003e\\n     column.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn the case of \\\"new-style-sql\\\" we\'ll end up calling the above code for both sides of any join predicates that belong to JoinNodes which are flattened (again, see the document attached to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2526\\\" title=\\\"Wrong results with queries that use the JOIN ... ON syntax to join with views or other non-base table expressions.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2526\\\"\u003e\u003cdel\u003eDERBY-2526\u003c\\/del\u003e\u003c\\/a\u003e for details).  In the case where one of the flattened JoinNode\'s children is a left outer join (i.e. HalfOuterJoinNode) ftRC points to the HalfOuterJoinNode. If that HalfOuterJoinNode then has base tables as its children, two things will be true: a) ftRC will point to a VIRTUAL column--namely, to one of the columns in HalfOuterJoinNode\'s result column, and b) ftRC will have a columnDescriptor that describes the column in the underlying base table to which ftRC ultimately points. So now we have a ResultColumn ftRC which has a non-null columnDescriptor AND which points to a virtual column.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn the above code, then, when we call:\u003c\\/p\u003e\\n\\n\u003cp\u003e    columnNumber = ftRC.getColumnPosition();\u003c\\/p\u003e\\n\\n\u003cp\u003ewe\'ll see that columnDescriptor is non-null and thus columnNumber will become the column position w.r.t. the \u003cb\u003ebase\u003c\\/b\u003e table.  But that\'s not quite correct: ftRC points to a virtual result column list (i.e. the RCL for HalfOuterJoinNode), so columnNumber has to reflect the correct position with respect to that virtual column list.  In other words, we need to retrieve the \u003cb\u003evirtualColumnId\u003c\\/b\u003e, not the base column position.\u003c\\/p\u003e\\n\\n\u003cp\u003eWhen we mis-assign the columnNumber for the join predicates, we end up confusing the transitive closure code, which leads to the eventual addition of incorrect predicates to the WHERE list, and therefore we end up with missing rows.\u003c\\/p\u003e\\n\\n\u003cp\u003eI made a slight tweak to the code added by \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2526\\\" title=\\\"Wrong results with queries that use the JOIN ... ON syntax to join with views or other non-base table expressions.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2526\\\"\u003e\u003cdel\u003eDERBY-2526\u003c\\/del\u003e\u003c\\/a\u003e to make sure that columnNumber is always set to the virtualColumnId when the ResultColumn in question points to a virtual column:\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ecolumnNumber = ftRC.getColumnPosition();\u003cbr\\/\u003e\\n+    \\/* Use the virtual column id if the ResultColumn\'s expression\u003cbr\\/\u003e\\n+     * is a virtual column (\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3023\\\" title=\\\"Different result rows depending on the sequence of INNER JOIN and OUTER JOIN\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3023\\\"\u003e\u003cdel\u003eDERBY-3023\u003c\\/del\u003e\u003c\\/a\u003e).\u003cbr\\/\u003e\\n+     *\\/\u003cbr\\/\u003e\\n+    columnNumber =\u003cbr\\/\u003e\\n+        (ftRC.getExpression() instanceof VirtualColumnNode)\u003cbr\\/\u003e\\n+            ? ftRC.getVirtualColumnId()\u003cbr\\/\u003e\\n+            : ftRC.getColumnPosition();\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eWith this one-line change, \\\"new-style-sql\\\" returns the same results as \\\"new-style-sql_without-condition\\\".  So that seems like a step in the right direction for this issue.  Also with that change I ran the repro program, DerbySearchJoins.java, and all but two of the queries now return 924 rows--another good sign.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe two queries that still do not return 924 rows are:\u003c\\/p\u003e\\n\\n\u003cp\u003e  old-style-sql.txt (returns 889 rows)\u003cbr\\/\u003e\\n  new-style-sql-only-inner.txt (returns 2 rows)\u003c\\/p\u003e\\n\\n\u003cp\u003eIf it\'s true that those queries are supposed to return 924 rows, as well (Stefan, can you confirm that?  Is that what DB2 shows, as well?), then further investigation is still needed before this issue can be resolved.  But at least we\'re a step closer...\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m attaching a simplified repro for the problem that I just described, along with a patch that includes the one-line change and a corresponding test case for the nightlies.  This patch is NOT for commit, though, as I have not yet run derbyall.  I did run suites.All and saw 92 failures along with 24 errors, all of which were in upgrade tests.  When I re-ran the suite without my changes to ColumnReference the same tests failed, so I\'m hoping it\'s just an environment issue.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12543327_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12543327_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Nov\\/07 01:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-11-18T01:31:21+0000\'\u003e18\\/Nov\\/07 01:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I did some further tracing\\/investigation of this issue and confirmed that search transitive closure is indeed adding incorrect predicates to the predicate list.  In the case of \\\"new-style-sql.txt\\\", we end up with four additional predicates: \\n\\n    ESVNB0.NU_BUY_CPY = 99 \\n   ESVNE1.NU_BUY_CPY = 99 \\n   ESVNB0.NU_MT1_CPY = 0 \\n   ESVNE1.NU_MT1_CPY = 0 \\n\\n All of these predicates are incorrectly inferred from two predicates in the outermost WHERE clause, namely  \\n\\n   O4Work.ESVN01.NU_BUY_CPY = 99 AND O4Work.ESVNA0.NU_CPY_GRP = 0 \\n\\n It turns out that the introduction of these invalid predicates stems from a problem that is almost identical to the one described in   DERBY-2526  .  For details please see d2526_v1.html as attached to that issue, since pretty much everything in that document applies to this issue, as well. \\n\\n In fact, the fix for that issue nearly solved this one, too.  More specifically, the fix for   DERBY-2526   added the following lines to the remapColumnReferencesToExpressions() method of ColumnReference.java: \\n\\n     \\/* It\'s not enough to just set the table number.  Depending \\n \\n\\t on the original query specified and on whether or not \\n\\t subquery flattening has occurred, it\'s possible that \\n\\t the expression to which we\'re remapping has a different \\n\\t result column list than the one to which we were mapped \\n\\t before we got here.  In that case we also need to update \\n\\t the columnNumber to point to the correct column in \\\"ft\\\". \\n\\t That\'s what the following line does. See   DERBY-2526   for \\n\\t details. \\n     *\\/ \\n    ResultColumn ftRC = \\n        ft.getResultColumns().getResultColumn(columnName); \\n \\n\\n\\n     columnNumber = ftRC.getColumnPosition(); \\n\\n That code depends on the \\\"getColumnPosition()\\\" method of ResultColumn, which looks as follows: \\n\\n     public int getColumnPosition() \\n    {\\n        if (columnDescriptor!=null)\\n            return columnDescriptor.getPosition();\\n        else\\n            return virtualColumnId;\\n    }\\n\\n The document d2526_v1.html mentioned two things regarding this code: \\n\\n   1) if \\\"columnDescriptor\\\" is null, the method will return virtualColumnId; \\n  2) columnDescriptor will  not  be null if the ResultColumn (ftRC in this case) \\n     points directly to a base table.  In that case the method will return the \\n     position as stored in the column descriptor. \\n\\n Both of those statements are still true.  But there\'s another fact about this code that   DERBY-2526   did not catch: \\n\\n   3) columnDescriptor may be NON-null  even if  ftRC points to a virtual \\n     column. \\n\\n In the case of \\\"new-style-sql\\\" we\'ll end up calling the above code for both sides of any join predicates that belong to JoinNodes which are flattened (again, see the document attached to   DERBY-2526   for details).  In the case where one of the flattened JoinNode\'s children is a left outer join (i.e. HalfOuterJoinNode) ftRC points to the HalfOuterJoinNode. If that HalfOuterJoinNode then has base tables as its children, two things will be true: a) ftRC will point to a VIRTUAL column--namely, to one of the columns in HalfOuterJoinNode\'s result column, and b) ftRC will have a columnDescriptor that describes the column in the underlying base table to which ftRC ultimately points. So now we have a ResultColumn ftRC which has a non-null columnDescriptor AND which points to a virtual column. \\n\\n In the above code, then, when we call: \\n\\n     columnNumber = ftRC.getColumnPosition(); \\n\\n we\'ll see that columnDescriptor is non-null and thus columnNumber will become the column position w.r.t. the  base  table.  But that\'s not quite correct: ftRC points to a virtual result column list (i.e. the RCL for HalfOuterJoinNode), so columnNumber has to reflect the correct position with respect to that virtual column list.  In other words, we need to retrieve the  virtualColumnId , not the base column position. \\n\\n When we mis-assign the columnNumber for the join predicates, we end up confusing the transitive closure code, which leads to the eventual addition of incorrect predicates to the WHERE list, and therefore we end up with missing rows. \\n\\n I made a slight tweak to the code added by   DERBY-2526   to make sure that columnNumber is always set to the virtualColumnId when the ResultColumn in question points to a virtual column: \\n\\n \\n\\t columnNumber = ftRC.getColumnPosition(); \\n+    \\/* Use the virtual column id if the ResultColumn\'s expression \\n+     * is a virtual column (  DERBY-3023  ). \\n+     *\\/ \\n+    columnNumber = \\n+        (ftRC.getExpression() instanceof VirtualColumnNode) \\n+            ? ftRC.getVirtualColumnId() \\n+            : ftRC.getColumnPosition(); \\n \\n\\n\\n With this one-line change, \\\"new-style-sql\\\" returns the same results as \\\"new-style-sql_without-condition\\\".  So that seems like a step in the right direction for this issue.  Also with that change I ran the repro program, DerbySearchJoins.java, and all but two of the queries now return 924 rows--another good sign. \\n\\n The two queries that still do not return 924 rows are: \\n\\n   old-style-sql.txt (returns 889 rows) \\n  new-style-sql-only-inner.txt (returns 2 rows) \\n\\n If it\'s true that those queries are supposed to return 924 rows, as well (Stefan, can you confirm that?  Is that what DB2 shows, as well?), then further investigation is still needed before this issue can be resolved.  But at least we\'re a step closer... \\n\\n I\'m attaching a simplified repro for the problem that I just described, along with a patch that includes the one-line change and a corresponding test case for the nightlies.  This patch is NOT for commit, though, as I have not yet run derbyall.  I did run suites.All and saw 92 failures along with 24 errors, all of which were in upgrade tests.  When I re-ran the suite without my changes to ColumnReference the same tests failed, so I\'m hoping it\'s just an environment issue.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12543655\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3023?focusedCommentId=12543655&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12543655\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12543655_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12543655_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Nov\\/07 19:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-11-19T19:49:17+0000\'\u003e19\\/Nov\\/07 19:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI ran derbyall on Red Hat Linux with ibm15 and there were no failures.\u003c\\/p\u003e\\n\\n\u003cp\u003eI realized that the reason the UpgradeTests were failing over the weekend was that I was disconnected and didn\'t have old release jars on my machine.  When I re-ran suites.All (via \\\"ant junit-all\\\") today all tests passed.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo I\'m re-attaching the changes as \\\"d3023_v2.patch\\\", which is identical to \\\"d3023_notTested_v1.patch\\\"--it just has a different name because the patch has now been tested.\u003c\\/p\u003e\\n\\n\u003cp\u003eNote that committing the patch for this issue will lead to an ASSERTion failure in the repro query \\\"new-style-sql\\\" due to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3214\\\" title=\\\"Optimizer can see negative cost estimates when pulling Optimizables from the join order.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3214\\\"\u003e\u003cdel\u003eDERBY-3214\u003c\\/del\u003e\u003c\\/a\u003e.  That\'s not a regression, it\'s just a case where fixing one bug exposes another bug--and in this case, I think if one is running in insane mode \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3214\\\" title=\\\"Optimizer can see negative cost estimates when pulling Optimizables from the join order.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3214\\\"\u003e\u003cdel\u003eDERBY-3214\u003c\\/del\u003e\u003c\\/a\u003e will not actually reveal itself; the optimizer will just pick a potentially suboptimal query plan.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m \u003cb\u003enot\u003c\\/b\u003e checking the \\\"Patch Available\\\" flag as I will be heading of town this evening and will be unable to handle follow-up comments until I return.  But I thought I\'d post the patch and the test results now in case someone else wants to drive this to commit in the interim.\u003c\\/p\u003e\\n\\n\u003cp\u003eAlso note: still waiting to here back from Stefan on whether \\\"old-style-sql\\\" and \\\"new-style-sql_only-inner\\\" are supposed to return 924 rows, as well.  If so, then there\'s more work to be done here (d3023_v2.patch would be an incremental step in that case).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12543655_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12543655_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Nov\\/07 19:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-11-19T19:49:17+0000\'\u003e19\\/Nov\\/07 19:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I ran derbyall on Red Hat Linux with ibm15 and there were no failures. \\n\\n I realized that the reason the UpgradeTests were failing over the weekend was that I was disconnected and didn\'t have old release jars on my machine.  When I re-ran suites.All (via \\\"ant junit-all\\\") today all tests passed. \\n\\n So I\'m re-attaching the changes as \\\"d3023_v2.patch\\\", which is identical to \\\"d3023_notTested_v1.patch\\\"--it just has a different name because the patch has now been tested. \\n\\n Note that committing the patch for this issue will lead to an ASSERTion failure in the repro query \\\"new-style-sql\\\" due to   DERBY-3214  .  That\'s not a regression, it\'s just a case where fixing one bug exposes another bug--and in this case, I think if one is running in insane mode   DERBY-3214   will not actually reveal itself; the optimizer will just pick a potentially suboptimal query plan. \\n\\n I\'m  not  checking the \\\"Patch Available\\\" flag as I will be heading of town this evening and will be unable to handle follow-up comments until I return.  But I thought I\'d post the patch and the test results now in case someone else wants to drive this to commit in the interim. \\n\\n Also note: still waiting to here back from Stefan on whether \\\"old-style-sql\\\" and \\\"new-style-sql_only-inner\\\" are supposed to return 924 rows, as well.  If so, then there\'s more work to be done here (d3023_v2.patch would be an incremental step in that case).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12543880\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3023?focusedCommentId=12543880&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12543880\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"trippeltrappel\\\" id=\\\"commentauthor_12543880_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=trippeltrappel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"trippeltrappel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Stefan Cordes\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12543880_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Nov\\/07 12:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-11-20T12:35:12+0000\'\u003e20\\/Nov\\/07 12:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNo, old-style-sql and new-style-sql_only-inner are \u003cb\u003enot\u003c\\/b\u003e expected to have 924 rows.\u003c\\/p\u003e\\n\\n\u003cp\u003e(In the old-style-sql is a \\\"LEFT OUTER JOIN O4Work.ESVN07\\\" increases duplicate rows and NU_COT_TYP = 1 decreases them.\u003cbr\\/\u003e\\nAfter removing NU_COT_TYP = 1 and adding a distinct I get 924 rows for old-style-sql )\u003cbr\\/\u003e\\n(In the new-style-sql_only-inner  only inner joins forces the less rows).\u003c\\/p\u003e\\n\\n\u003cp\u003eI adapted the program to give more hint about what expected:\u003c\\/p\u003e\\n\\n\u003cp\u003eTest old-style-sql\u003cbr\\/\u003e\\nok: 924 rows\u003cbr\\/\u003e\\nTest old-style-sql-without-condition\u003cbr\\/\u003e\\nok: 924 rows\u003cbr\\/\u003e\\nTest new-style-sql\u003cbr\\/\u003e\\nERROR: Expected 924 rows but were 0 rows\u003cbr\\/\u003e\\nTest new-style-sql-only-inner\u003cbr\\/\u003e\\nok: 2 rows\u003cbr\\/\u003e\\nTest new-style-sql_first-inner-joins\u003cbr\\/\u003e\\nok: 924 rows\u003cbr\\/\u003e\\nTest new-style-sql_without-condition\u003cbr\\/\u003e\\nok: 924 rows\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"trippeltrappel\\\" id=\\\"commentauthor_12543880_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=trippeltrappel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"trippeltrappel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Stefan Cordes\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12543880_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Nov\\/07 12:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-11-20T12:35:12+0000\'\u003e20\\/Nov\\/07 12:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    No, old-style-sql and new-style-sql_only-inner are  not  expected to have 924 rows. \\n\\n (In the old-style-sql is a \\\"LEFT OUTER JOIN O4Work.ESVN07\\\" increases duplicate rows and NU_COT_TYP = 1 decreases them. \\nAfter removing NU_COT_TYP = 1 and adding a distinct I get 924 rows for old-style-sql ) \\n(In the new-style-sql_only-inner  only inner joins forces the less rows). \\n\\n I adapted the program to give more hint about what expected: \\n\\n Test old-style-sql \\nok: 924 rows \\nTest old-style-sql-without-condition \\nok: 924 rows \\nTest new-style-sql \\nERROR: Expected 924 rows but were 0 rows \\nTest new-style-sql-only-inner \\nok: 2 rows \\nTest new-style-sql_first-inner-joins \\nok: 924 rows \\nTest new-style-sql_without-condition \\nok: 924 rows \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12547947\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3023?focusedCommentId=12547947&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12547947\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12547947_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12547947_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/07 19:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-03T19:12:58+0000\'\u003e03\\/Dec\\/07 19:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt; I adapted the program to give more hint about what expected:\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks Stefan.  Can you attach the revised program to this issue?  Just the \\\".java\\\" file should be good enough...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12547947_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12547947_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/07 19:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-03T19:12:58+0000\'\u003e03\\/Dec\\/07 19:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt; I adapted the program to give more hint about what expected: \\n\\n Thanks Stefan.  Can you attach the revised program to this issue?  Just the \\\".java\\\" file should be good enough...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12550449\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3023?focusedCommentId=12550449&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12550449\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"trippeltrappel\\\" id=\\\"commentauthor_12550449_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=trippeltrappel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"trippeltrappel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Stefan Cordes\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12550449_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Dec\\/07 14:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-11T14:02:27+0000\'\u003e11\\/Dec\\/07 14:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere it is: DerbySearchJoins.java\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"trippeltrappel\\\" id=\\\"commentauthor_12550449_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=trippeltrappel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"trippeltrappel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Stefan Cordes\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12550449_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Dec\\/07 14:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-11T14:02:27+0000\'\u003e11\\/Dec\\/07 14:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here it is: DerbySearchJoins.java              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12552161\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3023?focusedCommentId=12552161&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12552161\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12552161_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12552161_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Dec\\/07 03:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-16T03:26:29+0000\'\u003e16\\/Dec\\/07 03:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMarking \\\"Patch Available\\\" as I am now available to respond to review comments\\/suggestions on the description of the problem and\\/or on the suggested d3023_v2.patch.  From what I can tell, that patch resolves the issue and causes the various queries posted by Stefan to return the correct number of rows.  Stefan, please correct me if I\'m wrong...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12552161_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12552161_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Dec\\/07 03:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-16T03:26:29+0000\'\u003e16\\/Dec\\/07 03:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Marking \\\"Patch Available\\\" as I am now available to respond to review comments\\/suggestions on the description of the problem and\\/or on the suggested d3023_v2.patch.  From what I can tell, that patch resolves the issue and causes the various queries posted by Stefan to return the correct number of rows.  Stefan, please correct me if I\'m wrong...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12558604\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3023?focusedCommentId=12558604&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12558604\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"trippeltrappel\\\" id=\\\"commentauthor_12558604_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=trippeltrappel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"trippeltrappel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Stefan Cordes\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12558604_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jan\\/08 14:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-14T14:01:14+0000\'\u003e14\\/Jan\\/08 14:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI did not test the patch but if new-style-sql  returns 924 rows it\'s solved for me.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"trippeltrappel\\\" id=\\\"commentauthor_12558604_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=trippeltrappel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"trippeltrappel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Stefan Cordes\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12558604_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jan\\/08 14:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-14T14:01:14+0000\'\u003e14\\/Jan\\/08 14:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I did not test the patch but if new-style-sql  returns 924 rows it\'s solved for me.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12559578\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3023?focusedCommentId=12559578&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12559578\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12559578_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12559578_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/08 16:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-16T16:52:15+0000\'\u003e16\\/Jan\\/08 16:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHaving heard no objections to the patch, and based on Stefan\'s feedback, I committed d3023_v2.patch with svn # 612504:\u003c\\/p\u003e\\n\\n\u003cp\u003e  URL: \u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?rev=612504&amp;view=rev\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewvc?rev=612504&amp;view=rev\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eMarking the issue as resolved for 10.4.  If the tinderbox tests run cleanly over the next couple of days, I will look at porting this change back to 10.3.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12559578_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12559578_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/08 16:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-16T16:52:15+0000\'\u003e16\\/Jan\\/08 16:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Having heard no objections to the patch, and based on Stefan\'s feedback, I committed d3023_v2.patch with svn # 612504: \\n\\n   URL:  http:\\/\\/svn.apache.org\\/viewvc?rev=612504&amp;view=rev  \\n\\n Marking the issue as resolved for 10.4.  If the tinderbox tests run cleanly over the next couple of days, I will look at porting this change back to 10.3.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12561166\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3023?focusedCommentId=12561166&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12561166\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12561166_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12561166_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/08 23:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-21T23:23:28+0000\'\u003e21\\/Jan\\/08 23:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eTinderbox runs on trunk ran for several days with no apparent fallout from the changes for this issue, so I ported back to 10.3 with a simple merge command:\u003c\\/p\u003e\\n\\n\u003cp\u003e  svn merge -r 612503:612504 \u003ca href=\\\"https:\\/\\/svn.apache.org\\/repos\\/asf\\/db\\/derby\\/code\\/trunk\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/repos\\/asf\\/db\\/derby\\/code\\/trunk\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eI ran derbyall and suites.All with ibm142 and there were no new failures.  So I committed with svn # 614046:\u003c\\/p\u003e\\n\\n\u003cp\u003e  URL: \u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?rev=614046&amp;view=rev\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewvc?rev=614046&amp;view=rev\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eUpdating fix-in to reflect the fact that this is now in 10.3.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12561166_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12561166_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/08 23:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-21T23:23:28+0000\'\u003e21\\/Jan\\/08 23:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Tinderbox runs on trunk ran for several days with no apparent fallout from the changes for this issue, so I ported back to 10.3 with a simple merge command: \\n\\n   svn merge -r 612503:612504  https:\\/\\/svn.apache.org\\/repos\\/asf\\/db\\/derby\\/code\\/trunk  \\n\\n I ran derbyall and suites.All with ibm142 and there were no new failures.  So I committed with svn # 614046: \\n\\n   URL:  http:\\/\\/svn.apache.org\\/viewvc?rev=614046&amp;view=rev  \\n\\n Updating fix-in to reflect the fact that this is now in 10.3.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12580134\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3023?focusedCommentId=12580134&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12580134\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12580134_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12580134_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Mar\\/08 22:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-18T22:13:20+0000\'\u003e18\\/Mar\\/08 22:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis issue has fix version 10.4 and is marked with either \'Release note needed\' or \'Existing application impact\', but does not have a releaseNote.html attached to it. Should it?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12580134_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12580134_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Mar\\/08 22:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-18T22:13:20+0000\'\u003e18\\/Mar\\/08 22:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This issue has fix version 10.4 and is marked with either \'Release note needed\' or \'Existing application impact\', but does not have a releaseNote.html attached to it. Should it?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12584390\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3023?focusedCommentId=12584390&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12584390\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12584390_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12584390_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Apr\\/08 03:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-04-02T03:31:46+0000\'\u003e02\\/Apr\\/08 03:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching a release note for this issue.  I had to use MS Word to create the file and as a result it doesn\'t pass the \\\"ReleaseNoteReader\\\" tool check--i.e. it\'s going to have to be \\\"scrubbed\\\" in order for the release note generator to work correctly.  I apologize in advance, but I\'m hoping someone else can do the scrubbing as it was not as straightforward as I had hoped it would be, and I don\'t really have time to figure it all out...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12584390_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12584390_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Apr\\/08 03:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-04-02T03:31:46+0000\'\u003e02\\/Apr\\/08 03:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching a release note for this issue.  I had to use MS Word to create the file and as a result it doesn\'t pass the \\\"ReleaseNoteReader\\\" tool check--i.e. it\'s going to have to be \\\"scrubbed\\\" in order for the release note generator to work correctly.  I apologize in advance, but I\'m hoping someone else can do the scrubbing as it was not as straightforward as I had hoped it would be, and I don\'t really have time to figure it all out...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12584563\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3023?focusedCommentId=12584563&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12584563\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12584563_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12584563_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Apr\\/08 13:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-04-02T13:20:11+0000\'\u003e02\\/Apr\\/08 13:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for the release note, Army. I have attached a scrubbed version which passes the checks performed by the ReleaseNoteReader.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12584563_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12584563_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Apr\\/08 13:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-04-02T13:20:11+0000\'\u003e02\\/Apr\\/08 13:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for the release note, Army. I have attached a scrubbed version which passes the checks performed by the ReleaseNoteReader.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12584663\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3023?focusedCommentId=12584663&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12584663\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12584663_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12584663_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Apr\\/08 16:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-04-02T16:32:30+0000\'\u003e02\\/Apr\\/08 16:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt; I have attached a scrubbed version which passes the checks performed by the ReleaseNoteReader.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks Rick!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12584663_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12584663_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Apr\\/08 16:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-04-02T16:32:30+0000\'\u003e02\\/Apr\\/08 16:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt; I have attached a scrubbed version which passes the checks performed by the ReleaseNoteReader. \\n\\n Thanks Rick!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="10594";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=10594&amp;avatarId=10122\\\" alt=\\\"Derby\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\"\u003eDerby\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520239126183"> 
    <input type="hidden" title="jira.request.server.time" value="249"> 
    <input type="hidden" title="jira.request.id" value="518x94379774x6"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="6"> 
    <input type="hidden" title="db.reads.time.in.ms" value="42"> 
    <input type="hidden" title="db.conns.time.in.ms" value="48"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 518x94379774x6
	          REQUEST TIMESTAMP : [05/Mar/2018:08:38:46 +0000]
	               REQUEST TIME : 0.2490
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 6

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=32, elapsedTotal=42620157, elapsedMin=476391, elapsedMax=15486720, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=36, elapsedTotal=48895991, elapsedMin=502960, elapsedMax=15532041, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>