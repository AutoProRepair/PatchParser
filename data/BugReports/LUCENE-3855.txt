<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|4bb026b589d5ab3eb77ebf12ecba90abca572d16|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"6455c1053ba31\"";
WRM._unparsedData["project-id"]="12310110";
WRM._unparsedData["project-key"]="\"LUCENE\"";
WRM._unparsedData["project-name"]="\"Lucene - Core\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310110";
WRM._unparsedData["projectKey"]="\"LUCENE\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="LUCENE-3855"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[LUCENE-3855] TestStressNRT failures (reproducible) - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[LUCENE-3855] TestStressNRT failures (reproducible) - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/LUCENE" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FLUCENE-3855">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310110" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Lucene - Core'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310110&amp;avatarId=10061"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/LUCENE">Lucene - Core</a></li>
                 <li><a class="issue-link" data-issue-key="LUCENE-3855" href="/jira/browse/LUCENE-3855" id="key-val" rel="12545483">LUCENE-3855</a></li>
                </ol>
                <h1 id="summary-val">TestStressNRT failures (reproducible)</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FLUCENE-3855"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/LUCENE-3855/LUCENE-3855.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/LUCENE-3855/LUCENE-3855.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/LUCENE-3855/LUCENE-3855.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/LUCENE-3855/LUCENE-3855.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/minor.svg" title="Minor - Minor loss of function, or other problem where easy workaround is present." width="16"> Minor </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> None </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+LUCENE+AND+fixVersion+%3D+4.0-ALPHA" title="4.0-ALPHA Alpha release of the 4.x series">4.0-ALPHA</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> None </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12545483-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
                <div id="customfieldmodule"> 
                 <div class="aui-tabs horizontal-tabs" id="customfield-tabs"> 
                  <div id="customfield-panel-1" class="tabs-pane active-pane"> 
                   <ul class="property-list"> 
                    <li id="rowForcustomfield_12310120" class="item"> 
                     <div class="wrap"> 
                      <strong title="Lucene Fields" class="name">Lucene Fields:</strong> 
                      <div id="customfield_12310120-val" class="value type-multicheckboxes" data-fieldtype="multicheckboxes" data-fieldtypecompletekey="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"> 
                       <div class="shorten" id="customfield_12310120-field"> 
                        <span>New</span> 
                       </div> 
                      </div> 
                     </div> </li> 
                   </ul> 
                  </div> 
                 </div>
                </div> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>Build server logs. Reproduces on at least two machines.</p> 
                  <div class="preformatted panel" style="border-width: 1px;">
                   <div class="preformattedContent panelContent"> 
                    <pre>    [junit] ------------- Standard Error -----------------
    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs="-Dfile.encoding=UTF-8"
    [junit] NOTE: test params are: codec=Lucene3x, sim=RandomSimilarityProvider(queryNorm=true,coord=false): {}, locale=ro, timezone=Etc/GMT+1
    [junit] NOTE: all tests run in this JVM:
    [junit] [TestStressNRT]
    [junit] NOTE: Linux 3.0.0-16-generic amd64/Sun Microsystems Inc. 1.6.0_27 (64-bit)/cpus=2,threads=1,free=74960064,total=135987200
    [junit] ------------- ---------------- ---------------
    [junit] Testcase: test(org.apache.lucene.index.TestStressNRT):	Caused an ERROR
    [junit] MockDirectoryWrapper: cannot close: there are still open files: {_ng.cfs=8}
    [junit] java.lang.RuntimeException: MockDirectoryWrapper: cannot close: there are still open files: {_ng.cfs=8}
    [junit] 	at org.apache.lucene.store.MockDirectoryWrapper.close(MockDirectoryWrapper.java:555)
    [junit] 	at org.apache.lucene.index.TestStressNRT.test(TestStressNRT.java:385)
    [junit] 	at org.apache.lucene.util.LuceneTestCase$SubclassSetupTeardownRule$1.evaluate(LuceneTestCase.java:743)
    [junit] 	at org.apache.lucene.util.LuceneTestCase$InternalSetupTeardownRule$1.evaluate(LuceneTestCase.java:639)
    [junit] 	at org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)
    [junit] 	at org.apache.lucene.util.LuceneTestCase$TestResultInterceptorRule$1.evaluate(LuceneTestCase.java:538)
    [junit] 	at org.apache.lucene.util.LuceneTestCase$RememberThreadRule$1.evaluate(LuceneTestCase.java:600)
    [junit] 	at org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:164)
    [junit] 	at org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:57)
    [junit] 	at org.apache.lucene.util.StoreClassNameRule$1.evaluate(StoreClassNameRule.java:21)
    [junit] 	at org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)
    [junit] Caused by: java.lang.RuntimeException: unclosed IndexInput: _ng.cfs
    [junit] 	at org.apache.lucene.store.MockDirectoryWrapper.addFileHandle(MockDirectoryWrapper.java:479)
    [junit] 	at org.apache.lucene.store.MockDirectoryWrapper$1.openSlice(MockDirectoryWrapper.java:777)
    [junit] 	at org.apache.lucene.store.CompoundFileDirectory.openInput(CompoundFileDirectory.java:221)
    [junit] 	at org.apache.lucene.codecs.lucene3x.TermInfosReader.&lt;init&gt;(TermInfosReader.java:112)
    [junit] 	at org.apache.lucene.codecs.lucene3x.Lucene3xFields.&lt;init&gt;(Lucene3xFields.java:84)
    [junit] 	at org.apache.lucene.codecs.lucene3x.PreFlexRWPostingsFormat$1.&lt;init&gt;(PreFlexRWPostingsFormat.java:51)
    [junit] 	at org.apache.lucene.codecs.lucene3x.PreFlexRWPostingsFormat.fieldsProducer(PreFlexRWPostingsFormat.java:51)
    [junit] 	at org.apache.lucene.index.SegmentCoreReaders.&lt;init&gt;(SegmentCoreReaders.java:108)
    [junit] 	at org.apache.lucene.index.SegmentReader.&lt;init&gt;(SegmentReader.java:51)
    [junit] 	at org.apache.lucene.index.IndexWriter$ReadersAndLiveDocs.getMergeReader(IndexWriter.java:521)
    [junit] 	at org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:3587)
    [junit] 	at org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3257)
    [junit] 	at org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:382)
    [junit] 	at org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:451)
    [junit] 
    [junit] 
    [junit] Test org.apache.lucene.index.TestStressNRT FAILED
</pre> 
                   </div>
                  </div> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/LUCENE-3855?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/LUCENE-3855?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/LUCENE-3855?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/LUCENE-3855?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12517594" data-issue-id="12545483" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12517594/hoss-r1298470-fixed-seed__TEST-org.apache.lucene.index.TestStressNRT.xml" draggable="true" data-downloadurl="text/xml:hoss-r1298470-fixed-seed__TEST-org.apache.lucene.index.TestStressNRT.xml:https://issues.apache.org/jira/secure/attachment/12517594/hoss-r1298470-fixed-seed__TEST-org.apache.lucene.index.TestStressNRT.xml"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-code" title="XML File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12517594/hoss-r1298470-fixed-seed__TEST-org.apache.lucene.index.TestStressNRT.xml" title="Latest  08/Mar/12 19:15 - Hoss Man" draggable="true" data-downloadurl="text/xml:hoss-r1298470-fixed-seed__TEST-org.apache.lucene.index.TestStressNRT.xml:https://issues.apache.org/jira/secure/attachment/12517594/hoss-r1298470-fixed-seed__TEST-org.apache.lucene.index.TestStressNRT.xml">hoss-r1298470-fixed-seed__TEST-org.apache.lucene.index.TestStressNRT.xml</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-03-08T19:15:11.492Z">08/Mar/12 19:15</time>
                   </dd>
                   <dd class="attachment-size">
                    18 kB
                   </dd>
                   <dd class="attachment-author">
                    Hoss Man
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12517887" data-issue-id="12545483" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12517887/LUCENE-3855.patch" draggable="true" data-downloadurl="text/x-patch:LUCENE-3855.patch:https://issues.apache.org/jira/secure/attachment/12517887/LUCENE-3855.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12517887/LUCENE-3855.patch" title="Latest  11/Mar/12 13:29 - Michael McCandless" draggable="true" data-downloadurl="text/x-patch:LUCENE-3855.patch:https://issues.apache.org/jira/secure/attachment/12517887/LUCENE-3855.patch">LUCENE-3855.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-03-11T13:29:48.817Z">11/Mar/12 13:29</time>
                   </dd>
                   <dd class="attachment-size">
                    43 kB
                   </dd>
                   <dd class="attachment-author">
                    Michael McCandless
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12517389" data-issue-id="12545483" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12517389/output1.log" draggable="true" data-downloadurl="text/x-log:output1.log:https://issues.apache.org/jira/secure/attachment/12517389/output1.log"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12517389/output1.log" title="Latest  07/Mar/12 12:37 - Dawid Weiss" draggable="true" data-downloadurl="text/x-log:output1.log:https://issues.apache.org/jira/secure/attachment/12517389/output1.log">output1.log</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-03-07T12:37:38.508Z">07/Mar/12 12:37</time>
                   </dd>
                   <dd class="attachment-size">
                    5 kB
                   </dd>
                   <dd class="attachment-author">
                    Dawid Weiss
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12517390" data-issue-id="12545483" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12517390/output2.log" draggable="true" data-downloadurl="text/x-log:output2.log:https://issues.apache.org/jira/secure/attachment/12517390/output2.log"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12517390/output2.log" title="Latest  07/Mar/12 12:37 - Dawid Weiss" draggable="true" data-downloadurl="text/x-log:output2.log:https://issues.apache.org/jira/secure/attachment/12517390/output2.log">output2.log</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-03-07T12:37:38.518Z">07/Mar/12 12:37</time>
                   </dd>
                   <dd class="attachment-size">
                    5 kB
                   </dd>
                   <dd class="attachment-author">
                    Dawid Weiss
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12517391" data-issue-id="12545483" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12517391/output3.log" draggable="true" data-downloadurl="text/x-log:output3.log:https://issues.apache.org/jira/secure/attachment/12517391/output3.log"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12517391/output3.log" title="Latest  07/Mar/12 12:37 - Dawid Weiss" draggable="true" data-downloadurl="text/x-log:output3.log:https://issues.apache.org/jira/secure/attachment/12517391/output3.log">output3.log</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-03-07T12:37:38.526Z">07/Mar/12 12:37</time>
                   </dd>
                   <dd class="attachment-size">
                    5 kB
                   </dd>
                   <dd class="attachment-author">
                    Dawid Weiss
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12517392" data-issue-id="12545483" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12517392/output4.log" draggable="true" data-downloadurl="text/x-log:output4.log:https://issues.apache.org/jira/secure/attachment/12517392/output4.log"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12517392/output4.log" title="Latest  07/Mar/12 12:37 - Dawid Weiss" draggable="true" data-downloadurl="text/x-log:output4.log:https://issues.apache.org/jira/secure/attachment/12517392/output4.log">output4.log</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-03-07T12:37:38.537Z">07/Mar/12 12:37</time>
                   </dd>
                   <dd class="attachment-size">
                    6 kB
                   </dd>
                   <dd class="attachment-author">
                    Dawid Weiss
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_mikemccand" rel="mikemccand" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Michael McCandless&quot;,&quot;emailAddress&quot;:&quot;lucene@mikemccandless.com&quot;,&quot;username&quot;:&quot;mikemccand&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="mikemccand"></span></span> Michael McCandless </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_dweiss" rel="dweiss" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Dawid Weiss&quot;,&quot;emailAddress&quot;:&quot;dawid.weiss@gmail.com&quot;,&quot;username&quot;:&quot;dweiss&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="dweiss"></span></span> Dawid Weiss </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">0</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="07/Mar/12 11:32"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2012-03-07T11:32:32+0000">07/Mar/12 11:32</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="10/May/13 10:43"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2013-05-10T10:43:48+0000">10/May/13 10:43</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="12/Mar/12 12:23"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2012-03-12T12:23:42+0000">12/Mar/12 12:23</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-3855?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/LUCENE-3855?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-3855?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-3855?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/LUCENE-3855?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-3855?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/LUCENE-3855?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-3855?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/LUCENE-3855?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-3855?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/LUCENE-3855?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/LUCENE-3855?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-13224214\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13224214&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13224214\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rcmuir\\\" id=\\\"commentauthor_13224214_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rcmuir\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rcmuir\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Robert Muir\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13224214_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/12 11:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-07T11:45:43+0000\'\u003e07\\/Mar\\/12 11:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis must be a timing issue\\/race of some sort?\u003c\\/p\u003e\\n\\n\u003cp\u003eDoesn\'t reproduce on my machine... does it need multiple iterations usually to fail?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rcmuir\\\" id=\\\"commentauthor_13224214_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rcmuir\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rcmuir\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Robert Muir\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13224214_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/12 11:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-07T11:45:43+0000\'\u003e07\\/Mar\\/12 11:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This must be a timing issue\\/race of some sort? \\n\\n Doesn\'t reproduce on my machine... does it need multiple iterations usually to fail?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13224232\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13224232&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13224232\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13224232_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13224232_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/12 12:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-07T12:28:59+0000\'\u003e07\\/Mar\\/12 12:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOk, it doesn\'t always happen, but it happens quite frequently (I re-run the test from scratch, didn\'t use repetitions). Interestingly, the problem seems to be different every time. I\'ll attach logs.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13224232_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13224232_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/12 12:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-07T12:28:59+0000\'\u003e07\\/Mar\\/12 12:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Ok, it doesn\'t always happen, but it happens quite frequently (I re-run the test from scratch, didn\'t use repetitions). Interestingly, the problem seems to be different every time. I\'ll attach logs.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13224236\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13224236&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13224236\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13224236_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13224236_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/12 12:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-07T12:37:38+0000\'\u003e07\\/Mar\\/12 12:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFour executions, four errors (same seed).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13224236_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13224236_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/12 12:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-07T12:37:38+0000\'\u003e07\\/Mar\\/12 12:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Four executions, four errors (same seed).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13224239\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13224239&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13224239\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13224239_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13224239_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/12 12:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-07T12:39:21+0000\'\u003e07\\/Mar\\/12 12:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003ejunit-sequential:\\n    [junit] Testsuite: org.apache.lucene.index.TestStressNRT\\n    [junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 10.377 sec\\n    [junit] \\n    [junit] ------------- Standard Error -----------------\\n    [junit] The following exceptions were thrown by threads:\\n    [junit] *** Thread: Lucene Merge Thread #133 ***\\n    [junit] org.apache.lucene.index.MergePolicy$MergeException: java.lang.AssertionError\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler.handleMergeException(ConcurrentMergeScheduler.java:507)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:480)\\n    [junit] Caused by: java.lang.AssertionError\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.commitMergedDeletes(IndexWriter.java:3028)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.commitMerge(IndexWriter.java:3137)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:3718)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3257)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:382)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:451)\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: test params are: codec=Lucene3x, sim=RandomSimilarityProvider(queryNorm=true,coord=false): {}, locale=ro, timezone=Etc\\/GMT+1\\n    [junit] NOTE: all tests run in this JVM:\\n    [junit] [TestStressNRT]\\n    [junit] NOTE: Linux 3.0.0-16-generic amd64\\/Sun Microsystems Inc. 1.6.0_27 (64-bit)\\/cpus=2,threads=1,free=86308600,total=202244096\\n    [junit] ------------- ---------------- ---------------\\n    [junit] Testcase: test(org.apache.lucene.index.TestStressNRT):\\tCaused an ERROR\\n    [junit] java.lang.AssertionError: Some threads threw uncaught exceptions!\\n    [junit] java.lang.RuntimeException: java.lang.AssertionError: Some threads threw uncaught exceptions!\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase.tearDownInternal(LuceneTestCase.java:816)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase.access$1100(LuceneTestCase.java:137)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$InternalSetupTeardownRule$1.evaluate(LuceneTestCase.java:640)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$TestResultInterceptorRule$1.evaluate(LuceneTestCase.java:538)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$RememberThreadRule$1.evaluate(LuceneTestCase.java:600)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:164)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:57)\\n    [junit] \\tat org.apache.lucene.util.StoreClassNameRule$1.evaluate(StoreClassNameRule.java:21)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] Caused by: java.lang.AssertionError: Some threads threw uncaught exceptions!\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase.checkUncaughtExceptionsAfter(LuceneTestCase.java:844)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase.tearDownInternal(LuceneTestCase.java:788)\\n    [junit] \\n    [junit] \\n\\njunit-sequential:\\n    [junit] Testsuite: org.apache.lucene.index.TestStressNRT\\n    [junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 11.454 sec\\n    [junit] \\n    [junit] ------------- Standard Error -----------------\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: test params are: codec=Lucene3x, sim=RandomSimilarityProvider(queryNorm=true,coord=false): {}, locale=ro, timezone=Etc\\/GMT+1\\n    [junit] NOTE: all tests run in this JVM:\\n    [junit] [TestStressNRT]\\n    [junit] NOTE: Linux 3.0.0-16-generic amd64\\/Sun Microsystems Inc. 1.6.0_27 (64-bit)\\/cpus=2,threads=1,free=77427992,total=143851520\\n    [junit] ------------- ---------------- ---------------\\n    [junit] Testcase: test(org.apache.lucene.index.TestStressNRT):\\tCaused an ERROR\\n    [junit] MockDirectoryWrapper: cannot close: there are still open files: {_eb.cfs=5}\\n    [junit] java.lang.RuntimeException: MockDirectoryWrapper: cannot close: there are still open files: {_eb.cfs=5}\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper.close(MockDirectoryWrapper.java:555)\\n    [junit] \\tat org.apache.lucene.index.TestStressNRT.test(TestStressNRT.java:385)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$SubclassSetupTeardownRule$1.evaluate(LuceneTestCase.java:743)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$InternalSetupTeardownRule$1.evaluate(LuceneTestCase.java:639)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$TestResultInterceptorRule$1.evaluate(LuceneTestCase.java:538)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$RememberThreadRule$1.evaluate(LuceneTestCase.java:600)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:164)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:57)\\n    [junit] \\tat org.apache.lucene.util.StoreClassNameRule$1.evaluate(StoreClassNameRule.java:21)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] Caused by: java.lang.RuntimeException: unclosed IndexInput: _eb.cfs\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper.addFileHandle(MockDirectoryWrapper.java:479)\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper$1.openSlice(MockDirectoryWrapper.java:777)\\n    [junit] \\tat org.apache.lucene.store.CompoundFileDirectory.openInput(CompoundFileDirectory.java:221)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.TermInfosReader.&lt;init&gt;(TermInfosReader.java:112)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.Lucene3xFields.&lt;init&gt;(Lucene3xFields.java:84)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.PreFlexRWPostingsFormat$1.&lt;init&gt;(PreFlexRWPostingsFormat.java:51)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.PreFlexRWPostingsFormat.fieldsProducer(PreFlexRWPostingsFormat.java:51)\\n    [junit] \\tat org.apache.lucene.index.SegmentCoreReaders.&lt;init&gt;(SegmentCoreReaders.java:108)\\n    [junit] \\tat org.apache.lucene.index.SegmentReader.&lt;init&gt;(SegmentReader.java:51)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter$ReadersAndLiveDocs.getMergeReader(IndexWriter.java:521)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:3587)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3257)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:382)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:451)\\n    [junit] \\n    [junit] \\n\\njunit-sequential:\\n    [junit] Testsuite: org.apache.lucene.index.TestStressNRT\\n    [junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 10.892 sec\\n    [junit] \\n    [junit] ------------- Standard Error -----------------\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: test params are: codec=Lucene3x, sim=RandomSimilarityProvider(queryNorm=true,coord=false): {}, locale=ro, timezone=Etc\\/GMT+1\\n    [junit] NOTE: all tests run in this JVM:\\n    [junit] [TestStressNRT]\\n    [junit] NOTE: Linux 3.0.0-16-generic amd64\\/Sun Microsystems Inc. 1.6.0_27 (64-bit)\\/cpus=2,threads=1,free=70056648,total=148111360\\n    [junit] ------------- ---------------- ---------------\\n    [junit] Testcase: test(org.apache.lucene.index.TestStressNRT):\\tCaused an ERROR\\n    [junit] MockDirectoryWrapper: cannot close: there are still open files: {_30.frq=1, _l8.cfs=5, _30.tis=1, _30.tvx=1, _30.fdx=1, _30.fdt=1, _30.tvf=1, _30.tvd=1}\\n    [junit] java.lang.RuntimeException: MockDirectoryWrapper: cannot close: there are still open files: {_30.frq=1, _l8.cfs=5, _30.tis=1, _30.tvx=1, _30.fdx=1, _30.fdt=1, _30.tvf=1, _30.tvd=1}\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper.close(MockDirectoryWrapper.java:555)\\n    [junit] \\tat org.apache.lucene.index.TestStressNRT.test(TestStressNRT.java:385)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$SubclassSetupTeardownRule$1.evaluate(LuceneTestCase.java:743)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$InternalSetupTeardownRule$1.evaluate(LuceneTestCase.java:639)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$TestResultInterceptorRule$1.evaluate(LuceneTestCase.java:538)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$RememberThreadRule$1.evaluate(LuceneTestCase.java:600)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:164)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:57)\\n    [junit] \\tat org.apache.lucene.util.StoreClassNameRule$1.evaluate(StoreClassNameRule.java:21)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] Caused by: java.lang.RuntimeException: unclosed IndexInput: _30.tis\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper.addFileHandle(MockDirectoryWrapper.java:479)\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper.openInput(MockDirectoryWrapper.java:504)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.TermInfosReader.&lt;init&gt;(TermInfosReader.java:112)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.Lucene3xFields.&lt;init&gt;(Lucene3xFields.java:84)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.PreFlexRWPostingsFormat$1.&lt;init&gt;(PreFlexRWPostingsFormat.java:51)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.PreFlexRWPostingsFormat.fieldsProducer(PreFlexRWPostingsFormat.java:51)\\n    [junit] \\tat org.apache.lucene.index.SegmentCoreReaders.&lt;init&gt;(SegmentCoreReaders.java:108)\\n    [junit] \\tat org.apache.lucene.index.SegmentReader.&lt;init&gt;(SegmentReader.java:51)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter$ReadersAndLiveDocs.getMergeReader(IndexWriter.java:521)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:3587)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3257)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:382)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:451)\\n    [junit] \\n    [junit] \\n\\njunit-sequential:\\n    [junit] Testsuite: org.apache.lucene.index.TestStressNRT\\n    [junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 11.678 sec\\n    [junit] \\n    [junit] ------------- Standard Error -----------------\\n    [junit] The following exceptions were thrown by threads:\\n    [junit] *** Thread: Lucene Merge Thread #78 ***\\n    [junit] org.apache.lucene.index.MergePolicy$MergeException: java.lang.AssertionError\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler.handleMergeException(ConcurrentMergeScheduler.java:507)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:480)\\n    [junit] Caused by: java.lang.AssertionError\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.commitMergedDeletes(IndexWriter.java:3028)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.commitMerge(IndexWriter.java:3137)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:3718)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3257)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:382)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:451)\\n    [junit] *** Thread: Lucene Merge Thread #125 ***\\n    [junit] org.apache.lucene.index.MergePolicy$MergeException: java.lang.AssertionError\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler.handleMergeException(ConcurrentMergeScheduler.java:507)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:480)\\n    [junit] Caused by: java.lang.AssertionError\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.commitMergedDeletes(IndexWriter.java:3028)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.commitMerge(IndexWriter.java:3137)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:3718)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3257)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:382)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:451)\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: test params are: codec=Lucene3x, sim=RandomSimilarityProvider(queryNorm=true,coord=false): {}, locale=ro, timezone=Etc\\/GMT+1\\n    [junit] NOTE: all tests run in this JVM:\\n    [junit] [TestStressNRT]\\n    [junit] NOTE: Linux 3.0.0-16-generic amd64\\/Sun Microsystems Inc. 1.6.0_27 (64-bit)\\/cpus=2,threads=1,free=135293744,total=194379776\\n    [junit] ------------- ---------------- ---------------\\n    [junit] Testcase: test(org.apache.lucene.index.TestStressNRT):\\tCaused an ERROR\\n    [junit] java.lang.AssertionError: Some threads threw uncaught exceptions!\\n    [junit] java.lang.RuntimeException: java.lang.AssertionError: Some threads threw uncaught exceptions!\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase.tearDownInternal(LuceneTestCase.java:816)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase.access$1100(LuceneTestCase.java:137)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$InternalSetupTeardownRule$1.evaluate(LuceneTestCase.java:640)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$TestResultInterceptorRule$1.evaluate(LuceneTestCase.java:538)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$RememberThreadRule$1.evaluate(LuceneTestCase.java:600)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:164)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:57)\\n    [junit] \\tat org.apache.lucene.util.StoreClassNameRule$1.evaluate(StoreClassNameRule.java:21)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] Caused by: java.lang.AssertionError: Some threads threw uncaught exceptions!\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase.checkUncaughtExceptionsAfter(LuceneTestCase.java:844)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase.tearDownInternal(LuceneTestCase.java:788)\\n    [junit] \\n    [junit] \\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13224239_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13224239_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/12 12:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-07T12:39:21+0000\'\u003e07\\/Mar\\/12 12:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     \\n junit-sequential:\\n    [junit] Testsuite: org.apache.lucene.index.TestStressNRT\\n    [junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 10.377 sec\\n    [junit] \\n    [junit] ------------- Standard Error -----------------\\n    [junit] The following exceptions were thrown by threads:\\n    [junit] *** Thread: Lucene Merge Thread #133 ***\\n    [junit] org.apache.lucene.index.MergePolicy$MergeException: java.lang.AssertionError\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler.handleMergeException(ConcurrentMergeScheduler.java:507)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:480)\\n    [junit] Caused by: java.lang.AssertionError\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.commitMergedDeletes(IndexWriter.java:3028)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.commitMerge(IndexWriter.java:3137)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:3718)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3257)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:382)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:451)\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: test params are: codec=Lucene3x, sim=RandomSimilarityProvider(queryNorm=true,coord=false): {}, locale=ro, timezone=Etc\\/GMT+1\\n    [junit] NOTE: all tests run in this JVM:\\n    [junit] [TestStressNRT]\\n    [junit] NOTE: Linux 3.0.0-16-generic amd64\\/Sun Microsystems Inc. 1.6.0_27 (64-bit)\\/cpus=2,threads=1,free=86308600,total=202244096\\n    [junit] ------------- ---------------- ---------------\\n    [junit] Testcase: test(org.apache.lucene.index.TestStressNRT):\\tCaused an ERROR\\n    [junit] java.lang.AssertionError: Some threads threw uncaught exceptions!\\n    [junit] java.lang.RuntimeException: java.lang.AssertionError: Some threads threw uncaught exceptions!\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase.tearDownInternal(LuceneTestCase.java:816)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase.access$1100(LuceneTestCase.java:137)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$InternalSetupTeardownRule$1.evaluate(LuceneTestCase.java:640)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$TestResultInterceptorRule$1.evaluate(LuceneTestCase.java:538)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$RememberThreadRule$1.evaluate(LuceneTestCase.java:600)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:164)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:57)\\n    [junit] \\tat org.apache.lucene.util.StoreClassNameRule$1.evaluate(StoreClassNameRule.java:21)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] Caused by: java.lang.AssertionError: Some threads threw uncaught exceptions!\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase.checkUncaughtExceptionsAfter(LuceneTestCase.java:844)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase.tearDownInternal(LuceneTestCase.java:788)\\n    [junit] \\n    [junit] \\n\\njunit-sequential:\\n    [junit] Testsuite: org.apache.lucene.index.TestStressNRT\\n    [junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 11.454 sec\\n    [junit] \\n    [junit] ------------- Standard Error -----------------\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: test params are: codec=Lucene3x, sim=RandomSimilarityProvider(queryNorm=true,coord=false): {}, locale=ro, timezone=Etc\\/GMT+1\\n    [junit] NOTE: all tests run in this JVM:\\n    [junit] [TestStressNRT]\\n    [junit] NOTE: Linux 3.0.0-16-generic amd64\\/Sun Microsystems Inc. 1.6.0_27 (64-bit)\\/cpus=2,threads=1,free=77427992,total=143851520\\n    [junit] ------------- ---------------- ---------------\\n    [junit] Testcase: test(org.apache.lucene.index.TestStressNRT):\\tCaused an ERROR\\n    [junit] MockDirectoryWrapper: cannot close: there are still open files: {_eb.cfs=5}\\n    [junit] java.lang.RuntimeException: MockDirectoryWrapper: cannot close: there are still open files: {_eb.cfs=5}\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper.close(MockDirectoryWrapper.java:555)\\n    [junit] \\tat org.apache.lucene.index.TestStressNRT.test(TestStressNRT.java:385)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$SubclassSetupTeardownRule$1.evaluate(LuceneTestCase.java:743)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$InternalSetupTeardownRule$1.evaluate(LuceneTestCase.java:639)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$TestResultInterceptorRule$1.evaluate(LuceneTestCase.java:538)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$RememberThreadRule$1.evaluate(LuceneTestCase.java:600)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:164)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:57)\\n    [junit] \\tat org.apache.lucene.util.StoreClassNameRule$1.evaluate(StoreClassNameRule.java:21)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] Caused by: java.lang.RuntimeException: unclosed IndexInput: _eb.cfs\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper.addFileHandle(MockDirectoryWrapper.java:479)\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper$1.openSlice(MockDirectoryWrapper.java:777)\\n    [junit] \\tat org.apache.lucene.store.CompoundFileDirectory.openInput(CompoundFileDirectory.java:221)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.TermInfosReader.&lt;init&gt;(TermInfosReader.java:112)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.Lucene3xFields.&lt;init&gt;(Lucene3xFields.java:84)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.PreFlexRWPostingsFormat$1.&lt;init&gt;(PreFlexRWPostingsFormat.java:51)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.PreFlexRWPostingsFormat.fieldsProducer(PreFlexRWPostingsFormat.java:51)\\n    [junit] \\tat org.apache.lucene.index.SegmentCoreReaders.&lt;init&gt;(SegmentCoreReaders.java:108)\\n    [junit] \\tat org.apache.lucene.index.SegmentReader.&lt;init&gt;(SegmentReader.java:51)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter$ReadersAndLiveDocs.getMergeReader(IndexWriter.java:521)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:3587)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3257)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:382)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:451)\\n    [junit] \\n    [junit] \\n\\njunit-sequential:\\n    [junit] Testsuite: org.apache.lucene.index.TestStressNRT\\n    [junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 10.892 sec\\n    [junit] \\n    [junit] ------------- Standard Error -----------------\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: test params are: codec=Lucene3x, sim=RandomSimilarityProvider(queryNorm=true,coord=false): {}, locale=ro, timezone=Etc\\/GMT+1\\n    [junit] NOTE: all tests run in this JVM:\\n    [junit] [TestStressNRT]\\n    [junit] NOTE: Linux 3.0.0-16-generic amd64\\/Sun Microsystems Inc. 1.6.0_27 (64-bit)\\/cpus=2,threads=1,free=70056648,total=148111360\\n    [junit] ------------- ---------------- ---------------\\n    [junit] Testcase: test(org.apache.lucene.index.TestStressNRT):\\tCaused an ERROR\\n    [junit] MockDirectoryWrapper: cannot close: there are still open files: {_30.frq=1, _l8.cfs=5, _30.tis=1, _30.tvx=1, _30.fdx=1, _30.fdt=1, _30.tvf=1, _30.tvd=1}\\n    [junit] java.lang.RuntimeException: MockDirectoryWrapper: cannot close: there are still open files: {_30.frq=1, _l8.cfs=5, _30.tis=1, _30.tvx=1, _30.fdx=1, _30.fdt=1, _30.tvf=1, _30.tvd=1}\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper.close(MockDirectoryWrapper.java:555)\\n    [junit] \\tat org.apache.lucene.index.TestStressNRT.test(TestStressNRT.java:385)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$SubclassSetupTeardownRule$1.evaluate(LuceneTestCase.java:743)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$InternalSetupTeardownRule$1.evaluate(LuceneTestCase.java:639)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$TestResultInterceptorRule$1.evaluate(LuceneTestCase.java:538)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$RememberThreadRule$1.evaluate(LuceneTestCase.java:600)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:164)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:57)\\n    [junit] \\tat org.apache.lucene.util.StoreClassNameRule$1.evaluate(StoreClassNameRule.java:21)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] Caused by: java.lang.RuntimeException: unclosed IndexInput: _30.tis\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper.addFileHandle(MockDirectoryWrapper.java:479)\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper.openInput(MockDirectoryWrapper.java:504)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.TermInfosReader.&lt;init&gt;(TermInfosReader.java:112)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.Lucene3xFields.&lt;init&gt;(Lucene3xFields.java:84)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.PreFlexRWPostingsFormat$1.&lt;init&gt;(PreFlexRWPostingsFormat.java:51)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.PreFlexRWPostingsFormat.fieldsProducer(PreFlexRWPostingsFormat.java:51)\\n    [junit] \\tat org.apache.lucene.index.SegmentCoreReaders.&lt;init&gt;(SegmentCoreReaders.java:108)\\n    [junit] \\tat org.apache.lucene.index.SegmentReader.&lt;init&gt;(SegmentReader.java:51)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter$ReadersAndLiveDocs.getMergeReader(IndexWriter.java:521)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:3587)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3257)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:382)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:451)\\n    [junit] \\n    [junit] \\n\\njunit-sequential:\\n    [junit] Testsuite: org.apache.lucene.index.TestStressNRT\\n    [junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 11.678 sec\\n    [junit] \\n    [junit] ------------- Standard Error -----------------\\n    [junit] The following exceptions were thrown by threads:\\n    [junit] *** Thread: Lucene Merge Thread #78 ***\\n    [junit] org.apache.lucene.index.MergePolicy$MergeException: java.lang.AssertionError\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler.handleMergeException(ConcurrentMergeScheduler.java:507)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:480)\\n    [junit] Caused by: java.lang.AssertionError\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.commitMergedDeletes(IndexWriter.java:3028)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.commitMerge(IndexWriter.java:3137)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:3718)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3257)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:382)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:451)\\n    [junit] *** Thread: Lucene Merge Thread #125 ***\\n    [junit] org.apache.lucene.index.MergePolicy$MergeException: java.lang.AssertionError\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler.handleMergeException(ConcurrentMergeScheduler.java:507)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:480)\\n    [junit] Caused by: java.lang.AssertionError\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.commitMergedDeletes(IndexWriter.java:3028)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.commitMerge(IndexWriter.java:3137)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:3718)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3257)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:382)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:451)\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: test params are: codec=Lucene3x, sim=RandomSimilarityProvider(queryNorm=true,coord=false): {}, locale=ro, timezone=Etc\\/GMT+1\\n    [junit] NOTE: all tests run in this JVM:\\n    [junit] [TestStressNRT]\\n    [junit] NOTE: Linux 3.0.0-16-generic amd64\\/Sun Microsystems Inc. 1.6.0_27 (64-bit)\\/cpus=2,threads=1,free=135293744,total=194379776\\n    [junit] ------------- ---------------- ---------------\\n    [junit] Testcase: test(org.apache.lucene.index.TestStressNRT):\\tCaused an ERROR\\n    [junit] java.lang.AssertionError: Some threads threw uncaught exceptions!\\n    [junit] java.lang.RuntimeException: java.lang.AssertionError: Some threads threw uncaught exceptions!\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase.tearDownInternal(LuceneTestCase.java:816)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase.access$1100(LuceneTestCase.java:137)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$InternalSetupTeardownRule$1.evaluate(LuceneTestCase.java:640)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$TestResultInterceptorRule$1.evaluate(LuceneTestCase.java:538)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$RememberThreadRule$1.evaluate(LuceneTestCase.java:600)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:164)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:57)\\n    [junit] \\tat org.apache.lucene.util.StoreClassNameRule$1.evaluate(StoreClassNameRule.java:21)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] Caused by: java.lang.AssertionError: Some threads threw uncaught exceptions!\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase.checkUncaughtExceptionsAfter(LuceneTestCase.java:844)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase.tearDownInternal(LuceneTestCase.java:788)\\n    [junit] \\n    [junit] \\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13224500\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13224500&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13224500\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13224500_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13224500_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/12 16:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-07T16:52:54+0000\'\u003e07\\/Mar\\/12 16:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI began to think it\'s the Java version\\/ jvm bug that is causing these, but doesn\'t seem like it. Ran with the newest JRE 1.6:\u003c\\/p\u003e\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e\\njunit-sequential:\\n    [junit] Testsuite: org.apache.lucene.index.TestStressNRT\\n    [junit] Tests run: 1, Failures: 1, Errors: 0, Time elapsed: 9.536 sec\\n    [junit]\\n    [junit] ------------- Standard Error -----------------\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: test params are: codec=Lucene3x, sim=RandomSimilarityProvider(queryNorm=true,coord=false): {}, locale=ro, timezone=US\\/East-Indiana\\n    [junit] NOTE: all tests run in this JVM:\\n    [junit] [TestStressNRT]\\n    [junit] NOTE: Linux 3.0.0-16-generic amd64\\/Sun Microsystems Inc. 1.6.0_31 (64-bit)\\/cpus=2,threads=1,free=95936736,total=148307968\\n    [junit] ------------- ---------------- ---------------\\n    [junit] Testcase: test(org.apache.lucene.index.TestStressNRT):      FAILED\\n    [junit] info=_gx(4.0):C9\\/7 isn\'t live\\n    [junit] junit.framework.AssertionFailedError: info=_gx(4.0):C9\\/7 isn\'t live\\n    [junit]     at org.apache.lucene.index.IndexWriter$ReaderPool.infoIsLive(IndexWriter.java:663)\\n    [junit]     at org.apache.lucene.index.IndexWriter$ReaderPool.dropAll(IndexWriter.java:717)\\n    [junit]     at org.apache.lucene.index.IndexWriter.closeInternal(IndexWriter.java:1136)\\n    [junit]     at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:1069)\\n    [junit]     at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:1033)\\n    [junit]     at org.apache.lucene.index.RandomIndexWriter.close(RandomIndexWriter.java:408)\\n    [junit]     at org.apache.lucene.index.TestStressNRT.test(TestStressNRT.java:380)\\n    [junit]     at org.apache.lucene.util.LuceneTestCase$SubclassSetupTeardownRule$1.evaluate(LuceneTestCase.java:743)\\n    [junit]     at org.apache.lucene.util.LuceneTestCase$InternalSetupTeardownRule$1.evaluate(LuceneTestCase.java:639)\\n    [junit]     at org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit]     at org.apache.lucene.util.LuceneTestCase$TestResultInterceptorRule$1.evaluate(LuceneTestCase.java:538)\\n    [junit]     at org.apache.lucene.util.LuceneTestCase$RememberThreadRule$1.evaluate(LuceneTestCase.java:600)\\n    [junit]     at org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:164)\\n    [junit]     at org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:57)\\n    [junit]     at org.apache.lucene.util.StoreClassNameRule$1.evaluate(StoreClassNameRule.java:21)\\n    [junit]     at org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit]\\n    [junit]\\n    [junit] Test org.apache.lucene.index.TestStressNRT FAILED\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13224500_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13224500_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/12 16:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-07T16:52:54+0000\'\u003e07\\/Mar\\/12 16:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I began to think it\'s the Java version\\/ jvm bug that is causing these, but doesn\'t seem like it. Ran with the newest JRE 1.6: \\n  \\n \\njunit-sequential:\\n    [junit] Testsuite: org.apache.lucene.index.TestStressNRT\\n    [junit] Tests run: 1, Failures: 1, Errors: 0, Time elapsed: 9.536 sec\\n    [junit]\\n    [junit] ------------- Standard Error -----------------\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: test params are: codec=Lucene3x, sim=RandomSimilarityProvider(queryNorm=true,coord=false): {}, locale=ro, timezone=US\\/East-Indiana\\n    [junit] NOTE: all tests run in this JVM:\\n    [junit] [TestStressNRT]\\n    [junit] NOTE: Linux 3.0.0-16-generic amd64\\/Sun Microsystems Inc. 1.6.0_31 (64-bit)\\/cpus=2,threads=1,free=95936736,total=148307968\\n    [junit] ------------- ---------------- ---------------\\n    [junit] Testcase: test(org.apache.lucene.index.TestStressNRT):      FAILED\\n    [junit] info=_gx(4.0):C9\\/7 isn\'t live\\n    [junit] junit.framework.AssertionFailedError: info=_gx(4.0):C9\\/7 isn\'t live\\n    [junit]     at org.apache.lucene.index.IndexWriter$ReaderPool.infoIsLive(IndexWriter.java:663)\\n    [junit]     at org.apache.lucene.index.IndexWriter$ReaderPool.dropAll(IndexWriter.java:717)\\n    [junit]     at org.apache.lucene.index.IndexWriter.closeInternal(IndexWriter.java:1136)\\n    [junit]     at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:1069)\\n    [junit]     at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:1033)\\n    [junit]     at org.apache.lucene.index.RandomIndexWriter.close(RandomIndexWriter.java:408)\\n    [junit]     at org.apache.lucene.index.TestStressNRT.test(TestStressNRT.java:380)\\n    [junit]     at org.apache.lucene.util.LuceneTestCase$SubclassSetupTeardownRule$1.evaluate(LuceneTestCase.java:743)\\n    [junit]     at org.apache.lucene.util.LuceneTestCase$InternalSetupTeardownRule$1.evaluate(LuceneTestCase.java:639)\\n    [junit]     at org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit]     at org.apache.lucene.util.LuceneTestCase$TestResultInterceptorRule$1.evaluate(LuceneTestCase.java:538)\\n    [junit]     at org.apache.lucene.util.LuceneTestCase$RememberThreadRule$1.evaluate(LuceneTestCase.java:600)\\n    [junit]     at org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:164)\\n    [junit]     at org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:57)\\n    [junit]     at org.apache.lucene.util.StoreClassNameRule$1.evaluate(StoreClassNameRule.java:21)\\n    [junit]     at org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit]\\n    [junit]\\n    [junit] Test org.apache.lucene.index.TestStressNRT FAILED\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13224801\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13224801&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13224801\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13224801_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13224801_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/12 22:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-07T22:38:03+0000\'\u003e07\\/Mar\\/12 22:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCan\'t reproduce this on Windows, interestingly. But on another Ubuntu machine, without a problem &#8211;\u003c\\/p\u003e\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e\\njunit-sequential:\\n    [junit] Testsuite: org.apache.lucene.index.TestStressNRT\\n    [junit] Tests run: 1, Failures: 1, Errors: 0, Time elapsed: 4.449 sec\\n    [junit]\\n    [junit] ------------- Standard Error -----------------\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: test params are: codec=Lucene3x, sim=RandomSimilarityProvider(queryNorm=true,coord=false): {}, locale=ro, timezone=Etc\\/GMT+11\\n    [junit] NOTE: all tests run in this JVM:\\n    [junit] [TestStressNRT]\\n    [junit] NOTE: Linux 2.6.32-38-server amd64\\/Sun Microsystems Inc. 1.6.0_20 (64-bit)\\/cpus=4,threads=1,free=150044128,total=174260224\\n    [junit] ------------- ---------------- ---------------\\n    [junit] Testcase: test(org.apache.lucene.index.TestStressNRT):      FAILED\\n    [junit] info=_dm(4.0):cv6\\/4 isn\'t live\\n    [junit] junit.framework.AssertionFailedError: info=_dm(4.0):cv6\\/4 isn\'t live\\n    [junit]     at org.apache.lucene.index.IndexWriter$ReaderPool.infoIsLive(IndexWriter.java:663)\\n    [junit]     at org.apache.lucene.index.IndexWriter$ReaderPool.dropAll(IndexWriter.java:717)\\n    [junit]     at org.apache.lucene.index.IndexWriter.closeInternal(IndexWriter.java:1136)\\n    [junit]     at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:1069)\\n    [junit]     at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:1033)\\n    [junit]     at org.apache.lucene.index.RandomIndexWriter.close(RandomIndexWriter.java:408)\\n    [junit]     at org.apache.lucene.index.TestStressNRT.test(TestStressNRT.java:380)\\n    [junit]     at org.apache.lucene.util.LuceneTestCase$SubclassSetupTeardownRule$1.evaluate(LuceneTestCase.java:743)\\n    [junit]     at org.apache.lucene.util.LuceneTestCase$InternalSetupTeardownRule$1.evaluate(LuceneTestCase.java:639)\\n    [junit]     at org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit]     at org.apache.lucene.util.LuceneTestCase$TestResultInterceptorRule$1.evaluate(LuceneTestCase.java:538)\\n    [junit]     at org.apache.lucene.util.LuceneTestCase$RememberThreadRule$1.evaluate(LuceneTestCase.java:600)\\n    [junit]     at org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:164)\\n    [junit]     at org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:57)\\n    [junit]     at org.apache.lucene.util.StoreClassNameRule$1.evaluate(StoreClassNameRule.java:21)\\n    [junit]     at org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit]\\n    [junit]\\n    [junit] Test org.apache.lucene.index.TestStressNRT FAILED\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13224801_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13224801_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/12 22:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-07T22:38:03+0000\'\u003e07\\/Mar\\/12 22:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Can\'t reproduce this on Windows, interestingly. But on another Ubuntu machine, without a problem &#8211; \\n  \\n \\njunit-sequential:\\n    [junit] Testsuite: org.apache.lucene.index.TestStressNRT\\n    [junit] Tests run: 1, Failures: 1, Errors: 0, Time elapsed: 4.449 sec\\n    [junit]\\n    [junit] ------------- Standard Error -----------------\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: test params are: codec=Lucene3x, sim=RandomSimilarityProvider(queryNorm=true,coord=false): {}, locale=ro, timezone=Etc\\/GMT+11\\n    [junit] NOTE: all tests run in this JVM:\\n    [junit] [TestStressNRT]\\n    [junit] NOTE: Linux 2.6.32-38-server amd64\\/Sun Microsystems Inc. 1.6.0_20 (64-bit)\\/cpus=4,threads=1,free=150044128,total=174260224\\n    [junit] ------------- ---------------- ---------------\\n    [junit] Testcase: test(org.apache.lucene.index.TestStressNRT):      FAILED\\n    [junit] info=_dm(4.0):cv6\\/4 isn\'t live\\n    [junit] junit.framework.AssertionFailedError: info=_dm(4.0):cv6\\/4 isn\'t live\\n    [junit]     at org.apache.lucene.index.IndexWriter$ReaderPool.infoIsLive(IndexWriter.java:663)\\n    [junit]     at org.apache.lucene.index.IndexWriter$ReaderPool.dropAll(IndexWriter.java:717)\\n    [junit]     at org.apache.lucene.index.IndexWriter.closeInternal(IndexWriter.java:1136)\\n    [junit]     at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:1069)\\n    [junit]     at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:1033)\\n    [junit]     at org.apache.lucene.index.RandomIndexWriter.close(RandomIndexWriter.java:408)\\n    [junit]     at org.apache.lucene.index.TestStressNRT.test(TestStressNRT.java:380)\\n    [junit]     at org.apache.lucene.util.LuceneTestCase$SubclassSetupTeardownRule$1.evaluate(LuceneTestCase.java:743)\\n    [junit]     at org.apache.lucene.util.LuceneTestCase$InternalSetupTeardownRule$1.evaluate(LuceneTestCase.java:639)\\n    [junit]     at org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit]     at org.apache.lucene.util.LuceneTestCase$TestResultInterceptorRule$1.evaluate(LuceneTestCase.java:538)\\n    [junit]     at org.apache.lucene.util.LuceneTestCase$RememberThreadRule$1.evaluate(LuceneTestCase.java:600)\\n    [junit]     at org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:164)\\n    [junit]     at org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:57)\\n    [junit]     at org.apache.lucene.util.StoreClassNameRule$1.evaluate(StoreClassNameRule.java:21)\\n    [junit]     at org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit]\\n    [junit]\\n    [junit] Test org.apache.lucene.index.TestStressNRT FAILED\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13225057\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13225057&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13225057\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"giladbarkai\\\" id=\\\"commentauthor_13225057_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=giladbarkai\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"giladbarkai\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gilad Barkai\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225057_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 07:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T07:04:01+0000\'\u003e08\\/Mar\\/12 07:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIt fails here as well, not as often though,  \u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e    [junit] ------------- Standard Error -----------------\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: test params are: codec=Lucene3x, sim=RandomSimilarityProvider(queryNorm=true,coord=false): {}, locale=ro, timezone=US\\/East-Indiana\\n    [junit] NOTE: all tests run in this JVM:\\n    [junit] [TestStressNRT]\\n    [junit] NOTE: Linux 3.2.7-1.fc16.x86_64 amd64\\/Sun Microsystems Inc. 1.6.0_24 (64-bit)\\/cpus=2,threads=1,free=44668576,total=133169152\\n    [junit] ------------- ---------------- ---------------\\n\\n    [junit] Testcase: test(org.apache.lucene.index.TestStressNRT):\\tCaused an ERROR\\n    [junit] MockDirectoryWrapper: cannot close: there are still open files: {_vv.cfs=5, _j1.cfs=5}\\n    [junit] java.lang.RuntimeException: MockDirectoryWrapper: cannot close: there are still open files: {_vv.cfs=5, _j1.cfs=5}\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper.close(MockDirectoryWrapper.java:555)\\n    [junit] \\tat org.apache.lucene.index.TestStressNRT.test(TestStressNRT.java:385)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$SubclassSetupTeardownRule$1.evaluate(LuceneTestCase.java:743)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$InternalSetupTeardownRule$1.evaluate(LuceneTestCase.java:639)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$TestResultInterceptorRule$1.evaluate(LuceneTestCase.java:538)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$RememberThreadRule$1.evaluate(LuceneTestCase.java:600)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:164)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:57)\\n    [junit] \\tat org.apache.lucene.util.StoreClassNameRule$1.evaluate(StoreClassNameRule.java:21)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] Caused by: java.lang.RuntimeException: unclosed IndexInput: _j1.cfs\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper.addFileHandle(MockDirectoryWrapper.java:479)\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper$1.openSlice(MockDirectoryWrapper.java:777)\\n    [junit] \\tat org.apache.lucene.store.CompoundFileDirectory.openInput(CompoundFileDirectory.java:221)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.Lucene3xStoredFieldsReader.&lt;init&gt;(Lucene3xStoredFieldsReader.java:156)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.Lucene3xStoredFieldsFormat.fieldsReader(Lucene3xStoredFieldsFormat.java:38)\\n    [junit] \\tat org.apache.lucene.index.SegmentCoreReaders.&lt;init&gt;(SegmentCoreReaders.java:116)\\n    [junit] \\tat org.apache.lucene.index.SegmentReader.&lt;init&gt;(SegmentReader.java:51)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter$ReadersAndLiveDocs.getMergeReader(IndexWriter.java:521)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:3587)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3257)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:382)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:451)\\n    [junit] \\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"giladbarkai\\\" id=\\\"commentauthor_13225057_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=giladbarkai\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"giladbarkai\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gilad Barkai\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225057_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 07:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T07:04:01+0000\'\u003e08\\/Mar\\/12 07:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    It fails here as well, not as often though,   \\n\\n  \\n     [junit] ------------- Standard Error -----------------\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: test params are: codec=Lucene3x, sim=RandomSimilarityProvider(queryNorm=true,coord=false): {}, locale=ro, timezone=US\\/East-Indiana\\n    [junit] NOTE: all tests run in this JVM:\\n    [junit] [TestStressNRT]\\n    [junit] NOTE: Linux 3.2.7-1.fc16.x86_64 amd64\\/Sun Microsystems Inc. 1.6.0_24 (64-bit)\\/cpus=2,threads=1,free=44668576,total=133169152\\n    [junit] ------------- ---------------- ---------------\\n\\n    [junit] Testcase: test(org.apache.lucene.index.TestStressNRT):\\tCaused an ERROR\\n    [junit] MockDirectoryWrapper: cannot close: there are still open files: {_vv.cfs=5, _j1.cfs=5}\\n    [junit] java.lang.RuntimeException: MockDirectoryWrapper: cannot close: there are still open files: {_vv.cfs=5, _j1.cfs=5}\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper.close(MockDirectoryWrapper.java:555)\\n    [junit] \\tat org.apache.lucene.index.TestStressNRT.test(TestStressNRT.java:385)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$SubclassSetupTeardownRule$1.evaluate(LuceneTestCase.java:743)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$InternalSetupTeardownRule$1.evaluate(LuceneTestCase.java:639)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$TestResultInterceptorRule$1.evaluate(LuceneTestCase.java:538)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$RememberThreadRule$1.evaluate(LuceneTestCase.java:600)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:164)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:57)\\n    [junit] \\tat org.apache.lucene.util.StoreClassNameRule$1.evaluate(StoreClassNameRule.java:21)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] Caused by: java.lang.RuntimeException: unclosed IndexInput: _j1.cfs\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper.addFileHandle(MockDirectoryWrapper.java:479)\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper$1.openSlice(MockDirectoryWrapper.java:777)\\n    [junit] \\tat org.apache.lucene.store.CompoundFileDirectory.openInput(CompoundFileDirectory.java:221)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.Lucene3xStoredFieldsReader.&lt;init&gt;(Lucene3xStoredFieldsReader.java:156)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.Lucene3xStoredFieldsFormat.fieldsReader(Lucene3xStoredFieldsFormat.java:38)\\n    [junit] \\tat org.apache.lucene.index.SegmentCoreReaders.&lt;init&gt;(SegmentCoreReaders.java:116)\\n    [junit] \\tat org.apache.lucene.index.SegmentReader.&lt;init&gt;(SegmentReader.java:51)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter$ReadersAndLiveDocs.getMergeReader(IndexWriter.java:521)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:3587)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3257)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:382)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:451)\\n    [junit] \\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13225085\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13225085&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13225085\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13225085_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225085_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 08:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T08:29:49+0000\'\u003e08\\/Mar\\/12 08:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYep, there is something severely wrong in there, but I won\'t be able to figure it out on my own. Don\'t get the logic in IndexWriter. But I tracked one of the above exceptions to this scenario:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e    [junit] junit.framework.AssertionFailedError: info=_dm(4.0):cv6\\/4 isn\'t live\\n    [junit]     at org.apache.lucene.index.IndexWriter$ReaderPool.infoIsLive(IndexWriter.java:663)\\n    [junit]     at org.apache.lucene.index.IndexWriter$ReaderPool.dropAll(IndexWriter.java:717)\\n    [junit]     at org.apache.lucene.index.IndexWriter.closeInternal(IndexWriter.java:1136)\\n    [junit]     at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:1069)\\n    [junit]     at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:1033)\\n    [junit]     at org.apache.lucene.index.RandomIndexWriter.close(RandomIndexWriter.java:408)\\n    [junit]     at org.apache.lucene.index.TestStressNRT.test(TestStressNRT.java:380)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eSo, the case here is that infoIsLive attempts to check:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e      int idx = segmentInfos.indexOf(info);\\n      assert idx != -1: \\\"info=\\\" + info + \\\" isn\'t live\\\";\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eI added tracing to segmentInfos when segments do get removed from the underlying array. Once executed, I get the listing:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e...\\n&gt;&gt;&gt; Removing: _o1(4.0):Cv13\\/13\\n&gt;&gt;&gt; Removing: _o0(4.0):Cv6\\/6\\n&gt;&gt;&gt; Removing: _nu(4.0):C12\\/12\\n&gt;&gt;&gt; Removing: _nw(4.0):Cv12\\/12\\n&gt;&gt;&gt; Removing: _o9(4.0):c2\\/2\\n&gt;&gt;&gt; Removing: _q2(4.0):C12\\/12\\n&gt;&gt;&gt; Removing: _qc(4.0):Cv7\\/7\\n&gt;&gt;&gt; Removing: _q6(4.0):C12\\/12\\n&gt;&gt;&gt; Not found: _d9(4.0):Cv8\\/3\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eBut that last segment is never on the list of removed segments. It was never added there in the first place. The allocation stack for that segment is:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e\\tat java.lang.Thread.getStackTrace(Thread.java:1436)\\n\\tat org.apache.lucene.index.SegmentInfo.&lt;init&gt;(SegmentInfo.java:130)\\n\\tat org.apache.lucene.index.IndexWriter._mergeInit(IndexWriter.java:3418)\\n\\tat org.apache.lucene.index.IndexWriter.mergeInit(IndexWriter.java:3382)\\n\\tat org.apache.lucene.index.ConcurrentMergeScheduler.merge(ConcurrentMergeScheduler.java:346)\\n\\tat org.apache.lucene.index.IndexWriter.maybeMerge(IndexWriter.java:1905)\\n\\tat org.apache.lucene.index.IndexWriter.maybeMerge(IndexWriter.java:1899)\\n\\tat org.apache.lucene.index.IndexWriter.prepareCommit(IndexWriter.java:2726)\\n\\tat org.apache.lucene.index.IndexWriter.commitInternal(IndexWriter.java:2809)\\n\\tat org.apache.lucene.index.IndexWriter.commit(IndexWriter.java:2791)\\n\\tat org.apache.lucene.index.IndexWriter.commit(IndexWriter.java:2775)\\n\\tat org.apache.lucene.index.RandomIndexWriter.commit(RandomIndexWriter.java:313)\\n\\tat org.apache.lucene.index.TestStressNRT$1.run(TestStressNRT.java:156)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eSo this looks like a race condition between closing the writer and a concurrent merge scheduler? \u003c\\/p\u003e\\n\\n\u003cp\u003eLet me know if you need any further stacks\\/ tracing listings &#8211; this is fairly easy to reproduce on my machine and I can add anything.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13225085_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225085_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 08:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T08:29:49+0000\'\u003e08\\/Mar\\/12 08:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yep, there is something severely wrong in there, but I won\'t be able to figure it out on my own. Don\'t get the logic in IndexWriter. But I tracked one of the above exceptions to this scenario: \\n\\n  \\n     [junit] junit.framework.AssertionFailedError: info=_dm(4.0):cv6\\/4 isn\'t live\\n    [junit]     at org.apache.lucene.index.IndexWriter$ReaderPool.infoIsLive(IndexWriter.java:663)\\n    [junit]     at org.apache.lucene.index.IndexWriter$ReaderPool.dropAll(IndexWriter.java:717)\\n    [junit]     at org.apache.lucene.index.IndexWriter.closeInternal(IndexWriter.java:1136)\\n    [junit]     at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:1069)\\n    [junit]     at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:1033)\\n    [junit]     at org.apache.lucene.index.RandomIndexWriter.close(RandomIndexWriter.java:408)\\n    [junit]     at org.apache.lucene.index.TestStressNRT.test(TestStressNRT.java:380)\\n \\n  \\n\\n So, the case here is that infoIsLive attempts to check: \\n\\n  \\n       int idx = segmentInfos.indexOf(info);\\n      assert idx != -1: \\\"info=\\\" + info + \\\" isn\'t live\\\";\\n \\n  \\n\\n I added tracing to segmentInfos when segments do get removed from the underlying array. Once executed, I get the listing: \\n\\n  \\n ...\\n&gt;&gt;&gt; Removing: _o1(4.0):Cv13\\/13\\n&gt;&gt;&gt; Removing: _o0(4.0):Cv6\\/6\\n&gt;&gt;&gt; Removing: _nu(4.0):C12\\/12\\n&gt;&gt;&gt; Removing: _nw(4.0):Cv12\\/12\\n&gt;&gt;&gt; Removing: _o9(4.0):c2\\/2\\n&gt;&gt;&gt; Removing: _q2(4.0):C12\\/12\\n&gt;&gt;&gt; Removing: _qc(4.0):Cv7\\/7\\n&gt;&gt;&gt; Removing: _q6(4.0):C12\\/12\\n&gt;&gt;&gt; Not found: _d9(4.0):Cv8\\/3\\n \\n  \\n\\n But that last segment is never on the list of removed segments. It was never added there in the first place. The allocation stack for that segment is: \\n\\n  \\n \\tat java.lang.Thread.getStackTrace(Thread.java:1436)\\n\\tat org.apache.lucene.index.SegmentInfo.&lt;init&gt;(SegmentInfo.java:130)\\n\\tat org.apache.lucene.index.IndexWriter._mergeInit(IndexWriter.java:3418)\\n\\tat org.apache.lucene.index.IndexWriter.mergeInit(IndexWriter.java:3382)\\n\\tat org.apache.lucene.index.ConcurrentMergeScheduler.merge(ConcurrentMergeScheduler.java:346)\\n\\tat org.apache.lucene.index.IndexWriter.maybeMerge(IndexWriter.java:1905)\\n\\tat org.apache.lucene.index.IndexWriter.maybeMerge(IndexWriter.java:1899)\\n\\tat org.apache.lucene.index.IndexWriter.prepareCommit(IndexWriter.java:2726)\\n\\tat org.apache.lucene.index.IndexWriter.commitInternal(IndexWriter.java:2809)\\n\\tat org.apache.lucene.index.IndexWriter.commit(IndexWriter.java:2791)\\n\\tat org.apache.lucene.index.IndexWriter.commit(IndexWriter.java:2775)\\n\\tat org.apache.lucene.index.RandomIndexWriter.commit(RandomIndexWriter.java:313)\\n\\tat org.apache.lucene.index.TestStressNRT$1.run(TestStressNRT.java:156)\\n \\n  \\n\\n So this looks like a race condition between closing the writer and a concurrent merge scheduler?  \\n\\n Let me know if you need any further stacks\\/ tracing listings &#8211; this is fairly easy to reproduce on my machine and I can add anything.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13225088\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13225088&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13225088\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13225088_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225088_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 08:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T08:49:55+0000\'\u003e08\\/Mar\\/12 08:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Dawid Weiss - 08\\/Mar\\/12 08:50\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis is definitely a race between ConcurrentMergeScheduler and the thread calling close. Everything else seems to stem from this problem. For example this one:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003ejava.lang.RuntimeException: MockDirectoryWrapper: cannot close: there are still open files: {_dc.tvx=1, _dc.tvf=1, _dc.tvd=1, _dc.fdx=1, _dc.fdt=1, _dc.frq=1, _dc.tis=1}\\n\\tat org.apache.lucene.store.MockDirectoryWrapper.close(MockDirectoryWrapper.java:555)\\n\\tat org.apache.lucene.index.TestStressNRT.test(TestStressNRT.java:385)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003ehas an underlying open file handle stack:\u003c\\/p\u003e\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eCaused by: java.lang.RuntimeException: unclosed IndexInput: _dc.tvf\\n\\tat org.apache.lucene.store.MockDirectoryWrapper.addFileHandle(MockDirectoryWrapper.java:479)\\n\\tat org.apache.lucene.store.MockDirectoryWrapper.openInput(MockDirectoryWrapper.java:504)\\n\\tat org.apache.lucene.codecs.lucene3x.Lucene3xTermVectorsReader.&lt;init&gt;(Lucene3xTermVectorsReader.java:137)\\n\\tat org.apache.lucene.codecs.lucene3x.PreFlexRWTermVectorsFormat$1.&lt;init&gt;(PreFlexRWTermVectorsFormat.java:39)\\n\\tat org.apache.lucene.codecs.lucene3x.PreFlexRWTermVectorsFormat.vectorsReader(PreFlexRWTermVectorsFormat.java:39)\\n\\tat org.apache.lucene.index.SegmentCoreReaders.&lt;init&gt;(SegmentCoreReaders.java:119)\\n\\tat org.apache.lucene.index.SegmentReader.&lt;init&gt;(SegmentReader.java:51)\\n\\tat org.apache.lucene.index.IndexWriter$ReadersAndLiveDocs.getMergeReader(IndexWriter.java:521)\\n\\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:3591)\\n\\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3261)\\n\\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:382)\\n\\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:451)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eUwe, this just calls for your German analytic mind to solve \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13225088_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225088_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 08:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T08:49:55+0000\'\u003e08\\/Mar\\/12 08:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Dawid Weiss - 08\\/Mar\\/12 08:50\\\"\u003eedited\u003c\\/span\u003e                   This is definitely a race between ConcurrentMergeScheduler and the thread calling close. Everything else seems to stem from this problem. For example this one: \\n\\n  \\n java.lang.RuntimeException: MockDirectoryWrapper: cannot close: there are still open files: {_dc.tvx=1, _dc.tvf=1, _dc.tvd=1, _dc.fdx=1, _dc.fdt=1, _dc.frq=1, _dc.tis=1}\\n\\tat org.apache.lucene.store.MockDirectoryWrapper.close(MockDirectoryWrapper.java:555)\\n\\tat org.apache.lucene.index.TestStressNRT.test(TestStressNRT.java:385)\\n \\n  \\n has an underlying open file handle stack: \\n  \\n Caused by: java.lang.RuntimeException: unclosed IndexInput: _dc.tvf\\n\\tat org.apache.lucene.store.MockDirectoryWrapper.addFileHandle(MockDirectoryWrapper.java:479)\\n\\tat org.apache.lucene.store.MockDirectoryWrapper.openInput(MockDirectoryWrapper.java:504)\\n\\tat org.apache.lucene.codecs.lucene3x.Lucene3xTermVectorsReader.&lt;init&gt;(Lucene3xTermVectorsReader.java:137)\\n\\tat org.apache.lucene.codecs.lucene3x.PreFlexRWTermVectorsFormat$1.&lt;init&gt;(PreFlexRWTermVectorsFormat.java:39)\\n\\tat org.apache.lucene.codecs.lucene3x.PreFlexRWTermVectorsFormat.vectorsReader(PreFlexRWTermVectorsFormat.java:39)\\n\\tat org.apache.lucene.index.SegmentCoreReaders.&lt;init&gt;(SegmentCoreReaders.java:119)\\n\\tat org.apache.lucene.index.SegmentReader.&lt;init&gt;(SegmentReader.java:51)\\n\\tat org.apache.lucene.index.IndexWriter$ReadersAndLiveDocs.getMergeReader(IndexWriter.java:521)\\n\\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:3591)\\n\\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3261)\\n\\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:382)\\n\\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:451)\\n \\n  \\n\\n Uwe, this just calls for your German analytic mind to solve                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13225134\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13225134&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13225134\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_13225134_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225134_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 11:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T11:09:45+0000\'\u003e08\\/Mar\\/12 11:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI can \u003cspan class=\\\"error\\\"\u003e&#91;eventually&#93;\u003c\\/span\u003e reproduce the failure too, if I beast the test...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_13225134_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225134_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 11:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T11:09:45+0000\'\u003e08\\/Mar\\/12 11:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I can  &#91;eventually&#93;  reproduce the failure too, if I beast the test...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13225136\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13225136&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13225136\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13225136_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225136_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 11:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T11:12:47+0000\'\u003e08\\/Mar\\/12 11:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think you can try to run a few threads in the background doing just while (true);. I have a slower computer 2-core computer and this happens there most often.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13225136_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225136_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 11:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T11:12:47+0000\'\u003e08\\/Mar\\/12 11:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I think you can try to run a few threads in the background doing just while (true);. I have a slower computer 2-core computer and this happens there most often.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13225229\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13225229&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13225229\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_13225229_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225229_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 14:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T14:45:07+0000\'\u003e08\\/Mar\\/12 14:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHmm... compounding problems here is that, somehow, an exception is occurring in a CMS merge thread, yet is never reported by the test runner.  I hit a fail, and only got this:\u003c\\/p\u003e\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e    [junit] ------------- Standard Error -----------------\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: test params are: codec=Lucene3x, sim=RandomSimilarityProvider(queryNorm=true,coord=false): {}, locale=ro, timezone=Australia\\/LHI\\n    [junit] NOTE: all tests run in this JVM:\\n    [junit] [TestStressNRT]\\n    [junit] NOTE: Linux 2.6.33.6-147.fc13.x86_64 amd64\\/Sun Microsystems Inc. 1.6.0_21 (64-bit)\\/cpus=24,threads=1,free=257856112,total=285933568\\n    [junit] ------------- ---------------- ---------------\\n    [junit] Testcase: test(org.apache.lucene.index.TestStressNRT):\\tFAILED\\n    [junit] info=_fu(4.0):C11\\/1 isn\'t live\\n    [junit] junit.framework.AssertionFailedError: info=_fu(4.0):C11\\/1 isn\'t live\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:164)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:57)\\n    [junit] \\tat org.apache.lucene.util.StoreClassNameRule$1.evaluate(StoreClassNameRule.java:21)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter$ReaderPool.infoIsLive(IndexWriter.java:663)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter$ReaderPool.dropAll(IndexWriter.java:717)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.closeInternal(IndexWriter.java:1137)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.close(IndexWriter.java:1069)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.close(IndexWriter.java:1033)\\n    [junit] \\tat org.apache.lucene.index.RandomIndexWriter.close(RandomIndexWriter.java:408)\\n    [junit] \\tat org.apache.lucene.index.TestStressNRT.test(TestStressNRT.java:386)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$SubclassSetupTeardownRule$1.evaluate(LuceneTestCase.java:743)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$InternalSetupTeardownRule$1.evaluate(LuceneTestCase.java:639)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$TestResultInterceptorRule$1.evaluate(LuceneTestCase.java:538)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$RememberThreadRule$1.evaluate(LuceneTestCase.java:600)\\n    [junit] \\n    [junit] \\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eI also separately added a SOP to ConcurrentMergeScheduler.handleMergeException and we are calling that... yet something is not then reporting this exception.\u003c\\/p\u003e\\n\\n\u003cp\u003eHowever: I made a silly small test case that spawns a thread that throws an exception from its run method, and when I run that indeed I see the \\\"unhandled exception from thread\\\".  So I\'m not sure why exceptions in CMS threads in particular are not being reported...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_13225229_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225229_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 14:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T14:45:07+0000\'\u003e08\\/Mar\\/12 14:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hmm... compounding problems here is that, somehow, an exception is occurring in a CMS merge thread, yet is never reported by the test runner.  I hit a fail, and only got this: \\n  \\n     [junit] ------------- Standard Error -----------------\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: test params are: codec=Lucene3x, sim=RandomSimilarityProvider(queryNorm=true,coord=false): {}, locale=ro, timezone=Australia\\/LHI\\n    [junit] NOTE: all tests run in this JVM:\\n    [junit] [TestStressNRT]\\n    [junit] NOTE: Linux 2.6.33.6-147.fc13.x86_64 amd64\\/Sun Microsystems Inc. 1.6.0_21 (64-bit)\\/cpus=24,threads=1,free=257856112,total=285933568\\n    [junit] ------------- ---------------- ---------------\\n    [junit] Testcase: test(org.apache.lucene.index.TestStressNRT):\\tFAILED\\n    [junit] info=_fu(4.0):C11\\/1 isn\'t live\\n    [junit] junit.framework.AssertionFailedError: info=_fu(4.0):C11\\/1 isn\'t live\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:164)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:57)\\n    [junit] \\tat org.apache.lucene.util.StoreClassNameRule$1.evaluate(StoreClassNameRule.java:21)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter$ReaderPool.infoIsLive(IndexWriter.java:663)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter$ReaderPool.dropAll(IndexWriter.java:717)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.closeInternal(IndexWriter.java:1137)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.close(IndexWriter.java:1069)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.close(IndexWriter.java:1033)\\n    [junit] \\tat org.apache.lucene.index.RandomIndexWriter.close(RandomIndexWriter.java:408)\\n    [junit] \\tat org.apache.lucene.index.TestStressNRT.test(TestStressNRT.java:386)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$SubclassSetupTeardownRule$1.evaluate(LuceneTestCase.java:743)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$InternalSetupTeardownRule$1.evaluate(LuceneTestCase.java:639)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$TestResultInterceptorRule$1.evaluate(LuceneTestCase.java:538)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$RememberThreadRule$1.evaluate(LuceneTestCase.java:600)\\n    [junit] \\n    [junit] \\n \\n  \\n\\n I also separately added a SOP to ConcurrentMergeScheduler.handleMergeException and we are calling that... yet something is not then reporting this exception. \\n\\n However: I made a silly small test case that spawns a thread that throws an exception from its run method, and when I run that indeed I see the \\\"unhandled exception from thread\\\".  So I\'m not sure why exceptions in CMS threads in particular are not being reported...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13225241\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13225241&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13225241\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13225241_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225241_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 15:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T15:04:46+0000\'\u003e08\\/Mar\\/12 15:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'ll fix this, Mike.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13225241_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225241_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 15:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T15:04:46+0000\'\u003e08\\/Mar\\/12 15:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'ll fix this, Mike.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13225242\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13225242&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13225242\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13225242_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225242_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 15:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T15:05:08+0000\'\u003e08\\/Mar\\/12 15:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAnd by \\\"this\\\" I mean \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-3857\\\" title=\\\"exceptions from other threads in beforeclass\\/etc do not fail the test\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-3857\\\"\u003e\u003cdel\u003eLUCENE-3857\u003c\\/del\u003e\u003c\\/a\u003e.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13225242_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225242_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 15:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T15:05:08+0000\'\u003e08\\/Mar\\/12 15:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    And by \\\"this\\\" I mean   LUCENE-3857  .              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13225250\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13225250&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13225250\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_13225250_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225250_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 15:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T15:13:13+0000\'\u003e08\\/Mar\\/12 15:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Dawid!  I\'m not sure \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-3857\\\" title=\\\"exceptions from other threads in beforeclass\\/etc do not fail the test\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-3857\\\"\u003e\u003cdel\u003eLUCENE-3857\u003c\\/del\u003e\u003c\\/a\u003e is what I\'m hitting (this test doesn\'t have a @beforeClass).\u003c\\/p\u003e\\n\\n\u003cp\u003eOne more piece of data: sometimes the CMS exception \u003cb\u003eis\u003c\\/b\u003e printed in the \\\"unhandled exceptions\\\" output... so it\'s somehow intermittant.  Hmm, it could be... the main thread threw its exc before CMS thread did?  Odd, though, because IW closes CMS first (which should join to all outstanding threads), before hitting the exc in main thread.  Still baffled...\u003c\\/p\u003e\\n\\n\u003cp\u003eAnyway it\'s not a blocker for me... I\'m printing the exc in CMS.handleExc.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_13225250_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225250_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 15:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T15:13:13+0000\'\u003e08\\/Mar\\/12 15:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks Dawid!  I\'m not sure   LUCENE-3857   is what I\'m hitting (this test doesn\'t have a @beforeClass). \\n\\n One more piece of data: sometimes the CMS exception  is  printed in the \\\"unhandled exceptions\\\" output... so it\'s somehow intermittant.  Hmm, it could be... the main thread threw its exc before CMS thread did?  Odd, though, because IW closes CMS first (which should join to all outstanding threads), before hitting the exc in main thread.  Still baffled... \\n\\n Anyway it\'s not a blocker for me... I\'m printing the exc in CMS.handleExc.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13225265\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13225265&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13225265\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13225265_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225265_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 15:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T15:36:05+0000\'\u003e08\\/Mar\\/12 15:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eI\'m not sure \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-3857\\\" title=\\\"exceptions from other threads in beforeclass\\/etc do not fail the test\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-3857\\\"\u003e\u003cdel\u003eLUCENE-3857\u003c\\/del\u003e\u003c\\/a\u003e is what I\'m hitting (this test doesn\'t have a @beforeClass).\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eNo, I don\'t think it is. But I\'ll fix that issue anyway.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eOne more piece of data: sometimes the CMS exception is printed in the \\\"unhandled exceptions\\\" output... so it\'s somehow intermittant.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eThis is really messy in the current LTC. I\'ll try to do something about it.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13225265_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225265_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 15:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T15:36:05+0000\'\u003e08\\/Mar\\/12 15:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     I\'m not sure   LUCENE-3857   is what I\'m hitting (this test doesn\'t have a @beforeClass).  \\n\\n No, I don\'t think it is. But I\'ll fix that issue anyway. \\n\\n  One more piece of data: sometimes the CMS exception is printed in the \\\"unhandled exceptions\\\" output... so it\'s somehow intermittant.  \\n\\n This is really messy in the current LTC. I\'ll try to do something about it.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13225416\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13225416&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13225416\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13225416_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225416_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 19:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T19:15:11+0000\'\u003e08\\/Mar\\/12 19:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eattached file was generated using trunk r1298470 with the command...\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eX=0; while ant test-core -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"; do X=$(($X+1)); echo \\\"Finished Loop $X\\\"; done; echo \\\"TOTAL LOOPS: $X\\\"\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003ethe failure occured on loop #52\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003ejunit-sequential:\\n    [junit] Testsuite: org.apache.lucene.index.TestStressNRT\\n    [junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 5.082 sec\\n    [junit] \\n    [junit] ------------- Standard Error -----------------\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: test params are: codec=Lucene3x, sim=RandomSimilarityProvider(queryNorm=true,coord=false): {}, locale=ro, timezone=Asia\\/Thimphu\\n    [junit] NOTE: all tests run in this JVM:\\n    [junit] [TestStressNRT]\\n    [junit] NOTE: Linux 2.6.31-23-generic amd64\\/Sun Microsystems Inc. 1.6.0_24 (64-bit)\\/cpus=2,threads=1,free=192293192,total=256966656\\n    [junit] ------------- ---------------- ---------------\\n    [junit] Testcase: test(org.apache.lucene.index.TestStressNRT):\\tCaused an ERROR\\n    [junit] MockDirectoryWrapper: cannot close: there are still open files: {_47.frq=1, _47.tis=1, _47.fdx=1, _47.fdt=1}\\n    [junit] java.lang.RuntimeException: MockDirectoryWrapper: cannot close: there are still open files: {_47.frq=1, _47.tis=1, _47.fdx=1, _47.fdt=1}\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper.close(MockDirectoryWrapper.java:555)\\n    [junit] \\tat org.apache.lucene.index.TestStressNRT.test(TestStressNRT.java:385)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$SubclassSetupTeardownRule$1.evaluate(LuceneTestCase.java:743)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$InternalSetupTeardownRule$1.evaluate(LuceneTestCase.java:639)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$TestResultInterceptorRule$1.evaluate(LuceneTestCase.java:538)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$RememberThreadRule$1.evaluate(LuceneTestCase.java:600)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:164)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:57)\\n    [junit] \\tat org.apache.lucene.util.StoreClassNameRule$1.evaluate(StoreClassNameRule.java:21)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] Caused by: java.lang.RuntimeException: unclosed IndexInput: _47.tis\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper.addFileHandle(MockDirectoryWrapper.java:479)\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper.openInput(MockDirectoryWrapper.java:504)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.TermInfosReader.&lt;init&gt;(TermInfosReader.java:112)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.Lucene3xFields.&lt;init&gt;(Lucene3xFields.java:84)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.PreFlexRWPostingsFormat$1.&lt;init&gt;(PreFlexRWPostingsFormat.java:51)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.PreFlexRWPostingsFormat.fieldsProducer(PreFlexRWPostingsFormat.java:51)\\n    [junit] \\tat org.apache.lucene.index.SegmentCoreReaders.&lt;init&gt;(SegmentCoreReaders.java:108)\\n    [junit] \\tat org.apache.lucene.index.SegmentReader.&lt;init&gt;(SegmentReader.java:51)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter$ReadersAndLiveDocs.getMergeReader(IndexWriter.java:521)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:3587)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3257)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:382)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:451)\\n    [junit] \\n    [junit] \\n    [junit] Test org.apache.lucene.index.TestStressNRT FAILED\\n\\nBUILD FAILED\\n\\/home\\/hossman\\/lucene\\/dev\\/lucene\\/build.xml:43: The following error occurred while executing this line:\\n\\/home\\/hossman\\/lucene\\/dev\\/lucene\\/common-build.xml:688: The following error occurred while executing this line:\\n\\/home\\/hossman\\/lucene\\/dev\\/lucene\\/common-build.xml:677: Tests failed!\\n\\nTotal time: 8 seconds\\nTOTAL LOOPS: 52\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13225416_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225416_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 19:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T19:15:11+0000\'\u003e08\\/Mar\\/12 19:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    attached file was generated using trunk r1298470 with the command... \\n\\n  \\n X=0; while ant test-core -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"; do X=$(($X+1)); echo \\\"Finished Loop $X\\\"; done; echo \\\"TOTAL LOOPS: $X\\\"\\n \\n  \\n\\n the failure occured on loop #52 \\n\\n  \\n junit-sequential:\\n    [junit] Testsuite: org.apache.lucene.index.TestStressNRT\\n    [junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 5.082 sec\\n    [junit] \\n    [junit] ------------- Standard Error -----------------\\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestStressNRT -Dtestmethod=test -Dtests.seed=69468941c1bbf693:19e66d58475da929:69e9d2f81769b6d0 -Dargs=\\\"-Dfile.encoding=UTF-8\\\"\\n    [junit] NOTE: test params are: codec=Lucene3x, sim=RandomSimilarityProvider(queryNorm=true,coord=false): {}, locale=ro, timezone=Asia\\/Thimphu\\n    [junit] NOTE: all tests run in this JVM:\\n    [junit] [TestStressNRT]\\n    [junit] NOTE: Linux 2.6.31-23-generic amd64\\/Sun Microsystems Inc. 1.6.0_24 (64-bit)\\/cpus=2,threads=1,free=192293192,total=256966656\\n    [junit] ------------- ---------------- ---------------\\n    [junit] Testcase: test(org.apache.lucene.index.TestStressNRT):\\tCaused an ERROR\\n    [junit] MockDirectoryWrapper: cannot close: there are still open files: {_47.frq=1, _47.tis=1, _47.fdx=1, _47.fdt=1}\\n    [junit] java.lang.RuntimeException: MockDirectoryWrapper: cannot close: there are still open files: {_47.frq=1, _47.tis=1, _47.fdx=1, _47.fdt=1}\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper.close(MockDirectoryWrapper.java:555)\\n    [junit] \\tat org.apache.lucene.index.TestStressNRT.test(TestStressNRT.java:385)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$SubclassSetupTeardownRule$1.evaluate(LuceneTestCase.java:743)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$InternalSetupTeardownRule$1.evaluate(LuceneTestCase.java:639)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$TestResultInterceptorRule$1.evaluate(LuceneTestCase.java:538)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCase$RememberThreadRule$1.evaluate(LuceneTestCase.java:600)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:164)\\n    [junit] \\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:57)\\n    [junit] \\tat org.apache.lucene.util.StoreClassNameRule$1.evaluate(StoreClassNameRule.java:21)\\n    [junit] \\tat org.apache.lucene.util.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:22)\\n    [junit] Caused by: java.lang.RuntimeException: unclosed IndexInput: _47.tis\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper.addFileHandle(MockDirectoryWrapper.java:479)\\n    [junit] \\tat org.apache.lucene.store.MockDirectoryWrapper.openInput(MockDirectoryWrapper.java:504)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.TermInfosReader.&lt;init&gt;(TermInfosReader.java:112)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.Lucene3xFields.&lt;init&gt;(Lucene3xFields.java:84)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.PreFlexRWPostingsFormat$1.&lt;init&gt;(PreFlexRWPostingsFormat.java:51)\\n    [junit] \\tat org.apache.lucene.codecs.lucene3x.PreFlexRWPostingsFormat.fieldsProducer(PreFlexRWPostingsFormat.java:51)\\n    [junit] \\tat org.apache.lucene.index.SegmentCoreReaders.&lt;init&gt;(SegmentCoreReaders.java:108)\\n    [junit] \\tat org.apache.lucene.index.SegmentReader.&lt;init&gt;(SegmentReader.java:51)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter$ReadersAndLiveDocs.getMergeReader(IndexWriter.java:521)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:3587)\\n    [junit] \\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3257)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:382)\\n    [junit] \\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:451)\\n    [junit] \\n    [junit] \\n    [junit] Test org.apache.lucene.index.TestStressNRT FAILED\\n\\nBUILD FAILED\\n\\/home\\/hossman\\/lucene\\/dev\\/lucene\\/build.xml:43: The following error occurred while executing this line:\\n\\/home\\/hossman\\/lucene\\/dev\\/lucene\\/common-build.xml:688: The following error occurred while executing this line:\\n\\/home\\/hossman\\/lucene\\/dev\\/lucene\\/common-build.xml:677: Tests failed!\\n\\nTotal time: 8 seconds\\nTOTAL LOOPS: 52\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13225517\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13225517&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13225517\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13225517_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225517_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 21:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T21:11:01+0000\'\u003e08\\/Mar\\/12 21:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMike, would it help if we dumped a linear sequence of each thread\'s ops on indexwriter\\/ segmentinfos, whatever else? If you can tell me which classes and methods would be of interest then I can provide such dumps with relative ease (using an aspect or even hardcoded printlns).\u003c\\/p\u003e\\n\\n\u003cp\u003eAlternatively, can you express certain assertions that should always hold wrt multi-threaded access? I mean something that I could try to weave into the code so that we can catch an abnormal interaction pattern while it\'s happening (as opposed just seing the result)?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13225517_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13225517_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Mar\\/12 21:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-08T21:11:01+0000\'\u003e08\\/Mar\\/12 21:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Mike, would it help if we dumped a linear sequence of each thread\'s ops on indexwriter\\/ segmentinfos, whatever else? If you can tell me which classes and methods would be of interest then I can provide such dumps with relative ease (using an aspect or even hardcoded printlns). \\n\\n Alternatively, can you express certain assertions that should always hold wrt multi-threaded access? I mean something that I could try to weave into the code so that we can catch an abnormal interaction pattern while it\'s happening (as opposed just seing the result)?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13226393\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13226393&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13226393\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_13226393_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13226393_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Mar\\/12 20:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-09T20:11:11+0000\'\u003e09\\/Mar\\/12 20:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eMike, would it help if we dumped a linear sequence of each thread\'s ops on indexwriter\\/ segmentinfos, whatever else?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eThanks Dawid!\u003c\\/p\u003e\\n\\n\u003cp\u003eI actually know the root cause here:\u003c\\/p\u003e\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eUncaught exception by thread: Thread[Lucene Merge Thread #72,6,main]\\norg.apache.lucene.index.MergePolicy$MergeException: java.lang.AssertionError\\n\\tat org.apache.lucene.index.ConcurrentMergeScheduler.handleMergeException(ConcurrentMergeScheduler.java:509)\\n\\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:480)\\nCaused by: java.lang.AssertionError\\n\\tat org.apache.lucene.index.IndexWriter.commitMergedDeletes(IndexWriter.java:3028)\\n\\tat org.apache.lucene.index.IndexWriter.commitMerge(IndexWriter.java:3137)\\n\\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:3718)\\n\\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3257)\\n\\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:382)\\n\\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:451)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eAfter that assert trips all kinds of crazy other exceptions can happen (not-closed files, not-live SegmentInfo, etc.).\u003c\\/p\u003e\\n\\n\u003cp\u003eAfter the merge finishes, which can take a long time, in commitMergedDeletes we revisit each segment so we can \\\"carry forward\\\" any new deletions recorded against that segment, to the newly merged segment.  In an active NRT app there can be many deletes to carry forward...\u003c\\/p\u003e\\n\\n\u003cp\u003eThat tripped assert was to verify the ReadersAndLiveDocs (RLD) was still present in IW\'s ReaderPool; it\'s supposed to remain present throughout merging because we had incRef\'d the SegmentReader we opened for merging.\u003c\\/p\u003e\\n\\n\u003cp\u003eBut, it can in fact be dropped (the bug here) by another thread opening a reader and applying deletes and decRef\'ing the reader all after the merge thread 1) acquired the RLD but 2) before it opened the mergeReader from it.\u003c\\/p\u003e\\n\\n\u003cp\u003eI (accidentally!!) caused this with \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-3631\\\" title=\\\"Remove write access from SegmentReader and possibly move to separate class or IndexWriter\\/BufferedDeletes\\/...\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-3631\\\"\u003e\u003cdel\u003eLUCENE-3631\u003c\\/del\u003e\u003c\\/a\u003e, where we moved writeable deletes from SegmentReader into IndexWriter.  I suspect we need to add a separate refCount to RLD to fix this... I\'m working on that.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_13226393_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13226393_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Mar\\/12 20:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-09T20:11:11+0000\'\u003e09\\/Mar\\/12 20:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Mike, would it help if we dumped a linear sequence of each thread\'s ops on indexwriter\\/ segmentinfos, whatever else?  \\n\\n Thanks Dawid! \\n\\n I actually know the root cause here: \\n  \\n Uncaught exception by thread: Thread[Lucene Merge Thread #72,6,main]\\norg.apache.lucene.index.MergePolicy$MergeException: java.lang.AssertionError\\n\\tat org.apache.lucene.index.ConcurrentMergeScheduler.handleMergeException(ConcurrentMergeScheduler.java:509)\\n\\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:480)\\nCaused by: java.lang.AssertionError\\n\\tat org.apache.lucene.index.IndexWriter.commitMergedDeletes(IndexWriter.java:3028)\\n\\tat org.apache.lucene.index.IndexWriter.commitMerge(IndexWriter.java:3137)\\n\\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:3718)\\n\\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3257)\\n\\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:382)\\n\\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:451)\\n \\n  \\n\\n After that assert trips all kinds of crazy other exceptions can happen (not-closed files, not-live SegmentInfo, etc.). \\n\\n After the merge finishes, which can take a long time, in commitMergedDeletes we revisit each segment so we can \\\"carry forward\\\" any new deletions recorded against that segment, to the newly merged segment.  In an active NRT app there can be many deletes to carry forward... \\n\\n That tripped assert was to verify the ReadersAndLiveDocs (RLD) was still present in IW\'s ReaderPool; it\'s supposed to remain present throughout merging because we had incRef\'d the SegmentReader we opened for merging. \\n\\n But, it can in fact be dropped (the bug here) by another thread opening a reader and applying deletes and decRef\'ing the reader all after the merge thread 1) acquired the RLD but 2) before it opened the mergeReader from it. \\n\\n I (accidentally!!) caused this with   LUCENE-3631  , where we moved writeable deletes from SegmentReader into IndexWriter.  I suspect we need to add a separate refCount to RLD to fix this... I\'m working on that.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13227045\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13227045&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13227045\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_13227045_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13227045_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Mar\\/12 13:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-11T13:29:48+0000\'\u003e11\\/Mar\\/12 13:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePatch, fixing the issue.  I think it\'s ready...\u003c\\/p\u003e\\n\\n\u003cp\u003eBasically I added a refCount to ReadersAndLiveDocs, and\u003cbr\\/\u003e\\nincRef\\/decRef\'d in the right places.  I also pulled out\u003cbr\\/\u003e\\nReadersAndLiveDocs to its own source, and tried to simplify\u003cbr\\/\u003e\\nit a bit (separate method calls to dropChanges,\u003cbr\\/\u003e\\ndrop, release).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikemccand\\\" id=\\\"commentauthor_13227045_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikemccand\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikemccand\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Michael McCandless\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13227045_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Mar\\/12 13:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-11T13:29:48+0000\'\u003e11\\/Mar\\/12 13:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Patch, fixing the issue.  I think it\'s ready... \\n\\n Basically I added a refCount to ReadersAndLiveDocs, and \\nincRef\\/decRef\'d in the right places.  I also pulled out \\nReadersAndLiveDocs to its own source, and tried to simplify \\nit a bit (separate method calls to dropChanges, \\ndrop, release).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13227058\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13227058&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13227058\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rcmuir\\\" id=\\\"commentauthor_13227058_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rcmuir\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rcmuir\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Robert Muir\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13227058_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Mar\\/12 14:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-11T14:40:23+0000\'\u003e11\\/Mar\\/12 14:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\\n\u003cp\u003eI also pulled out\u003cbr\\/\u003e\\nReadersAndLiveDocs to its own source\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003e+1\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rcmuir\\\" id=\\\"commentauthor_13227058_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rcmuir\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rcmuir\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Robert Muir\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13227058_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Mar\\/12 14:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-11T14:40:23+0000\'\u003e11\\/Mar\\/12 14:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    \\n I also pulled out \\nReadersAndLiveDocs to its own source  \\n\\n +1              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13227358\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-3855?focusedCommentId=13227358&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13227358\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13227358_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13227358_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Mar\\/12 08:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-12T08:02:58+0000\'\u003e12\\/Mar\\/12 08:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'m no longer able to reproduce this with the patch applied. I think this should be committed in as soon as possible?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dweiss\\\" id=\\\"commentauthor_13227358_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13227358_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Mar\\/12 08:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-12T08:02:58+0000\'\u003e12\\/Mar\\/12 08:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'m no longer able to reproduce this with the patch applied. I think this should be committed in as soon as possible?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310110";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/LUCENE\\/summary\\\" title=\\\"Lucene - Core\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310110&amp;avatarId=10061\\\" alt=\\\"Lucene - Core\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/LUCENE\\/summary\\\" title=\\\"Lucene - Core\\\"\u003eLucene - Core\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/LUCENE\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/LUCENE?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/LUCENE?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520245016365"> 
    <input type="hidden" title="jira.request.server.time" value="176"> 
    <input type="hidden" title="jira.request.id" value="616x94594323x2"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="2"> 
    <input type="hidden" title="db.reads.time.in.ms" value="31"> 
    <input type="hidden" title="db.conns.time.in.ms" value="38"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 616x94594323x2
	          REQUEST TIMESTAMP : [05/Mar/2018:10:16:56 +0000]
	               REQUEST TIME : 0.1760
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 2

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=20, elapsedTotal=31560025, elapsedMin=747443, elapsedMax=10947128, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=24, elapsedTotal=38177604, elapsedMin=785012, elapsedMax=10985483, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>