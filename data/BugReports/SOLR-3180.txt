<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|b2c490874192d4fd639c54f19360b487436b1b93|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"b7a6ed12ec6022\"";
WRM._unparsedData["project-id"]="12310230";
WRM._unparsedData["project-key"]="\"SOLR\"";
WRM._unparsedData["project-name"]="\"Solr\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310230";
WRM._unparsedData["projectKey"]="\"SOLR\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="SOLR-3180"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[SOLR-3180] ChaosMonkey test failures - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[SOLR-3180] ChaosMonkey test failures - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/SOLR" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-3180">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310230" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Solr'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310230&amp;avatarId=22151"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/SOLR">Solr</a></li>
                 <li><a class="issue-link" data-issue-key="SOLR-3180" href="/jira/browse/SOLR-3180" id="key-val" rel="12544625">SOLR-3180</a></li>
                </ol>
                <h1 id="summary-val">ChaosMonkey test failures</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-3180"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/SOLR-3180/SOLR-3180.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/SOLR-3180/SOLR-3180.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/SOLR-3180/SOLR-3180.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/SOLR-3180/SOLR-3180.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Resolved</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.</span>">Resolved</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> None </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+4.4" title="4.4 Major release after 4.3">4.4</a>, <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+6.0" title="6.0 First 6.x release, Major release after 5.5">6.0</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+component+%3D+SolrCloud" title="SolrCloud ">SolrCloud</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12544625-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>Handle intermittent failures in the ChaosMonkey tests.</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/SOLR-3180?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/SOLR-3180?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/SOLR-3180?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/SOLR-3180?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12562700" data-issue-id="12544625" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12562700/CMSL_fail1.log" draggable="true" data-downloadurl="text/plain:CMSL_fail1.log:https://issues.apache.org/jira/secure/attachment/12562700/CMSL_fail1.log"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12562700/CMSL_fail1.log" title="Latest  29/Dec/12 23:34 - Yonik Seeley" draggable="true" data-downloadurl="text/plain:CMSL_fail1.log:https://issues.apache.org/jira/secure/attachment/12562700/CMSL_fail1.log">CMSL_fail1.log</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-12-29T23:34:13.656Z">29/Dec/12 23:34</time>
                   </dd>
                   <dd class="attachment-size">
                    4.05 MB
                   </dd>
                   <dd class="attachment-author">
                    Yonik Seeley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12562687" data-issue-id="12544625" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12562687/CMSL_hang_2.txt" draggable="true" data-downloadurl="text/plain:CMSL_hang_2.txt:https://issues.apache.org/jira/secure/attachment/12562687/CMSL_hang_2.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12562687/CMSL_hang_2.txt" title="Latest  29/Dec/12 18:33 - Yonik Seeley" draggable="true" data-downloadurl="text/plain:CMSL_hang_2.txt:https://issues.apache.org/jira/secure/attachment/12562687/CMSL_hang_2.txt">CMSL_hang_2.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-12-29T18:33:41.037Z">29/Dec/12 18:33</time>
                   </dd>
                   <dd class="attachment-size">
                    132 kB
                   </dd>
                   <dd class="attachment-author">
                    Yonik Seeley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12562590" data-issue-id="12544625" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12562590/CMSL_hang.txt" draggable="true" data-downloadurl="text/plain:CMSL_hang.txt:https://issues.apache.org/jira/secure/attachment/12562590/CMSL_hang.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12562590/CMSL_hang.txt" title="Latest  28/Dec/12 17:32 - Yonik Seeley" draggable="true" data-downloadurl="text/plain:CMSL_hang.txt:https://issues.apache.org/jira/secure/attachment/12562590/CMSL_hang.txt">CMSL_hang.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-12-28T17:32:59.183Z">28/Dec/12 17:32</time>
                   </dd>
                   <dd class="attachment-size">
                    129 kB
                   </dd>
                   <dd class="attachment-author">
                    Yonik Seeley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12562852" data-issue-id="12544625" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12562852/fail.130101_034142.txt" draggable="true" data-downloadurl="text/plain:fail.130101_034142.txt:https://issues.apache.org/jira/secure/attachment/12562852/fail.130101_034142.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12562852/fail.130101_034142.txt" title="Latest  01/Jan/13 18:15 - Yonik Seeley" draggable="true" data-downloadurl="text/plain:fail.130101_034142.txt:https://issues.apache.org/jira/secure/attachment/12562852/fail.130101_034142.txt">fail.130101_034142.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2013-01-01T18:15:59.143Z">01/Jan/13 18:15</time>
                   </dd>
                   <dd class="attachment-size">
                    4.54 MB
                   </dd>
                   <dd class="attachment-author">
                    Yonik Seeley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12562926" data-issue-id="12544625" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12562926/fail.130102_020942.txt" draggable="true" data-downloadurl="text/plain:fail.130102_020942.txt:https://issues.apache.org/jira/secure/attachment/12562926/fail.130102_020942.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12562926/fail.130102_020942.txt" title="Latest  02/Jan/13 17:12 - Yonik Seeley" draggable="true" data-downloadurl="text/plain:fail.130102_020942.txt:https://issues.apache.org/jira/secure/attachment/12562926/fail.130102_020942.txt">fail.130102_020942.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2013-01-02T17:12:10.760Z">02/Jan/13 17:12</time>
                   </dd>
                   <dd class="attachment-size">
                    7.13 MB
                   </dd>
                   <dd class="attachment-author">
                    Yonik Seeley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12563123" data-issue-id="12544625" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12563123/fail.130103_105104.txt" draggable="true" data-downloadurl="text/plain:fail.130103_105104.txt:https://issues.apache.org/jira/secure/attachment/12563123/fail.130103_105104.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12563123/fail.130103_105104.txt" title="Latest  03/Jan/13 18:31 - Yonik Seeley" draggable="true" data-downloadurl="text/plain:fail.130103_105104.txt:https://issues.apache.org/jira/secure/attachment/12563123/fail.130103_105104.txt">fail.130103_105104.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2013-01-03T18:31:46.015Z">03/Jan/13 18:31</time>
                   </dd>
                   <dd class="attachment-size">
                    9.75 MB
                   </dd>
                   <dd class="attachment-author">
                    Yonik Seeley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12563305" data-issue-id="12544625" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12563305/fail.130103_193722.txt" draggable="true" data-downloadurl="text/plain:fail.130103_193722.txt:https://issues.apache.org/jira/secure/attachment/12563305/fail.130103_193722.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12563305/fail.130103_193722.txt" title="Latest  04/Jan/13 16:06 - Yonik Seeley" draggable="true" data-downloadurl="text/plain:fail.130103_193722.txt:https://issues.apache.org/jira/secure/attachment/12563305/fail.130103_193722.txt">fail.130103_193722.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2013-01-04T16:06:10.896Z">04/Jan/13 16:06</time>
                   </dd>
                   <dd class="attachment-size">
                    8.44 MB
                   </dd>
                   <dd class="attachment-author">
                    Yonik Seeley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12562240" data-issue-id="12544625" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12562240/fail.inconsistent.txt" draggable="true" data-downloadurl="text/plain:fail.inconsistent.txt:https://issues.apache.org/jira/secure/attachment/12562240/fail.inconsistent.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12562240/fail.inconsistent.txt" title="Latest  22/Dec/12 18:45 - Yonik Seeley" draggable="true" data-downloadurl="text/plain:fail.inconsistent.txt:https://issues.apache.org/jira/secure/attachment/12562240/fail.inconsistent.txt">fail.inconsistent.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-12-22T18:45:22.784Z">22/Dec/12 18:45</time>
                   </dd>
                   <dd class="attachment-size">
                    9.58 MB
                   </dd>
                   <dd class="attachment-author">
                    Yonik Seeley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12561410" data-issue-id="12544625" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12561410/test_report_1.txt" draggable="true" data-downloadurl="text/plain:test_report_1.txt:https://issues.apache.org/jira/secure/attachment/12561410/test_report_1.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12561410/test_report_1.txt" title="Latest  18/Dec/12 03:34 - Yonik Seeley" draggable="true" data-downloadurl="text/plain:test_report_1.txt:https://issues.apache.org/jira/secure/attachment/12561410/test_report_1.txt">test_report_1.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-12-18T03:34:47.583Z">18/Dec/12 03:34</time>
                   </dd>
                   <dd class="attachment-size">
                    6.74 MB
                   </dd>
                   <dd class="attachment-author">
                    Yonik Seeley
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is related to">
                   is related to
                  </dt> 
                  <dd id="internal-12625900_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="SOLR-4257: Don't wait for ZK connection to apply replay updates or peersync updates"> <a href="/jira/browse/SOLR-4257" data-issue-key="SOLR-4257" class="issue-link link-title resolution">SOLR-4257</a> <span class="link-summary">Don't wait for ZK connection to apply replay updates or peersync updates</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/minor.svg" width="16" height="16" title="Minor - Minor loss of function, or other problem where easy workaround is present." alt="Minor - Minor loss of function, or other problem where easy workaround is present."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_yseeley@gmail.com" rel="yseeley@gmail.com" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Yonik Seeley&quot;,&quot;emailAddress&quot;:&quot;yseeley@gmail.com&quot;,&quot;username&quot;:&quot;yseeley@gmail.com&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="yseeley@gmail.com"></span></span> Yonik Seeley </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_yseeley@gmail.com" rel="yseeley@gmail.com" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Yonik Seeley&quot;,&quot;emailAddress&quot;:&quot;yseeley@gmail.com&quot;,&quot;username&quot;:&quot;yseeley@gmail.com&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="yseeley@gmail.com"></span></span> Yonik Seeley </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">2</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="29/Feb/12 14:27"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2012-02-29T14:27:11+0000">29/Feb/12 14:27</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="09/May/16 18:54"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2016-05-09T18:54:19+0000">09/May/16 18:54</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="25/Nov/13 01:04"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2013-11-25T01:04:37+0000">25/Nov/13 01:04</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-3180?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-3180?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-3180?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-3180?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-3180?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-3180?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-3180?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-3180?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/SOLR-3180?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-3180?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-3180?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/SOLR-3180?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-13219246\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13219246&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13219246\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13219246_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13219246_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Feb\\/12 14:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-02-29T14:37:55+0000\'\u003e29\\/Feb\\/12 14:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWe\'ve come a long way and the monkey has uncovered a number of bugs that we\'ve fixed and is helping to make a really solid solution.\u003c\\/p\u003e\\n\\n\u003cp\u003eI just uncovered another one having to do with races on shutdown.\u003cbr\\/\u003e\\nWhen we kill the Jetty instance, it can cause an interrupted exception that closes the underlying NIO files under lucene.\u003cbr\\/\u003e\\nIf a commit is happening concurrently then what can happen is that we can end up with more than one unfinished transaction log.\u003c\\/p\u003e\\n\\n\u003cp\u003eWe call preCommit, which move the current tlog to prevTlog.\u003cbr\\/\u003e\\nThe commit fails, but concurrently other updates are coming in and they cause a new tlog to be created.\u003cbr\\/\u003e\\nEven other updates coming in after this point can also succeed since they are simply buffered in memory by the IW. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13219246_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13219246_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Feb\\/12 14:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-02-29T14:37:55+0000\'\u003e29\\/Feb\\/12 14:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    We\'ve come a long way and the monkey has uncovered a number of bugs that we\'ve fixed and is helping to make a really solid solution. \\n\\n I just uncovered another one having to do with races on shutdown. \\nWhen we kill the Jetty instance, it can cause an interrupted exception that closes the underlying NIO files under lucene. \\nIf a commit is happening concurrently then what can happen is that we can end up with more than one unfinished transaction log. \\n\\n We call preCommit, which move the current tlog to prevTlog. \\nThe commit fails, but concurrently other updates are coming in and they cause a new tlog to be created. \\nEven other updates coming in after this point can also succeed since they are simply buffered in memory by the IW.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13221300\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13221300&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13221300\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13221300_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13221300_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Mar\\/12 22:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-02T22:14:40+0000\'\u003e02\\/Mar\\/12 22:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eJust checked in a fix for this as well as a test that recovers from more than one tlog at startup. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13221300_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13221300_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Mar\\/12 22:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-02T22:14:40+0000\'\u003e02\\/Mar\\/12 22:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Just checked in a fix for this as well as a test that recovers from more than one tlog at startup.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13221712\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13221712&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13221712\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13221712_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13221712_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Mar\\/12 22:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-03T22:05:08+0000\'\u003e03\\/Mar\\/12 22:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFailures are \u003cb\u003emuch\u003c\\/b\u003e less frequent, but I still got one after about 7 hours I think.\u003cbr\\/\u003e\\nI saw a commit fail (due to the interrupted exception), but then I later saw the IW.close() succeed (which caused Solr to cap the log file, assuming that everything was in the index).\u003c\\/p\u003e\\n\\n\u003cp\u003eAs a result, I just committed a change to the shutdown code to do an explicit commit.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13221712_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13221712_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Mar\\/12 22:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-03-03T22:05:08+0000\'\u003e03\\/Mar\\/12 22:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Failures are  much  less frequent, but I still got one after about 7 hours I think. \\nI saw a commit fail (due to the interrupted exception), but then I later saw the IW.close() succeed (which caused Solr to cap the log file, assuming that everything was in the index). \\n\\n As a result, I just committed a change to the shutdown code to do an explicit commit.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13534598\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13534598&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13534598\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13534598_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13534598_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/12 03:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-18T03:34:47+0000\'\u003e18\\/Dec\\/12 03:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Yonik Seeley - 18\\/Dec\\/12 03:35\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUnfortunately, the chaos monkey tests have gathered some rust due to not being run regularly.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ve added some instrumentation for one particular type of fail (number of docs mismatch between control and collection) and ran into something peculiar.\u003c\\/p\u003e\\n\\n\u003cp\u003eselected lines from test_report_1.txt\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e6952 T39 oasc.ZkController.register Register shard - core:c\\nollection1 address:http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:60440\\/ij\\/pf shardId:shard1\\n\u003c\\/span\u003e\\n9734 T56 oasc.ZkController.register Register shard - core:c\\nollection1 address:http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:48048\\/ij\\/pf shardId:shard1\\n\u003c\\/span\u003e\\n12184 T71 oasc.ZkController.register Register shard - core:\\ncollection1 address:http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:33264\\/ij\\/pf shardId:shard2\\n\u003c\\/span\u003e\\n59069 T27 C12 P60440 \\/update {wt=javabin&amp;version=2} {add=[50067 (1421643212854919168)]} 0 3\\n\\n89123 T48 C1 P48048 \\/update {wt=javabin&amp;version=2} {add=[50067 (1421643244360433664)]} 0 10\\n\\n89354 T25 C12 P60440 \\/update {wt=javabin&amp;version=2} {delete=[50067 (-1421643244613140480)]} 0 1\\n\\n89364 T47 C1 P48048 \\/update {wt=javabin&amp;version=2} {delete=[50067 (-1421643244618383360)]} 0 6\\n\\n90114 T63 C3 P33264 \\/update {wt=javabin&amp;version=2} {add=[50067]} 0 31041\\n\\n217860 T10 oasc.AbstractFullDistribZkTestBase.checkShardConsistency SEVERE document count mismatch.  control=1460 sum(shards)=1461 cloudClient=1461\\n[junit4:junit4]\\n\\n###### Only in cloudDocList: [{id=50067}]\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eThe only updates we see from the logs for id 50067 are to collection1 (none to the control shard).\u003c\\/p\u003e\\n\\n\u003cp\u003eFurther, grepping for \\\"Register shard\\\" shows that they are all for collection1 and none for the control collection.  Not sure how that\'s possible and only be off by 1, so I\'m probably mis-interpreting the logging somehow...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13534598_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13534598_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/12 03:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-18T03:34:47+0000\'\u003e18\\/Dec\\/12 03:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Yonik Seeley - 18\\/Dec\\/12 03:35\\\"\u003eedited\u003c\\/span\u003e                   Unfortunately, the chaos monkey tests have gathered some rust due to not being run regularly. \\n\\n I\'ve added some instrumentation for one particular type of fail (number of docs mismatch between control and collection) and ran into something peculiar. \\n\\n selected lines from test_report_1.txt \\n  \\n 6952 T39 oasc.ZkController.register Register shard - core:c\\nollection1 address:http: \\/\\/127.0.0.1:60440\\/ij\\/pf shardId:shard1\\n \\n9734 T56 oasc.ZkController.register Register shard - core:c\\nollection1 address:http: \\/\\/127.0.0.1:48048\\/ij\\/pf shardId:shard1\\n \\n12184 T71 oasc.ZkController.register Register shard - core:\\ncollection1 address:http: \\/\\/127.0.0.1:33264\\/ij\\/pf shardId:shard2\\n \\n59069 T27 C12 P60440 \\/update {wt=javabin&amp;version=2} {add=[50067 (1421643212854919168)]} 0 3\\n\\n89123 T48 C1 P48048 \\/update {wt=javabin&amp;version=2} {add=[50067 (1421643244360433664)]} 0 10\\n\\n89354 T25 C12 P60440 \\/update {wt=javabin&amp;version=2} {delete=[50067 (-1421643244613140480)]} 0 1\\n\\n89364 T47 C1 P48048 \\/update {wt=javabin&amp;version=2} {delete=[50067 (-1421643244618383360)]} 0 6\\n\\n90114 T63 C3 P33264 \\/update {wt=javabin&amp;version=2} {add=[50067]} 0 31041\\n\\n217860 T10 oasc.AbstractFullDistribZkTestBase.checkShardConsistency SEVERE document count mismatch.  control=1460 sum(shards)=1461 cloudClient=1461\\n[junit4:junit4]\\n\\n###### Only in cloudDocList: [{id=50067}]\\n \\n  \\n\\n The only updates we see from the logs for id 50067 are to collection1 (none to the control shard). \\n\\n Further, grepping for \\\"Register shard\\\" shows that they are all for collection1 and none for the control collection.  Not sure how that\'s possible and only be off by 1, so I\'m probably mis-interpreting the logging somehow...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13534659\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13534659&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13534659\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13534659_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13534659_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/12 05:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-18T05:28:30+0000\'\u003e18\\/Dec\\/12 05:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;trunk commit&#93;\u003c\\/span\u003e Yonik Seeley\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1423275\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1423275\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3180\\\" title=\\\"ChaosMonkey test failures\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3180\\\"\u003e\u003cdel\u003eSOLR-3180\u003c\\/del\u003e\u003c\\/a\u003e: improve logging\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13534659_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13534659_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/12 05:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-18T05:28:30+0000\'\u003e18\\/Dec\\/12 05:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     &#91;trunk commit&#93;  Yonik Seeley \\n http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1423275  \\n\\n   SOLR-3180  : improve logging              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13534668\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13534668&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13534668\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13534668_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13534668_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/12 05:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-18T05:36:50+0000\'\u003e18\\/Dec\\/12 05:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;branch_4x commit&#93;\u003c\\/span\u003e Yonik Seeley\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1423276\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1423276\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3180\\\" title=\\\"ChaosMonkey test failures\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3180\\\"\u003e\u003cdel\u003eSOLR-3180\u003c\\/del\u003e\u003c\\/a\u003e: improve logging\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13534668_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13534668_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/12 05:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-18T05:36:50+0000\'\u003e18\\/Dec\\/12 05:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     &#91;branch_4x commit&#93;  Yonik Seeley \\n http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1423276  \\n\\n   SOLR-3180  : improve logging              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13535200\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13535200&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13535200\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13535200_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13535200_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/12 19:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-18T19:36:36+0000\'\u003e18\\/Dec\\/12 19:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;trunk commit&#93;\u003c\\/span\u003e Yonik Seeley\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1423591\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1423591\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3180\\\" title=\\\"ChaosMonkey test failures\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3180\\\"\u003e\u003cdel\u003eSOLR-3180\u003c\\/del\u003e\u003c\\/a\u003e: improve logging\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13535200_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13535200_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/12 19:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-18T19:36:36+0000\'\u003e18\\/Dec\\/12 19:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     &#91;trunk commit&#93;  Yonik Seeley \\n http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1423591  \\n\\n   SOLR-3180  : improve logging              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13535215\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13535215&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13535215\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13535215_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13535215_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/12 19:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-18T19:44:45+0000\'\u003e18\\/Dec\\/12 19:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;branch_4x commit&#93;\u003c\\/span\u003e Yonik Seeley\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1423597\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1423597\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3180\\\" title=\\\"ChaosMonkey test failures\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3180\\\"\u003e\u003cdel\u003eSOLR-3180\u003c\\/del\u003e\u003c\\/a\u003e: improve logging\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13535215_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13535215_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/12 19:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-18T19:44:45+0000\'\u003e18\\/Dec\\/12 19:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     &#91;branch_4x commit&#93;  Yonik Seeley \\n http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1423597  \\n\\n   SOLR-3180  : improve logging              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13538876\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13538876&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13538876\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13538876_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13538876_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Dec\\/12 18:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-22T18:45:22+0000\'\u003e22\\/Dec\\/12 18:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUploading fail.inconsistent.txt - I had to truncate the start of the log file to get it under the limit for JIRA.\u003c\\/p\u003e\\n\\n\u003cp\u003eAnalysis:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\\n  2&gt; ASYNC  NEW_CORE C6 name=collection1 org.apache.solr.core.SolrCore@eaecb09 url=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:58270\\/collection1 node=127.0.0.1:58270_ C6_STATE=coll:control_collection core:collection1 props:{shard=shard1, roles=\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e, state=active, core=collection1, collection=control_collection, node_name=127.0.0.1:58270_, base_url=http:\\/\\/127.0.0.1:58270, leader=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e}\\n\u003c\\/span\u003e\\n  2&gt; ASYNC  NEW_CORE C5 name=collection1 org.apache.solr.core.SolrCore@54eeabe8 url=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:37198\\/collection1 node=127.0.0.1:37198_ C5_STATE=coll:collection1 core:collection1 props:{shard=shard3, roles=\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e, state=active, core=collection1, collection=collection1, node_name=127.0.0.1:37198_, base_url=http:\\/\\/127.0.0.1:37198, leader=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e}\\n\u003c\\/span\u003e  2&gt; 25510 T80 C5 P37198 REQ \\/get {distrib=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e&amp;qt=\\/get&amp;wt=javabin&amp;version=2&amp;getVersions=100} status=0 QTime=0 \\n\\n\\n  2&gt; 187637 T669 C21 P39620 oasu.PeerSync.sync PeerSync: core=collection1 url=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:39620 DONE. sync succeeded\\n\u003c\\/span\u003e  2&gt; 188653 T669 C21 P39620 oasc.RecoveryStrategy.doRecovery PeerSync Recovery was successful - registering as Active. core=collection1\\n\\n#\\n# C21 (the replica) is recovering around the same time that the update \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e id:52720 comes in (we only\\n# see when the update finishes below, not when it starts).\\n#\\n\\n# update control finished\\n  2&gt; 187923 T24 C6 P58270 \\/update {wt=javabin&amp;version=2} {add=[52720 (1422073056556220416)]} 0 1\\n# update leader \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e shard3 finished\\n  2&gt; 187927 T77 C5 P37198 \\/update {wt=javabin&amp;version=2} {add=[52720 (1422073056559366144)]} 0 1\\n# these are the only adds \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e id:52720 in the logs...\\n# TODO: verify that there was no replica \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e C5 to forward to?\\n\\n\\n--------------------\\n  2&gt; 225993 T77 C5 P37198 REQ \\/select {tests=checkShardConsistency&amp;q=*:*&amp;distrib=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e&amp;wt=javabin&amp;rows=0&amp;version=2} hits=835 status=0 QTime=1 \\n# Note that C5 is still the leader - \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e means that C21 recovered from it at some point?\\n\\n  2&gt; 225997 T658 C21 P39620 REQ \\/select {tests=checkShardConsistency&amp;q=*:*&amp;distrib=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e&amp;wt=javabin&amp;rows=0&amp;version=2} hits=833 status=0 QTime=1 \\n  2&gt;  live:\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e\\n  2&gt;  num:833\\n  2&gt; \\n  2&gt; ######shard3 is not consistent.  Got 835 from http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:37198\\/collection1lastClient and got 833 from http:\\/\\/127.0.0.1:39620\\/collection1\\n\u003c\\/span\u003e \\n  2&gt; ###### sizes=835,833\\n  2&gt; ###### Only in http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:37198\\/collection1: [{id=52720, _version_=1422073056559366144}, {id=52710, _version_=1422073056325533696}, {id=52717, _version_=1422073056485965825}, {id=2225, _version_=1422073056602357760}, {id=52709, _version_=1422073056298270720}, {id=2226, _version_=1422073056612843520}, {id=2219, _version_=1422073056477577216}, {id=52723, _version_=1422073056605503488}]\\n\u003c\\/span\u003e  2&gt; ###### Only in http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:39620\\/collection1: [{id=52680, _version_=1422073042480136192}, {id=52669, _version_=1422073042276712448}, {id=52676, _version_=1422073042420367360}, {id=2204, _version_=1422073042912149504}, {id=2198, _version_=1422073042778980352}, {id=2207, _version_=1422073053454532608}]\u003c\\/span\u003e\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eSo what looks to be the case is that we came up and did a peersync with the leader and succeeded, but the leader hadn\'t noticed us yet and so didn\'t forward us a new update in the meantime.\u003c\\/p\u003e\\n\\n\u003cp\u003eIf we don\'t already, we need to make sure to do some of the same type of stuff that we do with replication recovery.  The replica needs to ensure that the leader sees it (and hence will forward future updates) before it peersyncs with the leader.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13538876_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13538876_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Dec\\/12 18:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-22T18:45:22+0000\'\u003e22\\/Dec\\/12 18:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Uploading fail.inconsistent.txt - I had to truncate the start of the log file to get it under the limit for JIRA. \\n\\n Analysis: \\n  \\n \\n  2&gt; ASYNC  NEW_CORE C6 name=collection1 org.apache.solr.core.SolrCore@eaecb09 url=http: \\/\\/127.0.0.1:58270\\/collection1 node=127.0.0.1:58270_ C6_STATE=coll:control_collection core:collection1 props:{shard=shard1, roles= null , state=active, core=collection1, collection=control_collection, node_name=127.0.0.1:58270_, base_url=http:\\/\\/127.0.0.1:58270, leader= true }\\n \\n  2&gt; ASYNC  NEW_CORE C5 name=collection1 org.apache.solr.core.SolrCore@54eeabe8 url=http: \\/\\/127.0.0.1:37198\\/collection1 node=127.0.0.1:37198_ C5_STATE=coll:collection1 core:collection1 props:{shard=shard3, roles= null , state=active, core=collection1, collection=collection1, node_name=127.0.0.1:37198_, base_url=http:\\/\\/127.0.0.1:37198, leader= true }\\n   2&gt; 25510 T80 C5 P37198 REQ \\/get {distrib= false &amp;qt=\\/get&amp;wt=javabin&amp;version=2&amp;getVersions=100} status=0 QTime=0 \\n\\n\\n  2&gt; 187637 T669 C21 P39620 oasu.PeerSync.sync PeerSync: core=collection1 url=http: \\/\\/127.0.0.1:39620 DONE. sync succeeded\\n   2&gt; 188653 T669 C21 P39620 oasc.RecoveryStrategy.doRecovery PeerSync Recovery was successful - registering as Active. core=collection1\\n\\n#\\n# C21 (the replica) is recovering around the same time that the update  for  id:52720 comes in (we only\\n# see when the update finishes below, not when it starts).\\n#\\n\\n# update control finished\\n  2&gt; 187923 T24 C6 P58270 \\/update {wt=javabin&amp;version=2} {add=[52720 (1422073056556220416)]} 0 1\\n# update leader  for  shard3 finished\\n  2&gt; 187927 T77 C5 P37198 \\/update {wt=javabin&amp;version=2} {add=[52720 (1422073056559366144)]} 0 1\\n# these are the only adds  for  id:52720 in the logs...\\n# TODO: verify that there was no replica  for  C5 to forward to?\\n\\n\\n--------------------\\n  2&gt; 225993 T77 C5 P37198 REQ \\/select {tests=checkShardConsistency&amp;q=*:*&amp;distrib= false &amp;wt=javabin&amp;rows=0&amp;version=2} hits=835 status=0 QTime=1 \\n# Note that C5 is still the leader -  this  means that C21 recovered from it at some point?\\n\\n  2&gt; 225997 T658 C21 P39620 REQ \\/select {tests=checkShardConsistency&amp;q=*:*&amp;distrib= false &amp;wt=javabin&amp;rows=0&amp;version=2} hits=833 status=0 QTime=1 \\n  2&gt;  live: true \\n  2&gt;  num:833\\n  2&gt; \\n  2&gt; ######shard3 is not consistent.  Got 835 from http: \\/\\/127.0.0.1:37198\\/collection1lastClient and got 833 from http:\\/\\/127.0.0.1:39620\\/collection1\\n  \\n  2&gt; ###### sizes=835,833\\n  2&gt; ###### Only in http: \\/\\/127.0.0.1:37198\\/collection1: [{id=52720, _version_=1422073056559366144}, {id=52710, _version_=1422073056325533696}, {id=52717, _version_=1422073056485965825}, {id=2225, _version_=1422073056602357760}, {id=52709, _version_=1422073056298270720}, {id=2226, _version_=1422073056612843520}, {id=2219, _version_=1422073056477577216}, {id=52723, _version_=1422073056605503488}]\\n   2&gt; ###### Only in http: \\/\\/127.0.0.1:39620\\/collection1: [{id=52680, _version_=1422073042480136192}, {id=52669, _version_=1422073042276712448}, {id=52676, _version_=1422073042420367360}, {id=2204, _version_=1422073042912149504}, {id=2198, _version_=1422073042778980352}, {id=2207, _version_=1422073053454532608}] \\n \\n  \\n\\n So what looks to be the case is that we came up and did a peersync with the leader and succeeded, but the leader hadn\'t noticed us yet and so didn\'t forward us a new update in the meantime. \\n\\n If we don\'t already, we need to make sure to do some of the same type of stuff that we do with replication recovery.  The replica needs to ensure that the leader sees it (and hence will forward future updates) before it peersyncs with the leader.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13538908\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13538908&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13538908\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13538908_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13538908_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Dec\\/12 21:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-22T21:08:22+0000\'\u003e22\\/Dec\\/12 21:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;trunk commit&#93;\u003c\\/span\u003e Mark Robert Miller\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425342\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425342\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3180\\\" title=\\\"ChaosMonkey test failures\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3180\\\"\u003e\u003cdel\u003eSOLR-3180\u003c\\/del\u003e\u003c\\/a\u003e: wait for leader to see our recovering state before peer sync as well\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13538908_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13538908_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Dec\\/12 21:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-22T21:08:22+0000\'\u003e22\\/Dec\\/12 21:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     &#91;trunk commit&#93;  Mark Robert Miller \\n http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425342  \\n\\n   SOLR-3180  : wait for leader to see our recovering state before peer sync as well              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13538909\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13538909&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13538909\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13538909_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13538909_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Dec\\/12 21:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-22T21:10:40+0000\'\u003e22\\/Dec\\/12 21:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'ve got fullmetaljenkins.org on chaos monkey duty: \u003ca href=\\\"http:\\/\\/fullmetaljenkins.org\\/view\\/Chaos\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/fullmetaljenkins.org\\/view\\/Chaos\\/\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m running the test with a variety of situations to help narrow in on the problem.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ve also started checking old checkouts - did that some last night, but with somewhat inconclusive results. Hope to make more progress.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13538909_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13538909_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Dec\\/12 21:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-22T21:10:40+0000\'\u003e22\\/Dec\\/12 21:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'ve got fullmetaljenkins.org on chaos monkey duty:  http:\\/\\/fullmetaljenkins.org\\/view\\/Chaos\\/  \\n\\n I\'m running the test with a variety of situations to help narrow in on the problem. \\n\\n I\'ve also started checking old checkouts - did that some last night, but with somewhat inconclusive results. Hope to make more progress.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13538910\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13538910&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13538910\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13538910_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13538910_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Dec\\/12 21:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-22T21:14:11+0000\'\u003e22\\/Dec\\/12 21:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;branch_4x commit&#93;\u003c\\/span\u003e Mark Robert Miller\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425343\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425343\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3180\\\" title=\\\"ChaosMonkey test failures\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3180\\\"\u003e\u003cdel\u003eSOLR-3180\u003c\\/del\u003e\u003c\\/a\u003e: wait for leader to see our recovering state before peer sync as well\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13538910_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13538910_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Dec\\/12 21:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-22T21:14:11+0000\'\u003e22\\/Dec\\/12 21:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     &#91;branch_4x commit&#93;  Mark Robert Miller \\n http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425343  \\n\\n   SOLR-3180  : wait for leader to see our recovering state before peer sync as well              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13539120\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13539120&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13539120\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13539120_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13539120_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/12 23:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-23T23:00:16+0000\'\u003e23\\/Dec\\/12 23:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;trunk commit&#93;\u003c\\/span\u003e Mark Robert Miller\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425554\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425554\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3180\\\" title=\\\"ChaosMonkey test failures\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3180\\\"\u003e\u003cdel\u003eSOLR-3180\u003c\\/del\u003e\u003c\\/a\u003e: remove bad assumption\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13539120_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13539120_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/12 23:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-23T23:00:16+0000\'\u003e23\\/Dec\\/12 23:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     &#91;trunk commit&#93;  Mark Robert Miller \\n http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425554  \\n\\n   SOLR-3180  : remove bad assumption              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13539121\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13539121&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13539121\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13539121_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13539121_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/12 23:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-23T23:08:12+0000\'\u003e23\\/Dec\\/12 23:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;branch_4x commit&#93;\u003c\\/span\u003e Mark Robert Miller\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425555\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425555\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3180\\\" title=\\\"ChaosMonkey test failures\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3180\\\"\u003e\u003cdel\u003eSOLR-3180\u003c\\/del\u003e\u003c\\/a\u003e: remove bad assumption\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13539121_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13539121_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/12 23:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-23T23:08:12+0000\'\u003e23\\/Dec\\/12 23:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     &#91;branch_4x commit&#93;  Mark Robert Miller \\n http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425555  \\n\\n   SOLR-3180  : remove bad assumption              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13539130\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13539130&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13539130\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13539130_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13539130_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Dec\\/12 00:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-24T00:16:11+0000\'\u003e24\\/Dec\\/12 00:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;trunk commit&#93;\u003c\\/span\u003e Mark Robert Miller\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425561\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425561\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-4638\\\" title=\\\"If IndexWriter is interrupted on close and is using a channel (mmap\\/nio), it can throw a ClosedByInterruptException and prevent you from opening a new IndexWriter in the same proceses if you are using Native locks.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-4638\\\"\u003eLUCENE-4638\u003c\\/a\u003e, \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3180\\\" title=\\\"ChaosMonkey test failures\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3180\\\"\u003e\u003cdel\u003eSOLR-3180\u003c\\/del\u003e\u003c\\/a\u003e: try using the IW\'s writeLock to unlock\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13539130_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13539130_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Dec\\/12 00:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-24T00:16:11+0000\'\u003e24\\/Dec\\/12 00:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     &#91;trunk commit&#93;  Mark Robert Miller \\n http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425561  \\n\\n  LUCENE-4638 ,   SOLR-3180  : try using the IW\'s writeLock to unlock              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13539137\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13539137&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13539137\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13539137_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13539137_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Dec\\/12 00:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-24T00:29:05+0000\'\u003e24\\/Dec\\/12 00:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;branch_4x commit&#93;\u003c\\/span\u003e Mark Robert Miller\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425563\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425563\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-4638\\\" title=\\\"If IndexWriter is interrupted on close and is using a channel (mmap\\/nio), it can throw a ClosedByInterruptException and prevent you from opening a new IndexWriter in the same proceses if you are using Native locks.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-4638\\\"\u003eLUCENE-4638\u003c\\/a\u003e, \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3180\\\" title=\\\"ChaosMonkey test failures\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3180\\\"\u003e\u003cdel\u003eSOLR-3180\u003c\\/del\u003e\u003c\\/a\u003e: try using the IW\'s writeLock to unlock\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13539137_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13539137_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Dec\\/12 00:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-24T00:29:05+0000\'\u003e24\\/Dec\\/12 00:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     &#91;branch_4x commit&#93;  Mark Robert Miller \\n http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425563  \\n\\n  LUCENE-4638 ,   SOLR-3180  : try using the IW\'s writeLock to unlock              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13539152\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13539152&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13539152\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13539152_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13539152_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Dec\\/12 02:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-24T02:12:11+0000\'\u003e24\\/Dec\\/12 02:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;trunk commit&#93;\u003c\\/span\u003e Mark Robert Miller\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425574\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425574\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-4638\\\" title=\\\"If IndexWriter is interrupted on close and is using a channel (mmap\\/nio), it can throw a ClosedByInterruptException and prevent you from opening a new IndexWriter in the same proceses if you are using Native locks.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-4638\\\"\u003eLUCENE-4638\u003c\\/a\u003e, \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3180\\\" title=\\\"ChaosMonkey test failures\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3180\\\"\u003e\u003cdel\u003eSOLR-3180\u003c\\/del\u003e\u003c\\/a\u003e: revert for now (try using the IW\'s writeLock to unlock)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13539152_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13539152_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Dec\\/12 02:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-24T02:12:11+0000\'\u003e24\\/Dec\\/12 02:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     &#91;trunk commit&#93;  Mark Robert Miller \\n http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425574  \\n\\n  LUCENE-4638 ,   SOLR-3180  : revert for now (try using the IW\'s writeLock to unlock)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13539155\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13539155&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13539155\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13539155_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13539155_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Dec\\/12 02:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-24T02:18:25+0000\'\u003e24\\/Dec\\/12 02:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;branch_4x commit&#93;\u003c\\/span\u003e Mark Robert Miller\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425576\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425576\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-4638\\\" title=\\\"If IndexWriter is interrupted on close and is using a channel (mmap\\/nio), it can throw a ClosedByInterruptException and prevent you from opening a new IndexWriter in the same proceses if you are using Native locks.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-4638\\\"\u003eLUCENE-4638\u003c\\/a\u003e, \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3180\\\" title=\\\"ChaosMonkey test failures\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3180\\\"\u003e\u003cdel\u003eSOLR-3180\u003c\\/del\u003e\u003c\\/a\u003e: revert for now (try using the IW\'s writeLock to unlock)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13539155_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13539155_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Dec\\/12 02:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-24T02:18:25+0000\'\u003e24\\/Dec\\/12 02:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     &#91;branch_4x commit&#93;  Mark Robert Miller \\n http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1425576  \\n\\n  LUCENE-4638 ,   SOLR-3180  : revert for now (try using the IW\'s writeLock to unlock)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13539459\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13539459&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13539459\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13539459_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13539459_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Dec\\/12 03:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-26T03:36:15+0000\'\u003e26\\/Dec\\/12 03:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe removed bad assumption commit takes care of the final shard consistency issues. Two holes that I was somehow not seeing when running this test previously. We should probably spin them out into their own issues for CHANGES.\u003c\\/p\u003e\\n\\n\u003cp\u003eThere is still a very rare cloud doc count is off by one with control issue to resolve - still unclear if its a real issue or test issue.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe last set of commits was to try and take care of a somewhat unrelated issue around index locks - it didnt work, it just moved the blow up point. It\'s only related to this issue in that I suspected it as part of an indexsearcher not being closed fail that made \'false\' fails annoying to wade through.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13539459_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13539459_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Dec\\/12 03:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-26T03:36:15+0000\'\u003e26\\/Dec\\/12 03:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The removed bad assumption commit takes care of the final shard consistency issues. Two holes that I was somehow not seeing when running this test previously. We should probably spin them out into their own issues for CHANGES. \\n\\n There is still a very rare cloud doc count is off by one with control issue to resolve - still unclear if its a real issue or test issue. \\n\\n The last set of commits was to try and take care of a somewhat unrelated issue around index locks - it didnt work, it just moved the blow up point. It\'s only related to this issue in that I suspected it as part of an indexsearcher not being closed fail that made \'false\' fails annoying to wade through.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13540526\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13540526&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13540526\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13540526_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13540526_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Dec\\/12 17:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-28T17:32:59+0000\'\u003e28\\/Dec\\/12 17:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI got a hang running the CMSL test.\u003cbr\\/\u003e\\nHere\'s a thread dump.\u003c\\/p\u003e\\n\\n\u003cp\u003eI took another thread dump a few minutes later to see what changed, and it wasn\'t much:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\\/opt\\/code\\/misc$ diff -u CMSL_hang.txt CMSL_hang2.txt\\n--- CMSL_hang.txt\\t2012-12-28 12:21:47.000000000 -0500\\n+++ CMSL_hang2.txt\\t2012-12-28 12:24:37.000000000 -0500\\n@@ -1,4 +1,4 @@\\n-2012-12-28 12:21:47\\n+2012-12-28 12:24:38\\n Full thread dump Java HotSpot(TM) 64-Bit Server VM (20.4-b02 mixed mode):\\n \\n \u003cspan class=\\\"code-quote\\\"\u003e\\\"Attach Listener\\\"\u003c\\/span\u003e daemon prio=10 tid=0x0000000042790000 nid=0x1df4 waiting on condition [0x0000000000000000]\\n@@ -1559,7 +1559,7 @@\\n    java.lang.\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.State: TIMED_WAITING (on object monitor)\\n \\tat java.lang.\u003cspan class=\\\"code-object\\\"\u003eObject\u003c\\/span\u003e.wait(Native Method)\\n \\tat org.apache.solr.cloud.DistributedQueue$LatchChildWatcher.await(DistributedQueue.java:182)\\n-\\t- locked &lt;0x00000000fd60df70&gt; (a java.lang.\u003cspan class=\\\"code-object\\\"\u003eObject\u003c\\/span\u003e)\\n+\\t- locked &lt;0x00000000f7ed6b70&gt; (a java.lang.\u003cspan class=\\\"code-object\\\"\u003eObject\u003c\\/span\u003e)\\n \\tat org.apache.solr.cloud.DistributedQueue.peek(DistributedQueue.java:281)\\n \\tat org.apache.solr.cloud.OverseerCollectionProcessor.run(OverseerCollectionProcessor.java:100)\\n \\tat java.lang.\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.run(\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.java:662)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13540526_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13540526_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Dec\\/12 17:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-28T17:32:59+0000\'\u003e28\\/Dec\\/12 17:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I got a hang running the CMSL test. \\nHere\'s a thread dump. \\n\\n I took another thread dump a few minutes later to see what changed, and it wasn\'t much: \\n  \\n \\/opt\\/code\\/misc$ diff -u CMSL_hang.txt CMSL_hang2.txt\\n--- CMSL_hang.txt\\t2012-12-28 12:21:47.000000000 -0500\\n+++ CMSL_hang2.txt\\t2012-12-28 12:24:37.000000000 -0500\\n@@ -1,4 +1,4 @@\\n-2012-12-28 12:21:47\\n+2012-12-28 12:24:38\\n Full thread dump Java HotSpot(TM) 64-Bit Server VM (20.4-b02 mixed mode):\\n \\n  \\\"Attach Listener\\\"  daemon prio=10 tid=0x0000000042790000 nid=0x1df4 waiting on condition [0x0000000000000000]\\n@@ -1559,7 +1559,7 @@\\n    java.lang. Thread .State: TIMED_WAITING (on object monitor)\\n \\tat java.lang. Object .wait(Native Method)\\n \\tat org.apache.solr.cloud.DistributedQueue$LatchChildWatcher.await(DistributedQueue.java:182)\\n-\\t- locked &lt;0x00000000fd60df70&gt; (a java.lang. Object )\\n+\\t- locked &lt;0x00000000f7ed6b70&gt; (a java.lang. Object )\\n \\tat org.apache.solr.cloud.DistributedQueue.peek(DistributedQueue.java:281)\\n \\tat org.apache.solr.cloud.OverseerCollectionProcessor.run(OverseerCollectionProcessor.java:100)\\n \\tat java.lang. Thread .run( Thread .java:662)\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13540959\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13540959&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13540959\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13540959_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13540959_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Dec\\/12 18:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-29T18:33:41+0000\'\u003e29\\/Dec\\/12 18:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s another hang.\u003cbr\\/\u003e\\nDiff between 2 snapshots at different times is:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e    java.lang.\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.State: TIMED_WAITING (on object monitor)\\n \\tat java.lang.\u003cspan class=\\\"code-object\\\"\u003eObject\u003c\\/span\u003e.wait(Native Method)\\n \\tat org.apache.solr.cloud.DistributedQueue$LatchChildWatcher.await(DistributedQueue.java:182)\\n-\\t- locked &lt;0x00000000f5821d30&gt; (a java.lang.\u003cspan class=\\\"code-object\\\"\u003eObject\u003c\\/span\u003e)\\n+\\t- locked &lt;0x00000000f5f2c7c0&gt; (a java.lang.\u003cspan class=\\\"code-object\\\"\u003eObject\u003c\\/span\u003e)\\n \\tat org.apache.solr.cloud.DistributedQueue.peek(DistributedQueue.java:281)\\n \\tat org.apache.solr.cloud.OverseerCollectionProcessor.run(OverseerCollectionProcessor.java:100)\\n \\tat java.lang.\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.run(\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.java:662)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13540959_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13540959_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Dec\\/12 18:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-29T18:33:41+0000\'\u003e29\\/Dec\\/12 18:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here\'s another hang. \\nDiff between 2 snapshots at different times is: \\n  \\n     java.lang. Thread .State: TIMED_WAITING (on object monitor)\\n \\tat java.lang. Object .wait(Native Method)\\n \\tat org.apache.solr.cloud.DistributedQueue$LatchChildWatcher.await(DistributedQueue.java:182)\\n-\\t- locked &lt;0x00000000f5821d30&gt; (a java.lang. Object )\\n+\\t- locked &lt;0x00000000f5f2c7c0&gt; (a java.lang. Object )\\n \\tat org.apache.solr.cloud.DistributedQueue.peek(DistributedQueue.java:281)\\n \\tat org.apache.solr.cloud.OverseerCollectionProcessor.run(OverseerCollectionProcessor.java:100)\\n \\tat java.lang. Thread .run( Thread .java:662)\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13541020\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13541020&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13541020\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13541020_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13541020_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Dec\\/12 23:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-29T23:34:13+0000\'\u003e29\\/Dec\\/12 23:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Yonik Seeley - 30\\/Dec\\/12 02:27\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eProgress!\u003cbr\\/\u003e\\nHere\'s my analysis of one of the failures where the control doesn\'t match the cloud:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\\n  2&gt; 115826 T24 C12 P44177 \\/update {wt=javabin&amp;version=2} {add=[50247 (1422479033427296256)]} 0 11\\n\\n  2&gt; 145877 T61 C4 P38042 \\/update {wt=javabin&amp;version=2} {add=[50247 (1422479064932810752)]} 0 17\\n\\n  2&gt; 146263 T26 C12 P44177 \\/update {wt=javabin&amp;version=2} {delete=[50247 (-1422479065354338304)]} 0 0\\n\\n  2&gt; 146268 T63 C4 P38042 \\/update {wt=javabin&amp;version=2} {delete=[50247 (-1422479065356435456)]} 0 3\\n\\n  2&gt; 146867 T46 C1 P60593 \\/update {wt=javabin&amp;version=2} {add=[50247]} 0 31033\\n\\n  2&gt; ###### Only in cloudDocList: [{id=50247}]\\n  2&gt; 190158 T10 oasc.AbstractFullDistribZkTestBase.checkShardConsistency SEVERE controlClient :{numFound=0,start=0,docs=[]}\\n  2&gt; \\t\\tcloudClient :{numFound=1,start=0,docs=[SolrDocument{id=50247, _version_=1422479065981386752}]}\\n \\n  NOTE: The version we found does not match any version previously added, and it does come logically after the last delete!\\n\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eedit: the upshot is that it looks like there\'s a real bug here somewhere - this is not just a test issue.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13541020_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13541020_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Dec\\/12 23:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-12-29T23:34:13+0000\'\u003e29\\/Dec\\/12 23:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Yonik Seeley - 30\\/Dec\\/12 02:27\\\"\u003eedited\u003c\\/span\u003e                   Progress! \\nHere\'s my analysis of one of the failures where the control doesn\'t match the cloud: \\n\\n  \\n \\n  2&gt; 115826 T24 C12 P44177 \\/update {wt=javabin&amp;version=2} {add=[50247 (1422479033427296256)]} 0 11\\n\\n  2&gt; 145877 T61 C4 P38042 \\/update {wt=javabin&amp;version=2} {add=[50247 (1422479064932810752)]} 0 17\\n\\n  2&gt; 146263 T26 C12 P44177 \\/update {wt=javabin&amp;version=2} {delete=[50247 (-1422479065354338304)]} 0 0\\n\\n  2&gt; 146268 T63 C4 P38042 \\/update {wt=javabin&amp;version=2} {delete=[50247 (-1422479065356435456)]} 0 3\\n\\n  2&gt; 146867 T46 C1 P60593 \\/update {wt=javabin&amp;version=2} {add=[50247]} 0 31033\\n\\n  2&gt; ###### Only in cloudDocList: [{id=50247}]\\n  2&gt; 190158 T10 oasc.AbstractFullDistribZkTestBase.checkShardConsistency SEVERE controlClient :{numFound=0,start=0,docs=[]}\\n  2&gt; \\t\\tcloudClient :{numFound=1,start=0,docs=[SolrDocument{id=50247, _version_=1422479065981386752}]}\\n \\n  NOTE: The version we found does not match any version previously added, and it does come logically after the last delete!\\n\\n \\n  \\n\\n edit: the upshot is that it looks like there\'s a real bug here somewhere - this is not just a test issue.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13541895\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13541895&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13541895\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13541895_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13541895_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Jan\\/13 18:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-01T18:15:59+0000\'\u003e01\\/Jan\\/13 18:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWith the logging fixed, I can see more of what the problem is.  It appears if two updates for document 50030 are happening simultaneously, which shouldn\'t happen since the tests don\'t do this.\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e  2&gt; 65234 T28 C12 P56307 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948614358958080\\n  2&gt; 65235 T28 C12 P56307 \\/update {wt=javabin&amp;version=2} {add=[50030 (1422948614358958080)]} 0 2\\n \\n  2&gt; 65242 T61 C4 P44328 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948614366298112\\n  2&gt; 65245 T103 C1 P59742 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948614366298112\\n  2&gt; 65246 T160 C7 P51177 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948614366298112\\n  2&gt; 65247 T103 C1 P59742 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:44328\\/fa\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948614366298112)]} 0 2\\n\u003c\\/span\u003e  2&gt; 65247 T160 C7 P51177 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:44328\\/fa\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948614366298112)]} 0 2\\n\u003c\\/span\u003e \\n  2&gt; 80763 T59 C4 P44328 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948630641246208\\n  2&gt; 80773 T158 C7 P51177 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948630641246208\\n  2&gt; 80776 T158 C7 P51177 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:44328\\/fa\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948630641246208)]} 0 5\\n\u003c\\/span\u003e \\n  2&gt; 85279 T61 C4 P44328 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:36869\\/fa\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948614366298112)]} 0 20038\\n\u003c\\/span\u003e\\n  2&gt; 87884 T213 C10 P42076 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948630641246208\\n  2&gt; 87885 T213 C10 P42076 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:44328\\/fa\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948630641246208)]} 0 7116\\n\u003c\\/span\u003e\\n  2&gt; 87973 T216 C10 P42076 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:44328\\/fa\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948614366298112)]} 0 22728\\n\u003c\\/span\u003e\\n  2&gt; 95272 T61 C4 P44328 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948645855035392\\n  2&gt; 95277 T158 C7 P51177 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948645855035392\\n  2&gt; 95281 T158 C7 P51177 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:44328\\/fa\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948645855035392)]} 0 5\\n\u003c\\/span\u003e  2&gt; 95283 T61 C4 P44328 \\/update {wt=javabin&amp;version=2} {add=[50030 (1422948645855035392)]} 0 12\\n \\n\\n  2&gt; 95326 T27 C12 P56307 \\/update {wt=javabin&amp;version=2} {delete=[50030 (-1422948645912707072)]} 0 0\\n  2&gt; 95336 T159 C7 P51177 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:44328\\/fa\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {delete=[50030 (-1422948645918998528)]} 0 1\\n\u003c\\/span\u003e  2&gt; 95338 T61 C4 P44328 \\/update {wt=javabin&amp;version=2} {delete=[50030 (-1422948645918998528)]} 0 7\\n\\n\\n  2&gt; 96276 T475 C4 P44328 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948646907805696\\n  2&gt; 96286 T156 C7 P51177 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948646907805696\\n  2&gt; 96290 T156 C7 P51177 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:44328\\/fa\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948646907805696)]} 0 5\\n\u003c\\/span\u003e  2&gt; 96292 T475 C4 P44328 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:36869\\/fa\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948646907805696)]} 0 18\\n\u003c\\/span\u003e  2&gt; 96293 T77 C6 P36869 \\/update {wt=javabin&amp;version=2} {add=[50030]} 0 31054\\n\\n\\n  2&gt; 97738 T59 C4 P44328 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:36869\\/fa\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948630641246208)]} 0 16977\\n\u003c\\/span\u003e\\n\\n  2&gt; 98396 T103 C1 P59742 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948630641246208\\n  2&gt; 98397 T103 C1 P59742 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:44328\\/fa\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948630641246208)]} 0 17627\\n\u003c\\/span\u003e\\n  2&gt; 105349 T488 C1 P59742 oasu.PeerSync.handleUpdates FINE PeerSync: core=collection1 url=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59742\\/fa raw update record [1, 1422948645855035392, SolrInputDocument[id=50030, a_si=50, other_tl1=50, a_t=to come to the aid of their country., rnd_b=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e, _version_=1422948645855035392]]\\n\u003c\\/span\u003e  2&gt; 105350 T488 C1 P59742 oasu.PeerSync.handleUpdates FINE PeerSync: core=collection1 url=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59742\\/fa add add{flags=12,_version_=1422948645855035392,id=50030}\\n\u003c\\/span\u003e  2&gt; 105351 T488 C1 P59742 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948645855035392\\n \\n\\n  2&gt; 105356 T488 C1 P59742 oasu.PeerSync.handleUpdates FINE PeerSync: core=collection1 url=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59742\\/fa raw update record [2, -1422948645918998528, [B@3b76982e]\\n\u003c\\/span\u003e  2&gt; 105356 T488 C1 P59742 oasu.PeerSync.handleUpdates FINE PeerSync: core=collection1 url=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59742\\/fa delete delete{flags=12,_version_=-1422948645918998528,indexedId=50030,commitWithin=-1}\\n\u003c\\/span\u003e  2&gt; 105356 T488 C1 P59742 oasu.PeerSync.handleUpdates FINE PeerSync: core=collection1 url=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59742\\/fa raw update record [1, 1422948646907805696, SolrInputDocument[id=50030, a_si=50, other_tl1=50, a_t=to come to the aid of their country., rnd_b=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e, _version_=1422948646907805696]]\\n\u003c\\/span\u003e  2&gt; 105356 T488 C1 P59742 oasu.PeerSync.handleUpdates FINE PeerSync: core=collection1 url=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59742\\/fa add add{flags=12,_version_=1422948646907805696,id=50030}\\n\u003c\\/span\u003e\\n\\n\\n  2&gt; ###### Only in cloudDocList: [{id=50030}]\\n  2&gt; 203443 T10 oasc.AbstractFullDistribZkTestBase.checkShardConsistency SEVERE controlClient :{numFound=0,start=0,docs=[]}\\n  2&gt; \\t\\tcloudClient :{numFound=1,start=0,docs=[SolrDocument{id=50030, _version_=1422948646907805696}]}\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eAs usual C12 is the control.\u003cbr\\/\u003e\\nYou can see an add complete on C4 and on C6\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e  2&gt; 95283 T61 C4 P44328 \\/update {wt=javabin&amp;version=2} {add=[50030 (1422948645855035392)]} 0 12\\n  2&gt; 96293 T77 C6 P36869 \\/update {wt=javabin&amp;version=2} {add=[50030]} 0 31054\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13541895_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13541895_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Jan\\/13 18:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-01T18:15:59+0000\'\u003e01\\/Jan\\/13 18:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    With the logging fixed, I can see more of what the problem is.  It appears if two updates for document 50030 are happening simultaneously, which shouldn\'t happen since the tests don\'t do this. \\n\\n  \\n   2&gt; 65234 T28 C12 P56307 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948614358958080\\n  2&gt; 65235 T28 C12 P56307 \\/update {wt=javabin&amp;version=2} {add=[50030 (1422948614358958080)]} 0 2\\n \\n  2&gt; 65242 T61 C4 P44328 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948614366298112\\n  2&gt; 65245 T103 C1 P59742 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948614366298112\\n  2&gt; 65246 T160 C7 P51177 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948614366298112\\n  2&gt; 65247 T103 C1 P59742 \\/update {distrib.from=http: \\/\\/127.0.0.1:44328\\/fa\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948614366298112)]} 0 2\\n   2&gt; 65247 T160 C7 P51177 \\/update {distrib.from=http: \\/\\/127.0.0.1:44328\\/fa\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948614366298112)]} 0 2\\n  \\n  2&gt; 80763 T59 C4 P44328 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948630641246208\\n  2&gt; 80773 T158 C7 P51177 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948630641246208\\n  2&gt; 80776 T158 C7 P51177 \\/update {distrib.from=http: \\/\\/127.0.0.1:44328\\/fa\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948630641246208)]} 0 5\\n  \\n  2&gt; 85279 T61 C4 P44328 \\/update {distrib.from=http: \\/\\/127.0.0.1:36869\\/fa\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948614366298112)]} 0 20038\\n \\n  2&gt; 87884 T213 C10 P42076 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948630641246208\\n  2&gt; 87885 T213 C10 P42076 \\/update {distrib.from=http: \\/\\/127.0.0.1:44328\\/fa\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948630641246208)]} 0 7116\\n \\n  2&gt; 87973 T216 C10 P42076 \\/update {distrib.from=http: \\/\\/127.0.0.1:44328\\/fa\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948614366298112)]} 0 22728\\n \\n  2&gt; 95272 T61 C4 P44328 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948645855035392\\n  2&gt; 95277 T158 C7 P51177 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948645855035392\\n  2&gt; 95281 T158 C7 P51177 \\/update {distrib.from=http: \\/\\/127.0.0.1:44328\\/fa\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948645855035392)]} 0 5\\n   2&gt; 95283 T61 C4 P44328 \\/update {wt=javabin&amp;version=2} {add=[50030 (1422948645855035392)]} 0 12\\n \\n\\n  2&gt; 95326 T27 C12 P56307 \\/update {wt=javabin&amp;version=2} {delete=[50030 (-1422948645912707072)]} 0 0\\n  2&gt; 95336 T159 C7 P51177 \\/update {distrib.from=http: \\/\\/127.0.0.1:44328\\/fa\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {delete=[50030 (-1422948645918998528)]} 0 1\\n   2&gt; 95338 T61 C4 P44328 \\/update {wt=javabin&amp;version=2} {delete=[50030 (-1422948645918998528)]} 0 7\\n\\n\\n  2&gt; 96276 T475 C4 P44328 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948646907805696\\n  2&gt; 96286 T156 C7 P51177 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948646907805696\\n  2&gt; 96290 T156 C7 P51177 \\/update {distrib.from=http: \\/\\/127.0.0.1:44328\\/fa\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948646907805696)]} 0 5\\n   2&gt; 96292 T475 C4 P44328 \\/update {distrib.from=http: \\/\\/127.0.0.1:36869\\/fa\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948646907805696)]} 0 18\\n   2&gt; 96293 T77 C6 P36869 \\/update {wt=javabin&amp;version=2} {add=[50030]} 0 31054\\n\\n\\n  2&gt; 97738 T59 C4 P44328 \\/update {distrib.from=http: \\/\\/127.0.0.1:36869\\/fa\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948630641246208)]} 0 16977\\n \\n\\n  2&gt; 98396 T103 C1 P59742 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948630641246208\\n  2&gt; 98397 T103 C1 P59742 \\/update {distrib.from=http: \\/\\/127.0.0.1:44328\\/fa\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[50030 (1422948630641246208)]} 0 17627\\n \\n  2&gt; 105349 T488 C1 P59742 oasu.PeerSync.handleUpdates FINE PeerSync: core=collection1 url=http: \\/\\/127.0.0.1:59742\\/fa raw update record [1, 1422948645855035392, SolrInputDocument[id=50030, a_si=50, other_tl1=50, a_t=to come to the aid of their country., rnd_b= true , _version_=1422948645855035392]]\\n   2&gt; 105350 T488 C1 P59742 oasu.PeerSync.handleUpdates FINE PeerSync: core=collection1 url=http: \\/\\/127.0.0.1:59742\\/fa add add{flags=12,_version_=1422948645855035392,id=50030}\\n   2&gt; 105351 T488 C1 P59742 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=50030 version=1422948645855035392\\n \\n\\n  2&gt; 105356 T488 C1 P59742 oasu.PeerSync.handleUpdates FINE PeerSync: core=collection1 url=http: \\/\\/127.0.0.1:59742\\/fa raw update record [2, -1422948645918998528, [B@3b76982e]\\n   2&gt; 105356 T488 C1 P59742 oasu.PeerSync.handleUpdates FINE PeerSync: core=collection1 url=http: \\/\\/127.0.0.1:59742\\/fa delete delete{flags=12,_version_=-1422948645918998528,indexedId=50030,commitWithin=-1}\\n   2&gt; 105356 T488 C1 P59742 oasu.PeerSync.handleUpdates FINE PeerSync: core=collection1 url=http: \\/\\/127.0.0.1:59742\\/fa raw update record [1, 1422948646907805696, SolrInputDocument[id=50030, a_si=50, other_tl1=50, a_t=to come to the aid of their country., rnd_b= true , _version_=1422948646907805696]]\\n   2&gt; 105356 T488 C1 P59742 oasu.PeerSync.handleUpdates FINE PeerSync: core=collection1 url=http: \\/\\/127.0.0.1:59742\\/fa add add{flags=12,_version_=1422948646907805696,id=50030}\\n \\n\\n\\n  2&gt; ###### Only in cloudDocList: [{id=50030}]\\n  2&gt; 203443 T10 oasc.AbstractFullDistribZkTestBase.checkShardConsistency SEVERE controlClient :{numFound=0,start=0,docs=[]}\\n  2&gt; \\t\\tcloudClient :{numFound=1,start=0,docs=[SolrDocument{id=50030, _version_=1422948646907805696}]}\\n \\n  \\n\\n As usual C12 is the control. \\nYou can see an add complete on C4 and on C6 \\n  \\n   2&gt; 95283 T61 C4 P44328 \\/update {wt=javabin&amp;version=2} {add=[50030 (1422948645855035392)]} 0 12\\n  2&gt; 96293 T77 C6 P36869 \\/update {wt=javabin&amp;version=2} {add=[50030]} 0 31054\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13541944\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13541944&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13541944\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13541944_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13541944_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Jan\\/13 23:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-01T23:26:33+0000\'\u003e01\\/Jan\\/13 23:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;trunk commit&#93;\u003c\\/span\u003e Mark Robert Miller\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1427589\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1427589\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3180\\\" title=\\\"ChaosMonkey test failures\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3180\\\"\u003e\u003cdel\u003eSOLR-3180\u003c\\/del\u003e\u003c\\/a\u003e: remove bad method call\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13541944_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13541944_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Jan\\/13 23:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-01T23:26:33+0000\'\u003e01\\/Jan\\/13 23:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     &#91;trunk commit&#93;  Mark Robert Miller \\n http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1427589  \\n\\n   SOLR-3180  : remove bad method call              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13541945\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13541945&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13541945\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13541945_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13541945_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Jan\\/13 23:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-01T23:34:19+0000\'\u003e01\\/Jan\\/13 23:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;branch_4x commit&#93;\u003c\\/span\u003e Mark Robert Miller\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1427590\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1427590\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3180\\\" title=\\\"ChaosMonkey test failures\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3180\\\"\u003e\u003cdel\u003eSOLR-3180\u003c\\/del\u003e\u003c\\/a\u003e: remove bad method call\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13541945_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13541945_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Jan\\/13 23:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-01T23:34:19+0000\'\u003e01\\/Jan\\/13 23:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     &#91;branch_4x commit&#93;  Mark Robert Miller \\n http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1427590  \\n\\n   SOLR-3180  : remove bad method call              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13542022\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13542022&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13542022\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13542022_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13542022_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Jan\\/13 06:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-02T06:27:10+0000\'\u003e02\\/Jan\\/13 06:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;branch_4x commit&#93;\u003c\\/span\u003e Mark Robert Miller\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1427658\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1427658\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3180\\\" title=\\\"ChaosMonkey test failures\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3180\\\"\u003e\u003cdel\u003eSOLR-3180\u003c\\/del\u003e\u003c\\/a\u003e: update node props for retry node, not just url\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13542022_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13542022_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Jan\\/13 06:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-02T06:27:10+0000\'\u003e02\\/Jan\\/13 06:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     &#91;branch_4x commit&#93;  Mark Robert Miller \\n http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1427658  \\n\\n   SOLR-3180  : update node props for retry node, not just url              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13542023\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13542023&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13542023\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13542023_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13542023_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Jan\\/13 06:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-02T06:27:13+0000\'\u003e02\\/Jan\\/13 06:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;trunk commit&#93;\u003c\\/span\u003e Mark Robert Miller\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1427657\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1427657\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3180\\\" title=\\\"ChaosMonkey test failures\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3180\\\"\u003e\u003cdel\u003eSOLR-3180\u003c\\/del\u003e\u003c\\/a\u003e: update node props for retry node, not just url\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13542023_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13542023_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Jan\\/13 06:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-02T06:27:13+0000\'\u003e02\\/Jan\\/13 06:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     &#91;trunk commit&#93;  Mark Robert Miller \\n http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1427657  \\n\\n   SOLR-3180  : update node props for retry node, not just url              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13542240\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13542240&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13542240\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13542240_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13542240_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Jan\\/13 17:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-02T17:12:10+0000\'\u003e02\\/Jan\\/13 17:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOK, here\'s a fail with more logging.\u003c\\/p\u003e\\n\\n\u003cp\u003eWhat finally manifests as an error the test detects seems to be caused by retries (but there are still threads hanging around from the first time that eventually execute).\u003c\\/p\u003e\\n\\n\u003cp\u003eI didn\'t follow this fail all the way through to the end since I saw enough potentially wonky stuff earlier.\u003c\\/p\u003e\\n\\n\u003cp\u003eC14 tries to publish success, fails because CM caused a connection loss, and then future updates to C14 hang for a long time.\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\\n###  Since we know C14 (P56842) seems problematic we look back in time before the problematic update.\\n  2&gt; ASYNC  NEW_CORE C14 name=collection1 org.apache.solr.core.SolrCore@15c617e0 url=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:56842\\/collection1 node=127.0.0.1:56842_ C14_STATE=coll:collection1 core:collection1 props:{shard=shard1, roles=\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e, state=active, core=collection1, collection=collection1, node_name=127.0.0.1:56842_, base_url=http:\\/\\/127.0.0.1:56842}\\n\u003c\\/span\u003e  2&gt; 73226 T323 C14 P56842 oasc.RecoveryStrategy.run Starting recovery process.  core=collection1 recoveringAfterStartup=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e\\n \\n  2&gt; 73233 T323 C14 P56842 oasc.ZkController.publish publishing core=collection1 state=recovering\\n\\n  2&gt; 75058 T256 oasc.ChaosMonkey.monkeyLog monkey: chose a victim! 56842\\n  2&gt; 75059 T256 oasc.ChaosMonkey.monkeyLog monkey: expire session \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e 56842 !\\n  2&gt; 75059 T256 oasc.ChaosMonkey.monkeyLog monkey: cause connection loss!\\n \\n  2&gt;  C14_STATE=coll:collection1 core:collection1 props:{shard=shard1, roles=\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e, state=recovering, core=collection1, collection=collection1, node_name=127.0.0.1:56842_, base_url=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:56842}\\n\u003c\\/span\u003e  2&gt; 77316 T323 C14 P56842 oasc.RecoveryStrategy.doRecovery Attempting to PeerSync from http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:41533\\/collection1\\/ core=collection1 - recoveringAfterStartup=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e\\n\u003c\\/span\u003e\\n\\n  2&gt; 77328 T323 C14 P56842 oasu.PeerSync.handleVersions PeerSync: core=collection1 url=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:56842  Our versions are newer. ourLowThreshold=1423033399394697216 otherHigh=1423033403051081728\\n\u003c\\/span\u003e  2&gt; 77329 T323 C14 P56842 oasu.PeerSync.sync PeerSync: core=collection1 url=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:56842 DONE. sync succeeded\\n\u003c\\/span\u003e \\n##### OK, perhaps the real problem starts here, when we \u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e to publish as \u003cspan class=\\\"code-quote\\\"\u003e\\\"active\\\"\u003c\\/span\u003e but\\n##### we have issues talking to ZK (because CM caused a connection loss previously?)\\n  2&gt; 77478 T323 C14 P56842 oasc.ZkController.publish publishing core=collection1 state=active\\n  2&gt; 77480 T319 oaz.ClientCnxn$SendThread.run WARNING Session 0x13bfa14a03d0020 \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e server \u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e, unexpected error, closing socket connection and attempting reconnect java.nio.channels.CancelledKeyException\\n\\n##### The first request that comes in \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e us in on T314, but \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e is the last we hear from \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e thread until time 109571 (same as the problematic add)\\n  2&gt; 82034 T314 C14 P56842 oasup.LogUpdateProcessor.processDelete PRE_UPDATE DELETE delete{flags=0,_version_=-1423033432318935040,id=60072,commitWithin=-1} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e\\n \\n############## start of troublesome update\\n\\n  2&gt; 82115 T28 C12 P49621 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10079} {wt=javabin&amp;version=2}\\n  2&gt; 82116 T28 C12 P49621 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10079 version=1423033432421695488\\n  2&gt; 82117 T28 C12 P49621 PRE_UPDATE FINISH  {wt=javabin&amp;version=2}\\n  2&gt; 82118 T28 C12 P49621 \\/update {wt=javabin&amp;version=2} {add=[10079 (1423033432421695488)]} 0 3\\n\\n\\n##### Below, C4 receives the update, forwards it to the leader C2, which forwards it to C14 and C0.  Looking ahead, it looks like C14 is a problem node - \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e update takes a \u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e time to complete.\\n\\n  2&gt; 82121 T59 C4 P48210 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10079} {wt=javabin&amp;version=2}\\n  2&gt; 82121 T59 C4 P48210 PRE_UPDATE FINISH  {wt=javabin&amp;version=2}\\n  2&gt; 82124 T44 C2 P41533 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10079} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:48210\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 82124 T44 C2 P41533 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10079 version=1423033432430084096\\n  2&gt; 82125 T44 C2 P41533 PRE_UPDATE FINISH  {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:48210\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 82127 T315 C14 P56842 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10079} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 82128 T89 C0 P56785 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10079} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 82128 T89 C0 P56785 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10079 version=1423033432430084096\\n  2&gt; 82129 T89 C0 P56785 PRE_UPDATE FINISH  {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 82129 T89 C0 P56785 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[10079 (1423033432430084096)]} 0 1\\n\u003c\\/span\u003e\\n  2&gt; 82247 T256 oasc.ChaosMonkey.monkeyLog monkey: chose a victim! 56785\\n  2&gt; 82247 T256 oasc.ChaosMonkey.monkeyLog monkey: expire session \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e 56785 !\\n  2&gt; 82248 T256 oasc.ChaosMonkey.monkeyLog monkey: cause connection loss!\\n##### 56785 is C0, but it looks like we already completed our update forwarded from C2 (although it\'s always possible the response was not completely written yet)\\n\\n\\n\\n##### So C14 hung \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e some reason, but it doesn\'t look like the chaos monkey touched him!\\n  2&gt; 97029 T46 C2 P41533 oasc.SolrException.log SEVERE shard update error StdNode: http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:56842\\/collection1\\/:org.apache.solr.client.solrj.SolrServerException: Timeout occured \u003cspan class=\\\"code-keyword\\\"\u003ewhile\u003c\\/span\u003e waiting response from server at: http:\\/\\/127.0.0.1:56842\\/collection1\\n\u003c\\/span\u003e  2&gt; 97031 T46 C2 P41533 oasup.DistributedUpdateProcessor.doFinish \u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e and ask http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:56842 to recover\\n\u003c\\/span\u003e\\n##### I presume \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e is C14, and it got the request to recover\\n  2&gt; 97044 T316 oasha.CoreAdminHandler.handleRequestRecoveryAction It has been requested that we recover\\n\\n##### It looks like C2 \u003cspan class=\\\"code-keyword\\\"\u003efinally\u003c\\/span\u003e returned failure to C4, which retries sending to the leader\\n  2&gt; 97133 T59 C4 P48210 oasc.SolrException.log SEVERE forwarding update to http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:41533\\/collection1\\/ failed - retrying ... \\n\u003c\\/span\u003e\\n##### Another timeout from the leader to that node - not sure what request \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e was...\\n  2&gt; 97135 T44 C2 P41533 oasc.SolrException.log SEVERE shard update error StdNode: http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:56842\\/collection1\\/:org.apache.solr.client.solrj.SolrServerException: Timeout occured \u003cspan class=\\\"code-keyword\\\"\u003ewhile\u003c\\/span\u003e waiting response from server at: http:\\/\\/127.0.0.1:56842\\/collection1\\n\u003c\\/span\u003e\\n##### But we ask the node to recover again, and it looks like the node gets that request again\\n  2&gt; 97137 T44 C2 P41533 oasup.DistributedUpdateProcessor.doFinish \u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e and ask http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:56842 to recover\\n\u003c\\/span\u003e  2&gt; 97138 T44 C2 P41533 oascsi.HttpClientUtil.createClient Creating \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e http client, config:maxConnections=128&amp;maxConnectionsPerHost=32&amp;followRedirects=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e\\n  2&gt; 97148 T311 oasha.CoreAdminHandler.handleRequestRecoveryAction It has been requested that we recover\\n \\n\\n##### Below, the request was re-sent to the leader C2 from C4\\n##### Either the top level cloud client timed things out and re-sent, or the command distributor in C4 re-sent.\\n  2&gt; 97639 T47 C2 P41533 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10079} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:48210\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 97641 T47 C2 P41533 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10079 version=1423033448699789312\\n  2&gt; 97643 T47 C2 P41533 PRE_UPDATE FINISH  {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:48210\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 97648 T313 C14 P56842 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10079} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 97648 T93 C0 P56785 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10079} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e \\n\\n##### Why did \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e time out?  We saw C14 get the request... perhaps more needs to be done asynchronously on the receiving end of such a request? \\n##### Also, what\'s happening on C14 and C0 right now???\\n   2&gt; 102044 T46 C2 P41533 oasup.DistributedUpdateProcessor.doFinish Could not tell a replica to recover org.apache.solr.client.solrj.SolrServerException: Timeout occured \u003cspan class=\\\"code-keyword\\\"\u003ewhile\u003c\\/span\u003e waiting response from server at: http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:56842\\n\u003c\\/span\u003e\\n\\n##### The original hung update to C14 \u003cspan class=\\\"code-keyword\\\"\u003efinally\u003c\\/span\u003e finished after 27 sec.\\n  2&gt; 109516 T419 oascc.ConnectionManager.process Watcher org.apache.solr.common.cloud.ConnectionManager@58046530 name:ZooKeeperConnection Watcher:127.0.0.1:40151\\/solr got event WatchedEvent state:SyncConnected type:None path:\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e path:\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e type:None\\n  2&gt; 109518 T320 oascc.ConnectionManager.waitForConnected Client is connected to ZooKeeper\\n  2&gt; 109518 T320 oascc.ConnectionManager$1.update Connection with ZooKeeper reestablished.\\n  2&gt; 109519 T320 oasc.RecoveryStrategy.close WARNING Stopping recovery \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e zkNodeName=127.0.0.1:56842__collection1core=collection1\\n \\n  2&gt; 109564 T313 C14 P56842 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10079 version=1423033448699789312\\n  2&gt; 109571 T314 C14 P56842 PRE_UPDATE FINISH  {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 109571 T313 C14 P56842 PRE_UPDATE FINISH  {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 109571 T315 C14 P56842 PRE_UPDATE FINISH  {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 109572 T314 C14 P56842 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {delete=[60072 (-1423033432318935040)]} 0 27538\\n\u003c\\/span\u003e  2&gt; 109572 T313 C14 P56842 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[10079 (1423033448699789312)]} 0 11925\\n\u003c\\/span\u003e  2&gt; 109573 T315 C14 P56842 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[10079 (1423033432430084096)]} 0 27446\\n\u003c\\/span\u003e \\n\\n  2&gt; ###### Only in cloudDocList: [{id=10079}]\\n\\n  2&gt; 207369 T545 C22 P57160 REQ \\/select {fl=id,_version_&amp;shard.url=127.0.0.1:41533\\/collection1\\/|127.0.0.1:57160\\/collection1\\/&amp;NOW=1357110561123&amp;tests=checkShardConsistency(vsControl)\\/getVers&amp;q=id:(+10079)&amp;ids=10079&amp;distrib=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e&amp;isShard=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=javabin&amp;rows=100000&amp;version=2} status=0 QTime=1 \\n  2&gt; 207372 T10 oasc.AbstractFullDistribZkTestBase.checkShardConsistency SEVERE controlClient :{numFound=0,start=0,docs=[]}\\n  2&gt; \\t\\tcloudClient :{numFound=1,start=0,docs=[SolrDocument{id=10079, _version_=1423033464957960192}]}\\n \\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13542240_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13542240_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Jan\\/13 17:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-02T17:12:10+0000\'\u003e02\\/Jan\\/13 17:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    OK, here\'s a fail with more logging. \\n\\n What finally manifests as an error the test detects seems to be caused by retries (but there are still threads hanging around from the first time that eventually execute). \\n\\n I didn\'t follow this fail all the way through to the end since I saw enough potentially wonky stuff earlier. \\n\\n C14 tries to publish success, fails because CM caused a connection loss, and then future updates to C14 hang for a long time. \\n\\n  \\n \\n###  Since we know C14 (P56842) seems problematic we look back in time before the problematic update.\\n  2&gt; ASYNC  NEW_CORE C14 name=collection1 org.apache.solr.core.SolrCore@15c617e0 url=http: \\/\\/127.0.0.1:56842\\/collection1 node=127.0.0.1:56842_ C14_STATE=coll:collection1 core:collection1 props:{shard=shard1, roles= null , state=active, core=collection1, collection=collection1, node_name=127.0.0.1:56842_, base_url=http:\\/\\/127.0.0.1:56842}\\n   2&gt; 73226 T323 C14 P56842 oasc.RecoveryStrategy.run Starting recovery process.  core=collection1 recoveringAfterStartup= true \\n \\n  2&gt; 73233 T323 C14 P56842 oasc.ZkController.publish publishing core=collection1 state=recovering\\n\\n  2&gt; 75058 T256 oasc.ChaosMonkey.monkeyLog monkey: chose a victim! 56842\\n  2&gt; 75059 T256 oasc.ChaosMonkey.monkeyLog monkey: expire session  for  56842 !\\n  2&gt; 75059 T256 oasc.ChaosMonkey.monkeyLog monkey: cause connection loss!\\n \\n  2&gt;  C14_STATE=coll:collection1 core:collection1 props:{shard=shard1, roles= null , state=recovering, core=collection1, collection=collection1, node_name=127.0.0.1:56842_, base_url=http: \\/\\/127.0.0.1:56842}\\n   2&gt; 77316 T323 C14 P56842 oasc.RecoveryStrategy.doRecovery Attempting to PeerSync from http: \\/\\/127.0.0.1:41533\\/collection1\\/ core=collection1 - recoveringAfterStartup= true \\n \\n\\n  2&gt; 77328 T323 C14 P56842 oasu.PeerSync.handleVersions PeerSync: core=collection1 url=http: \\/\\/127.0.0.1:56842  Our versions are newer. ourLowThreshold=1423033399394697216 otherHigh=1423033403051081728\\n   2&gt; 77329 T323 C14 P56842 oasu.PeerSync.sync PeerSync: core=collection1 url=http: \\/\\/127.0.0.1:56842 DONE. sync succeeded\\n  \\n##### OK, perhaps the real problem starts here, when we  try  to publish as  \\\"active\\\"  but\\n##### we have issues talking to ZK (because CM caused a connection loss previously?)\\n  2&gt; 77478 T323 C14 P56842 oasc.ZkController.publish publishing core=collection1 state=active\\n  2&gt; 77480 T319 oaz.ClientCnxn$SendThread.run WARNING Session 0x13bfa14a03d0020  for  server  null , unexpected error, closing socket connection and attempting reconnect java.nio.channels.CancelledKeyException\\n\\n##### The first request that comes in  for  us in on T314, but  this  is the last we hear from  this  thread until time 109571 (same as the problematic add)\\n  2&gt; 82034 T314 C14 P56842 oasup.LogUpdateProcessor.processDelete PRE_UPDATE DELETE delete{flags=0,_version_=-1423033432318935040,id=60072,commitWithin=-1} {distrib.from=http: \\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n \\n \\n############## start of troublesome update\\n\\n  2&gt; 82115 T28 C12 P49621 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10079} {wt=javabin&amp;version=2}\\n  2&gt; 82116 T28 C12 P49621 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10079 version=1423033432421695488\\n  2&gt; 82117 T28 C12 P49621 PRE_UPDATE FINISH  {wt=javabin&amp;version=2}\\n  2&gt; 82118 T28 C12 P49621 \\/update {wt=javabin&amp;version=2} {add=[10079 (1423033432421695488)]} 0 3\\n\\n\\n##### Below, C4 receives the update, forwards it to the leader C2, which forwards it to C14 and C0.  Looking ahead, it looks like C14 is a problem node -  this  update takes a  long  time to complete.\\n\\n  2&gt; 82121 T59 C4 P48210 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10079} {wt=javabin&amp;version=2}\\n  2&gt; 82121 T59 C4 P48210 PRE_UPDATE FINISH  {wt=javabin&amp;version=2}\\n  2&gt; 82124 T44 C2 P41533 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10079} {distrib.from=http: \\/\\/127.0.0.1:48210\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 82124 T44 C2 P41533 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10079 version=1423033432430084096\\n  2&gt; 82125 T44 C2 P41533 PRE_UPDATE FINISH  {distrib.from=http: \\/\\/127.0.0.1:48210\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 82127 T315 C14 P56842 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10079} {distrib.from=http: \\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 82128 T89 C0 P56785 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10079} {distrib.from=http: \\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 82128 T89 C0 P56785 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10079 version=1423033432430084096\\n  2&gt; 82129 T89 C0 P56785 PRE_UPDATE FINISH  {distrib.from=http: \\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 82129 T89 C0 P56785 \\/update {distrib.from=http: \\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[10079 (1423033432430084096)]} 0 1\\n \\n  2&gt; 82247 T256 oasc.ChaosMonkey.monkeyLog monkey: chose a victim! 56785\\n  2&gt; 82247 T256 oasc.ChaosMonkey.monkeyLog monkey: expire session  for  56785 !\\n  2&gt; 82248 T256 oasc.ChaosMonkey.monkeyLog monkey: cause connection loss!\\n##### 56785 is C0, but it looks like we already completed our update forwarded from C2 (although it\'s always possible the response was not completely written yet)\\n\\n\\n\\n##### So C14 hung  for  some reason, but it doesn\'t look like the chaos monkey touched him!\\n  2&gt; 97029 T46 C2 P41533 oasc.SolrException.log SEVERE shard update error StdNode: http: \\/\\/127.0.0.1:56842\\/collection1\\/:org.apache.solr.client.solrj.SolrServerException: Timeout occured  while  waiting response from server at: http:\\/\\/127.0.0.1:56842\\/collection1\\n   2&gt; 97031 T46 C2 P41533 oasup.DistributedUpdateProcessor.doFinish  try  and ask http: \\/\\/127.0.0.1:56842 to recover\\n \\n##### I presume  this  is C14, and it got the request to recover\\n  2&gt; 97044 T316 oasha.CoreAdminHandler.handleRequestRecoveryAction It has been requested that we recover\\n\\n##### It looks like C2  finally  returned failure to C4, which retries sending to the leader\\n  2&gt; 97133 T59 C4 P48210 oasc.SolrException.log SEVERE forwarding update to http: \\/\\/127.0.0.1:41533\\/collection1\\/ failed - retrying ... \\n \\n##### Another timeout from the leader to that node - not sure what request  this  was...\\n  2&gt; 97135 T44 C2 P41533 oasc.SolrException.log SEVERE shard update error StdNode: http: \\/\\/127.0.0.1:56842\\/collection1\\/:org.apache.solr.client.solrj.SolrServerException: Timeout occured  while  waiting response from server at: http:\\/\\/127.0.0.1:56842\\/collection1\\n \\n##### But we ask the node to recover again, and it looks like the node gets that request again\\n  2&gt; 97137 T44 C2 P41533 oasup.DistributedUpdateProcessor.doFinish  try  and ask http: \\/\\/127.0.0.1:56842 to recover\\n   2&gt; 97138 T44 C2 P41533 oascsi.HttpClientUtil.createClient Creating  new  http client, config:maxConnections=128&amp;maxConnectionsPerHost=32&amp;followRedirects= false \\n  2&gt; 97148 T311 oasha.CoreAdminHandler.handleRequestRecoveryAction It has been requested that we recover\\n \\n\\n##### Below, the request was re-sent to the leader C2 from C4\\n##### Either the top level cloud client timed things out and re-sent, or the command distributor in C4 re-sent.\\n  2&gt; 97639 T47 C2 P41533 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10079} {distrib.from=http: \\/\\/127.0.0.1:48210\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 97641 T47 C2 P41533 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10079 version=1423033448699789312\\n  2&gt; 97643 T47 C2 P41533 PRE_UPDATE FINISH  {distrib.from=http: \\/\\/127.0.0.1:48210\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 97648 T313 C14 P56842 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10079} {distrib.from=http: \\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 97648 T93 C0 P56785 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10079} {distrib.from=http: \\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n  \\n\\n##### Why did  this  time out?  We saw C14 get the request... perhaps more needs to be done asynchronously on the receiving end of such a request? \\n##### Also, what\'s happening on C14 and C0 right now???\\n   2&gt; 102044 T46 C2 P41533 oasup.DistributedUpdateProcessor.doFinish Could not tell a replica to recover org.apache.solr.client.solrj.SolrServerException: Timeout occured  while  waiting response from server at: http: \\/\\/127.0.0.1:56842\\n \\n\\n##### The original hung update to C14  finally  finished after 27 sec.\\n  2&gt; 109516 T419 oascc.ConnectionManager.process Watcher org.apache.solr.common.cloud.ConnectionManager@58046530 name:ZooKeeperConnection Watcher:127.0.0.1:40151\\/solr got event WatchedEvent state:SyncConnected type:None path: null  path: null  type:None\\n  2&gt; 109518 T320 oascc.ConnectionManager.waitForConnected Client is connected to ZooKeeper\\n  2&gt; 109518 T320 oascc.ConnectionManager$1.update Connection with ZooKeeper reestablished.\\n  2&gt; 109519 T320 oasc.RecoveryStrategy.close WARNING Stopping recovery  for  zkNodeName=127.0.0.1:56842__collection1core=collection1\\n \\n  2&gt; 109564 T313 C14 P56842 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10079 version=1423033448699789312\\n  2&gt; 109571 T314 C14 P56842 PRE_UPDATE FINISH  {distrib.from=http: \\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 109571 T313 C14 P56842 PRE_UPDATE FINISH  {distrib.from=http: \\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 109571 T315 C14 P56842 PRE_UPDATE FINISH  {distrib.from=http: \\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 109572 T314 C14 P56842 \\/update {distrib.from=http: \\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {delete=[60072 (-1423033432318935040)]} 0 27538\\n   2&gt; 109572 T313 C14 P56842 \\/update {distrib.from=http: \\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[10079 (1423033448699789312)]} 0 11925\\n   2&gt; 109573 T315 C14 P56842 \\/update {distrib.from=http: \\/\\/127.0.0.1:41533\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[10079 (1423033432430084096)]} 0 27446\\n  \\n\\n  2&gt; ###### Only in cloudDocList: [{id=10079}]\\n\\n  2&gt; 207369 T545 C22 P57160 REQ \\/select {fl=id,_version_&amp;shard.url=127.0.0.1:41533\\/collection1\\/|127.0.0.1:57160\\/collection1\\/&amp;NOW=1357110561123&amp;tests=checkShardConsistency(vsControl)\\/getVers&amp;q=id:(+10079)&amp;ids=10079&amp;distrib= false &amp;isShard= true &amp;wt=javabin&amp;rows=100000&amp;version=2} status=0 QTime=1 \\n  2&gt; 207372 T10 oasc.AbstractFullDistribZkTestBase.checkShardConsistency SEVERE controlClient :{numFound=0,start=0,docs=[]}\\n  2&gt; \\t\\tcloudClient :{numFound=1,start=0,docs=[SolrDocument{id=10079, _version_=1423033464957960192}]}\\n \\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13542693\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13542693&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13542693\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13542693_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13542693_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jan\\/13 03:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-03T03:55:50+0000\'\u003e03\\/Jan\\/13 03:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'ve added a testing hook for failures in the command distributor, and hooked it up for the chaos monkey safe leader test to do a thread dump on socket timeout.  Hopefully this will help nail down why some of the requests are taking so long.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13542693_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13542693_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jan\\/13 03:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-03T03:55:50+0000\'\u003e03\\/Jan\\/13 03:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'ve added a testing hook for failures in the command distributor, and hooked it up for the chaos monkey safe leader test to do a thread dump on socket timeout.  Hopefully this will help nail down why some of the requests are taking so long.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13543164\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13543164&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13543164\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13543164_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13543164_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jan\\/13 18:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-03T18:31:46+0000\'\u003e03\\/Jan\\/13 18:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s a log with some notes on the first timeout.  Chaos monkey decides to cause connection loss to ZK at 48 sec.  At 60 sec, two requests start that don\'t seem to finish until 83 sec into the test.  They seem to be blocked in zkCheck().\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e  2&gt; 48972 T260 oasc.ChaosMonkey.monkeyLog monkey: chose a victim! 42854\\n  2&gt; 48973 T260 oasc.ChaosMonkey.monkeyLog monkey: expire session \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e 42854 !\\n  2&gt; 48975 T260 oasc.ChaosMonkey.monkeyLog monkey: cause connection loss!\\n\\n \\n  2&gt; 52127 T122 C3 P42854 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:51342\\/r_\\/f\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {delete=[60058 (-1423156803769729024)]} 0 1\\n\u003c\\/span\u003e  2&gt; 60518 T120 C3 P42854 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10063} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:51342\\/r_\\/f\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 60786 T124 C3 P42854 oasup.LogUpdateProcessor.processDelete PRE_UPDATE DELETE delete{flags=0,_version_=-1423156812849348608,id=60059,commitWithin=-1} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:51342\\/r_\\/f\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e\\n  2&gt; 75667 T74 C6 P51342 oasc.Diagnostics.logThreadDumps SEVERE REQUESTING THREAD DUMP DUE TO TIMEOUT: Timeout occured \u003cspan class=\\\"code-keyword\\\"\u003ewhile\u003c\\/span\u003e waiting response from server at: http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:42854\\/r_\\/f\\/collection1\\n\u003c\\/span\u003e[...]\\n  2&gt; \\t\u003cspan class=\\\"code-quote\\\"\u003e\\\"qtp1333272771-124\\\"\u003c\\/span\u003e Id=124 TIMED_WAITING\\n  2&gt; \\t\\tat java.lang.\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.sleep(Native Method)\\n  2&gt; \\t\\tat org.apache.solr.update.processor.DistributedUpdateProcessor.zkCheck(DistributedUpdateProcessor.java:925)\\n  2&gt; \\t\\tat org.apache.solr.update.processor.DistributedUpdateProcessor.processDelete(DistributedUpdateProcessor.java:699)\\n  2&gt; \\t\\tat org.apache.solr.update.processor.LogUpdateProcessor.processDelete(LogUpdateProcessor.java:97)\\n  2&gt; \\t\\tat org.apache.solr.handler.loader.XMLLoader.processDelete(XMLLoader.java:346)\\n  2&gt; \\t\\tat org.apache.solr.handler.loader.XMLLoader.processUpdate(XMLLoader.java:277)\\n  2&gt; \\t\\tat org.apache.solr.handler.loader.XMLLoader.load(XMLLoader.java:173)\\n  2&gt; \\t\\tat org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:92)\\n[...]\\n  2&gt; \\t\u003cspan class=\\\"code-quote\\\"\u003e\\\"qtp1333272771-120\\\"\u003c\\/span\u003e Id=120 TIMED_WAITING\\n  2&gt; \\t\\tat java.lang.\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.sleep(Native Method)\\n  2&gt; \\t\\tat org.apache.solr.update.processor.DistributedUpdateProcessor.zkCheck(DistributedUpdateProcessor.java:925)\\n  2&gt; \\t\\tat org.apache.solr.update.processor.DistributedUpdateProcessor.processAdd(DistributedUpdateProcessor.java:330)\\n  2&gt; \\t\\tat org.apache.solr.update.processor.LogUpdateProcessor.processAdd(LogUpdateProcessor.java:76)\\n  2&gt; \\t\\tat org.apache.solr.handler.loader.XMLLoader.processUpdate(XMLLoader.java:246)\\n  2&gt; \\t\\tat org.apache.solr.handler.loader.XMLLoader.load(XMLLoader.java:173)\\n  2&gt; \\t\\tat org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:92)\\n  2&gt; \\t\\tat org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:74)\\n\\n  2&gt; 83174 T124 C3 P42854 PRE_UPDATE FINISH  {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:51342\\/r_\\/f\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 83174 T120 C3 P42854 PRE_UPDATE FINISH  {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:51342\\/r_\\/f\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13543164_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13543164_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jan\\/13 18:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-03T18:31:46+0000\'\u003e03\\/Jan\\/13 18:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here\'s a log with some notes on the first timeout.  Chaos monkey decides to cause connection loss to ZK at 48 sec.  At 60 sec, two requests start that don\'t seem to finish until 83 sec into the test.  They seem to be blocked in zkCheck(). \\n\\n  \\n   2&gt; 48972 T260 oasc.ChaosMonkey.monkeyLog monkey: chose a victim! 42854\\n  2&gt; 48973 T260 oasc.ChaosMonkey.monkeyLog monkey: expire session  for  42854 !\\n  2&gt; 48975 T260 oasc.ChaosMonkey.monkeyLog monkey: cause connection loss!\\n\\n \\n  2&gt; 52127 T122 C3 P42854 \\/update {distrib.from=http: \\/\\/127.0.0.1:51342\\/r_\\/f\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {delete=[60058 (-1423156803769729024)]} 0 1\\n   2&gt; 60518 T120 C3 P42854 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10063} {distrib.from=http: \\/\\/127.0.0.1:51342\\/r_\\/f\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 60786 T124 C3 P42854 oasup.LogUpdateProcessor.processDelete PRE_UPDATE DELETE delete{flags=0,_version_=-1423156812849348608,id=60059,commitWithin=-1} {distrib.from=http: \\/\\/127.0.0.1:51342\\/r_\\/f\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n \\n  2&gt; 75667 T74 C6 P51342 oasc.Diagnostics.logThreadDumps SEVERE REQUESTING THREAD DUMP DUE TO TIMEOUT: Timeout occured  while  waiting response from server at: http: \\/\\/127.0.0.1:42854\\/r_\\/f\\/collection1\\n [...]\\n  2&gt; \\t \\\"qtp1333272771-124\\\"  Id=124 TIMED_WAITING\\n  2&gt; \\t\\tat java.lang. Thread .sleep(Native Method)\\n  2&gt; \\t\\tat org.apache.solr.update.processor.DistributedUpdateProcessor.zkCheck(DistributedUpdateProcessor.java:925)\\n  2&gt; \\t\\tat org.apache.solr.update.processor.DistributedUpdateProcessor.processDelete(DistributedUpdateProcessor.java:699)\\n  2&gt; \\t\\tat org.apache.solr.update.processor.LogUpdateProcessor.processDelete(LogUpdateProcessor.java:97)\\n  2&gt; \\t\\tat org.apache.solr.handler.loader.XMLLoader.processDelete(XMLLoader.java:346)\\n  2&gt; \\t\\tat org.apache.solr.handler.loader.XMLLoader.processUpdate(XMLLoader.java:277)\\n  2&gt; \\t\\tat org.apache.solr.handler.loader.XMLLoader.load(XMLLoader.java:173)\\n  2&gt; \\t\\tat org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:92)\\n[...]\\n  2&gt; \\t \\\"qtp1333272771-120\\\"  Id=120 TIMED_WAITING\\n  2&gt; \\t\\tat java.lang. Thread .sleep(Native Method)\\n  2&gt; \\t\\tat org.apache.solr.update.processor.DistributedUpdateProcessor.zkCheck(DistributedUpdateProcessor.java:925)\\n  2&gt; \\t\\tat org.apache.solr.update.processor.DistributedUpdateProcessor.processAdd(DistributedUpdateProcessor.java:330)\\n  2&gt; \\t\\tat org.apache.solr.update.processor.LogUpdateProcessor.processAdd(LogUpdateProcessor.java:76)\\n  2&gt; \\t\\tat org.apache.solr.handler.loader.XMLLoader.processUpdate(XMLLoader.java:246)\\n  2&gt; \\t\\tat org.apache.solr.handler.loader.XMLLoader.load(XMLLoader.java:173)\\n  2&gt; \\t\\tat org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:92)\\n  2&gt; \\t\\tat org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:74)\\n\\n  2&gt; 83174 T124 C3 P42854 PRE_UPDATE FINISH  {distrib.from=http: \\/\\/127.0.0.1:51342\\/r_\\/f\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 83174 T120 C3 P42854 PRE_UPDATE FINISH  {distrib.from=http: \\/\\/127.0.0.1:51342\\/r_\\/f\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n \\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13543173\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13543173&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13543173\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13543173_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13543173_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jan\\/13 18:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-03T18:38:25+0000\'\u003e03\\/Jan\\/13 18:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ezkCheck currently waits up to the length of the client timeout to see if the connection comes back before expiration...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13543173_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13543173_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jan\\/13 18:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-03T18:38:25+0000\'\u003e03\\/Jan\\/13 18:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    zkCheck currently waits up to the length of the client timeout to see if the connection comes back before expiration...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13543186\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13543186&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13543186\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13543186_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13543186_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jan\\/13 18:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-03T18:50:04+0000\'\u003e03\\/Jan\\/13 18:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Yonik Seeley - 04\\/Jan\\/13 00:15\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s another interesting tidbit:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e  2&gt;    \u003cspan class=\\\"code-quote\\\"\u003e\\\"recoveryExecutor-140-thread-1\\\"\u003c\\/span\u003e Id=320 TIMED_WAITING\\n  2&gt;            at java.lang.\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.sleep(Native Method)\\n  2&gt;            at org.apache.solr.update.processor.DistributedUpdateProcessor.zkCheck(DistributedUpdateProcessor.java:925)\\n  2&gt;            at org.apache.solr.update.processor.DistributedUpdateProcessor.processAdd(DistributedUpdateProcessor.java:330)\\n  2&gt;            at org.apache.solr.update.UpdateLog$LogReplayer.doReplay(UpdateLog.java:1268)\\n  2&gt;            at org.apache.solr.update.UpdateLog$LogReplayer.run(UpdateLog.java:1159)\\n  2&gt;            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)\\n  2&gt;            at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\\n  2&gt;            at java.util.concurrent.FutureTask.run(FutureTask.java:138)\\n  2&gt;            ...\\n  2&gt;    \\n  2&gt;            \u003cspan class=\\\"code-object\\\"\u003eNumber\u003c\\/span\u003e of locked synchronizers = 1\\n  2&gt;            - java.util.concurrent.locks.ReentrantLock$NonfairSync@1f2eb71e\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eSeems like we shouldn\'t check ZK if the update is from log replay or from peersync (basically if distrib=false?)\u003c\\/p\u003e\\n\\n\u003cp\u003eedit: I just committed \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4257\\\" title=\\\"Don&#39;t wait for ZK connection to apply replay updates or peersync updates\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4257\\\"\u003e\u003cdel\u003eSOLR-4257\u003c\\/del\u003e\u003c\\/a\u003e, which should handle these cases.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13543186_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13543186_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jan\\/13 18:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-03T18:50:04+0000\'\u003e03\\/Jan\\/13 18:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Yonik Seeley - 04\\/Jan\\/13 00:15\\\"\u003eedited\u003c\\/span\u003e                   Here\'s another interesting tidbit: \\n\\n  \\n   2&gt;     \\\"recoveryExecutor-140-thread-1\\\"  Id=320 TIMED_WAITING\\n  2&gt;            at java.lang. Thread .sleep(Native Method)\\n  2&gt;            at org.apache.solr.update.processor.DistributedUpdateProcessor.zkCheck(DistributedUpdateProcessor.java:925)\\n  2&gt;            at org.apache.solr.update.processor.DistributedUpdateProcessor.processAdd(DistributedUpdateProcessor.java:330)\\n  2&gt;            at org.apache.solr.update.UpdateLog$LogReplayer.doReplay(UpdateLog.java:1268)\\n  2&gt;            at org.apache.solr.update.UpdateLog$LogReplayer.run(UpdateLog.java:1159)\\n  2&gt;            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)\\n  2&gt;            at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\\n  2&gt;            at java.util.concurrent.FutureTask.run(FutureTask.java:138)\\n  2&gt;            ...\\n  2&gt;    \\n  2&gt;             Number  of locked synchronizers = 1\\n  2&gt;            - java.util.concurrent.locks.ReentrantLock$NonfairSync@1f2eb71e\\n \\n  \\n\\n Seems like we shouldn\'t check ZK if the update is from log replay or from peersync (basically if distrib=false?) \\n\\n edit: I just committed   SOLR-4257  , which should handle these cases.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13543979\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13543979&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13543979\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13543979_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13543979_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/13 16:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-04T16:06:10+0000\'\u003e04\\/Jan\\/13 16:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Yonik Seeley - 04\\/Jan\\/13 16:07\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s an analyzed log that I traced all the way to the end.\u003cbr\\/\u003e\\nThe issues involved are all timeout related (socket timeouts).\u003cbr\\/\u003e\\nTiming out an update request in general is bad, since the request itself normally continues on and can finish at some point in the future.\u003cbr\\/\u003e\\nWe should strive to only time out requests that are truely \\/ hopelessly hung.\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\\n  2&gt; 54461 T256 oasc.ChaosMonkey.monkeyLog monkey: chose a victim! 35930\\n  2&gt; 54462 T256 oasc.ChaosMonkey.monkeyLog monkey: expire session \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e 35930 !\\n  2&gt; 54473 T256 oasc.ChaosMonkey.monkeyLog monkey: cause connection loss!\\n\\n# NOTE: \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e some reason, \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e didn\u003cspan class=\\\"code-quote\\\"\u003e\'t seem to slow 35930 down... it\'\u003c\\/span\u003es still accepting and processing updates at \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e point!\\n\\n  2&gt; 59545 T256 oasc.ChaosMonkey.monkeyLog monkey: chose a victim! 35930\\n  2&gt; 59545 T256 oasc.ChaosMonkey.monkeyLog monkey: expire session \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e 35930 !\\n  2&gt; 59546 T256 oasc.ChaosMonkey.monkeyLog monkey: cause connection loss!\\n \\n\\n  2&gt; 65367 T48 C2 P47815 PRE_UPDATE FINISH  {wt=javabin&amp;version=2}\\n  2&gt; 65367 T48 C2 P47815 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {wt=javabin&amp;version=2}\\n# C2 is forwarding to the leader, C6 (P59996)\\n# NOTE: \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e is the same thread that \u003cspan class=\\\"code-keyword\\\"\u003efinally\u003c\\/span\u003e times out\\n\\n  2&gt; 65372 T75 C6 P59996 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:47815\\/to_\\/y\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 65374 T75 C6 P59996 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10070 version=1423189915618770944\\n\\n  2&gt; 65384 T179 C8 P40531 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 65384 T229 C11 P44046 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 65384 T124 C3 P35930 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 65385 T179 C8 P40531 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10070 version=1423189915618770944\\n  2&gt; 65385 T229 C11 P44046 PRE_UPDATE FINISH  {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 65387 T229 C11 P44046 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[10070 (1423189915618770944)]} 0 3\\n\u003c\\/span\u003e  2&gt; 65445 T179 C8 P40531 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[10070 (1423189915618770944)]} 0 62\\n\u003c\\/span\u003e# C8 and C11 finish, but C3 (P35930) does not\\n\\n\\n  2&gt; 80583 T48 C2 P47815 oasc.Diagnostics.logThreadDumps SEVERE REQUESTING THREAD DUMP DUE TO TIMEOUT: Timeout occured \u003cspan class=\\\"code-keyword\\\"\u003ewhile\u003c\\/span\u003e waiting response from server at: http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\n\u003c\\/span\u003e\\n  2&gt; \\t\u003cspan class=\\\"code-quote\\\"\u003e\\\"qtp330001436-124\\\"\u003c\\/span\u003e Id=124 TIMED_WAITING\\n  2&gt; \\t\\tat java.lang.\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.sleep(Native Method)\\n  2&gt; \\t\\tat org.apache.solr.update.processor.DistributedUpdateProcessor.zkCheck(DistributedUpdateProcessor.java:944)\\n  2&gt; \\t\\tat org.apache.solr.update.processor.DistributedUpdateProcessor.processAdd(DistributedUpdateProcessor.java:342)\\n  2&gt; \\t\\tat org.apache.solr.update.processor.LogUpdateProcessor.processAdd(LogUpdateProcessor.java:76)\\n  2&gt; \\t\\tat org.apache.solr.handler.loader.XMLLoader.processUpdate(XMLLoader.java:246)\\n  2&gt; \\t\\tat org.apache.solr.handler.loader.XMLLoader.load(XMLLoader.java:173)\\n  2&gt; \\t\\tat org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:92)\\n  2&gt; \\t\\tat org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:74)\\n \\n# C3 is waiting \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e the ZK connection\\n\\n  2&gt; 80926 T75 C6 P59996 oasc.SolrException.log SEVERE shard update error StdNode: http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:35930\\/to_\\/y\\/collection1\\/:org.apache.solr.client.solrj.SolrServerException: Timeout occured \u003cspan class=\\\"code-keyword\\\"\u003ewhile\u003c\\/span\u003e waiting response from server at: http:\\/\\/127.0.0.1:35930\\/to_\\/y\\/collection1\\n\u003c\\/span\u003e  2&gt; 80632 T73 C6 P59996 oasc.SolrException.log SEVERE shard update error StdNode: http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:35930\\/to_\\/y\\/collection1\\/:org.apache.solr.client.solrj.SolrServerException: Timeout occured \u003cspan class=\\\"code-keyword\\\"\u003ewhile\u003c\\/span\u003e waiting response from server at: http:\\/\\/127.0.0.1:35930\\/to_\\/y\\/collection1\\n\u003c\\/span\u003e\\n  2&gt; 80603 T48 C2 P47815 oasc.SolrException.log SEVERE forwarding update to http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/ failed - retrying ... \\n\u003c\\/span\u003e  2&gt; 80955 T75 C6 P59996 oasup.DistributedUpdateProcessor.doFinish \u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e and ask http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:35930\\/to_\\/y to recover\\n\u003c\\/span\u003e  2&gt; 80956 T73 C6 P59996 oasup.DistributedUpdateProcessor.doFinish \u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e and ask http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:35930\\/to_\\/y to recover\\n\u003c\\/span\u003e \\n# there are actually 2 updates failing, hence the 2 requests to recover\\n# It looks like C2 retries forwarding to the leader just at about the same time that the leader times out the requests to the replicas and asks them to recover\\n\\n  2&gt; 80965 T120 oasha.CoreAdminHandler.handleRequestRecoveryAction It has been requested that we recover\\n  2&gt; 80971 T121 oasha.CoreAdminHandler.handleRequestRecoveryAction It has been requested that we recover\\n\\n\\n  2&gt; 80972 T75 C6 P59996 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:47815\\/to_\\/y\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2} {add=[10070 (1423189915618770944)]} 0 15600\\n\u003c\\/span\u003e######### This is success because we added the doc to multiple shards and asked the shard that failed to recover?\\n\\n  2&gt; 81461 T76 C6 P59996 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:47815\\/to_\\/y\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e######### Now \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e is the retry from C2 sending to the leader, but we\'ve already counted the previous update a success on C6 (but C2 had already timed it out)\\n\\n  2&gt; 81463 T76 C6 P59996 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10070 version=1423189932489310208\\n  2&gt; 81465 T76 C6 P59996 PRE_UPDATE FINISH  {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:47815\\/to_\\/y\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e\\n  2&gt; 81471 T122 C3 P35930 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 81486 T324 C15 P44046 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 81489 T324 C15 P44046 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10070 version=1423189932489310208\\n  2&gt; 81497 T324 C15 P44046 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[10070 (1423189932489310208)]} 0 11\\n\u003c\\/span\u003e\\n\\n############# The following update doesn\'t have \u003cspan class=\\\"code-quote\\\"\u003e\\\"forward to leader\\\"\u003c\\/span\u003e on it!  This must be a retry from\\n############# the cloud client?\\n  2&gt; 95400 T74 C6 P59996 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {wt=javabin&amp;version=2}\\n  2&gt; 95402 T74 C6 P59996 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10070 version=1423189947105411072\\n  2&gt; 95404 T74 C6 P59996 PRE_UPDATE FINISH  {wt=javabin&amp;version=2}\\n\\n  2&gt; 95410 T327 C15 P44046 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 95411 T327 C15 P44046 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10070 version=1423189947105411072\\n  2&gt; 95414 T327 C15 P44046 PRE_UPDATE FINISH  {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 95415 T327 C15 P44046 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[10070 (1423189947105411072)]} 0 6\\n\u003c\\/span\u003e \\n  2&gt;  C16_STATE=coll:collection1 core:collection1 props:{shard=shard3, roles=\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e, state=active, core=collection1, collection=collection1, node_name=127.0.0.1:40531_to_%2Fy, base_url=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:40531\\/to_\\/y}\\n\u003c\\/span\u003e  2&gt; 95420 T358 C16 P40531 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 95424 T358 C16 P40531 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10070 version=1423189947105411072\\n  2&gt; 95432 T358 C16 P40531 PRE_UPDATE FINISH  {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 95433 T358 C16 P40531 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[10070 (1423189947105411072)]} 0 13\\n\u003c\\/span\u003e\\n  2&gt; 95436 T74 C6 P59996 \\/update {wt=javabin&amp;version=2} {add=[10070 (1423189947105411072)]} 0 36\\n############## The update is a success because apparently only C15 and C16 are active replcias of the shard?  \\n\\n\\n  2&gt; 95465 T124 C3 P35930 PRE_UPDATE FINISH  {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e\\n############# Here comes the delete \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e the document, since the second add finished! (even though the first is still hung up)\\n############# This must mean that the cloud client timed out the request?\\n\\n  2&gt; 96296 T25 C12 P52041 oasup.LogUpdateProcessor.processDelete PRE_UPDATE DELETE delete{flags=0,_version_=0,id=10070,commitWithin=-1} {wt=javabin&amp;version=2}\\n  2&gt; 96297 T25 C12 P52041 \\/update {wt=javabin&amp;version=2} {delete=[10070 (-1423189948044935168)]} 0 1\\n  2&gt; 96300 T75 C6 P59996 oasup.LogUpdateProcessor.processDelete PRE_UPDATE DELETE delete{flags=0,_version_=0,id=10070,commitWithin=-1} {wt=javabin&amp;version=2}\\n\\n\\n  2&gt; 96757 T48 C2 P47815 oasc.SolrException.log SEVERE forwarding update to http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/ failed - retrying ... \\n\u003c\\/span\u003e#### \u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e to forward to the leader again, and \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e is the update that \u003cspan class=\\\"code-keyword\\\"\u003efinally\u003c\\/span\u003e sticks\\n\\n  2&gt; 97306 T77 C6 P59996 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:47815\\/to_\\/y\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 97308 T77 C6 P59996 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10070 version=1423189949105045504\\n\\n  2&gt; 97315 T326 C15 P44046 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 97314 T359 C16 P40531 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 97321 T359 C16 P40531 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10070 version=1423189949105045504\\n  2&gt; 97323 T359 C16 P40531 PRE_UPDATE FINISH  {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 97323 T359 C16 P40531 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[10070 (1423189949105045504)]} 0 10\\n\u003c\\/span\u003e  2&gt; 97321 T326 C15 P44046 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10070 version=1423189949105045504\\n  2&gt; 97325 T326 C15 P44046 PRE_UPDATE FINISH  {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n\u003c\\/span\u003e  2&gt; 97325 T326 C15 P44046 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[10070 (1423189949105045504)]} 0 10\\n\u003c\\/span\u003e \\n  2&gt; 97326 T77 C6 P59996 \\/update {distrib.from=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:47815\\/to_\\/y\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2} {add=[10070 (1423189949105045504)]} 0 20\\n\u003c\\/span\u003e##### And now \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e update succeeds (which was a retry between non-leader and leader of the original update)\\n\\n\\n  2&gt; 97328 T48 C2 P47815 \\/update {wt=javabin&amp;version=2} {add=[10070]} 0 31962\\n#### This is the first (and only) time that the original update succeeded!\\n\\n  2&gt; ###### Only in cloudDocList: [{id=60073}, {id=10070}]\\n  2&gt; 209316 T76 C6 P59996 REQ \\/select {fl=id,_version_&amp;shard.url=127.0.0.1:59996\\/to_\\/y\\/collection1\\/|127.0.0.1:35930\\/to_\\/y\\/collection1\\/&amp;NOW=1357259813791&amp;tests=checkShardConsistency(vsControl)\\/getVers&amp;q=id:(+60073+10070)&amp;ids=60073,10070&amp;distrib=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e&amp;isShard=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e&amp;wt=javabin&amp;rows=100000&amp;version=2} status=0 QTime=1 \\n  2&gt; 209318 T10 oasc.AbstractFullDistribZkTestBase.checkShardConsistency SEVERE controlClient :{numFound=0,start=0,docs=[]}\\n  2&gt; \\t\\tcloudClient :{numFound=2,start=0,docs=[SolrDocument{id=10070, _version_=1423189949105045504}, SolrDocument{id=60073, _version_=1423189949103996928}]}\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eThere was a lot of timeout \\/ retry activity that could cause problems for other tests \\/ scenarios, but this test is simpler\u003cbr\\/\u003e\\nbecause it waits for a response to the add before moving on to possibly delete that add.  For this scenario, the\u003cbr\\/\u003e\\nretry that caused the issue was from the cloud client.  It timed out it\'s original update and retried the update.  The retry completed.  Then the test deleted that document.  Then the \u003cb\u003eoriginal\u003c\\/b\u003e update succeeded and added the doc back.\u003c\\/p\u003e\\n\\n\u003cp\u003eHaving the same timeouts on forwards to leaders as forwards from leaders has turned out to be not-so-good.  Because the former happens \u003cb\u003ebefore\u003c\\/b\u003e the latter, if a replica update hangs, the to_leader update will timeout and retry \u003cb\u003eslightly\u003c\\/b\u003e before the from_leader times out to the replica (and maybe succeeds by asking that replica to recover!).\u003c\\/p\u003e\\n\\n\u003cp\u003eQ) A replica receiving a forward \u003cb\u003efrom\u003c\\/b\u003e a leader - do we really need to have a ZK connection to accept that update?\u003cbr\\/\u003e\\nMaybe so for defensive check reasons?\u003c\\/p\u003e\\n\\n\u003cp\u003eHere\'s how I think we need to fix this:\u003cbr\\/\u003e\\nA) We need to figure out how long an update to a replica forwarded by the leader can reasonably take.  Then we need to make the socket timeout be greater than that.\u003cbr\\/\u003e\\nB) We need to figure out how long an update to a leader can take (taking into account (A)), and make the socket timeout to the leader greater than that.\u003cbr\\/\u003e\\nC) We need to figure out how long an update to a non-leader (which is then forwarded to a leader) can take, and make the socket timeout from SolrJ servers to be greater than that.\u003cbr\\/\u003e\\nD) Make sure that the generic Jetty socket timeouts are greater than all of the above?\u003c\\/p\u003e\\n\\n\u003cp\u003eIf it\'s too hard to separate all these different socket timeouts now, then the best approximation\u003cbr\\/\u003e\\nwould be to try and minimize the time any update can take, and raise all of the timeouts up high enough\u003cbr\\/\u003e\\nsuch that we should never see them.\u003c\\/p\u003e\\n\\n\u003cp\u003eWe should probably also take care to only retry in certain scenarios.  For instance if we try to forward to a leader, but can\'t reach the leader.  We should retry on connect timeout, but never on socket timeout.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13543979_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13543979_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/13 16:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-04T16:06:10+0000\'\u003e04\\/Jan\\/13 16:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Yonik Seeley - 04\\/Jan\\/13 16:07\\\"\u003eedited\u003c\\/span\u003e                   Here\'s an analyzed log that I traced all the way to the end. \\nThe issues involved are all timeout related (socket timeouts). \\nTiming out an update request in general is bad, since the request itself normally continues on and can finish at some point in the future. \\nWe should strive to only time out requests that are truely \\/ hopelessly hung. \\n\\n  \\n \\n  2&gt; 54461 T256 oasc.ChaosMonkey.monkeyLog monkey: chose a victim! 35930\\n  2&gt; 54462 T256 oasc.ChaosMonkey.monkeyLog monkey: expire session  for  35930 !\\n  2&gt; 54473 T256 oasc.ChaosMonkey.monkeyLog monkey: cause connection loss!\\n\\n# NOTE:  for  some reason,  this  didn \'t seem to slow 35930 down... it\' s still accepting and processing updates at  this  point!\\n\\n  2&gt; 59545 T256 oasc.ChaosMonkey.monkeyLog monkey: chose a victim! 35930\\n  2&gt; 59545 T256 oasc.ChaosMonkey.monkeyLog monkey: expire session  for  35930 !\\n  2&gt; 59546 T256 oasc.ChaosMonkey.monkeyLog monkey: cause connection loss!\\n \\n\\n  2&gt; 65367 T48 C2 P47815 PRE_UPDATE FINISH  {wt=javabin&amp;version=2}\\n  2&gt; 65367 T48 C2 P47815 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {wt=javabin&amp;version=2}\\n# C2 is forwarding to the leader, C6 (P59996)\\n# NOTE:  this  is the same thread that  finally  times out\\n\\n  2&gt; 65372 T75 C6 P59996 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http: \\/\\/127.0.0.1:47815\\/to_\\/y\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 65374 T75 C6 P59996 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10070 version=1423189915618770944\\n\\n  2&gt; 65384 T179 C8 P40531 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 65384 T229 C11 P44046 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 65384 T124 C3 P35930 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 65385 T179 C8 P40531 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10070 version=1423189915618770944\\n  2&gt; 65385 T229 C11 P44046 PRE_UPDATE FINISH  {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 65387 T229 C11 P44046 \\/update {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[10070 (1423189915618770944)]} 0 3\\n   2&gt; 65445 T179 C8 P40531 \\/update {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[10070 (1423189915618770944)]} 0 62\\n # C8 and C11 finish, but C3 (P35930) does not\\n\\n\\n  2&gt; 80583 T48 C2 P47815 oasc.Diagnostics.logThreadDumps SEVERE REQUESTING THREAD DUMP DUE TO TIMEOUT: Timeout occured  while  waiting response from server at: http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\n \\n  2&gt; \\t \\\"qtp330001436-124\\\"  Id=124 TIMED_WAITING\\n  2&gt; \\t\\tat java.lang. Thread .sleep(Native Method)\\n  2&gt; \\t\\tat org.apache.solr.update.processor.DistributedUpdateProcessor.zkCheck(DistributedUpdateProcessor.java:944)\\n  2&gt; \\t\\tat org.apache.solr.update.processor.DistributedUpdateProcessor.processAdd(DistributedUpdateProcessor.java:342)\\n  2&gt; \\t\\tat org.apache.solr.update.processor.LogUpdateProcessor.processAdd(LogUpdateProcessor.java:76)\\n  2&gt; \\t\\tat org.apache.solr.handler.loader.XMLLoader.processUpdate(XMLLoader.java:246)\\n  2&gt; \\t\\tat org.apache.solr.handler.loader.XMLLoader.load(XMLLoader.java:173)\\n  2&gt; \\t\\tat org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:92)\\n  2&gt; \\t\\tat org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:74)\\n \\n# C3 is waiting  for  the ZK connection\\n\\n  2&gt; 80926 T75 C6 P59996 oasc.SolrException.log SEVERE shard update error StdNode: http: \\/\\/127.0.0.1:35930\\/to_\\/y\\/collection1\\/:org.apache.solr.client.solrj.SolrServerException: Timeout occured  while  waiting response from server at: http:\\/\\/127.0.0.1:35930\\/to_\\/y\\/collection1\\n   2&gt; 80632 T73 C6 P59996 oasc.SolrException.log SEVERE shard update error StdNode: http: \\/\\/127.0.0.1:35930\\/to_\\/y\\/collection1\\/:org.apache.solr.client.solrj.SolrServerException: Timeout occured  while  waiting response from server at: http:\\/\\/127.0.0.1:35930\\/to_\\/y\\/collection1\\n \\n  2&gt; 80603 T48 C2 P47815 oasc.SolrException.log SEVERE forwarding update to http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/ failed - retrying ... \\n   2&gt; 80955 T75 C6 P59996 oasup.DistributedUpdateProcessor.doFinish  try  and ask http: \\/\\/127.0.0.1:35930\\/to_\\/y to recover\\n   2&gt; 80956 T73 C6 P59996 oasup.DistributedUpdateProcessor.doFinish  try  and ask http: \\/\\/127.0.0.1:35930\\/to_\\/y to recover\\n  \\n# there are actually 2 updates failing, hence the 2 requests to recover\\n# It looks like C2 retries forwarding to the leader just at about the same time that the leader times out the requests to the replicas and asks them to recover\\n\\n  2&gt; 80965 T120 oasha.CoreAdminHandler.handleRequestRecoveryAction It has been requested that we recover\\n  2&gt; 80971 T121 oasha.CoreAdminHandler.handleRequestRecoveryAction It has been requested that we recover\\n\\n\\n  2&gt; 80972 T75 C6 P59996 \\/update {distrib.from=http: \\/\\/127.0.0.1:47815\\/to_\\/y\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2} {add=[10070 (1423189915618770944)]} 0 15600\\n ######### This is success because we added the doc to multiple shards and asked the shard that failed to recover?\\n\\n  2&gt; 81461 T76 C6 P59996 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http: \\/\\/127.0.0.1:47815\\/to_\\/y\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2}\\n ######### Now  this  is the retry from C2 sending to the leader, but we\'ve already counted the previous update a success on C6 (but C2 had already timed it out)\\n\\n  2&gt; 81463 T76 C6 P59996 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10070 version=1423189932489310208\\n  2&gt; 81465 T76 C6 P59996 PRE_UPDATE FINISH  {distrib.from=http: \\/\\/127.0.0.1:47815\\/to_\\/y\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2}\\n \\n  2&gt; 81471 T122 C3 P35930 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 81486 T324 C15 P44046 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 81489 T324 C15 P44046 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10070 version=1423189932489310208\\n  2&gt; 81497 T324 C15 P44046 \\/update {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[10070 (1423189932489310208)]} 0 11\\n \\n\\n############# The following update doesn\'t have  \\\"forward to leader\\\"  on it!  This must be a retry from\\n############# the cloud client?\\n  2&gt; 95400 T74 C6 P59996 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {wt=javabin&amp;version=2}\\n  2&gt; 95402 T74 C6 P59996 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10070 version=1423189947105411072\\n  2&gt; 95404 T74 C6 P59996 PRE_UPDATE FINISH  {wt=javabin&amp;version=2}\\n\\n  2&gt; 95410 T327 C15 P44046 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 95411 T327 C15 P44046 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10070 version=1423189947105411072\\n  2&gt; 95414 T327 C15 P44046 PRE_UPDATE FINISH  {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 95415 T327 C15 P44046 \\/update {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[10070 (1423189947105411072)]} 0 6\\n  \\n  2&gt;  C16_STATE=coll:collection1 core:collection1 props:{shard=shard3, roles= null , state=active, core=collection1, collection=collection1, node_name=127.0.0.1:40531_to_%2Fy, base_url=http: \\/\\/127.0.0.1:40531\\/to_\\/y}\\n   2&gt; 95420 T358 C16 P40531 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 95424 T358 C16 P40531 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10070 version=1423189947105411072\\n  2&gt; 95432 T358 C16 P40531 PRE_UPDATE FINISH  {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 95433 T358 C16 P40531 \\/update {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[10070 (1423189947105411072)]} 0 13\\n \\n  2&gt; 95436 T74 C6 P59996 \\/update {wt=javabin&amp;version=2} {add=[10070 (1423189947105411072)]} 0 36\\n############## The update is a success because apparently only C15 and C16 are active replcias of the shard?  \\n\\n\\n  2&gt; 95465 T124 C3 P35930 PRE_UPDATE FINISH  {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n \\n############# Here comes the delete  for  the document, since the second add finished! (even though the first is still hung up)\\n############# This must mean that the cloud client timed out the request?\\n\\n  2&gt; 96296 T25 C12 P52041 oasup.LogUpdateProcessor.processDelete PRE_UPDATE DELETE delete{flags=0,_version_=0,id=10070,commitWithin=-1} {wt=javabin&amp;version=2}\\n  2&gt; 96297 T25 C12 P52041 \\/update {wt=javabin&amp;version=2} {delete=[10070 (-1423189948044935168)]} 0 1\\n  2&gt; 96300 T75 C6 P59996 oasup.LogUpdateProcessor.processDelete PRE_UPDATE DELETE delete{flags=0,_version_=0,id=10070,commitWithin=-1} {wt=javabin&amp;version=2}\\n\\n\\n  2&gt; 96757 T48 C2 P47815 oasc.SolrException.log SEVERE forwarding update to http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/ failed - retrying ... \\n ####  try  to forward to the leader again, and  this  is the update that  finally  sticks\\n\\n  2&gt; 97306 T77 C6 P59996 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http: \\/\\/127.0.0.1:47815\\/to_\\/y\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 97308 T77 C6 P59996 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10070 version=1423189949105045504\\n\\n  2&gt; 97315 T326 C15 P44046 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 97314 T359 C16 P40531 oasup.LogUpdateProcessor.processAdd PRE_UPDATE ADD add{flags=0,_version_=0,id=10070} {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 97321 T359 C16 P40531 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10070 version=1423189949105045504\\n  2&gt; 97323 T359 C16 P40531 PRE_UPDATE FINISH  {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 97323 T359 C16 P40531 \\/update {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[10070 (1423189949105045504)]} 0 10\\n   2&gt; 97321 T326 C15 P44046 oasu.DirectUpdateHandler2.checkDocument LOCAL_ADD: id=10070 version=1423189949105045504\\n  2&gt; 97325 T326 C15 P44046 PRE_UPDATE FINISH  {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2}\\n   2&gt; 97325 T326 C15 P44046 \\/update {distrib.from=http: \\/\\/127.0.0.1:59996\\/to_\\/y\\/collection1\\/&amp;update.distrib=FROMLEADER&amp;wt=javabin&amp;version=2} {add=[10070 (1423189949105045504)]} 0 10\\n  \\n  2&gt; 97326 T77 C6 P59996 \\/update {distrib.from=http: \\/\\/127.0.0.1:47815\\/to_\\/y\\/collection1\\/&amp;update.distrib=TOLEADER&amp;wt=javabin&amp;version=2} {add=[10070 (1423189949105045504)]} 0 20\\n ##### And now  this  update succeeds (which was a retry between non-leader and leader of the original update)\\n\\n\\n  2&gt; 97328 T48 C2 P47815 \\/update {wt=javabin&amp;version=2} {add=[10070]} 0 31962\\n#### This is the first (and only) time that the original update succeeded!\\n\\n  2&gt; ###### Only in cloudDocList: [{id=60073}, {id=10070}]\\n  2&gt; 209316 T76 C6 P59996 REQ \\/select {fl=id,_version_&amp;shard.url=127.0.0.1:59996\\/to_\\/y\\/collection1\\/|127.0.0.1:35930\\/to_\\/y\\/collection1\\/&amp;NOW=1357259813791&amp;tests=checkShardConsistency(vsControl)\\/getVers&amp;q=id:(+60073+10070)&amp;ids=60073,10070&amp;distrib= false &amp;isShard= true &amp;wt=javabin&amp;rows=100000&amp;version=2} status=0 QTime=1 \\n  2&gt; 209318 T10 oasc.AbstractFullDistribZkTestBase.checkShardConsistency SEVERE controlClient :{numFound=0,start=0,docs=[]}\\n  2&gt; \\t\\tcloudClient :{numFound=2,start=0,docs=[SolrDocument{id=10070, _version_=1423189949105045504}, SolrDocument{id=60073, _version_=1423189949103996928}]}\\n \\n  \\n There was a lot of timeout \\/ retry activity that could cause problems for other tests \\/ scenarios, but this test is simpler \\nbecause it waits for a response to the add before moving on to possibly delete that add.  For this scenario, the \\nretry that caused the issue was from the cloud client.  It timed out it\'s original update and retried the update.  The retry completed.  Then the test deleted that document.  Then the  original  update succeeded and added the doc back. \\n\\n Having the same timeouts on forwards to leaders as forwards from leaders has turned out to be not-so-good.  Because the former happens  before  the latter, if a replica update hangs, the to_leader update will timeout and retry  slightly  before the from_leader times out to the replica (and maybe succeeds by asking that replica to recover!). \\n\\n Q) A replica receiving a forward  from  a leader - do we really need to have a ZK connection to accept that update? \\nMaybe so for defensive check reasons? \\n\\n Here\'s how I think we need to fix this: \\nA) We need to figure out how long an update to a replica forwarded by the leader can reasonably take.  Then we need to make the socket timeout be greater than that. \\nB) We need to figure out how long an update to a leader can take (taking into account (A)), and make the socket timeout to the leader greater than that. \\nC) We need to figure out how long an update to a non-leader (which is then forwarded to a leader) can take, and make the socket timeout from SolrJ servers to be greater than that. \\nD) Make sure that the generic Jetty socket timeouts are greater than all of the above? \\n\\n If it\'s too hard to separate all these different socket timeouts now, then the best approximation \\nwould be to try and minimize the time any update can take, and raise all of the timeouts up high enough \\nsuch that we should never see them. \\n\\n We should probably also take care to only retry in certain scenarios.  For instance if we try to forward to a leader, but can\'t reach the leader.  We should retry on connect timeout, but never on socket timeout.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13544018\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13544018&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13544018\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13544018_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13544018_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/13 16:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-04T16:51:28+0000\'\u003e04\\/Jan\\/13 16:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI just noticed the update so and conn timeouts being set for tests were reversed and fixed.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13544018_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13544018_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/13 16:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-04T16:51:28+0000\'\u003e04\\/Jan\\/13 16:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I just noticed the update so and conn timeouts being set for tests were reversed and fixed.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13544110\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13544110&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13544110\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13544110_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13544110_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/13 19:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-04T19:04:21+0000\'\u003e04\\/Jan\\/13 19:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSince making the above change, fullmetaljenkins in \'choas duty mode\' seems to as happy as its ever been \u003ca href=\\\"http:\\/\\/fullmetaljenkins.org\\/view\\/Chaos\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/fullmetaljenkins.org\\/view\\/Chaos\\/\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ve also independently run 45 runs with an infinite timeout with no failures.\u003c\\/p\u003e\\n\\n\u003cp\u003eLooks like we can move on to the leader kill test...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13544110_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13544110_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/13 19:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-04T19:04:21+0000\'\u003e04\\/Jan\\/13 19:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Since making the above change, fullmetaljenkins in \'choas duty mode\' seems to as happy as its ever been  http:\\/\\/fullmetaljenkins.org\\/view\\/Chaos\\/  \\n\\n I\'ve also independently run 45 runs with an infinite timeout with no failures. \\n\\n Looks like we can move on to the leader kill test...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13544112\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13544112&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13544112\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13544112_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13544112_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/13 19:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-04T19:06:08+0000\'\u003e04\\/Jan\\/13 19:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFYI, ive also raised the timeout from 30s to 60s just to be safe - we will see if that makes freebsd cry or not.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13544112_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13544112_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/13 19:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-04T19:06:08+0000\'\u003e04\\/Jan\\/13 19:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    FYI, ive also raised the timeout from 30s to 60s just to be safe - we will see if that makes freebsd cry or not.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13544826\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13544826&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13544826\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13544826_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13544826_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jan\\/13 20:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-05T20:27:46+0000\'\u003e05\\/Jan\\/13 20:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;branch_4x commit&#93;\u003c\\/span\u003e Mark Robert Miller\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1429029\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1429029\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3180\\\" title=\\\"ChaosMonkey test failures\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3180\\\"\u003e\u003cdel\u003eSOLR-3180\u003c\\/del\u003e\u003c\\/a\u003e: tests: timeouts from 30 sec to 60 sec\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13544826_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13544826_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jan\\/13 20:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-05T20:27:46+0000\'\u003e05\\/Jan\\/13 20:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     &#91;branch_4x commit&#93;  Mark Robert Miller \\n http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1429029  \\n\\n   SOLR-3180  : tests: timeouts from 30 sec to 60 sec              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13544856\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13544856&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13544856\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13544856_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13544856_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jan\\/13 20:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-05T20:28:13+0000\'\u003e05\\/Jan\\/13 20:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;trunk commit&#93;\u003c\\/span\u003e Mark Robert Miller\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1429027\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1429027\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3180\\\" title=\\\"ChaosMonkey test failures\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3180\\\"\u003e\u003cdel\u003eSOLR-3180\u003c\\/del\u003e\u003c\\/a\u003e: tests: timeouts from 30 sec to 60 sec\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"commit-tag-bot\\\" id=\\\"commentauthor_13544856_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=commit-tag-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"commit-tag-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Commit Tag Bot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13544856_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jan\\/13 20:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-05T20:28:13+0000\'\u003e05\\/Jan\\/13 20:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     &#91;trunk commit&#93;  Mark Robert Miller \\n http:\\/\\/svn.apache.org\\/viewvc?view=revision&amp;revision=1429027  \\n\\n   SOLR-3180  : tests: timeouts from 30 sec to 60 sec              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13717355\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3180?focusedCommentId=13717355&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13717355\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13717355_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13717355_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jul\\/13 18:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-07-23T18:47:58+0000\'\u003e23\\/Jul\\/13 18:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBulk move 4.4 issues to 4.5 and 5.0\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13717355_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13717355_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jul\\/13 18:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-07-23T18:47:58+0000\'\u003e23\\/Jul\\/13 18:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Bulk move 4.4 issues to 4.5 and 5.0              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310230";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310230&amp;avatarId=22151\\\" alt=\\\"Solr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\"\u003eSolr\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520268793828"> 
    <input type="hidden" title="jira.request.server.time" value="272"> 
    <input type="hidden" title="jira.request.id" value="1013x95420157x6"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="14"> 
    <input type="hidden" title="db.reads.time.in.ms" value="32"> 
    <input type="hidden" title="db.conns.time.in.ms" value="38"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 1013x95420157x6
	          REQUEST TIMESTAMP : [05/Mar/2018:16:53:13 +0000]
	               REQUEST TIME : 0.2720
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 14

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=20, elapsedTotal=32394715, elapsedMin=383337, elapsedMax=9967391, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=24, elapsedTotal=38073267, elapsedMin=401221, elapsedMax=9988248, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>