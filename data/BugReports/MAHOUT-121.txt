<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|aab3060373c1fc180a3c19e0cf12b8833cb097da|lout"> 
  <link rel="shortcut icon" href="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"sd.customer.profile.multi.languages\":true,\"sd.customer.portal.transitions\":true,\"sd.customer.portal.transitions.config\":true,\"sd.custom.email.stripping.rules\":false,\"sd.sla.lucene.issue.id.callback.performance\":true,\"sd.new.settings.sidebar.location\":true,\"sd.workload.report.paginator\":true,\"sd.experimental.portal.search.algorithm.default.1\":false,\"sd.customer.portal.help.center.agent.announcement\":true,\"sd.sla.improved.rendering\":false,\"sd.experimental.portal.search.algorithm.default.2\":false,\"sd.customer.feedback.validate.reporter.on.token\":true,\"sd.custom.email.notifications.utf8.csat.star\":true,\"sd.who.create.customers.by.email.setting\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.renderer.consider.variable.format\":true,\"sd.stats.event.tracking\":true,\"sd.password.helper.dialog\":true,\"sd.canned.responses\":false,\"sd.portal.help.center.customer.signup.secondary.email\":true,\"sd.custom.email.notifications.manage.language\":true,\"sd.use.search.by.permissions\":true,\"sd.slavalue.record.updated.date\":false,\"sd.report.custom.date.range\":false,\"sd.kb.article.helpfulness.report\":false,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"sd.custom.email.notifications.styling\":true,\"sd.workinghours.new.page.bulldog.1\":false,\"sd.customer.portal.two.step.login\":false,\"sd.automation.psmq.async.executor\":true,\"sd.customer.org.list.page.lazy.search\":true,\"sd.approval.requested.when.handler\":true,\"sd.request.type.field.rest.api.filtering.bugfix\":true,\"sd.automation.then.action.auto.answer.approval\":true,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"sla.will.only.be.paused.if.they.are.already.started\":true,\"sd.kb.comment.share.stats.collection\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"sd.customer.orgs.group.participants\":true,\"sd.portal.help.center.customer.signup\":true,\"sd.sla.agent.jql.security.restricted\":true,\"sd.test.feature.flag.x\":true,\"sd.test.feature.flag.y\":false,\"sd.cluster.safe.mail.channel.shutdown\":true,\"sd.email.channel.folders\":false,\"sd.email.analytics.open\":false,\"sd.kb.project.creation.create.link.space\":true,\"sd.workinghours.new.page\":false,\"sd.confluence.anonymous.permission.fix\":true,\"com.atlassian.jira.issuetable.draggable\":true,\"sd.customer.portal.project.agent.announcement\":true,\"sd.automation.audit.log\":true,\"jira.jql.suggestrecentfields\":false,\"sd.canned.responses.check.index.startup\":false,\"sd.new.project.templates\":true,\"sd.custom.email.notifications.custom.rules.simple.ui\":false,\"sd.custom.email.notifications.cut.over\":true,\"sd.dismiss.all.misconfiguration.warnings.setting\":true,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"sd.sla.configurations.export\":true,\"sd.canned.responses.variable.substitution\":true,\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"sd.customer.portal.prioties.per.project.fix\":true,\"jira.instrumentation.laas\":false,\"sd.kb.self.service.report\":false,\"sla.improved.request.handling\":true,\"sd.no.schedule.async.upgrade.tasks\":true,\"sd.kb.primary.nav\":true,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"sd.kb.issueview.panel.phase2\":true,\"sd.email.outsider.comments\":true,\"jira.create.linked.issue\":true,\"sd.kb.issueview.panel\":true,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"sd.approvals.light.weight\":false,\"sd.automation.then.webhook\":true,\"sd.respect.inline.edit.issue.off\":true,\"jira.jql.smartautoselectfirst\":false,\"sd.global.portal.search.atlassian.only.tracking\":false,\"sd.automation.if.condition.comment.primary.action\":true,\"jira.priorities.per.project\":true,\"sd.inline.noformat.renderer\":true,\"sd.customer.request.type.create.edit.screens\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/png,image/vnd.wap.wbmp,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["com.atlassian.servicedesk.servicedesk-canned-responses-plugin:canned-responses-data-provider.data"]="{\"substitutionVariables\":{\"issue.summary\":\"Issue summary\",\"issue.description\":\"Issue description\",\"issue.key\":\"Issue key\",\"issue.reporter.name\":\"Issue reporter\",\"issue.resolution\":\"Issue resolution\",\"request.url\":\"Request URL\",\"request.status\":\"Request status\"}}";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-help-links.help-links"]="{\"help\":{\"email.settings\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"managing.queues\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+queues+for+your+team\",\"email.setup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"request.settings.help.bubble\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\",\"email.settings.suitablerequest\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email#Receivingrequestsbyemail-suitablerequest\",\"sla.import.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Importing+SLAs\",\"documentation.home\":\"https://docs.atlassian.com/jira/jsd-docs-039/JIRA+Service+Desk+Documentation\",\"default\":\"https://docs.atlassian.com/jira/jsd-docs-039/\",\"create.space.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base#serving-customers-with-a-knowledge-base-createpermission\",\"email.settings.troubleshooting\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+the+email+channel\",\"admin.notifications.config\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+service+desk+notifications\",\"troubleshoot.requesttype\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+request+types\",\"approvals.configuration\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+JIRA+Service+Desk+approvals\",\"setting.up.reports\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+service+desk+reports\",\"public.signup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+public+signup\",\"knowledge.base\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base\",\"resolve.permission.scheme.errors\":\"https://docs.atlassian.com/jira/jsd-docs-039/Resolving+permission+scheme+errors\",\"getting.started\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+with+JIRA+Service+Desk\",\"getting.started.agent\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+for+service+desk+agents\",\"invite.customers\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\"},\"kb\":{\"default\":\"https://confluence.atlassian.com/display/SDKB/\",\"troubleshooting.user.management.issues\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\",\"legacytransition\":\"https://confluence.atlassian.com/display/SDKB/Replacing+legacy+automatic+transitions+with+automation+rules\",\"umtroubleshoot\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\"}}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-base-url.base-url"]="\"https://issues.apache.org/jira\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"170951ce9c4460\"";
WRM._unparsedData["project-id"]="12310751";
WRM._unparsedData["project-key"]="\"MAHOUT\"";
WRM._unparsedData["project-name"]="\"Mahout\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310751";
WRM._unparsedData["projectKey"]="\"MAHOUT\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/1a6b21131945f6f49ff48336b49ca3fe-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/d8484c9183f546511a8e336a8779bcd9-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d3b35d835f8f46fc3b53bb4db7f85158-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/71d42e74136d842a3ef4d5d136484843-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/95a4826c265852f4904f1e0e7300df68-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/944bb39eced1b35cfc7194aa02eb5a5a/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/5a8f0f8b8aa8f96a4f0f7e9e248d62f3-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="MAHOUT-121"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[MAHOUT-121] Speed up distance calculations for sparse vectors - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[MAHOUT-121] Speed up distance calculations for sparse vectors - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/MAHOUT" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FMAHOUT-121">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310751" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Mahout'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310751&amp;avatarId=10103"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/MAHOUT">Mahout</a></li>
                 <li><a class="issue-link" data-issue-key="MAHOUT-121" href="/jira/browse/MAHOUT-121" id="key-val" rel="12426103">MAHOUT-121</a></li>
                </ol>
                <h1 id="summary-val">Speed up distance calculations for sparse vectors</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FMAHOUT-121"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/MAHOUT-121/MAHOUT-121.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/MAHOUT-121/MAHOUT-121.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/MAHOUT-121/MAHOUT-121.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/MAHOUT-121/MAHOUT-121.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" title="Improvement - An improvement or enhancement to an existing feature or task." width="16"> Improvement </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> None </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+MAHOUT+AND+fixVersion+%3D+0.2" title="0.2 ">0.2</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+MAHOUT+AND+component+%3D+Math" title="Math Math / Matrix / Vector stuff">Math</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12426103-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>From my mail to the Mahout mailing list.</p> 
                  <p>I am working on clustering a dataset which has thousands of sparse vectors. The complete dataset has few tens of thousands of feature items but each vector has only couple of hundred feature items. For this, there is an optimization in distance calculation, a link to which I found the archives of Mahout mailing list.</p> 
                  <p><a href="http://lingpipe-blog.com/2009/03/12/speeding-up-k-means-clustering-algebra-sparse-vectors/" class="external-link" rel="nofollow">http://lingpipe-blog.com/2009/03/12/speeding-up-k-means-clustering-algebra-sparse-vectors/</a></p> 
                  <p>I tried out this optimization. The test setup had 2000 document vectors with few hundred items. I ran canopy generation with Euclidean distance and t1, t2 values as 250 and 200.</p> 
                  <p>Current Canopy Generation: 28 min 15 sec.<br> Canopy Generation with distance optimization: 1 min 38 sec.</p> 
                  <p>I know by experience that using Integer, Double objects instead of primitives is computationally expensive. I changed the sparse vector implementation to used primitive collections by Trove [<br> <a href="http://trove4j.sourceforge.net/" class="external-link" rel="nofollow">http://trove4j.sourceforge.net/</a> ].</p> 
                  <p>Distance optimization with Trove: 59 sec<br> Current canopy generation with Trove: 21 min 55 sec</p> 
                  <p>To sum, these two optimizations reduced cluster generation time by a 97%.</p> 
                  <p>Currently, I have made the changes for Euclidean Distance, Canopy and KMeans. </p> 
                  <p>Licensing of Trove seems to be an issue which needs to be addressed.</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/MAHOUT-121?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/MAHOUT-121?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/MAHOUT-121?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/MAHOUT-121?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12411700" data-issue-id="12426103" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12411700/Canopy_Wiki_1000-2009-06-24.snapshot" draggable="true" data-downloadurl="application/octet-stream:Canopy_Wiki_1000-2009-06-24.snapshot:https://issues.apache.org/jira/secure/attachment/12411700/Canopy_Wiki_1000-2009-06-24.snapshot"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12411700/Canopy_Wiki_1000-2009-06-24.snapshot" title="Latest  24/Jun/09 20:55 - Grant Ingersoll" draggable="true" data-downloadurl="application/octet-stream:Canopy_Wiki_1000-2009-06-24.snapshot:https://issues.apache.org/jira/secure/attachment/12411700/Canopy_Wiki_1000-2009-06-24.snapshot">Canopy_Wiki_1000-2009-06-24.snapshot</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-06-24T20:55:51.388Z">24/Jun/09 20:55</time>
                   </dd>
                   <dd class="attachment-size">
                    1.78 MB
                   </dd>
                   <dd class="attachment-author">
                    Grant Ingersoll
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12411814" data-issue-id="12426103" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12411814/doc-vector-4k" draggable="true" data-downloadurl="application/octet-stream:doc-vector-4k:https://issues.apache.org/jira/secure/attachment/12411814/doc-vector-4k"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12411814/doc-vector-4k" title="Latest  25/Jun/09 13:19 - Shashikant Kore" draggable="true" data-downloadurl="application/octet-stream:doc-vector-4k:https://issues.apache.org/jira/secure/attachment/12411814/doc-vector-4k">doc-vector-4k</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-06-25T13:19:25.531Z">25/Jun/09 13:19</time>
                   </dd>
                   <dd class="attachment-size">
                    4.74 MB
                   </dd>
                   <dd class="attachment-author">
                    Shashikant Kore
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12411717" data-issue-id="12426103" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12411717/mahout-121.patch" draggable="true" data-downloadurl="text/x-patch:mahout-121.patch:https://issues.apache.org/jira/secure/attachment/12411717/mahout-121.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12411717/mahout-121.patch" title="Latest  24/Jun/09 22:04 - Grant Ingersoll" draggable="true" data-downloadurl="text/x-patch:mahout-121.patch:https://issues.apache.org/jira/secure/attachment/12411717/mahout-121.patch">mahout-121.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-06-24T22:04:24.200Z">24/Jun/09 22:04</time>
                   </dd>
                   <dd class="attachment-size">
                    16 kB
                   </dd>
                   <dd class="attachment-author">
                    Grant Ingersoll
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12408795" data-issue-id="12426103" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12408795/mahout-121.patch" draggable="true" data-downloadurl="text/x-patch:mahout-121.patch:https://issues.apache.org/jira/secure/attachment/12408795/mahout-121.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12408795/mahout-121.patch" title=" 22/May/09 11:47 - Shashikant Kore" draggable="true" data-downloadurl="text/x-patch:mahout-121.patch:https://issues.apache.org/jira/secure/attachment/12408795/mahout-121.patch">mahout-121.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-05-22T11:47:26.277Z">22/May/09 11:47</time>
                   </dd>
                   <dd class="attachment-size">
                    21 kB
                   </dd>
                   <dd class="attachment-author">
                    Shashikant Kore
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12411070" data-issue-id="12426103" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12411070/MAHOUT-121.patch" draggable="true" data-downloadurl="text/x-patch:MAHOUT-121.patch:https://issues.apache.org/jira/secure/attachment/12411070/MAHOUT-121.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12411070/MAHOUT-121.patch" title="Latest  18/Jun/09 12:39 - Sean Owen" draggable="true" data-downloadurl="text/x-patch:MAHOUT-121.patch:https://issues.apache.org/jira/secure/attachment/12411070/MAHOUT-121.patch">MAHOUT-121.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-06-18T12:39:59.072Z">18/Jun/09 12:39</time>
                   </dd>
                   <dd class="attachment-size">
                    113 kB
                   </dd>
                   <dd class="attachment-author">
                    Sean Owen
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12410971" data-issue-id="12426103" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12410971/MAHOUT-121.patch" draggable="true" data-downloadurl="text/x-patch:MAHOUT-121.patch:https://issues.apache.org/jira/secure/attachment/12410971/MAHOUT-121.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12410971/MAHOUT-121.patch" title=" 17/Jun/09 19:05 - Sean Owen" draggable="true" data-downloadurl="text/x-patch:MAHOUT-121.patch:https://issues.apache.org/jira/secure/attachment/12410971/MAHOUT-121.patch">MAHOUT-121.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-06-17T19:05:17.680Z">17/Jun/09 19:05</time>
                   </dd>
                   <dd class="attachment-size">
                    111 kB
                   </dd>
                   <dd class="attachment-author">
                    Sean Owen
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12410950" data-issue-id="12426103" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12410950/MAHOUT-121.patch" draggable="true" data-downloadurl="text/x-patch:MAHOUT-121.patch:https://issues.apache.org/jira/secure/attachment/12410950/MAHOUT-121.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12410950/MAHOUT-121.patch" title=" 17/Jun/09 15:38 - Sean Owen" draggable="true" data-downloadurl="text/x-patch:MAHOUT-121.patch:https://issues.apache.org/jira/secure/attachment/12410950/MAHOUT-121.patch">MAHOUT-121.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-06-17T15:38:11.870Z">17/Jun/09 15:38</time>
                   </dd>
                   <dd class="attachment-size">
                    108 kB
                   </dd>
                   <dd class="attachment-author">
                    Sean Owen
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12410934" data-issue-id="12426103" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12410934/MAHOUT-121.patch" draggable="true" data-downloadurl="text/x-patch:MAHOUT-121.patch:https://issues.apache.org/jira/secure/attachment/12410934/MAHOUT-121.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12410934/MAHOUT-121.patch" title=" 17/Jun/09 13:56 - Sean Owen" draggable="true" data-downloadurl="text/x-patch:MAHOUT-121.patch:https://issues.apache.org/jira/secure/attachment/12410934/MAHOUT-121.patch">MAHOUT-121.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-06-17T13:56:44.154Z">17/Jun/09 13:56</time>
                   </dd>
                   <dd class="attachment-size">
                    107 kB
                   </dd>
                   <dd class="attachment-author">
                    Sean Owen
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12410885" data-issue-id="12426103" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12410885/MAHOUT-121.patch" draggable="true" data-downloadurl="text/x-patch:MAHOUT-121.patch:https://issues.apache.org/jira/secure/attachment/12410885/MAHOUT-121.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12410885/MAHOUT-121.patch" title=" 17/Jun/09 02:28 - Grant Ingersoll" draggable="true" data-downloadurl="text/x-patch:MAHOUT-121.patch:https://issues.apache.org/jira/secure/attachment/12410885/MAHOUT-121.patch">MAHOUT-121.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-06-17T02:28:31.882Z">17/Jun/09 02:28</time>
                   </dd>
                   <dd class="attachment-size">
                    9 kB
                   </dd>
                   <dd class="attachment-author">
                    Grant Ingersoll
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12410596" data-issue-id="12426103" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12410596/Mahout1211.patch" draggable="true" data-downloadurl="text/x-patch:Mahout1211.patch:https://issues.apache.org/jira/secure/attachment/12410596/Mahout1211.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12410596/Mahout1211.patch" title="Latest  14/Jun/09 18:53 - Sean Owen" draggable="true" data-downloadurl="text/x-patch:Mahout1211.patch:https://issues.apache.org/jira/secure/attachment/12410596/Mahout1211.patch">Mahout1211.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-06-14T18:53:08.279Z">14/Jun/09 18:53</time>
                   </dd>
                   <dd class="attachment-size">
                    9 kB
                   </dd>
                   <dd class="attachment-author">
                    Sean Owen
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12414832" data-issue-id="12426103" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12414832/MAHOUT-121-cluster-distance.patch" draggable="true" data-downloadurl="text/x-patch:MAHOUT-121-cluster-distance.patch:https://issues.apache.org/jira/secure/attachment/12414832/MAHOUT-121-cluster-distance.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12414832/MAHOUT-121-cluster-distance.patch" title="Latest  29/Jul/09 01:05 - Grant Ingersoll" draggable="true" data-downloadurl="text/x-patch:MAHOUT-121-cluster-distance.patch:https://issues.apache.org/jira/secure/attachment/12414832/MAHOUT-121-cluster-distance.patch">MAHOUT-121-cluster-distance.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-07-29T01:05:23.320Z">29/Jul/09 01:05</time>
                   </dd>
                   <dd class="attachment-size">
                    1 kB
                   </dd>
                   <dd class="attachment-author">
                    Grant Ingersoll
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12415028" data-issue-id="12426103" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12415028/MAHOUT-121-distance-optimization.patch" draggable="true" data-downloadurl="text/x-patch:MAHOUT-121-distance-optimization.patch:https://issues.apache.org/jira/secure/attachment/12415028/MAHOUT-121-distance-optimization.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12415028/MAHOUT-121-distance-optimization.patch" title="Latest  30/Jul/09 15:42 - Nicolás Fantone" draggable="true" data-downloadurl="text/x-patch:MAHOUT-121-distance-optimization.patch:https://issues.apache.org/jira/secure/attachment/12415028/MAHOUT-121-distance-optimization.patch">MAHOUT-121-distance-optimization.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-07-30T15:42:21.680Z">30/Jul/09 15:42</time>
                   </dd>
                   <dd class="attachment-size">
                    5 kB
                   </dd>
                   <dd class="attachment-author">
                    Nicolás Fantone
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12410959" data-issue-id="12426103" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12410959/MAHOUT-121jfe.patch" draggable="true" data-downloadurl="text/plain:MAHOUT-121jfe.patch:https://issues.apache.org/jira/secure/attachment/12410959/MAHOUT-121jfe.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12410959/MAHOUT-121jfe.patch" title="Latest  17/Jun/09 16:39 - Jeff Eastman" draggable="true" data-downloadurl="text/plain:MAHOUT-121jfe.patch:https://issues.apache.org/jira/secure/attachment/12410959/MAHOUT-121jfe.patch">MAHOUT-121jfe.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-06-17T16:39:09.015Z">17/Jun/09 16:39</time>
                   </dd>
                   <dd class="attachment-size">
                    109 kB
                   </dd>
                   <dd class="attachment-author">
                    Jeff Eastman
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12415764" data-issue-id="12426103" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12415764/MAHOUT-121-new-distance-optimization.patch" draggable="true" data-downloadurl="text/x-patch:MAHOUT-121-new-distance-optimization.patch:https://issues.apache.org/jira/secure/attachment/12415764/MAHOUT-121-new-distance-optimization.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12415764/MAHOUT-121-new-distance-optimization.patch" title="Latest  06/Aug/09 17:34 - Nicolás Fantone" draggable="true" data-downloadurl="text/x-patch:MAHOUT-121-new-distance-optimization.patch:https://issues.apache.org/jira/secure/attachment/12415764/MAHOUT-121-new-distance-optimization.patch">MAHOUT-121-new-distance-optimization.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-08-06T17:34:30.681Z">06/Aug/09 17:34</time>
                   </dd>
                   <dd class="attachment-size">
                    5 kB
                   </dd>
                   <dd class="attachment-author">
                    Nicolás Fantone
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is related to">
                   is related to
                  </dt> 
                  <dd id="internal-12404768_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="MAHOUT-77: DistanceMeasure calculation slow for SparseVector"> <a href="/jira/browse/MAHOUT-77" data-issue-key="MAHOUT-77" class="issue-link link-title resolution">MAHOUT-77</a> <span class="link-summary">DistanceMeasure calculation slow for SparseVector</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/minor.svg" width="16" height="16" title="Minor - Minor loss of function, or other problem where easy workaround is present." alt="Minor - Minor loss of function, or other problem where easy workaround is present."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_gsingers" rel="gsingers" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Grant Ingersoll&quot;,&quot;emailAddress&quot;:&quot;gsingers@apache.org&quot;,&quot;username&quot;:&quot;gsingers&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="gsingers"></span></span> Grant Ingersoll </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_kshashi" rel="kshashi" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Shashikant Kore&quot;,&quot;emailAddress&quot;:&quot;shashikant@gmail.com&quot;,&quot;username&quot;:&quot;kshashi&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="kshashi"></span></span> Shashikant Kore </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">3</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="22/May/09 11:28"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2009-05-22T11:28:27+0000">22/May/09 11:28</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="04/Aug/10 15:02"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2010-08-04T15:02:28+0000">04/Aug/10 15:02</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="12/Aug/09 15:20"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2009-08-12T15:20:49+0000">12/Aug/09 15:20</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for n/a, Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/MAHOUT-121?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/MAHOUT-121?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/MAHOUT-121?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/MAHOUT-121?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/MAHOUT-121?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/MAHOUT-121?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/MAHOUT-121?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/MAHOUT-121?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/MAHOUT-121?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/MAHOUT-121?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/MAHOUT-121?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/MAHOUT-121?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12712043\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12712043&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12712043\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12712043_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12712043_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/May\\/09 11:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-05-22T11:45:11+0000\'\u003e22\\/May\\/09 11:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis is initial patch just show the idea behind optimization. Not a final patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12712043_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12712043_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/May\\/09 11:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-05-22T11:45:11+0000\'\u003e22\\/May\\/09 11:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This is initial patch just show the idea behind optimization. Not a final patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12712047\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12712047&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12712047\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12712047_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12712047_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/May\\/09 11:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-05-22T11:47:26+0000\'\u003e22\\/May\\/09 11:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis patch is intended to communicate the optimization idea. Not a final patch. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12712047_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12712047_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/May\\/09 11:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-05-22T11:47:26+0000\'\u003e22\\/May\\/09 11:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This patch is intended to communicate the optimization idea. Not a final patch.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12712193\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12712193&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12712193\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"tdunning\\\" id=\\\"commentauthor_12712193_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=tdunning\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"tdunning\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ted Dunning\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12712193_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/May\\/09 18:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-05-22T18:23:39+0000\'\u003e22\\/May\\/09 18:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt; Licensing of Trove seems to be an issue which needs to be addressed.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe licensing of trove is a non-starter.\u003c\\/p\u003e\\n\\n\u003cp\u003eTypically, however, you can limit the use to a few cases like Map&lt;Integer, Double&gt; and then simply re-implement or find a Apache compatible implementation.\u003c\\/p\u003e\\n\\n\u003cp\u003eThere is no magic involved in an open hash map in this kind of case.  Even just using two arrays with binary search could be acceptable.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"tdunning\\\" id=\\\"commentauthor_12712193_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=tdunning\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"tdunning\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ted Dunning\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12712193_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/May\\/09 18:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-05-22T18:23:39+0000\'\u003e22\\/May\\/09 18:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt; Licensing of Trove seems to be an issue which needs to be addressed. \\n\\n The licensing of trove is a non-starter. \\n\\n Typically, however, you can limit the use to a few cases like Map&lt;Integer, Double&gt; and then simply re-implement or find a Apache compatible implementation. \\n\\n There is no magic involved in an open hash map in this kind of case.  Even just using two arrays with binary search could be acceptable.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12712388\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12712388&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12712388\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dawidweiss\\\" id=\\\"commentauthor_12712388_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dawidweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dawidweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12712388_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/May\\/09 08:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-05-23T08:52:25+0000\'\u003e23\\/May\\/09 08:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThere is even a hash map implementation in Lucene, as far as I remember (part of string interning\\/ caching routine recently committed to the trunk). This could be a started. \u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ve been pestering Soren Bak to donate his excellent PCJ library to Apache &#8211; if so, we would have the problem of primitive collections of all kinds solved.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dawidweiss\\\" id=\\\"commentauthor_12712388_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dawidweiss\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dawidweiss\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dawid Weiss\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12712388_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/May\\/09 08:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-05-23T08:52:25+0000\'\u003e23\\/May\\/09 08:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    There is even a hash map implementation in Lucene, as far as I remember (part of string interning\\/ caching routine recently committed to the trunk). This could be a started.  \\n\\n I\'ve been pestering Soren Bak to donate his excellent PCJ library to Apache &#8211; if so, we would have the problem of primitive collections of all kinds solved.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12717812\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12717812&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12717812\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12717812_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12717812_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jun\\/09 20:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-09T20:29:37+0000\'\u003e09\\/Jun\\/09 20:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'ve been doing some profiling and we do indeed need a solution to the autoboxing stuff.  getQuick() and setQuick are (ironically, given their names) the big bottlenecks due to constant boxing.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12717812_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12717812_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jun\\/09 20:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-09T20:29:37+0000\'\u003e09\\/Jun\\/09 20:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'ve been doing some profiling and we do indeed need a solution to the autoboxing stuff.  getQuick() and setQuick are (ironically, given their names) the big bottlenecks due to constant boxing.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12717832\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12717832&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12717832\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bmargulies\\\" id=\\\"commentauthor_12717832_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bmargulies\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bmargulies\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Benson Margulies\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12717832_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jun\\/09 21:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-09T21:45:55+0000\'\u003e09\\/Jun\\/09 21:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI could make you a fast sparse vector, but I thought you wanted to wait for MTJ?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bmargulies\\\" id=\\\"commentauthor_12717832_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bmargulies\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bmargulies\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Benson Margulies\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12717832_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jun\\/09 21:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-09T21:45:55+0000\'\u003e09\\/Jun\\/09 21:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I could make you a fast sparse vector, but I thought you wanted to wait for MTJ?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12718026\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12718026&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12718026\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12718026_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12718026_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jun\\/09 10:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-10T10:54:14+0000\'\u003e10\\/Jun\\/09 10:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThat\'s right, Grant. Some simple tests showed that autoboxing can take 20x cpu and 5x memory compared to operations on primitives.  \u003c\\/p\u003e\\n\\n\u003cp\u003eFor sparse vectors, even Trove leaves some room for improvement. The input document vectors are read-only for the clustering code. In which case, Sparse vector could simply be two arrays. The sparse vectors used to generate centroid requires expandable vector. \u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12718026_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12718026_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jun\\/09 10:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-10T10:54:14+0000\'\u003e10\\/Jun\\/09 10:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    That\'s right, Grant. Some simple tests showed that autoboxing can take 20x cpu and 5x memory compared to operations on primitives.   \\n\\n For sparse vectors, even Trove leaves some room for improvement. The input document vectors are read-only for the clustering code. In which case, Sparse vector could simply be two arrays. The sparse vectors used to generate centroid requires expandable vector.  \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12718043\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12718043&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12718043\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bmargulies\\\" id=\\\"commentauthor_12718043_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bmargulies\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bmargulies\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Benson Margulies\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12718043_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jun\\/09 11:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-10T11:54:48+0000\'\u003e10\\/Jun\\/09 11:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eTwo arrays would indeed model all the high-speed C++ sparse vectors I have met. One optimization is to allow insertion without maintaining order and then resorting for algorithms that need to do many inserts in a row without reading.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bmargulies\\\" id=\\\"commentauthor_12718043_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bmargulies\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bmargulies\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Benson Margulies\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12718043_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jun\\/09 11:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-10T11:54:48+0000\'\u003e10\\/Jun\\/09 11:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Two arrays would indeed model all the high-speed C++ sparse vectors I have met. One optimization is to allow insertion without maintaining order and then resorting for algorithms that need to do many inserts in a row without reading.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12718966\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12718966&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12718966\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12718966_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12718966_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jun\\/09 20:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-12T20:27:56+0000\'\u003e12\\/Jun\\/09 20:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s a start at that last suggestion. Anyone care to see it finished? I can hack it out.\u003c\\/p\u003e\\n\\n\u003cp\u003epublic final class FastIntDouble {\u003c\\/p\u003e\\n\\n\u003cp\u003e  private static final double DEFAULT_VALUE = 0.0;\u003c\\/p\u003e\\n\\n\u003cp\u003e  private int[] indices;\u003cbr\\/\u003e\\n  private double[] values;\u003cbr\\/\u003e\\n  private int size;\u003c\\/p\u003e\\n\\n\u003cp\u003e  public FastIntDouble(int capacity) \u003c\\/p\u003e\\n{\\n    indices = new int[capacity];\\n    values = new double[capacity];\\n    size = 0;\\n  }\\n\\n\u003cp\u003e  private void growTo(int newCapacity) {\u003cbr\\/\u003e\\n    if (newCapacity &gt; indices.length) \u003c\\/p\u003e\\n{\\n      int[] newIndices = new int[newCapacity];\\n      System.arraycopy(indices, 0, newIndices, 0, size);\\n      indices = newIndices;\\n      double[] newValues = new double[newCapacity];\\n      System.arraycopy(values, 0, newValues, 0, size);\\n      values = newValues;\\n    }\\n\u003cp\u003e  }\u003c\\/p\u003e\\n\\n\u003cp\u003e  private int find(int index) {\u003cbr\\/\u003e\\n    int low = 0;\u003cbr\\/\u003e\\n    int high = size - 1;\u003cbr\\/\u003e\\n    while (low &lt;= high) {\u003cbr\\/\u003e\\n      int mid = (low + high) &gt;&gt;&gt; 1;\u003cbr\\/\u003e\\n      int midVal = indices\u003cspan class=\\\"error\\\"\u003e&#91;mid&#93;\u003c\\/span\u003e;\u003cbr\\/\u003e\\n      if (midVal &lt; index) \u003c\\/p\u003e\\n{\\n        low = mid + 1;\\n      }\\n\u003cp\u003e else if (midVal &gt; index) \u003c\\/p\u003e\\n{\\n        high = mid - 1;\\n      }\\n\u003cp\u003e else \u003c\\/p\u003e\\n{\\n        return mid;\\n      }\\n\u003cp\u003e    }\u003cbr\\/\u003e\\n    return -(low + 1);\u003cbr\\/\u003e\\n  }\u003c\\/p\u003e\\n\\n\u003cp\u003e  public double get(int index) \u003c\\/p\u003e\\n{\\n    int offset = find(index);\\n    return offset &gt;= 0 ? values[offset] : DEFAULT_VALUE;\\n  }\\n\\n\u003cp\u003e  public void set(int index, double value) {\u003cbr\\/\u003e\\n    int offset = find(index);\u003cbr\\/\u003e\\n    if (offset &gt;= 0) {\u003cbr\\/\u003e\\n      if (value == DEFAULT_VALUE) \u003c\\/p\u003e\\n{\\n        System.arraycopy(indices, offset + 1, indices, offset, size - offset);\\n        System.arraycopy(values, offset + 1, values, offset, size - offset);\\n        size--;\\n      }\\n\u003cp\u003e else \u003c\\/p\u003e\\n{\\n        values[offset] = value;\\n      }\\n\u003cp\u003e    } else {\u003cbr\\/\u003e\\n      if (value != DEFAULT_VALUE) {\u003cbr\\/\u003e\\n        if (size &gt;= indices.length) \u003c\\/p\u003e\\n{\\n          growTo(size &lt;&lt; 1);\\n        }\\n\u003cp\u003e        int at = -offset - 1;\u003cbr\\/\u003e\\n        if (size &gt; at) \u003c\\/p\u003e\\n{\\n          System.arraycopy(indices, at, indices, at + 1, size - at);\\n          System.arraycopy(values, at, values, at + 1, size - at);\\n        }\\n\u003cp\u003e        indices\u003cspan class=\\\"error\\\"\u003e&#91;at&#93;\u003c\\/span\u003e = index;\u003cbr\\/\u003e\\n        values\u003cspan class=\\\"error\\\"\u003e&#91;at&#93;\u003c\\/span\u003e = value;\u003cbr\\/\u003e\\n        size++;\u003cbr\\/\u003e\\n      }\u003cbr\\/\u003e\\n    }\u003cbr\\/\u003e\\n  }\u003c\\/p\u003e\\n\\n\u003cp\u003e}\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12718966_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12718966_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jun\\/09 20:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-12T20:27:56+0000\'\u003e12\\/Jun\\/09 20:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here\'s a start at that last suggestion. Anyone care to see it finished? I can hack it out. \\n\\n public final class FastIntDouble { \\n\\n   private static final double DEFAULT_VALUE = 0.0; \\n\\n   private int[] indices; \\n  private double[] values; \\n  private int size; \\n\\n   public FastIntDouble(int capacity)  \\n{\\n    indices = new int[capacity];\\n    values = new double[capacity];\\n    size = 0;\\n  }\\n\\n   private void growTo(int newCapacity) { \\n    if (newCapacity &gt; indices.length)  \\n{\\n      int[] newIndices = new int[newCapacity];\\n      System.arraycopy(indices, 0, newIndices, 0, size);\\n      indices = newIndices;\\n      double[] newValues = new double[newCapacity];\\n      System.arraycopy(values, 0, newValues, 0, size);\\n      values = newValues;\\n    }\\n   } \\n\\n   private int find(int index) { \\n    int low = 0; \\n    int high = size - 1; \\n    while (low &lt;= high) { \\n      int mid = (low + high) &gt;&gt;&gt; 1; \\n      int midVal = indices &#91;mid&#93; ; \\n      if (midVal &lt; index)  \\n{\\n        low = mid + 1;\\n      }\\n  else if (midVal &gt; index)  \\n{\\n        high = mid - 1;\\n      }\\n  else  \\n{\\n        return mid;\\n      }\\n     } \\n    return -(low + 1); \\n  } \\n\\n   public double get(int index)  \\n{\\n    int offset = find(index);\\n    return offset &gt;= 0 ? values[offset] : DEFAULT_VALUE;\\n  }\\n\\n   public void set(int index, double value) { \\n    int offset = find(index); \\n    if (offset &gt;= 0) { \\n      if (value == DEFAULT_VALUE)  \\n{\\n        System.arraycopy(indices, offset + 1, indices, offset, size - offset);\\n        System.arraycopy(values, offset + 1, values, offset, size - offset);\\n        size--;\\n      }\\n  else  \\n{\\n        values[offset] = value;\\n      }\\n     } else { \\n      if (value != DEFAULT_VALUE) { \\n        if (size &gt;= indices.length)  \\n{\\n          growTo(size &lt;&lt; 1);\\n        }\\n         int at = -offset - 1; \\n        if (size &gt; at)  \\n{\\n          System.arraycopy(indices, at, indices, at + 1, size - at);\\n          System.arraycopy(values, at, values, at + 1, size - at);\\n        }\\n         indices &#91;at&#93;  = index; \\n        values &#91;at&#93;  = value; \\n        size++; \\n      } \\n    } \\n  } \\n\\n }              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12719016\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12719016&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12719016\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"eelstretching\\\" id=\\\"commentauthor_12719016_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=eelstretching\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"eelstretching\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Stephen Green\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12719016_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jun\\/09 23:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-12T23:09:54+0000\'\u003e12\\/Jun\\/09 23:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDon\'t forget that there is java.util.Arrays.binarySearch (and it looks like they\'ve improved it since the last time that I looked.)\u003c\\/p\u003e\\n\\n\u003cp\u003eAlso, don\'t forget Josh Bloch\'s point about binary search.  For sufficiently large arrays, low+high might overflow an int, which will make your binary search unhappy.\u003c\\/p\u003e\\n\\n\u003cp\u003eAlso, also, if you\'re going to do a lot of finds in a row, you might want to provide an iterator-returning method that returns the positions in the array one-by-one as iterating through the array once will be faster than many binary searches.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"eelstretching\\\" id=\\\"commentauthor_12719016_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=eelstretching\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"eelstretching\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Stephen Green\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12719016_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jun\\/09 23:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-12T23:09:54+0000\'\u003e12\\/Jun\\/09 23:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Don\'t forget that there is java.util.Arrays.binarySearch (and it looks like they\'ve improved it since the last time that I looked.) \\n\\n Also, don\'t forget Josh Bloch\'s point about binary search.  For sufficiently large arrays, low+high might overflow an int, which will make your binary search unhappy. \\n\\n Also, also, if you\'re going to do a lot of finds in a row, you might want to provide an iterator-returning method that returns the positions in the array one-by-one as iterating through the array once will be faster than many binary searches.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12719094\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12719094&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12719094\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12719094_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12719094_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/09 07:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-13T07:55:26+0000\'\u003e13\\/Jun\\/09 07:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eGood point on the overflow, even if it would only happen after the  vector had over a billion non-zero elements, taking 12GB+ of memory! Arrays.binarySearch() has this issue, so perhaps good to just keep a fixed version of binary search.\u003c\\/p\u003e\\n\\n\u003cp\u003eYes there needs to be a way to iterate over the elements directly, quickly. Thinking it best to just return the arrays, if we\'re going for speed.\u003c\\/p\u003e\\n\\n\u003cp\u003eWould it be useful to take a shot at rewriting SparseVector to use this?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12719094_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12719094_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/09 07:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-13T07:55:26+0000\'\u003e13\\/Jun\\/09 07:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Good point on the overflow, even if it would only happen after the  vector had over a billion non-zero elements, taking 12GB+ of memory! Arrays.binarySearch() has this issue, so perhaps good to just keep a fixed version of binary search. \\n\\n Yes there needs to be a way to iterate over the elements directly, quickly. Thinking it best to just return the arrays, if we\'re going for speed. \\n\\n Would it be useful to take a shot at rewriting SparseVector to use this?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12719117\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12719117&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12719117\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12719117_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12719117_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/09 12:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-13T12:36:05+0000\'\u003e13\\/Jun\\/09 12:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eWould it be useful to take a shot at rewriting SparseVector to use this?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eYou could do that, or an alternate implementation.  Is there any case where one wouldn\'t want this?  Also, I wouldn\'t mind a little better name than FastIntDouble.  \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/wink.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12719117_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12719117_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/09 12:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-13T12:36:05+0000\'\u003e13\\/Jun\\/09 12:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Would it be useful to take a shot at rewriting SparseVector to use this?  \\n\\n You could do that, or an alternate implementation.  Is there any case where one wouldn\'t want this?  Also, I wouldn\'t mind a little better name than FastIntDouble.                 \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12719118\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12719118&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12719118\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12719118_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12719118_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/09 12:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-13T12:37:18+0000\'\u003e13\\/Jun\\/09 12:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAlso, seems like we could split out the original two issues that Shashikant brought up, right?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12719118_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12719118_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/09 12:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-13T12:37:18+0000\'\u003e13\\/Jun\\/09 12:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Also, seems like we could split out the original two issues that Shashikant brought up, right?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12719317\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12719317&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12719317\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12719317_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12719317_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jun\\/09 18:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-14T18:53:08+0000\'\u003e14\\/Jun\\/09 18:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere is a next patch that switches to use this new class in SparseVector. Thoughts?\u003c\\/p\u003e\\n\\n\u003cp\u003eMaybe the two classes should just be merged. Then SparseMatrix should be changed too.\u003c\\/p\u003e\\n\\n\u003cp\u003eI haven\'t measured the performance change but imagine it will be significant.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12719317_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12719317_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jun\\/09 18:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-14T18:53:08+0000\'\u003e14\\/Jun\\/09 18:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here is a next patch that switches to use this new class in SparseVector. Thoughts? \\n\\n Maybe the two classes should just be merged. Then SparseMatrix should be changed too. \\n\\n I haven\'t measured the performance change but imagine it will be significant.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12719462\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12719462&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12719462\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12719462_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12719462_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jun\\/09 08:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-15T08:48:55+0000\'\u003e15\\/Jun\\/09 08:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e+1 Grant\'s suggestion that we split two issues.\u003c\\/p\u003e\\n\\n\u003cp\u003eSean,  Doubling the vector size looks aggressive. In a recent experiment, I ran into trouble due to such aggressive expansion.  We could optimize memory usage and Sparse Vector initialization for input document vectors by exposing some low-level APIs. When document vector is read, we already know the number of elements in it. It need not go through the iterative set() method which avoids the movement of the array elements. FastIntDouble can be initialized by two parallel arrays created by reading the sparse vector formatted string.\u003c\\/p\u003e\\n\\n\u003cp\u003eI will try out your patch and report performance. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12719462_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12719462_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jun\\/09 08:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-15T08:48:55+0000\'\u003e15\\/Jun\\/09 08:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    +1 Grant\'s suggestion that we split two issues. \\n\\n Sean,  Doubling the vector size looks aggressive. In a recent experiment, I ran into trouble due to such aggressive expansion.  We could optimize memory usage and Sparse Vector initialization for input document vectors by exposing some low-level APIs. When document vector is read, we already know the number of elements in it. It need not go through the iterative set() method which avoids the movement of the array elements. FastIntDouble can be initialized by two parallel arrays created by reading the sparse vector formatted string. \\n\\n I will try out your patch and report performance.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12719511\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12719511&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12719511\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12719511_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12719511_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jun\\/09 10:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-15T10:37:20+0000\'\u003e15\\/Jun\\/09 10:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAgree with you on doubling the vector size, we can do something more conservative like growing 20%. Yes, also easy to add constructors that take arrays. You could also simply set the size in the constructor. The inserts then don\'t involve any array shuffling.\u003c\\/p\u003e\\n\\n\u003cp\u003eIf this proves a good win for performance I will work more on refining the change, and expanding it to SparseMatrix.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12719511_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12719511_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jun\\/09 10:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-15T10:37:20+0000\'\u003e15\\/Jun\\/09 10:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Agree with you on doubling the vector size, we can do something more conservative like growing 20%. Yes, also easy to add constructors that take arrays. You could also simply set the size in the constructor. The inserts then don\'t involve any array shuffling. \\n\\n If this proves a good win for performance I will work more on refining the change, and expanding it to SparseMatrix.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12719546\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12719546&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12719546\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12719546_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12719546_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jun\\/09 13:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-15T13:25:35+0000\'\u003e15\\/Jun\\/09 13:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSean, \u003c\\/p\u003e\\n\\n\u003cp\u003eYour patch has definitely improved the performance. For my test data set, it took 8m 34s to generate canopies. The trunk code has been running for 40 minutes and still only 85% of Mapper is complete. I increased the default size to 1024 and it took 5m 21s. \u003c\\/p\u003e\\n\\n\u003cp\u003eBut, this is higher than Trove\'s 3m 34s. The array copy operation on addition of new element to vector  seems to be the culprit. Think centroid calculation with has thousands of feature items.  This could be solved only with a hash implementation like Trove, which has (amortized) insertion and lookup time of O(1).\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12719546_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12719546_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jun\\/09 13:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-15T13:25:35+0000\'\u003e15\\/Jun\\/09 13:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Sean,  \\n\\n Your patch has definitely improved the performance. For my test data set, it took 8m 34s to generate canopies. The trunk code has been running for 40 minutes and still only 85% of Mapper is complete. I increased the default size to 1024 and it took 5m 21s.  \\n\\n But, this is higher than Trove\'s 3m 34s. The array copy operation on addition of new element to vector  seems to be the culprit. Think centroid calculation with has thousands of feature items.  This could be solved only with a hash implementation like Trove, which has (amortized) insertion and lookup time of O(1). \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12719632\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12719632&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12719632\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12719632_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12719632_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jun\\/09 16:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-15T16:38:55+0000\'\u003e15\\/Jun\\/09 16:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThat\'s good. I expect that, normally, vector updates are relatively infrequent. It should not take so many such edits to construct a vector, during construction for instance. What code does the work of creating the vectors, so I can add and integrate a faster mechanism there?\u003c\\/p\u003e\\n\\n\u003cp\u003eWe could switch to a hashtable implementation later if that is necessary.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12719632_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12719632_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jun\\/09 16:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-15T16:38:55+0000\'\u003e15\\/Jun\\/09 16:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    That\'s good. I expect that, normally, vector updates are relatively infrequent. It should not take so many such edits to construct a vector, during construction for instance. What code does the work of creating the vectors, so I can add and integrate a faster mechanism there? \\n\\n We could switch to a hashtable implementation later if that is necessary.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12720123\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12720123&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12720123\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12720123_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720123_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jun\\/09 13:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-16T13:34:45+0000\'\u003e16\\/Jun\\/09 13:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eApologies for posting incorrect results in previous comments.  I applied Sean\'s patch to the code which had optimization fo distance calculation.\u003c\\/p\u003e\\n\\n\u003cp\u003eWhen I applied this patch to the trunk, it took 2 hr 20mins to execute. I couldn\'t complete the run for the trunk code as there was trouble with my machine. But it wasn\'t complete after 4 hours. \u003c\\/p\u003e\\n\\n\u003cp\u003eI will re-run and post the correct results. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12720123_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720123_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jun\\/09 13:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-16T13:34:45+0000\'\u003e16\\/Jun\\/09 13:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Apologies for posting incorrect results in previous comments.  I applied Sean\'s patch to the code which had optimization fo distance calculation. \\n\\n When I applied this patch to the trunk, it took 2 hr 20mins to execute. I couldn\'t complete the run for the trunk code as there was trouble with my machine. But it wasn\'t complete after 4 hours.  \\n\\n I will re-run and post the correct results.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12720159\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12720159&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12720159\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12720159_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720159_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jun\\/09 14:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-16T14:40:47+0000\'\u003e16\\/Jun\\/09 14:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWhile you are at it, what are you running to load test? that way I can focus on optimizing construction of the vectors in that path to achieve a hopefully better result.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12720159_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720159_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jun\\/09 14:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-16T14:40:47+0000\'\u003e16\\/Jun\\/09 14:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    While you are at it, what are you running to load test? that way I can focus on optimizing construction of the vectors in that path to achieve a hopefully better result.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12720246\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12720246&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12720246\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12720246_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720246_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jun\\/09 17:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-16T17:19:11+0000\'\u003e16\\/Jun\\/09 17:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have document vectors created from some internal text.  I create canopies from those vectors.  Centroid calculation is a suspect area. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12720246_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720246_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jun\\/09 17:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-16T17:19:11+0000\'\u003e16\\/Jun\\/09 17:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have document vectors created from some internal text.  I create canopies from those vectors.  Centroid calculation is a suspect area.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12720469\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12720469&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12720469\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12720469_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720469_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 02:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T02:00:10+0000\'\u003e17\\/Jun\\/09 02:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'ve created some vectors from Wikipedia and can upload them.  I just started profiling using Canopy clustering 1000 Wikipedia docs and so far 87% of the time (after 5% map phase) is spent in getQuick() and 80% of which is Integer.valueOf().  I can run it longer, but I think it\'s safe to say it\'s the bottleneck.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ll try the patch and I\'ll upload the file and the params for running.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12720469_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720469_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 02:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T02:00:10+0000\'\u003e17\\/Jun\\/09 02:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'ve created some vectors from Wikipedia and can upload them.  I just started profiling using Canopy clustering 1000 Wikipedia docs and so far 87% of the time (after 5% map phase) is spent in getQuick() and 80% of which is Integer.valueOf().  I can run it longer, but I think it\'s safe to say it\'s the bottleneck. \\n\\n I\'ll try the patch and I\'ll upload the file and the params for running.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12720470\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12720470&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12720470\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12720470_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720470_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 02:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T02:12:04+0000\'\u003e17\\/Jun\\/09 02:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSparse Vector available at \u003ca href=\\\"http:\\/\\/people.apache.org\\/~gsingers\\/mahout\\/out.txt.gz\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/people.apache.org\\/~gsingers\\/mahout\\/out.txt.gz\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eRan as: \u003c\\/p\u003e\\n\u003cblockquote\u003e\\n\u003cp\u003eorg.apache.mahout.clustering.canopy.CanopyClusteringJob \\/Users\\/grantingersoll\\/projects\\/lucene\\/solr\\/wikipedia\\/part-out.txt \\/Users\\/grantingersoll\\/projects\\/lucene\\/solr\\/wikipedia\\/output org.apache.mahout.utils.EuclideanDistanceMeasure 1.3 1.0\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eNot sure if the values actually make sense, but that\'s what I\'m trying...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12720470_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720470_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 02:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T02:12:04+0000\'\u003e17\\/Jun\\/09 02:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Sparse Vector available at  http:\\/\\/people.apache.org\\/~gsingers\\/mahout\\/out.txt.gz  \\n\\n Ran as:  \\n \\n org.apache.mahout.clustering.canopy.CanopyClusteringJob \\/Users\\/grantingersoll\\/projects\\/lucene\\/solr\\/wikipedia\\/part-out.txt \\/Users\\/grantingersoll\\/projects\\/lucene\\/solr\\/wikipedia\\/output org.apache.mahout.utils.EuclideanDistanceMeasure 1.3 1.0  \\n Not sure if the values actually make sense, but that\'s what I\'m trying...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12720471\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12720471&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12720471\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12720471_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720471_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 02:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T02:28:31+0000\'\u003e17\\/Jun\\/09 02:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUpdated to trunk.  Did some profiling and the bottleneck is gone, or at least moved to other places.\u003c\\/p\u003e\\n\\n\u003cp\u003eHaven\'t actually evaluated correctness, but...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12720471_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720471_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 02:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T02:28:31+0000\'\u003e17\\/Jun\\/09 02:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Updated to trunk.  Did some profiling and the bottleneck is gone, or at least moved to other places. \\n\\n Haven\'t actually evaluated correctness, but...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12720473\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12720473&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12720473\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12720473_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720473_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 02:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T02:34:02+0000\'\u003e17\\/Jun\\/09 02:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePatch, of course, also needs a unit test for the OrderedIntDoubleMapping.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12720473_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720473_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 02:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T02:34:02+0000\'\u003e17\\/Jun\\/09 02:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Patch, of course, also needs a unit test for the OrderedIntDoubleMapping.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12720498\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12720498&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12720498\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12720498_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720498_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 05:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T05:11:40+0000\'\u003e17\\/Jun\\/09 05:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eGrant, \u003c\\/p\u003e\\n\\n\u003cp\u003eI am trying out the wikipedia vectors with the parameters you gave. It is running slow. Only 8% map completion after 18 minutes. Can you please post the performance before and after applying the OrderedIntDoubleMapping patch?\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;OT&#93;\u003c\\/span\u003e Also, was wondering how you came up with the values of t1 and t2 as 1.3 &amp; 1.0. This is  voodoo for me. For the dataset I am working with has a window of 0.05 in which the result changes from 0 canopies to 3,000 canopies.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12720498_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720498_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 05:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T05:11:40+0000\'\u003e17\\/Jun\\/09 05:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Grant,  \\n\\n I am trying out the wikipedia vectors with the parameters you gave. It is running slow. Only 8% map completion after 18 minutes. Can you please post the performance before and after applying the OrderedIntDoubleMapping patch? \\n\\n  &#91;OT&#93;  Also, was wondering how you came up with the values of t1 and t2 as 1.3 &amp; 1.0. This is  voodoo for me. For the dataset I am working with has a window of 0.05 in which the result changes from 0 canopies to 3,000 canopies. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12720627\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12720627&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12720627\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12720627_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720627_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 11:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T11:17:18+0000\'\u003e17\\/Jun\\/09 11:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAfter the patch, it was pretty fast, but like I said, I didn\'t evaluate any correctness just yet.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12720627_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720627_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 11:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T11:17:18+0000\'\u003e17\\/Jun\\/09 11:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    After the patch, it was pretty fast, but like I said, I didn\'t evaluate any correctness just yet.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12720677\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12720677&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12720677\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12720677_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720677_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 13:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T13:56:44+0000\'\u003e17\\/Jun\\/09 13:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s my latest patch, which incorporates a unit test, further refinements, as well as related changes we discussed on a separate thread. In fact, most of the diff is due to those other changes. The core of the change involves SparseVector and OrderedIntDoubleMapping.\u003c\\/p\u003e\\n\\n\u003cp\u003eIs this enough of a good start to commit, and move forward with? seems like we have evidence it gives a significant performance boost. There was a question of correctness\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12720677_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720677_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 13:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T13:56:44+0000\'\u003e17\\/Jun\\/09 13:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here\'s my latest patch, which incorporates a unit test, further refinements, as well as related changes we discussed on a separate thread. In fact, most of the diff is due to those other changes. The core of the change involves SparseVector and OrderedIntDoubleMapping. \\n\\n Is this enough of a good start to commit, and move forward with? seems like we have evidence it gives a significant performance boost. There was a question of correctness              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12720684\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12720684&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12720684\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12720684_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720684_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 14:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T14:20:06+0000\'\u003e17\\/Jun\\/09 14:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePresumably the tests of still pass, so there is some evidence of correctness.  \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12720684_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720684_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 14:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T14:20:06+0000\'\u003e17\\/Jun\\/09 14:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Presumably the tests of still pass, so there is some evidence of correctness.                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12720693\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12720693&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12720693\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12720693_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720693_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 14:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T14:51:49+0000\'\u003e17\\/Jun\\/09 14:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFYI, Sean, can you generate the patch from within the trunk directory, this will make applying it easier for everyone else.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12720693_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720693_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 14:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T14:51:49+0000\'\u003e17\\/Jun\\/09 14:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    FYI, Sean, can you generate the patch from within the trunk directory, this will make applying it easier for everyone else.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12720694\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12720694&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12720694\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12720694_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720694_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 14:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T14:54:18+0000\'\u003e17\\/Jun\\/09 14:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'m getting a lot of failures when applying this patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12720694_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720694_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 14:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T14:54:18+0000\'\u003e17\\/Jun\\/09 14:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'m getting a lot of failures when applying this patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12720722\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12720722&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12720722\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12720722_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720722_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 15:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T15:38:11+0000\'\u003e17\\/Jun\\/09 15:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAh yes my fault. I could not get IntelliJ to change the base directory, so, just edited the patch by hand. I think that works?\u003c\\/p\u003e\\n\\n\u003cp\u003eyes this is a diff against head, and, the unit tests pass.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12720722_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720722_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 15:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T15:38:11+0000\'\u003e17\\/Jun\\/09 15:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Ah yes my fault. I could not get IntelliJ to change the base directory, so, just edited the patch by hand. I think that works? \\n\\n yes this is a diff against head, and, the unit tests pass.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12720750\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12720750&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12720750\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_12720750_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720750_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 16:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T16:39:09+0000\'\u003e17\\/Jun\\/09 16:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI still had problems applying the previous patch so here\'s another from trunk that runs all tests. I\'m going to stop work on \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/MAHOUT-65\\\" title=\\\"Add Element Labels to Vectors and Matrices\\\" class=\\\"issue-link\\\" data-issue-key=\\\"MAHOUT-65\\\"\u003e\u003cdel\u003eMAHOUT-65\u003c\\/del\u003e\u003c\\/a\u003e until this gets stabilized.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_12720750_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720750_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 16:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T16:39:09+0000\'\u003e17\\/Jun\\/09 16:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I still had problems applying the previous patch so here\'s another from trunk that runs all tests. I\'m going to stop work on   MAHOUT-65   until this gets stabilized.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12720764\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12720764&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12720764\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_12720764_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720764_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 17:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T17:07:12+0000\'\u003e17\\/Jun\\/09 17:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eA bit premature perhaps. There is still an unresolved cardinality() reference in \\/Mahout\\/utils\\/src\\/test\\/java\\/org\\/apache\\/mahout\\/utils\\/vectors\\/lucene\\/LuceneIterableTest.java and the VectorTest testSparseVectorTimesX fails intermittently. AFAICT, none of the patches include \\/utils and that compile fails after the unit tests and packaging have succeeded.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_12720764_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720764_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 17:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T17:07:12+0000\'\u003e17\\/Jun\\/09 17:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    A bit premature perhaps. There is still an unresolved cardinality() reference in \\/Mahout\\/utils\\/src\\/test\\/java\\/org\\/apache\\/mahout\\/utils\\/vectors\\/lucene\\/LuceneIterableTest.java and the VectorTest testSparseVectorTimesX fails intermittently. AFAICT, none of the patches include \\/utils and that compile fails after the unit tests and packaging have succeeded.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12720798\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12720798&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12720798\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12720798_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720798_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 18:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T18:00:57+0000\'\u003e17\\/Jun\\/09 18:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI see, i did not even know this utils\\/ directory was added. I\'ll get it into my client and update it accordingly.\u003c\\/p\u003e\\n\\n\u003cp\u003eI didn\'t see a failure in that test, but, do see the problem &#8211; it uses a random number generator without a seed. I will add a seed, and see if I can find one that induces a failure.\u003c\\/p\u003e\\n\\n\u003cp\u003eTo avoid confusion... I suppose let me keep the \'official\' version of the patch for now since I need to make some fixes. It is still substantially identical to the last couple that have been posted, so, reviewing those is valid for anyone who cares.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12720798_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720798_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 18:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T18:00:57+0000\'\u003e17\\/Jun\\/09 18:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I see, i did not even know this utils\\/ directory was added. I\'ll get it into my client and update it accordingly. \\n\\n I didn\'t see a failure in that test, but, do see the problem &#8211; it uses a random number generator without a seed. I will add a seed, and see if I can find one that induces a failure. \\n\\n To avoid confusion... I suppose let me keep the \'official\' version of the patch for now since I need to make some fixes. It is still substantially identical to the last couple that have been posted, so, reviewing those is valid for anyone who cares.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12720810\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12720810&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12720810\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12720810_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720810_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 18:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T18:21:14+0000\'\u003e17\\/Jun\\/09 18:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eI see, i did not even know this utils\\/ directory was added. I\'ll get it into my client and update it accordingly. \u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eJust this morning...  Can you tell I\'ve got some time for Mahout lately?  \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/wink.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eTo avoid confusion... I suppose let me keep the \'official\' version of the patch for now since I need to make some fixes. It is still substantially identical to the last couple that have been posted, so, reviewing those is valid for anyone who cares.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eAll yours, but just so you know, this is a really hot topic for me and I\'ve got a deadline associated with it, so I can help if need be.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12720810_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720810_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 18:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T18:21:14+0000\'\u003e17\\/Jun\\/09 18:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     I see, i did not even know this utils\\/ directory was added. I\'ll get it into my client and update it accordingly.   \\n\\n Just this morning...  Can you tell I\'ve got some time for Mahout lately?    \\n\\n  To avoid confusion... I suppose let me keep the \'official\' version of the patch for now since I need to make some fixes. It is still substantially identical to the last couple that have been posted, so, reviewing those is valid for anyone who cares.  \\n\\n All yours, but just so you know, this is a really hot topic for me and I\'ve got a deadline associated with it, so I can help if need be.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12720831\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12720831&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12720831\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12720831_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720831_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 19:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T19:05:17+0000\'\u003e17\\/Jun\\/09 19:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOne more go-round. This fixes a bug, indeed, that was revealed by the vector test in certain randomly-generated situations. I found a seed that triggered it, so, was able to make the test deterministic and also to fix it. utils\\/ is OK now. Will wait a beat to see if anyone\'s got comments &#8211; aware this is holding up other changes though so will try to get this sorted tonight.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12720831_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720831_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 19:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T19:05:17+0000\'\u003e17\\/Jun\\/09 19:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    One more go-round. This fixes a bug, indeed, that was revealed by the vector test in certain randomly-generated situations. I found a seed that triggered it, so, was able to make the test deterministic and also to fix it. utils\\/ is OK now. Will wait a beat to see if anyone\'s got comments &#8211; aware this is holding up other changes though so will try to get this sorted tonight.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12720839\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12720839&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12720839\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_12720839_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720839_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 19:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T19:18:25+0000\'\u003e17\\/Jun\\/09 19:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe patch fails to install. More hand-editing?\u003c\\/p\u003e\\n\\n\u003cp\u003ejeff-eastmans-mac-pro:Mahout jeff$ patch -p0 &lt; \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/MAHOUT-121\\\" title=\\\"Speed up distance calculations for sparse vectors\\\" class=\\\"issue-link\\\" data-issue-key=\\\"MAHOUT-121\\\"\u003e\u003cdel\u003eMAHOUT-121\u003c\\/del\u003e\u003c\\/a\u003e&#40;2&#41;.patch \u003cbr\\/\u003e\\npatching file core\\/src\\/test\\/java\\/org\\/apache\\/mahout\\/matrix\\/TestOrderedIntDoubleMapping.java\u003cbr\\/\u003e\\npatching file core\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/meanshift\\/MeanShiftCanopy.java\u003cbr\\/\u003e\\nHunk #1 FAILED at 242.\u003cbr\\/\u003e\\nHunk #2 FAILED at 259.\u003cbr\\/\u003e\\nHunk #3 FAILED at 274.\u003cbr\\/\u003e\\nHunk #4 FAILED at 294.\u003cbr\\/\u003e\\nHunk #5 FAILED at 416.\u003cbr\\/\u003e\\n5 out of 5 hunks FAILED &#8211; saving rejects to file core\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/meanshift\\/MeanShiftCanopy.java.rej\u003cbr\\/\u003e\\npatching file core\\/src\\/test\\/java\\/org\\/apache\\/mahout\\/matrix\\/VectorTest.java\u003cbr\\/\u003e\\npatching file core\\/src\\/test\\/java\\/org\\/apache\\/mahout\\/matrix\\/TestDenseVector.java\u003cbr\\/\u003e\\npatching file core\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/dirichlet\\/models\\/NormalModel.java\u003cbr\\/\u003e\\npatching file core\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/matrix\\/VectorView.java\u003cbr\\/\u003e\\npatching file core\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/dirichlet\\/models\\/AsymmetricSampledNormalModel.java\u003cbr\\/\u003e\\npatching file core\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/utils\\/ManhattanDistanceMeasure.java\u003cbr\\/\u003e\\npatching file core\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/fuzzykmeans\\/SoftCluster.java\u003cbr\\/\u003e\\ncan\'t find file to patch at input line 598\u003cbr\\/\u003e\\nPerhaps you used the wrong -p or --strip option?\u003cbr\\/\u003e\\nThe text leading up to this was:\u003cbr\\/\u003e\\n--------------------------\u003c\\/p\u003e\\n\u003cdiv class=\'table-wrap\'\u003e\\n\u003ctable class=\'confluenceTable\'\u003e\u003ctbody\u003e\\n\u003ctr\u003e\\n\u003ctd class=\'confluenceTd\'\u003eIndex: trunk\\/examples\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/syntheticcontrol\\/dirichlet\\/NormalScModel.java\u003c\\/td\u003e\\n\u003c\\/tr\u003e\\n\u003ctr\u003e\\n\u003ctd class=\'confluenceTd\'\u003e===================================================================\u003c\\/td\u003e\\n\u003c\\/tr\u003e\\n\u003ctr\u003e\\n\u003ctd class=\'confluenceTd\'\u003e&#8212; trunk\\/examples\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/syntheticcontrol\\/dirichlet\\/NormalScModel.java\\t(revision 780473)\u003c\\/td\u003e\\n\u003c\\/tr\u003e\\n\u003ctr\u003e\\n\u003ctd class=\'confluenceTd\'\u003e+++ trunk\\/examples\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/syntheticcontrol\\/dirichlet\\/NormalScModel.java\\tTue Jun 16 20:58:30 BST 2009\u003cbr\\/\u003e\\n--------------------------\u003cbr\\/\u003e\\nFile to patch: ^C\u003c\\/td\u003e\\n\u003c\\/tr\u003e\\n\u003c\\/tbody\u003e\u003c\\/table\u003e\\n\u003c\\/div\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_12720839_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12720839_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/09 19:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-17T19:18:25+0000\'\u003e17\\/Jun\\/09 19:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The patch fails to install. More hand-editing? \\n\\n jeff-eastmans-mac-pro:Mahout jeff$ patch -p0 &lt;   MAHOUT-121  &#40;2&#41;.patch  \\npatching file core\\/src\\/test\\/java\\/org\\/apache\\/mahout\\/matrix\\/TestOrderedIntDoubleMapping.java \\npatching file core\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/meanshift\\/MeanShiftCanopy.java \\nHunk #1 FAILED at 242. \\nHunk #2 FAILED at 259. \\nHunk #3 FAILED at 274. \\nHunk #4 FAILED at 294. \\nHunk #5 FAILED at 416. \\n5 out of 5 hunks FAILED &#8211; saving rejects to file core\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/meanshift\\/MeanShiftCanopy.java.rej \\npatching file core\\/src\\/test\\/java\\/org\\/apache\\/mahout\\/matrix\\/VectorTest.java \\npatching file core\\/src\\/test\\/java\\/org\\/apache\\/mahout\\/matrix\\/TestDenseVector.java \\npatching file core\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/dirichlet\\/models\\/NormalModel.java \\npatching file core\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/matrix\\/VectorView.java \\npatching file core\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/dirichlet\\/models\\/AsymmetricSampledNormalModel.java \\npatching file core\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/utils\\/ManhattanDistanceMeasure.java \\npatching file core\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/fuzzykmeans\\/SoftCluster.java \\ncan\'t find file to patch at input line 598 \\nPerhaps you used the wrong -p or --strip option? \\nThe text leading up to this was: \\n-------------------------- \\n \\n  \\n \\n Index: trunk\\/examples\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/syntheticcontrol\\/dirichlet\\/NormalScModel.java \\n \\n \\n =================================================================== \\n \\n \\n &#8212; trunk\\/examples\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/syntheticcontrol\\/dirichlet\\/NormalScModel.java\\t(revision 780473) \\n \\n \\n +++ trunk\\/examples\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/syntheticcontrol\\/dirichlet\\/NormalScModel.java\\tTue Jun 16 20:58:30 BST 2009 \\n-------------------------- \\nFile to patch: ^C \\n \\n  \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12721230\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12721230&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12721230\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12721230_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12721230_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jun\\/09 12:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-18T12:39:59+0000\'\u003e18\\/Jun\\/09 12:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNot sure if my very truly last version of the patch got posted. Here it is. It is relative to the root rather than trunk\\/ &#8211; seems my hand editing doesn\'t work.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12721230_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12721230_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jun\\/09 12:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-18T12:39:59+0000\'\u003e18\\/Jun\\/09 12:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Not sure if my very truly last version of the patch got posted. Here it is. It is relative to the root rather than trunk\\/ &#8211; seems my hand editing doesn\'t work.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12721646\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12721646&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12721646\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12721646_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12721646_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Jun\\/09 04:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-19T04:47:02+0000\'\u003e19\\/Jun\\/09 04:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSince I am not hearing objections, and cognizant that people are waiting on this, going to commit. If there are issues we can roll back or tweak from there.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12721646_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12721646_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Jun\\/09 04:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-19T04:47:02+0000\'\u003e19\\/Jun\\/09 04:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Since I am not hearing objections, and cognizant that people are waiting on this, going to commit. If there are issues we can roll back or tweak from there.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12723724\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12723724&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12723724\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12723724_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12723724_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jun\\/09 20:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-24T20:32:48+0000\'\u003e24\\/Jun\\/09 20:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Shashi,\u003c\\/p\u003e\\n\\n\u003cp\u003eAny chance you can bring the optimization (distance calculation stuff) part of this up to date with trunk (the primitive stuff is all in)?\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks,\u003cbr\\/\u003e\\nGrant\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12723724_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12723724_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jun\\/09 20:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-24T20:32:48+0000\'\u003e24\\/Jun\\/09 20:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Shashi, \\n\\n Any chance you can bring the optimization (distance calculation stuff) part of this up to date with trunk (the primitive stuff is all in)? \\n\\n Thanks, \\nGrant              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12723730\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12723730&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12723730\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12723730_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12723730_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jun\\/09 20:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-24T20:55:51+0000\'\u003e24\\/Jun\\/09 20:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s a YourKit snapshot of me clustering 1000 wikipedia docs.  There are a few key bottlenecks:\u003cbr\\/\u003e\\n1. Distance calculation\u003cbr\\/\u003e\\n2. SparseVector.setQuick\u003cbr\\/\u003e\\n3. SparseVector.clone\u003c\\/p\u003e\\n\\n\u003cp\u003eAll three of these are heavily called during both Map and Reduce phases and are part of the distance calculation loops\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12723730_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12723730_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jun\\/09 20:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-24T20:55:51+0000\'\u003e24\\/Jun\\/09 20:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here\'s a YourKit snapshot of me clustering 1000 wikipedia docs.  There are a few key bottlenecks: \\n1. Distance calculation \\n2. SparseVector.setQuick \\n3. SparseVector.clone \\n\\n All three of these are heavily called during both Map and Reduce phases and are part of the distance calculation loops              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12723732\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12723732&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12723732\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12723732_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12723732_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jun\\/09 20:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-24T20:56:38+0000\'\u003e24\\/Jun\\/09 20:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNote, also on that Snapshot that I uploaded that I was running w\\/ \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/MAHOUT-139\\\" title=\\\"Make use of Vector Iterator capabilities where appropriate\\\" class=\\\"issue-link\\\" data-issue-key=\\\"MAHOUT-139\\\"\u003e\u003cdel\u003eMAHOUT-139\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12723732_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12723732_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jun\\/09 20:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-24T20:56:38+0000\'\u003e24\\/Jun\\/09 20:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Note, also on that Snapshot that I uploaded that I was running w\\/   MAHOUT-139                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12723766\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12723766&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12723766\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12723766_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12723766_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jun\\/09 22:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-24T22:04:24+0000\'\u003e24\\/Jun\\/09 22:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUpdated to trunk and incorporates Shashi\'s distance work.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12723766_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12723766_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jun\\/09 22:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-24T22:04:24+0000\'\u003e24\\/Jun\\/09 22:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Updated to trunk and incorporates Shashi\'s distance work.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12723980\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12723980&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12723980\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12723980_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12723980_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jun\\/09 09:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-25T09:48:05+0000\'\u003e25\\/Jun\\/09 09:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eGrant, \u003c\\/p\u003e\\n\\n\u003cp\u003eI was trying to verify the patch, but for some reason,  my hadoop setup refuses to run with \\\"Error reading task output\\\" message. Couldn\'t get it working after lots of effort. Will try it again. If you could post the performance numbers before and after the distance calculation improvement, it would be helpful to verify if those are in line with expectations.  \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12723980_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12723980_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jun\\/09 09:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-25T09:48:05+0000\'\u003e25\\/Jun\\/09 09:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Grant,  \\n\\n I was trying to verify the patch, but for some reason,  my hadoop setup refuses to run with \\\"Error reading task output\\\" message. Couldn\'t get it working after lots of effort. Will try it again. If you could post the performance numbers before and after the distance calculation improvement, it would be helpful to verify if those are in line with expectations.                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12724067\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12724067&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12724067\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12724067_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12724067_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jun\\/09 12:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-25T12:30:26+0000\'\u003e25\\/Jun\\/09 12:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'m getting inconsistent results. \u003c\\/p\u003e\\n\\n\u003cp\u003eIn one case, the current code without distance optimization generated canopies in 7m 23s and the distance-optimized code finished in 3m 13sec. \u003c\\/p\u003e\\n\\n\u003cp\u003eI modified the distance vectors to include terms which meet certain criterai (minimum # of docs, max % of docs). Now, optimized code run in 1m 23 sec and the non-optimized  code runs in 1m45sec.\u003c\\/p\u003e\\n\\n\u003cp\u003eGrant, have you seen this kind of behaviour?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12724067_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12724067_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jun\\/09 12:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-25T12:30:26+0000\'\u003e25\\/Jun\\/09 12:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'m getting inconsistent results.  \\n\\n In one case, the current code without distance optimization generated canopies in 7m 23s and the distance-optimized code finished in 3m 13sec.  \\n\\n I modified the distance vectors to include terms which meet certain criterai (minimum # of docs, max % of docs). Now, optimized code run in 1m 23 sec and the non-optimized  code runs in 1m45sec. \\n\\n Grant, have you seen this kind of behaviour?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12724075\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12724075&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12724075\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12724075_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12724075_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jun\\/09 12:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-25T12:58:24+0000\'\u003e25\\/Jun\\/09 12:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI haven\'t verified this, but intuitively, it doesn\'t seem all that unreasonable.  Presumably your vectors are a lot more sparse now.\u003c\\/p\u003e\\n\\n\u003cp\u003eBTW, I\'ll add the min #docs, % as options to the Driver.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12724075_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12724075_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jun\\/09 12:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-25T12:58:24+0000\'\u003e25\\/Jun\\/09 12:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I haven\'t verified this, but intuitively, it doesn\'t seem all that unreasonable.  Presumably your vectors are a lot more sparse now. \\n\\n BTW, I\'ll add the min #docs, % as options to the Driver.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12724077\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12724077&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12724077\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12724077_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12724077_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jun\\/09 13:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-25T13:04:57+0000\'\u003e25\\/Jun\\/09 13:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAlso, how many docs are you clustering on for these tests?  And have you checked out some of the utilities I\'ve been putting in?\u003c\\/p\u003e\\n\\n\u003cp\u003eCan you share more about your tests so I can reproduce them?  I will put up some Wikipedia Vectors soon.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12724077_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12724077_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jun\\/09 13:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-25T13:04:57+0000\'\u003e25\\/Jun\\/09 13:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Also, how many docs are you clustering on for these tests?  And have you checked out some of the utilities I\'ve been putting in? \\n\\n Can you share more about your tests so I can reproduce them?  I will put up some Wikipedia Vectors soon.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12724084\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12724084&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12724084\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12724084_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12724084_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jun\\/09 13:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-25T13:19:25+0000\'\u003e25\\/Jun\\/09 13:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e3889 Document vectors to test performance\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12724084_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12724084_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jun\\/09 13:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-25T13:19:25+0000\'\u003e25\\/Jun\\/09 13:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    3889 Document vectors to test performance              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12724225\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12724225&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12724225\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12724225_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12724225_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jun\\/09 19:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-25T19:37:29+0000\'\u003e25\\/Jun\\/09 19:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'m seeing definite performance gain on this latest patch.  I\'m going to commit, then we can iterate.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12724225_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12724225_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jun\\/09 19:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-25T19:37:29+0000\'\u003e25\\/Jun\\/09 19:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'m seeing definite performance gain on this latest patch.  I\'m going to commit, then we can iterate.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12724228\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12724228&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12724228\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12724228_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12724228_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jun\\/09 19:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-25T19:38:45+0000\'\u003e25\\/Jun\\/09 19:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBTW, any objection to me removing the sqrt calculation from EuclideanDistanceMeasure?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12724228_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12724228_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jun\\/09 19:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-25T19:38:45+0000\'\u003e25\\/Jun\\/09 19:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    BTW, any objection to me removing the sqrt calculation from EuclideanDistanceMeasure?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12724278\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12724278&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12724278\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12724278_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12724278_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jun\\/09 20:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-25T20:47:07+0000\'\u003e25\\/Jun\\/09 20:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommitted revision 788504.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12724278_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12724278_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jun\\/09 20:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-25T20:47:07+0000\'\u003e25\\/Jun\\/09 20:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Committed revision 788504.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12724517\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12724517&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12724517\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12724517_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12724517_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jun\\/09 13:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-26T13:27:21+0000\'\u003e26\\/Jun\\/09 13:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eGrant,\u003c\\/p\u003e\\n\\n\u003cp\u003eDidn\'t get your question. I see, EuclideanDistanceMeasure still returns the sqrt value and other calculations are moved to SquaredEuclideanDistanceMeasure. If someone is interested in only relative measure, using SquaredEuclideanDistanceMeasure is a faster solution.  The distance value returned by EuclideanDistanceMeasure still continues to be the same. Am I missing something here?\u003c\\/p\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12724517_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12724517_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jun\\/09 13:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-26T13:27:21+0000\'\u003e26\\/Jun\\/09 13:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Grant, \\n\\n Didn\'t get your question. I see, EuclideanDistanceMeasure still returns the sqrt value and other calculations are moved to SquaredEuclideanDistanceMeasure. If someone is interested in only relative measure, using SquaredEuclideanDistanceMeasure is a faster solution.  The distance value returned by EuclideanDistanceMeasure still continues to be the same. Am I missing something here? \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12724520\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12724520&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12724520\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12724520_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12724520_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jun\\/09 13:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-26T13:33:52+0000\'\u003e26\\/Jun\\/09 13:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis may be irrelevant &#8211; haven\'t thought it through &#8211; since someone mentioned using the triangle inequality to optimize some stuff earlier, I wonder if it is a problem that a squared-distance measure no longer satisfies this inequality? That is, it is not true that the square of one side is less than the sum of squares of other two sides.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12724520_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12724520_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jun\\/09 13:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-26T13:33:52+0000\'\u003e26\\/Jun\\/09 13:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This may be irrelevant &#8211; haven\'t thought it through &#8211; since someone mentioned using the triangle inequality to optimize some stuff earlier, I wonder if it is a problem that a squared-distance measure no longer satisfies this inequality? That is, it is not true that the square of one side is less than the sum of squares of other two sides.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12724548\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12724548&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12724548\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12724548_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12724548_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jun\\/09 13:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-26T13:54:20+0000\'\u003e26\\/Jun\\/09 13:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eI see, EuclideanDistanceMeasure still returns the sqrt value and other calculations are moved to SquaredEuclideanDistanceMeasure. If someone is interested in only relative measure, using SquaredEuclideanDistanceMeasure is a faster solution. The distance value returned by EuclideanDistanceMeasure still continues to be the same. Am I missing something here?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eNope, your not missing anything.  I added the SquaredEDM class yesterday per this discussion.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12724548_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12724548_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jun\\/09 13:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-06-26T13:54:20+0000\'\u003e26\\/Jun\\/09 13:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     I see, EuclideanDistanceMeasure still returns the sqrt value and other calculations are moved to SquaredEuclideanDistanceMeasure. If someone is interested in only relative measure, using SquaredEuclideanDistanceMeasure is a faster solution. The distance value returned by EuclideanDistanceMeasure still continues to be the same. Am I missing something here?  \\n\\n Nope, your not missing anything.  I added the SquaredEDM class yesterday per this discussion.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12736036\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12736036&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12736036\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12736036_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12736036_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jul\\/09 11:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-07-28T11:12:26+0000\'\u003e28\\/Jul\\/09 11:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eLooks like we missed some opportunities for using our new distance capabilities.  Will try to get a patch out soon.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12736036_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12736036_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jul\\/09 11:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-07-28T11:12:26+0000\'\u003e28\\/Jul\\/09 11:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Looks like we missed some opportunities for using our new distance capabilities.  Will try to get a patch out soon.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12736403\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12736403&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12736403\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12736403_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12736403_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jul\\/09 01:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-07-29T01:05:23+0000\'\u003e29\\/Jul\\/09 01:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ebrings back Shashi\'s distance change for KMeans\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12736403_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12736403_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jul\\/09 01:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-07-29T01:05:23+0000\'\u003e29\\/Jul\\/09 01:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    brings back Shashi\'s distance change for KMeans              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12736460\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12736460&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12736460\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12736460_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12736460_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jul\\/09 05:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-07-29T05:51:05+0000\'\u003e29\\/Jul\\/09 05:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eGrant,\u003c\\/p\u003e\\n\\n\u003cp\u003eThe latest patch brings back the changes from my first patch. This can go in.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12736460_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12736460_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jul\\/09 05:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-07-29T05:51:05+0000\'\u003e29\\/Jul\\/09 05:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Grant, \\n\\n The latest patch brings back the changes from my first patch. This can go in.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12736627\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12736627&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12736627\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nfantone\\\" id=\\\"commentauthor_12736627_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nfantone\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nfantone\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicol\\u00E1s Fantone\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12736627_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jul\\/09 13:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-07-29T13:19:13+0000\'\u003e29\\/Jul\\/09 13:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi all - I\'ve just sign up to Jira!\u003c\\/p\u003e\\n\\n\u003cp\u003eBefore committing this patch, could any of you take a look to my latest mail in the Mahout mailing list (it\'s a bit extensive to copy\\/paste in here)? With some enlightenment, I could create a patch from my work and we may be able to make bigger improvements for KMeans.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nfantone\\\" id=\\\"commentauthor_12736627_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nfantone\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nfantone\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicol\\u00E1s Fantone\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12736627_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jul\\/09 13:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-07-29T13:19:13+0000\'\u003e29\\/Jul\\/09 13:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi all - I\'ve just sign up to Jira! \\n\\n Before committing this patch, could any of you take a look to my latest mail in the Mahout mailing list (it\'s a bit extensive to copy\\/paste in here)? With some enlightenment, I could create a patch from my work and we may be able to make bigger improvements for KMeans.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12737875\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12737875&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12737875\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12737875_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12737875_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Aug\\/09 12:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-01T12:36:22+0000\'\u003e01\\/Aug\\/09 12:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Nicolas,\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m getting an error applying your patch:\u003c\\/p\u003e\\n\u003cblockquote\u003e\\n\u003cp\u003e patch -p 0 -i ..\\/patches\\/\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/MAHOUT-121\\\" title=\\\"Speed up distance calculations for sparse vectors\\\" class=\\\"issue-link\\\" data-issue-key=\\\"MAHOUT-121\\\"\u003e\u003cdel\u003eMAHOUT-121\u003c\\/del\u003e\u003c\\/a\u003e-distance-optimization.patch --dry-run\u003cbr\\/\u003e\\npatching file core\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/kmeans\\/Cluster.java\u003cbr\\/\u003e\\npatch: **** malformed patch at line 46: @@ -323,6 +327,10 @@\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eI create my patches by going to the top directory of mahout and doing:\u003cbr\\/\u003e\\nsvn diff &gt; ..\\/mypatch.patch\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12737875_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12737875_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Aug\\/09 12:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-01T12:36:22+0000\'\u003e01\\/Aug\\/09 12:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Nicolas, \\n\\n I\'m getting an error applying your patch: \\n \\n  patch -p 0 -i ..\\/patches\\/  MAHOUT-121  -distance-optimization.patch --dry-run \\npatching file core\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/kmeans\\/Cluster.java \\npatch: **** malformed patch at line 46: @@ -323,6 +327,10 @@  \\n\\n I create my patches by going to the top directory of mahout and doing: \\nsvn diff &gt; ..\\/mypatch.patch              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12737956\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12737956&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12737956\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nfantone\\\" id=\\\"commentauthor_12737956_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nfantone\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nfantone\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicol\\u00E1s Fantone\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12737956_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Aug\\/09 21:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-01T21:57:30+0000\'\u003e01\\/Aug\\/09 21:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUm... weird. That\'s the way I created the patch, too. I\'m going to revise it on Monday at work and upload a new one. (Maybe it\'s just an empty or a new line that I erased from the original .java and it\'s not translating correctly into the patch?) \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nfantone\\\" id=\\\"commentauthor_12737956_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nfantone\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nfantone\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicol\\u00E1s Fantone\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12737956_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Aug\\/09 21:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-01T21:57:30+0000\'\u003e01\\/Aug\\/09 21:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Um... weird. That\'s the way I created the patch, too. I\'m going to revise it on Monday at work and upload a new one. (Maybe it\'s just an empty or a new line that I erased from the original .java and it\'s not translating correctly into the patch?)               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12739712\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12739712&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12739712\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12739712_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739712_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 20:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T20:10:18+0000\'\u003e05\\/Aug\\/09 20:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNicolas, any word on your update?  Otherwise I will just apply my patch\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12739712_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739712_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 20:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T20:10:18+0000\'\u003e05\\/Aug\\/09 20:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Nicolas, any word on your update?  Otherwise I will just apply my patch              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12739835\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12739835&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12739835\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nfantone\\\" id=\\\"commentauthor_12739835_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nfantone\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nfantone\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicol\\u00E1s Fantone\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739835_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Aug\\/09 00:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-06T00:19:10+0000\'\u003e06\\/Aug\\/09 00:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'m terribly sorry. It was really busy these days at work, I didn\'t have a second to take a look at this. Tomorrow, I promise, I\'ll post a new patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nfantone\\\" id=\\\"commentauthor_12739835_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nfantone\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nfantone\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicol\\u00E1s Fantone\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739835_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Aug\\/09 00:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-06T00:19:10+0000\'\u003e06\\/Aug\\/09 00:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'m terribly sorry. It was really busy these days at work, I didn\'t have a second to take a look at this. Tomorrow, I promise, I\'ll post a new patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740166\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12740166&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740166\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nfantone\\\" id=\\\"commentauthor_12740166_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nfantone\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nfantone\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicol\\u00E1s Fantone\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740166_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Aug\\/09 17:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-06T17:34:30+0000\'\u003e06\\/Aug\\/09 17:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere it is. You\'ll notice some lines of code are commented after applying the patch. Just ignore them.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nfantone\\\" id=\\\"commentauthor_12740166_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nfantone\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nfantone\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicol\\u00E1s Fantone\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740166_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Aug\\/09 17:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-06T17:34:30+0000\'\u003e06\\/Aug\\/09 17:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here it is. You\'ll notice some lines of code are commented after applying the patch. Just ignore them.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740382\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12740382&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740382\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12740382_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740382_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 03:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T03:34:13+0000\'\u003e07\\/Aug\\/09 03:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNicolas,\u003c\\/p\u003e\\n\\n\u003cp\u003eI don\'t get the getStd() method now.  You moved the functionality from computeCentroid, but now getStd is never called, except in DisplayKMeans, which isn\'t part of the main execution path.  I also am not following the commenting out of the check to see if the two vectors are the same size, but then again, my eyes are glazing over in need of sleep.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12740382_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740382_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 03:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T03:34:13+0000\'\u003e07\\/Aug\\/09 03:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Nicolas, \\n\\n I don\'t get the getStd() method now.  You moved the functionality from computeCentroid, but now getStd is never called, except in DisplayKMeans, which isn\'t part of the main execution path.  I also am not following the commenting out of the check to see if the two vectors are the same size, but then again, my eyes are glazing over in need of sleep.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740420\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12740420&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740420\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12740420_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740420_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 05:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T05:56:15+0000\'\u003e07\\/Aug\\/09 05:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDeclaring variables out of the loop  looks like an optimization, but I suppose, compiler will do that automatically. Even if it doesn\'t, the performance penalty is not so significant to sacrifice the code readability (which is arguable.) I ran a simple test with million loops over float multiplication &amp; runs in 10ms. Moving the declarations outside the loop didn\'t change the results.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe floating point comparision (lengthSquared != -1) is not correct. It should be (lengthSquared &lt; 0), if at all we want to remove the Double object. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12740420_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740420_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 05:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T05:56:15+0000\'\u003e07\\/Aug\\/09 05:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Declaring variables out of the loop  looks like an optimization, but I suppose, compiler will do that automatically. Even if it doesn\'t, the performance penalty is not so significant to sacrifice the code readability (which is arguable.) I ran a simple test with million loops over float multiplication &amp; runs in 10ms. Moving the declarations outside the loop didn\'t change the results. \\n\\n The floating point comparision (lengthSquared != -1) is not correct. It should be (lengthSquared &lt; 0), if at all we want to remove the Double object.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740519\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12740519&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740519\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12740519_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740519_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 11:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T11:50:18+0000\'\u003e07\\/Aug\\/09 11:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eDeclaring variables out of the loop looks like an optimization, but I suppose, compiler will do that automatically\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eThis appears to be moving it right out of the computation all together, though, as getStd (we need a better name for that!) isn\'t even in the computation anymore, AFAICT.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12740519_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740519_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 11:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T11:50:18+0000\'\u003e07\\/Aug\\/09 11:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Declaring variables out of the loop looks like an optimization, but I suppose, compiler will do that automatically  \\n\\n This appears to be moving it right out of the computation all together, though, as getStd (we need a better name for that!) isn\'t even in the computation anymore, AFAICT.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740527\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12740527&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740527\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12740527_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740527_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 12:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T12:25:59+0000\'\u003e07\\/Aug\\/09 12:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOn the point of variable declaration &#8211; the location of the declaration has no impact on performance. It is not somehow \'declared\' multiple times if within a loop. Pulling it out of the loop could even be very slightly slower, if it means you are forced to assign it a dummy value at initialization which is never used. There\'s one more benefit when referencing objects: an Object reference that exists, say, in a loop &#8211; the reference goes out of scope when the loop finishes and its referent is immediately GC-able. If it\'s declared outside the loop, the reference exists until the larger containing block finishes. Unless you set it to null, but, that\'s more maintenance. It\'s a waste if the referent is large and not actually used anymore. This has actually bitten me in the past.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo in general, in Java. declare variables as deep and late as possible. \u003c\\/p\u003e\\n\\n\u003cp\u003eAgree with Shashikant that while using double instead of Double is nice, using -1 (really, use -1.0 &#8211; double literals belong with double values) as a signal value probably isn\'t right here. Just say &lt; 0.0.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12740527_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740527_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 12:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T12:25:59+0000\'\u003e07\\/Aug\\/09 12:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    On the point of variable declaration &#8211; the location of the declaration has no impact on performance. It is not somehow \'declared\' multiple times if within a loop. Pulling it out of the loop could even be very slightly slower, if it means you are forced to assign it a dummy value at initialization which is never used. There\'s one more benefit when referencing objects: an Object reference that exists, say, in a loop &#8211; the reference goes out of scope when the loop finishes and its referent is immediately GC-able. If it\'s declared outside the loop, the reference exists until the larger containing block finishes. Unless you set it to null, but, that\'s more maintenance. It\'s a waste if the referent is large and not actually used anymore. This has actually bitten me in the past. \\n\\n So in general, in Java. declare variables as deep and late as possible.  \\n\\n Agree with Shashikant that while using double instead of Double is nice, using -1 (really, use -1.0 &#8211; double literals belong with double values) as a signal value probably isn\'t right here. Just say &lt; 0.0.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740568\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12740568&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740568\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nfantone\\\" id=\\\"commentauthor_12740568_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nfantone\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nfantone\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicol\\u00E1s Fantone\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740568_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 14:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T14:33:05+0000\'\u003e07\\/Aug\\/09 14:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for the feedback, people. There are some things I\'d like to point out:\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\\n\u003cp\u003e\u003ccite\u003eI don\'t get the getStd() method now. You moved the functionality from computeCentroid, but now getStd is never called.\u003c\\/cite\u003e\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003ePlease, feel free to contradict me here - That was the whole point: getStd() is NEVER called. I search through the entire mahout-core project and no call was found. So, why do we need to add functionality where it does not belong, and moreover, it is not needed? If there\'s a computeCentroid() method, then let it compute a centroid... not estimate some deviation (which isn\'t actually used,  anyway) hundreds of times iteratively.  If there\'s a real need for that particular value, then create a method that calculates it. As there was no such method, I thought it was appropriate to use getStd().\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\\n\u003cp\u003e\u003ccite\u003eI also am not following the commenting out of the check to see if the two vectors are the same size\u003c\\/cite\u003e\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eFeel free to uncomment those lines and leave them as they once were. I realize that a size check is a needed and healthy thing, but then again, if the purpose of the \\\"optimized\\\" version of distance() is performance-gain perhaps we should consider dropping it out (there are a couple of methods in the project that already do that - check getDistanceSquared() is SparseVector).\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\\n\u003cp\u003e\u003ccite\u003eDeclaring variables out of the loop looks like an optimization, but I suppose, compiler will do that automatically. Even if it doesn\'t, the performance penalty is not so significant to sacrifice the code readability (which is arguable.)\u003c\\/cite\u003e\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eI have had this discussion dozens of times with my colleagues at the University and partners at work. Though I can accept the root of the issue at hand is kind of a myth (whether declaration inside of a loop impacts performance negatively or not), instantiation of thousands of unnecessary objects IS costly in JAVA - not to mention garbage-accumulative. At the end of the day, avoiding this kind of code-writing is, more often than not, a healthy thing to do - even if it means a decrease in readability.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\\n\u003cp\u003e\u003ccite\u003eI ran a simple test with million loops over float multiplication &amp; runs in 10ms. Moving the declarations outside the loop didn\'t change the results.\u003c\\/cite\u003e\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003efloats are a primitive type. Want a simple test? Use String, which also happen to be immutable. Something as straightforward as,\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ctt\u003eString s = new String(\\\"sample-string\\\");\u003c\\/tt\u003e\u003cbr\\/\u003e\\n{{for (int i = 0; i &lt; 250000; i++)\u003c\\/p\u003e\\n{s += \\\"anotherString\\\";}\\n\u003cp\u003e}}\u003c\\/p\u003e\\n\\n\u003cp\u003ewill take several minutes to complete thanks to the cost of instantiating a new String each iteration with a new value. Now, replace String with StringBuilder, += with append, and voil\\u00E0: no more instantiations, same result, few seconds.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\\n\u003cp\u003e\u003ccite\u003eThe floating point comparision (lengthSquared != -1) is not correct. It should be (lengthSquared &lt; 0), if at all we want to remove the Double object.\u003c\\/cite\u003e\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eAgree. You are completely right.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nfantone\\\" id=\\\"commentauthor_12740568_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nfantone\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nfantone\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicol\\u00E1s Fantone\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740568_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 14:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T14:33:05+0000\'\u003e07\\/Aug\\/09 14:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for the feedback, people. There are some things I\'d like to point out: \\n\\n \\n  I don\'t get the getStd() method now. You moved the functionality from computeCentroid, but now getStd is never called.   \\n\\n Please, feel free to contradict me here - That was the whole point: getStd() is NEVER called. I search through the entire mahout-core project and no call was found. So, why do we need to add functionality where it does not belong, and moreover, it is not needed? If there\'s a computeCentroid() method, then let it compute a centroid... not estimate some deviation (which isn\'t actually used,  anyway) hundreds of times iteratively.  If there\'s a real need for that particular value, then create a method that calculates it. As there was no such method, I thought it was appropriate to use getStd(). \\n\\n \\n  I also am not following the commenting out of the check to see if the two vectors are the same size   \\n\\n Feel free to uncomment those lines and leave them as they once were. I realize that a size check is a needed and healthy thing, but then again, if the purpose of the \\\"optimized\\\" version of distance() is performance-gain perhaps we should consider dropping it out (there are a couple of methods in the project that already do that - check getDistanceSquared() is SparseVector). \\n\\n \\n  Declaring variables out of the loop looks like an optimization, but I suppose, compiler will do that automatically. Even if it doesn\'t, the performance penalty is not so significant to sacrifice the code readability (which is arguable.)   \\n\\n I have had this discussion dozens of times with my colleagues at the University and partners at work. Though I can accept the root of the issue at hand is kind of a myth (whether declaration inside of a loop impacts performance negatively or not), instantiation of thousands of unnecessary objects IS costly in JAVA - not to mention garbage-accumulative. At the end of the day, avoiding this kind of code-writing is, more often than not, a healthy thing to do - even if it means a decrease in readability. \\n\\n \\n  I ran a simple test with million loops over float multiplication &amp; runs in 10ms. Moving the declarations outside the loop didn\'t change the results.   \\n\\n floats are a primitive type. Want a simple test? Use String, which also happen to be immutable. Something as straightforward as, \\n\\n  String s = new String(\\\"sample-string\\\");  \\n{{for (int i = 0; i &lt; 250000; i++) \\n{s += \\\"anotherString\\\";}\\n }} \\n\\n will take several minutes to complete thanks to the cost of instantiating a new String each iteration with a new value. Now, replace String with StringBuilder, += with append, and voil\\u00E0: no more instantiations, same result, few seconds. \\n\\n \\n  The floating point comparision (lengthSquared != -1) is not correct. It should be (lengthSquared &lt; 0), if at all we want to remove the Double object.   \\n\\n Agree. You are completely right.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740573\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12740573&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740573\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12740573_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740573_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 14:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T14:41:12+0000\'\u003e07\\/Aug\\/09 14:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003ePlease, feel free to contradict me here - That was the whole point: getStd() is NEVER called.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eAh, I see now.  We were in deed calculating it in computeCentroid lots of times, but it is only ever used for DisplayKMeans.  You are correct.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eAs for loop unrolling, etc. it is usually best to let the compiler take care of that.  As for strings, you should never, ever use String for concatenation.  It is a horrible performance drain.  StringBuilder is definitely the way to go.  Especially be on the look out for String concats in logging statements that aren\'t guarded by if (log.isDebugEnabled())\u003c\\/p\u003e\\n\\n\u003cp\u003eI will fix the lengthSquared comparison and commit.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12740573_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740573_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 14:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T14:41:12+0000\'\u003e07\\/Aug\\/09 14:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Please, feel free to contradict me here - That was the whole point: getStd() is NEVER called.  \\n\\n Ah, I see now.  We were in deed calculating it in computeCentroid lots of times, but it is only ever used for DisplayKMeans.  You are correct. \\n\\n\\n As for loop unrolling, etc. it is usually best to let the compiler take care of that.  As for strings, you should never, ever use String for concatenation.  It is a horrible performance drain.  StringBuilder is definitely the way to go.  Especially be on the look out for String concats in logging statements that aren\'t guarded by if (log.isDebugEnabled()) \\n\\n I will fix the lengthSquared comparison and commit. \\n\\n Thanks!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740576\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12740576&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740576\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12740576_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740576_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 14:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T14:46:57+0000\'\u003e07\\/Aug\\/09 14:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWhat about the commenting out of:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (centroid.size() != v.size()) {\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eIt seems like if we are going to do this in this distance measure, we should do it in the other distance measure.  We could push this out a layer via documentation and require the caller to do the check, if required.  Otherwise, do we have some guarantee that the centroid and the vector are the same cardinality in all cases of calls to this method?  I think we do explicitly for the Cluster calls, but that isn\'t the same.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12740576_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740576_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 14:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T14:46:57+0000\'\u003e07\\/Aug\\/09 14:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    What about the commenting out of: \\n  \\n  if  (centroid.size() != v.size()) {\\n \\n  \\n\\n It seems like if we are going to do this in this distance measure, we should do it in the other distance measure.  We could push this out a layer via documentation and require the caller to do the check, if required.  Otherwise, do we have some guarantee that the centroid and the vector are the same cardinality in all cases of calls to this method?  I think we do explicitly for the Cluster calls, but that isn\'t the same.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740577\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12740577&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740577\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12740577_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740577_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 14:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T14:55:49+0000\'\u003e07\\/Aug\\/09 14:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eStill picking on this loops \\/ declaration issue:\u003c\\/p\u003e\\n\\n\u003cp\u003eInstantiating unneeded objects is indeed, obviously, a waste. But the changes in the last patch (which I think we\'re discussing?) does not save instantiations &#8211; nor does it really add any either. I don\'t follow this point then.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe point illustrated by the String loop example has nothing to do with how variables declared, and everything to do with the difference between String and StringBuilder. It doesn\'t seem to address the point previously raised.\u003c\\/p\u003e\\n\\n\u003cp\u003eHere is a difference that doesn\'t matter:\u003c\\/p\u003e\\n\\n\u003cp\u003eString s = null;\u003cbr\\/\u003e\\nfor (int i = 0; i &lt; 250000; i++)\u003c\\/p\u003e\\n{s = \\\"anotherString: \\\" + i;}\\n\\n\u003cp\u003efor (int i = 0; i &lt; 250000; i++)\u003c\\/p\u003e\\n{String s = \\\"anotherString: \\\" + i;}\\n\\n\u003cp\u003eIn fact the first is ever so slightly worse since it sets s to null, but the value is unused. But it is worse for another reason: s continues to point to \\\"anotherString: 249999\\\" after the loop terminates, which is also pointless.\u003c\\/p\u003e\\n\\n\u003cp\u003eHence I would undo that part of the patch unless there is another purpose to it I missed.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12740577_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740577_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 14:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T14:55:49+0000\'\u003e07\\/Aug\\/09 14:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Still picking on this loops \\/ declaration issue: \\n\\n Instantiating unneeded objects is indeed, obviously, a waste. But the changes in the last patch (which I think we\'re discussing?) does not save instantiations &#8211; nor does it really add any either. I don\'t follow this point then. \\n\\n The point illustrated by the String loop example has nothing to do with how variables declared, and everything to do with the difference between String and StringBuilder. It doesn\'t seem to address the point previously raised. \\n\\n Here is a difference that doesn\'t matter: \\n\\n String s = null; \\nfor (int i = 0; i &lt; 250000; i++) \\n{s = \\\"anotherString: \\\" + i;}\\n\\n for (int i = 0; i &lt; 250000; i++) \\n{String s = \\\"anotherString: \\\" + i;}\\n\\n In fact the first is ever so slightly worse since it sets s to null, but the value is unused. But it is worse for another reason: s continues to point to \\\"anotherString: 249999\\\" after the loop terminates, which is also pointless. \\n\\n Hence I would undo that part of the patch unless there is another purpose to it I missed.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740580\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12740580&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740580\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12740580_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740580_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 15:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T15:00:46+0000\'\u003e07\\/Aug\\/09 15:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAnd finally to Grant\'s point about compilers and loop unrolling, and I may be stating things people already know:\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eThis isn\'t an example of unrolling is it?\u003c\\/li\u003e\\n\\t\u003cli\u003ejavac will never perform optimizations like this, or really of any kind, given it is bound to output certain bytecode given a certain input program. So I tend to code efficiently from the get-go in Java\u003c\\/li\u003e\\n\\t\u003cli\u003e(But ProGuard can, I love ProGuard)\u003c\\/li\u003e\\n\\t\u003cli\u003eBut the JIT compiler might at runtime. The theory, and I like it, is that this half of the compilation is better done by a process on the platform where the target code will run. For instance it can inline some method calls from even non-final classes, even though Java method invocation is always polymorphic, if it could detect that there doesn\'t happen to be any subclasses loaded in the JVM at runtime. That would not be possible at compile time.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12740580_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740580_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 15:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T15:00:46+0000\'\u003e07\\/Aug\\/09 15:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    And finally to Grant\'s point about compilers and loop unrolling, and I may be stating things people already know: \\n\\n \\n\\t This isn\'t an example of unrolling is it? \\n\\t javac will never perform optimizations like this, or really of any kind, given it is bound to output certain bytecode given a certain input program. So I tend to code efficiently from the get-go in Java \\n\\t (But ProGuard can, I love ProGuard) \\n\\t But the JIT compiler might at runtime. The theory, and I like it, is that this half of the compilation is better done by a process on the platform where the target code will run. For instance it can inline some method calls from even non-final classes, even though Java method invocation is always polymorphic, if it could detect that there doesn\'t happen to be any subclasses loaded in the JVM at runtime. That would not be possible at compile time. \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740587\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12740587&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740587\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nfantone\\\" id=\\\"commentauthor_12740587_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nfantone\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nfantone\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicol\\u00E1s Fantone\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740587_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 15:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T15:29:58+0000\'\u003e07\\/Aug\\/09 15:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\\n\u003cp\u003eThe point illustrated by the String loop example has nothing to do with how variables declared, and everything to do with the difference between String and StringBuilder. It doesn\'t seem to address the point previously raised.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eNot quite right. The difference between String and StringBuilder IS EXACTLY the difference between instantiating thousands of objects and re-using just one, which is, I believe, the matter at hand here.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\\n\u003cp\u003eIn fact the first is ever so slightly worse since it sets s to null, but the value is unused. But it is worse for another reason: s continues to point to \\\"anotherString: 249999\\\" after the loop terminates, which is also pointless.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eIf you create new Strings in a loop, then you\'ll have as many objects as iterations pointing to \\\"anotherString: 0\\\", \\\"anotherString: 1\\\", ..., \\\"anotherString: 121410\\\", and so on, waiting to be gcollected - which may not even happen in the short term. Even more pointless, following your logic.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\\n\u003cp\u003eHence I would undo that part of the patch unless there is another purpose to it I missed.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003ePerhaps someone could run a profiler with and without the latest patch? I tend to think the gain in execution speed would not be significant if any at all, as some of you have stated. However, unless code readability is a priority, I see no harm in changing something that can only help performance.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\\n\u003cp\u003eThis isn\'t an example of unrolling is it?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eThat\'s right. It is not. It is about the cost of instatiation vs. reusability of short-lived objects.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nfantone\\\" id=\\\"commentauthor_12740587_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nfantone\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nfantone\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicol\\u00E1s Fantone\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740587_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 15:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T15:29:58+0000\'\u003e07\\/Aug\\/09 15:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    \\n The point illustrated by the String loop example has nothing to do with how variables declared, and everything to do with the difference between String and StringBuilder. It doesn\'t seem to address the point previously raised.  \\n\\n Not quite right. The difference between String and StringBuilder IS EXACTLY the difference between instantiating thousands of objects and re-using just one, which is, I believe, the matter at hand here. \\n\\n \\n In fact the first is ever so slightly worse since it sets s to null, but the value is unused. But it is worse for another reason: s continues to point to \\\"anotherString: 249999\\\" after the loop terminates, which is also pointless.  \\n\\n If you create new Strings in a loop, then you\'ll have as many objects as iterations pointing to \\\"anotherString: 0\\\", \\\"anotherString: 1\\\", ..., \\\"anotherString: 121410\\\", and so on, waiting to be gcollected - which may not even happen in the short term. Even more pointless, following your logic. \\n\\n \\n Hence I would undo that part of the patch unless there is another purpose to it I missed.  \\n\\n Perhaps someone could run a profiler with and without the latest patch? I tend to think the gain in execution speed would not be significant if any at all, as some of you have stated. However, unless code readability is a priority, I see no harm in changing something that can only help performance. \\n\\n \\n This isn\'t an example of unrolling is it?  \\n\\n That\'s right. It is not. It is about the cost of instatiation vs. reusability of short-lived objects.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740589\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12740589&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740589\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12740589_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740589_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 15:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T15:37:11+0000\'\u003e07\\/Aug\\/09 15:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Sean Owen - 07\\/Aug\\/09 15:38\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAre we talking about the same patch? sections like this?\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e+    double distance = 0.0;\\n+    Vector clusterCenter = null;\\n     for (Cluster cluster : clusters) {\\n-      double distance = measure.distance(point, cluster.getCenter());\\n-      if (nearestCluster == null || distance &lt; nearestDistance) {\\n+      clusterCenter = cluster.getCenter();\\n+      distance = measure.distance(clusterCenter.getLengthSquared(), clusterCenter, point);\\n+      if (distance &lt; nearestDistance) {\\n         nearestCluster = cluster;\\n         nearestDistance = distance;\\n       }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eThe question here is indeed whether to declare distance and clusterCenter inside or outside the loop.\u003c\\/p\u003e\\n\\n\u003cp\u003eWhile I completely agree with your statements, they do not seem to pertain to this.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think we\'re not talking about the same thing, since you pick up on the point of creating Strings in a loop &#8211; which both my examples did. That is not a difference and not germane to the point I have in mind.\u003c\\/p\u003e\\n\\n\u003cp\u003eI am further making the point that there is not a tradeoff between readability and speed here &#8211; putting the declaration outside the loop actually makes both worse. I am quite sure this should be reversed.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12740589_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740589_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 15:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T15:37:11+0000\'\u003e07\\/Aug\\/09 15:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Sean Owen - 07\\/Aug\\/09 15:38\\\"\u003eedited\u003c\\/span\u003e                   Are we talking about the same patch? sections like this? \\n\\n  \\n +    double distance = 0.0;\\n+    Vector clusterCenter = null;\\n     for (Cluster cluster : clusters) {\\n-      double distance = measure.distance(point, cluster.getCenter());\\n-      if (nearestCluster == null || distance &lt; nearestDistance) {\\n+      clusterCenter = cluster.getCenter();\\n+      distance = measure.distance(clusterCenter.getLengthSquared(), clusterCenter, point);\\n+      if (distance &lt; nearestDistance) {\\n         nearestCluster = cluster;\\n         nearestDistance = distance;\\n       }\\n \\n  \\n\\n The question here is indeed whether to declare distance and clusterCenter inside or outside the loop. \\n\\n While I completely agree with your statements, they do not seem to pertain to this. \\n\\n I think we\'re not talking about the same thing, since you pick up on the point of creating Strings in a loop &#8211; which both my examples did. That is not a difference and not germane to the point I have in mind. \\n\\n I am further making the point that there is not a tradeoff between readability and speed here &#8211; putting the declaration outside the loop actually makes both worse. I am quite sure this should be reversed.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740646\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12740646&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740646\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nfantone\\\" id=\\\"commentauthor_12740646_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nfantone\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nfantone\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicol\\u00E1s Fantone\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740646_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 17:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T17:39:32+0000\'\u003e07\\/Aug\\/09 17:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eJira is hardly the place to discuss this (almost moral) issues, as this tends to be a matter of personal choice most of the time. But I feel the urge to reply: some of you have really helped me out here at work with my project. \u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\\n\u003cp\u003eAre we talking about the same patch? sections like this? \u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eYes we are. And while we are taking a look at that quoted piece of code, I shall mention that the declaration of distance and clusterCenter outside the loop isn\'t the only thing being changed in the patch. There\'s also an elimination of a an unnecessary boolean evaluation in the if statement. \u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\\n\u003cp\u003eI think we\'re not talking about the same thing, since you pick up on the point of creating Strings in a loop - which both my examples did. \u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eWe may not. Perhaps, my String example wasn\'t the happiest of them all - but it certainly IS showing how costly it is in JAVA to just instantiate and initialize an object. Furthermore, I thought I gave a counterargument to what you were implying with those examples.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\\n\u003cp\u003eI am further making the point that there is not a tradeoff between readability and speed here - putting the declaration outside the loop actually makes both worse.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eI can tell none of my propositions were convincing enough. Maybe someone else\'s? \u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/weblogs.java.net\\/blog\\/ddevore\\/archive\\/2006\\/08\\/declare_variabl_1.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/weblogs.java.net\\/blog\\/ddevore\\/archive\\/2006\\/08\\/declare_variabl_1.html\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nfantone\\\" id=\\\"commentauthor_12740646_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nfantone\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nfantone\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicol\\u00E1s Fantone\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740646_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 17:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T17:39:32+0000\'\u003e07\\/Aug\\/09 17:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Jira is hardly the place to discuss this (almost moral) issues, as this tends to be a matter of personal choice most of the time. But I feel the urge to reply: some of you have really helped me out here at work with my project.  \\n\\n \\n Are we talking about the same patch? sections like this?   \\n\\n Yes we are. And while we are taking a look at that quoted piece of code, I shall mention that the declaration of distance and clusterCenter outside the loop isn\'t the only thing being changed in the patch. There\'s also an elimination of a an unnecessary boolean evaluation in the if statement.  \\n\\n \\n I think we\'re not talking about the same thing, since you pick up on the point of creating Strings in a loop - which both my examples did.   \\n\\n We may not. Perhaps, my String example wasn\'t the happiest of them all - but it certainly IS showing how costly it is in JAVA to just instantiate and initialize an object. Furthermore, I thought I gave a counterargument to what you were implying with those examples. \\n\\n \\n I am further making the point that there is not a tradeoff between readability and speed here - putting the declaration outside the loop actually makes both worse.  \\n\\n I can tell none of my propositions were convincing enough. Maybe someone else\'s?  \\n http:\\/\\/weblogs.java.net\\/blog\\/ddevore\\/archive\\/2006\\/08\\/declare_variabl_1.html               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740654\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12740654&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740654\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12740654_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740654_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 17:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T17:54:46+0000\'\u003e07\\/Aug\\/09 17:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMy comments &#8211; which narrowly concern where to declare variables &#8211; are relevant to the patch. It is not a matter of choice or style, or morality or whatever.\u003c\\/p\u003e\\n\\n\u003cp\u003eYour point about Strings is undeniable, but is irrelevant to this question. See my counter-example for an example which would be relevant to the point I am trying to make.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis blog posts corroborates exactly what I am saying. Declaring outside the loop only incurs an extra initialization. It also makes the point that it is not the same thing to \u003cb\u003eallocate an Object\u003c\\/b\u003e outside the loop, versus inside. Of course &#8211; it\'s the difference between allocating one object and many. But, that is not what is happening in your patch.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think, then, all evidence suggests the variable declaration changes should be reverted. I am making no other claims. For instance, removing the unnecessary boolean condition remains a positive change I am sure.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12740654_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740654_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 17:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T17:54:46+0000\'\u003e07\\/Aug\\/09 17:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    My comments &#8211; which narrowly concern where to declare variables &#8211; are relevant to the patch. It is not a matter of choice or style, or morality or whatever. \\n\\n Your point about Strings is undeniable, but is irrelevant to this question. See my counter-example for an example which would be relevant to the point I am trying to make. \\n\\n This blog posts corroborates exactly what I am saying. Declaring outside the loop only incurs an extra initialization. It also makes the point that it is not the same thing to  allocate an Object  outside the loop, versus inside. Of course &#8211; it\'s the difference between allocating one object and many. But, that is not what is happening in your patch. \\n\\n I think, then, all evidence suggests the variable declaration changes should be reverted. I am making no other claims. For instance, removing the unnecessary boolean condition remains a positive change I am sure.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740666\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12740666&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740666\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12740666_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740666_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 18:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T18:21:36+0000\'\u003e07\\/Aug\\/09 18:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe only thing I\'m missing at this point is the question from earlier about the removal of the size comparison, then I am ready to commit.\u003c\\/p\u003e\\n\u003cblockquote\u003e\\n\u003cp\u003eWhat about the commenting out of:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (centroid.size() != v.size()) {\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eIt seems like if we are going to do this in this distance measure, we should do it in the other distance measure. We could push this out a layer via documentation and require the caller to do the check, if required. Otherwise, do we have some guarantee that the centroid and the vector are the same cardinality in all cases of calls to this method? I think we do explicitly for the Cluster calls, but that isn\'t the same.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12740666_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740666_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 18:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T18:21:36+0000\'\u003e07\\/Aug\\/09 18:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The only thing I\'m missing at this point is the question from earlier about the removal of the size comparison, then I am ready to commit. \\n \\n What about the commenting out of: \\n  \\n  if  (centroid.size() != v.size()) {\\n \\n  \\n It seems like if we are going to do this in this distance measure, we should do it in the other distance measure. We could push this out a layer via documentation and require the caller to do the check, if required. Otherwise, do we have some guarantee that the centroid and the vector are the same cardinality in all cases of calls to this method? I think we do explicitly for the Cluster calls, but that isn\'t the same.  \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740681\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12740681&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740681\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nfantone\\\" id=\\\"commentauthor_12740681_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nfantone\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nfantone\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicol\\u00E1s Fantone\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740681_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 19:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T19:06:36+0000\'\u003e07\\/Aug\\/09 19:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSean, we are definitely not following each other. Probably due to my lack of communication skills.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\\n\u003cp\u003eYour point about Strings is undeniable, but is irrelevant to this question. See my counter-example for an example which would be relevant to the point I am trying to make.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eHow could it be irrelevant when it\'s the exact same point I tried to make in my patch?  There\'s a Vector being instantiated and allocated in every for iteration, in every task, in every reduce job, in every node of the cluster. And it is not necessary. Every time. The very same thing goes for my String example... except with Strings.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\\n\u003cp\u003eDeclaring outside the loop only incurs an extra initialization.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eExtra? There\'s only ONE initialization. If the declaration is done inside the loop, thousands of initializations are going to be done. That\'s thousands minus one \\\"extra\\\" initializations.\u003c\\/p\u003e\\n\\n\u003cp\u003eGrant, maybe you should leave the size comparison for now. It won\'t impact speed noticeably and, as of now, KMeans is only using the optimized distance calculation for both computing convergence and emitting points. Is there anywhere else a size check is done between input vectors? I believe there isn\'t.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nfantone\\\" id=\\\"commentauthor_12740681_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nfantone\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nfantone\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicol\\u00E1s Fantone\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740681_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 19:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T19:06:36+0000\'\u003e07\\/Aug\\/09 19:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Sean, we are definitely not following each other. Probably due to my lack of communication skills. \\n\\n \\n Your point about Strings is undeniable, but is irrelevant to this question. See my counter-example for an example which would be relevant to the point I am trying to make.  \\n\\n How could it be irrelevant when it\'s the exact same point I tried to make in my patch?  There\'s a Vector being instantiated and allocated in every for iteration, in every task, in every reduce job, in every node of the cluster. And it is not necessary. Every time. The very same thing goes for my String example... except with Strings. \\n\\n \\n Declaring outside the loop only incurs an extra initialization.  \\n\\n Extra? There\'s only ONE initialization. If the declaration is done inside the loop, thousands of initializations are going to be done. That\'s thousands minus one \\\"extra\\\" initializations. \\n\\n Grant, maybe you should leave the size comparison for now. It won\'t impact speed noticeably and, as of now, KMeans is only using the optimized distance calculation for both computing convergence and emitting points. Is there anywhere else a size check is done between input vectors? I believe there isn\'t.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740684\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12740684&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740684\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12740684_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740684_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 19:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T19:35:33+0000\'\u003e07\\/Aug\\/09 19:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWhere in the patch do you move an object allocation from inside the loop to outside? I do not see this. If I did, indeed, you would have a point. That\'s why we may not be talking about the same thing. All I see is moving declarations.\u003c\\/p\u003e\\n\\n\u003cp\u003eYes, the one extra initialization is trivial. The fact that a reference lives on outside the loop unnecessarily is also tiny, but not as tiny. But they are both negatives. I think the consensus was it also was very slightly less readable? so we have a couple small negatives &#8211; how can that add up to support for a change?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12740684_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740684_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 19:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T19:35:33+0000\'\u003e07\\/Aug\\/09 19:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Where in the patch do you move an object allocation from inside the loop to outside? I do not see this. If I did, indeed, you would have a point. That\'s why we may not be talking about the same thing. All I see is moving declarations. \\n\\n Yes, the one extra initialization is trivial. The fact that a reference lives on outside the loop unnecessarily is also tiny, but not as tiny. But they are both negatives. I think the consensus was it also was very slightly less readable? so we have a couple small negatives &#8211; how can that add up to support for a change?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740694\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12740694&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740694\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nfantone\\\" id=\\\"commentauthor_12740694_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nfantone\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nfantone\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicol\\u00E1s Fantone\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740694_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 20:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T20:01:15+0000\'\u003e07\\/Aug\\/09 20:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\\n\u003cp\u003eWhere in the patch do you move an object allocation from inside the loop to outside? I do not see this. \u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eHere:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-style: solid;border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeHeader panelHeader\\\" style=\\\"border-bottom-width: 1px;border-bottom-style: solid;\\\"\u003e\u003cb\u003egetDistanceSquared() in SparseVector.java - Original\u003c\\/b\u003e\u003c\\/div\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e    \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e result = 0.0;\\n    Iterator&lt;Vector.Element&gt; iter = iterateNonZero();\\n    \u003cspan class=\\\"code-keyword\\\"\u003ewhile\u003c\\/span\u003e (iter.hasNext()) {\\n      Vector.Element elt = iter.next();\\n      \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e centroidValue = v.getQuick(elt.index());\\n      \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e delta = elt.get() - centroidValue;\\n      result += (delta * delta) - (centroidValue * centroidValue);\\n    }\\n    \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e result;\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-style: solid;border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeHeader panelHeader\\\" style=\\\"border-bottom-width: 1px;border-bottom-style: solid;\\\"\u003e\u003cb\u003egetDistanceSquared() in SparseVector.java - Patched\u003c\\/b\u003e\u003c\\/div\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e  ... \\n    \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e result = 0.0;\\n    Iterator&lt;Vector.Element&gt; iter = iterateNonZero();\\n    Vector.Element elt = \u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e;\\n    \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e centroidValue = 0.0;\\n    \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e delta = 0.0;\\n    \u003cspan class=\\\"code-keyword\\\"\u003ewhile\u003c\\/span\u003e (iter.hasNext()) {\\n      elt = iter.next();\\n      centroidValue = v.getQuick(elt.index());\\n      delta = elt.get() - centroidValue;\\n      result += (delta * delta) - (centroidValue * centroidValue);\\n    }\\n...\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eAnd here:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-style: solid;border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeHeader panelHeader\\\" style=\\\"border-bottom-width: 1px;border-bottom-style: solid;\\\"\u003e\u003cb\u003eemitPointToNearestCluster() in Cluster.java - Patched\u003c\\/b\u003e\u003c\\/div\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e ...\\n    \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e distance = 0.0;\\n    Vector clusterCenter = \u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e;\\n     \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e (Cluster cluster : clusters) {\\n      clusterCenter = cluster.getCenter();\\n      distance = measure.distance(clusterCenter.getLengthSquared(), clusterCenter, point);\\n      \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (distance &lt; nearestDistance) {\\n         nearestCluster = cluster;\\n         nearestDistance = distance;\\n       }\\n...\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-style: solid;border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeHeader panelHeader\\\" style=\\\"border-bottom-width: 1px;border-bottom-style: solid;\\\"\u003e\u003cb\u003eemitPointToNearestCluster() in Cluster.java - From Grant patch\u003c\\/b\u003e\u003c\\/div\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e     Cluster nearestCluster = \u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e;\\n     \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e nearestDistance = \u003cspan class=\\\"code-object\\\"\u003eDouble\u003c\\/span\u003e.MAX_VALUE;\\n     \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e (Cluster cluster : clusters) {\\n      Vector clusterCenter = cluster.getCenter();\\n      \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e distance = measure.distance(clusterCenter.getLengthSquared(), clusterCenter, point);\\n       \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (nearestCluster == \u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e || distance &lt; nearestDistance) {\\n         nearestCluster = cluster;\\n         nearestDistance = distance;\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eAnd in outputPointWithClusterInfo(), which is actually the same bit of code as this last one.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nfantone\\\" id=\\\"commentauthor_12740694_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nfantone\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nfantone\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Nicol\\u00E1s Fantone\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740694_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/09 20:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-07T20:01:15+0000\'\u003e07\\/Aug\\/09 20:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    \\n Where in the patch do you move an object allocation from inside the loop to outside? I do not see this.   \\n\\n Here: \\n   getDistanceSquared() in SparseVector.java - Original   \\n      double  result = 0.0;\\n    Iterator&lt;Vector.Element&gt; iter = iterateNonZero();\\n     while  (iter.hasNext()) {\\n      Vector.Element elt = iter.next();\\n       double  centroidValue = v.getQuick(elt.index());\\n       double  delta = elt.get() - centroidValue;\\n      result += (delta * delta) - (centroidValue * centroidValue);\\n    }\\n     return  result;\\n \\n  \\n\\n   getDistanceSquared() in SparseVector.java - Patched   \\n   ... \\n     double  result = 0.0;\\n    Iterator&lt;Vector.Element&gt; iter = iterateNonZero();\\n    Vector.Element elt =  null ;\\n     double  centroidValue = 0.0;\\n     double  delta = 0.0;\\n     while  (iter.hasNext()) {\\n      elt = iter.next();\\n      centroidValue = v.getQuick(elt.index());\\n      delta = elt.get() - centroidValue;\\n      result += (delta * delta) - (centroidValue * centroidValue);\\n    }\\n...\\n \\n  \\n\\n And here: \\n\\n   emitPointToNearestCluster() in Cluster.java - Patched   \\n  ...\\n     double  distance = 0.0;\\n    Vector clusterCenter =  null ;\\n      for  (Cluster cluster : clusters) {\\n      clusterCenter = cluster.getCenter();\\n      distance = measure.distance(clusterCenter.getLengthSquared(), clusterCenter, point);\\n       if  (distance &lt; nearestDistance) {\\n         nearestCluster = cluster;\\n         nearestDistance = distance;\\n       }\\n...\\n \\n  \\n\\n   emitPointToNearestCluster() in Cluster.java - From Grant patch   \\n      Cluster nearestCluster =  null ;\\n      double  nearestDistance =  Double .MAX_VALUE;\\n      for  (Cluster cluster : clusters) {\\n      Vector clusterCenter = cluster.getCenter();\\n       double  distance = measure.distance(clusterCenter.getLengthSquared(), clusterCenter, point);\\n        if  (nearestCluster ==  null  || distance &lt; nearestDistance) {\\n         nearestCluster = cluster;\\n         nearestDistance = distance;\\n \\n  \\n\\n And in outputPointWithClusterInfo(), which is actually the same bit of code as this last one.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740814\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12740814&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740814\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12740814_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740814_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/09 01:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-08T01:44:31+0000\'\u003e08\\/Aug\\/09 01:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI committed an in-between version of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/MAHOUT-121\\\" title=\\\"Speed up distance calculations for sparse vectors\\\" class=\\\"issue-link\\\" data-issue-key=\\\"MAHOUT-121\\\"\u003e\u003cdel\u003eMAHOUT-121\u003c\\/del\u003e\u003c\\/a\u003e-new-distance-optimization and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/MAHOUT-121\\\" title=\\\"Speed up distance calculations for sparse vectors\\\" class=\\\"issue-link\\\" data-issue-key=\\\"MAHOUT-121\\\"\u003e\u003cdel\u003eMAHOUT-121\u003c\\/del\u003e\u003c\\/a\u003e-cluster-distance.patch. The former didn\'t pass tests due to not checking to see if the nearestCluster was null.  I did, however, move that check for null to the second part of the || clause, as it is the less frequent case and is likely to be short-circuited by the distance check.\u003c\\/p\u003e\\n\\n\u003cp\u003eCommitted revision 802283.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12740814_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740814_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/09 01:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-08T01:44:31+0000\'\u003e08\\/Aug\\/09 01:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I committed an in-between version of   MAHOUT-121  -new-distance-optimization and   MAHOUT-121  -cluster-distance.patch. The former didn\'t pass tests due to not checking to see if the nearestCluster was null.  I did, however, move that check for null to the second part of the || clause, as it is the less frequent case and is likely to be short-circuited by the distance check. \\n\\n Committed revision 802283.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740854\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12740854&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740854\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12740854_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740854_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/09 08:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-08T08:25:09+0000\'\u003e08\\/Aug\\/09 08:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNope, you have not avoided an object allocation in either case. You are simply moving around declarations of object references. (Does it help to note that objects are never allocated on the stack as in C++?) Therefore, I think the prior arguments apply. This very slightly hurts performance and readability and should be reversed.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12740854_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740854_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Aug\\/09 08:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-08T08:25:09+0000\'\u003e08\\/Aug\\/09 08:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Nope, you have not avoided an object allocation in either case. You are simply moving around declarations of object references. (Does it help to note that objects are never allocated on the stack as in C++?) Therefore, I think the prior arguments apply. This very slightly hurts performance and readability and should be reversed.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12741068\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12741068&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12741068\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12741068_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12741068_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Aug\\/09 11:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-09T11:33:15+0000\'\u003e09\\/Aug\\/09 11:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eThe floating point comparision (lengthSquared != -1) is not correct. It should be (lengthSquared &lt; 0), if at all we want to remove the Double object.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eActually, this should be &gt;= 0, since we are returning lengthSquared in that case (before we we\'re returning it if it was not null).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12741068_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12741068_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Aug\\/09 11:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-09T11:33:15+0000\'\u003e09\\/Aug\\/09 11:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     The floating point comparision (lengthSquared != -1) is not correct. It should be (lengthSquared &lt; 0), if at all we want to remove the Double object.  \\n\\n Actually, this should be &gt;= 0, since we are returning lengthSquared in that case (before we we\'re returning it if it was not null).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12742406\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12742406&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12742406\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12742406_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12742406_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Aug\\/09 15:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-12T15:20:49+0000\'\u003e12\\/Aug\\/09 15:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think we have this one now, resolving.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12742406_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12742406_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Aug\\/09 15:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-12T15:20:49+0000\'\u003e12\\/Aug\\/09 15:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I think we have this one now, resolving.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12744973\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12744973&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12744973\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12744973_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12744973_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 09:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T09:57:47+0000\'\u003e19\\/Aug\\/09 09:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOrderedIntDoubleMapping, the primitive hash map used in sparse vector, is not fast enough.  Compared to Trove, it is an order of magnitude slower. \u003c\\/p\u003e\\n\\n\u003cp\u003eHow can we improve the performance? \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12744973_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12744973_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 09:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T09:57:47+0000\'\u003e19\\/Aug\\/09 09:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    OrderedIntDoubleMapping, the primitive hash map used in sparse vector, is not fast enough.  Compared to Trove, it is an order of magnitude slower.  \\n\\n How can we improve the performance?               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12744977\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12744977&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12744977\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12744977_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12744977_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 10:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T10:03:28+0000\'\u003e19\\/Aug\\/09 10:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eColt by CERN is as good as Trove.  Is it compatible with Apache License? \u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"http:\\/\\/acs.lbl.gov\\/~hoschek\\/colt\\/index.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/acs.lbl.gov\\/~hoschek\\/colt\\/index.html\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eColt\'s License:  \u003ca href=\\\"http:\\/\\/acs.lbl.gov\\/~hoschek\\/colt\\/license.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/acs.lbl.gov\\/~hoschek\\/colt\\/license.html\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12744977_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12744977_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 10:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T10:03:28+0000\'\u003e19\\/Aug\\/09 10:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Colt by CERN is as good as Trove.  Is it compatible with Apache License?  \\n\\n  http:\\/\\/acs.lbl.gov\\/~hoschek\\/colt\\/index.html  \\n\\n Colt\'s License:   http:\\/\\/acs.lbl.gov\\/~hoschek\\/colt\\/license.html               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12744980\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12744980&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12744980\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12744980_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12744980_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 10:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T10:11:24+0000\'\u003e19\\/Aug\\/09 10:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThese two implementations use a different algorithm. This implemented is the analog of TreeSet in Java Collections, whereas you are talking about an analog of HashMap.\u003c\\/p\u003e\\n\\n\u003cp\u003eA hash is likely going to be faster for gets. I imagine it\'s slower when required to produce the keys\\/values in order. Which did you benchmark? let\'s make sure we are asking the right question first.\u003c\\/p\u003e\\n\\n\u003cp\u003eOf course, if we find that in fact we far more often need fast gets than fast iteration, we do want a hash-based implementation instead. Is that the conclusion? (And could we make a new issue to continue that!)\u003c\\/p\u003e\\n\\n\u003cp\u003eWe can\'t use Trove of course. The parts of colt we need appear to be Apache-compatible. That seems like a fine thing to try next.\u003c\\/p\u003e\\n\\n\u003cp\u003eIf it\'s not suitable, we can easily roll our own primitive-based hash. We already have a long-&gt;Object map implementation.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12744980_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12744980_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 10:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T10:11:24+0000\'\u003e19\\/Aug\\/09 10:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    These two implementations use a different algorithm. This implemented is the analog of TreeSet in Java Collections, whereas you are talking about an analog of HashMap. \\n\\n A hash is likely going to be faster for gets. I imagine it\'s slower when required to produce the keys\\/values in order. Which did you benchmark? let\'s make sure we are asking the right question first. \\n\\n Of course, if we find that in fact we far more often need fast gets than fast iteration, we do want a hash-based implementation instead. Is that the conclusion? (And could we make a new issue to continue that!) \\n\\n We can\'t use Trove of course. The parts of colt we need appear to be Apache-compatible. That seems like a fine thing to try next. \\n\\n If it\'s not suitable, we can easily roll our own primitive-based hash. We already have a long-&gt;Object map implementation.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12744991\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12744991&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12744991\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12744991_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12744991_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 10:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T10:50:11+0000\'\u003e19\\/Aug\\/09 10:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\\n\u003cp\u003eWe need mix of iteration and map get\\/set. but the map operations are dominant. Hence I tested with get\\/set operations.  Getting iterator in case of Colt is less than 2x slower. \u003c\\/p\u003e\\n\\n\u003cp\u003e1. Vector addition: \u003cbr\\/\u003e\\nGet iterator on one vector.  \u003cbr\\/\u003e\\nIterate on the indices to get values from that vector.   \u003cbr\\/\u003e\\nFor the same indices, get values from current vector.\u003cbr\\/\u003e\\nSet the result in the current vector. \u003c\\/p\u003e\\n\\n\u003cp\u003eIn the current implementation, \\\"get\\\" is O(log n) operation. And \\\"set\\\" involves copying the array copy operation, which is quadratic (I think).\u003c\\/p\u003e\\n\\n\u003cp\u003e2. SparseVector getDistanceSquared()\u003cbr\\/\u003e\\nOperational complexity is similar to that of vector addition, except there is no \\\"set\\\" operation.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12744991_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12744991_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 10:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T10:50:11+0000\'\u003e19\\/Aug\\/09 10:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                   \\n We need mix of iteration and map get\\/set. but the map operations are dominant. Hence I tested with get\\/set operations.  Getting iterator in case of Colt is less than 2x slower.  \\n\\n 1. Vector addition:  \\nGet iterator on one vector.   \\nIterate on the indices to get values from that vector.    \\nFor the same indices, get values from current vector. \\nSet the result in the current vector.  \\n\\n In the current implementation, \\\"get\\\" is O(log n) operation. And \\\"set\\\" involves copying the array copy operation, which is quadratic (I think). \\n\\n 2. SparseVector getDistanceSquared() \\nOperational complexity is similar to that of vector addition, except there is no \\\"set\\\" operation. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12744992\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12744992&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12744992\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12744992_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12744992_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 10:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T10:52:23+0000\'\u003e19\\/Aug\\/09 10:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eExactly, sounds like this is ultimately the wrong choice given the usage profile. Delete the class and switch to Colt then?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12744992_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12744992_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 10:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T10:52:23+0000\'\u003e19\\/Aug\\/09 10:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Exactly, sounds like this is ultimately the wrong choice given the usage profile. Delete the class and switch to Colt then?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12744995\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12744995&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12744995\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12744995_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12744995_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 10:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T10:58:51+0000\'\u003e19\\/Aug\\/09 10:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eTrying it out...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kshashi\\\" id=\\\"commentauthor_12744995_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kshashi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kshashi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shashikant Kore\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12744995_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 10:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T10:58:51+0000\'\u003e19\\/Aug\\/09 10:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Trying it out...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12745015\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12745015&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12745015\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12745015_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12745015_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 11:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T11:56:06+0000\'\u003e19\\/Aug\\/09 11:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eLet\'s open a new issue for this one, as this issue is really long and overloaded at this point. \u003c\\/p\u003e\\n\\n\u003cp\u003eSolr uses Colt via a download mechanism, so we probably could use it via the POM, but not sure if we can distribute it.  \u003c\\/p\u003e\\n\\n\u003cp\u003eFWIW, in my profiling, I think find() was the major operation.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12745015_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12745015_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 11:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T11:56:06+0000\'\u003e19\\/Aug\\/09 11:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Let\'s open a new issue for this one, as this issue is really long and overloaded at this point.  \\n\\n Solr uses Colt via a download mechanism, so we probably could use it via the POM, but not sure if we can distribute it.   \\n\\n FWIW, in my profiling, I think find() was the major operation.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12745082\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12745082&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12745082\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"reden\\\" id=\\\"commentauthor_12745082_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=reden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"reden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rob Eden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12745082_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 15:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T15:33:08+0000\'\u003e19\\/Aug\\/09 15:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi guys. I\'m the lead developer for the Trove project. Shashi mentioned the problem you\'re having with Trove\'s license. I appreciate the interest and would like to accommodate your usage. I\'m going to speak to the original developer about dual-licensing.\u003c\\/p\u003e\\n\\n\u003cp\u003eMy specific question is, would the MPL be an acceptable license for usage or does it have to be APL? (Not implying that I necessarily have a problem with APL... just checking options.)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"reden\\\" id=\\\"commentauthor_12745082_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=reden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"reden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rob Eden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12745082_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 15:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T15:33:08+0000\'\u003e19\\/Aug\\/09 15:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi guys. I\'m the lead developer for the Trove project. Shashi mentioned the problem you\'re having with Trove\'s license. I appreciate the interest and would like to accommodate your usage. I\'m going to speak to the original developer about dual-licensing. \\n\\n My specific question is, would the MPL be an acceptable license for usage or does it have to be APL? (Not implying that I necessarily have a problem with APL... just checking options.)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12745097\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12745097&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12745097\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12745097_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12745097_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 16:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T16:08:20+0000\'\u003e19\\/Aug\\/09 16:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Rob,\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks!  Here\'s the ASF\'s stance on licenses:  \u003ca href=\\\"http:\\/\\/apache.org\\/legal\\/resolved.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/apache.org\\/legal\\/resolved.html\u003c\\/a\u003e.   I think for our use case, MPL would be fine, since we are just using it as a library and not extending\\/deriving from it, even if ASL would be better.\u003c\\/p\u003e\\n\\n\u003cp\u003e-Grant\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12745097_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12745097_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 16:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T16:08:20+0000\'\u003e19\\/Aug\\/09 16:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Rob, \\n\\n Thanks!  Here\'s the ASF\'s stance on licenses:   http:\\/\\/apache.org\\/legal\\/resolved.html .   I think for our use case, MPL would be fine, since we are just using it as a library and not extending\\/deriving from it, even if ASL would be better. \\n\\n -Grant              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12745101\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12745101&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12745101\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bmargulies\\\" id=\\\"commentauthor_12745101_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bmargulies\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bmargulies\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Benson Margulies\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12745101_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 16:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T16:14:12+0000\'\u003e19\\/Aug\\/09 16:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eTrove is LGPL. If it were published to maven, which is currently is not in any reliable way, I think mahout can have an optional dependency. As per the referenced, LGPL is precluded in a full dependency.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bmargulies\\\" id=\\\"commentauthor_12745101_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bmargulies\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bmargulies\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Benson Margulies\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12745101_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 16:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T16:14:12+0000\'\u003e19\\/Aug\\/09 16:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Trove is LGPL. If it were published to maven, which is currently is not in any reliable way, I think mahout can have an optional dependency. As per the referenced, LGPL is precluded in a full dependency.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12745118\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12745118&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12745118\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12745118_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12745118_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 16:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T16:49:11+0000\'\u003e19\\/Aug\\/09 16:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eRight, we wouldn\'t be able to bundle it (either as a GPL or MPL), which is a bit of a downer for Mahout.  What we would likely need to do is provide an abstraction layer that can use IntDoubleMapping if Trove is not present on the classpath.  \u003c\\/p\u003e\\n\\n\u003cp\u003eEither that, or we do the work to improve IntDoubleMapping.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_12745118_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12745118_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/09 16:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-19T16:49:11+0000\'\u003e19\\/Aug\\/09 16:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Right, we wouldn\'t be able to bundle it (either as a GPL or MPL), which is a bit of a downer for Mahout.  What we would likely need to do is provide an abstraction layer that can use IntDoubleMapping if Trove is not present on the classpath.   \\n\\n Either that, or we do the work to improve IntDoubleMapping.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12895162\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12895162&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12895162\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"eugenparaschiv\\\" id=\\\"commentauthor_12895162_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=eugenparaschiv\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"eugenparaschiv\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Eugen Paraschiv\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12895162_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/10 07:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-08-04T07:11:11+0000\'\u003e04\\/Aug\\/10 07:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi all, \u003cbr\\/\u003e\\nI know that this issue is closed, but was there any resolution to the Trove dual licensing proposal? Thanks. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"eugenparaschiv\\\" id=\\\"commentauthor_12895162_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=eugenparaschiv\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"eugenparaschiv\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Eugen Paraschiv\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12895162_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/10 07:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-08-04T07:11:11+0000\'\u003e04\\/Aug\\/10 07:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi all,  \\nI know that this issue is closed, but was there any resolution to the Trove dual licensing proposal? Thanks.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12895164\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12895164&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12895164\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"tdunning\\\" id=\\\"commentauthor_12895164_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=tdunning\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"tdunning\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ted Dunning\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12895164_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/10 07:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-08-04T07:14:51+0000\'\u003e04\\/Aug\\/10 07:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\\n\u003cp\u003eany resolution to the Trove dual licensing proposal? \u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eSee Mahout collections.\u003c\\/p\u003e\\n\\n\u003cp\u003eFaster than trove and liberally licensed.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"tdunning\\\" id=\\\"commentauthor_12895164_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=tdunning\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"tdunning\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ted Dunning\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12895164_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/10 07:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-08-04T07:14:51+0000\'\u003e04\\/Aug\\/10 07:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    \\n any resolution to the Trove dual licensing proposal?   \\n See Mahout collections. \\n\\n Faster than trove and liberally licensed. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12895284\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-121?focusedCommentId=12895284&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12895284\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"reden\\\" id=\\\"commentauthor_12895284_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=reden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"reden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rob Eden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12895284_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/10 15:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-08-04T15:02:28+0000\'\u003e04\\/Aug\\/10 15:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eTrove\'s licensing won\'t be changing. The biggest problem is that we\'ve had too many committers over the years and we\'d have to get all of their permission to change it. So, sorry I can\'t be more obliging.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"reden\\\" id=\\\"commentauthor_12895284_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=reden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"reden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rob Eden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12895284_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/10 15:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-08-04T15:02:28+0000\'\u003e04\\/Aug\\/10 15:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Trove\'s licensing won\'t be changing. The biggest problem is that we\'ve had too many committers over the years and we\'d have to get all of their permission to change it. So, sorry I can\'t be more obliging.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310751";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/MAHOUT\\/summary\\\" title=\\\"Mahout\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310751&amp;avatarId=10103\\\" alt=\\\"Mahout\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/MAHOUT\\/summary\\\" title=\\\"Mahout\\\"\u003eMahout\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/MAHOUT\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/MAHOUT?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/MAHOUT?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1516195455009"> 
    <input type="hidden" title="jira.request.server.time" value="450"> 
    <input type="hidden" title="jira.request.id" value="804x7367702x5"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="4"> 
    <input type="hidden" title="db.reads.time.in.ms" value="56"> 
    <input type="hidden" title="db.conns.time.in.ms" value="64"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 804x7367702x5
	          REQUEST TIMESTAMP : [17/Jan/2018:13:24:15 +0000]
	               REQUEST TIME : 0.4500
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 4

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=22, elapsedTotal=56466660, elapsedMin=507692, elapsedMax=24970229, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=26, elapsedTotal=64771198, elapsedMin=536888, elapsedMax=25077955, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>