<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|25fcfc9e754a28c71cb8acc2f6ec96619cef2724|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"10a0b3af25468\"";
WRM._unparsedData["project-id"]="10594";
WRM._unparsedData["project-key"]="\"DERBY\"";
WRM._unparsedData["project-name"]="\"Derby\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="10594";
WRM._unparsedData["projectKey"]="\"DERBY\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="DERBY-3447"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[DERBY-3447] Shutdown on a database without stopping replication hangs - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[DERBY-3447] Shutdown on a database without stopping replication hangs - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/DERBY" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-3447">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="10594" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Derby'" src="https://issues.apache.org/jira/secure/projectavatar?pid=10594&amp;avatarId=10122"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/DERBY">Derby</a></li>
                 <li><a class="issue-link" data-issue-key="DERBY-3447" href="/jira/browse/DERBY-3447" id="key-val" rel="12389293">DERBY-3447</a></li>
                </ol>
                <h1 id="summary-val">Shutdown on a database without stopping replication hangs</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-3447"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/DERBY-3447/DERBY-3447.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/DERBY-3447/DERBY-3447.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/DERBY-3447/DERBY-3447.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/DERBY-3447/DERBY-3447.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="10.4.1.3 ">10.4.1.3</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.4.1.3" title="10.4.1.3 ">10.4.1.3</a>, <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.5.1.1" title="10.5.1.1 build: 764942, 14/Apr/09. Voted release: 28/Apr/09. Announced: 1/May/09">10.5.1.1</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+component+%3D+Replication" title="Replication ">Replication</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12389293-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/DERBY-3447?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/DERBY-3447?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/DERBY-3447?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/DERBY-3447?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12377317" data-issue-id="12389293" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12377317/Derby3447_v1.diff" draggable="true" data-downloadurl="text/x-patch:Derby3447_v1.diff:https://issues.apache.org/jira/secure/attachment/12377317/Derby3447_v1.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12377317/Derby3447_v1.diff" title="Latest  07/Mar/08 06:40 - V.Narayanan" draggable="true" data-downloadurl="text/x-patch:Derby3447_v1.diff:https://issues.apache.org/jira/secure/attachment/12377317/Derby3447_v1.diff">Derby3447_v1.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-03-07T06:40:19.009Z">07/Mar/08 06:40</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12377318" data-issue-id="12389293" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12377318/Derby3447_v1.stat" draggable="true" data-downloadurl="application/octet-stream:Derby3447_v1.stat:https://issues.apache.org/jira/secure/attachment/12377318/Derby3447_v1.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12377318/Derby3447_v1.stat" title="Latest  07/Mar/08 06:40 - V.Narayanan" draggable="true" data-downloadurl="application/octet-stream:Derby3447_v1.stat:https://issues.apache.org/jira/secure/attachment/12377318/Derby3447_v1.stat">Derby3447_v1.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-03-07T06:40:19.054Z">07/Mar/08 06:40</time>
                   </dd>
                   <dd class="attachment-size">
                    0.2 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12377684" data-issue-id="12389293" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12377684/Derby3447_v2.diff" draggable="true" data-downloadurl="text/x-patch:Derby3447_v2.diff:https://issues.apache.org/jira/secure/attachment/12377684/Derby3447_v2.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12377684/Derby3447_v2.diff" title="Latest  12/Mar/08 10:26 - V.Narayanan" draggable="true" data-downloadurl="text/x-patch:Derby3447_v2.diff:https://issues.apache.org/jira/secure/attachment/12377684/Derby3447_v2.diff">Derby3447_v2.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-03-12T10:26:43.207Z">12/Mar/08 10:26</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12377685" data-issue-id="12389293" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12377685/Derby3447_v2.stat" draggable="true" data-downloadurl="application/octet-stream:Derby3447_v2.stat:https://issues.apache.org/jira/secure/attachment/12377685/Derby3447_v2.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12377685/Derby3447_v2.stat" title="Latest  12/Mar/08 10:26 - V.Narayanan" draggable="true" data-downloadurl="application/octet-stream:Derby3447_v2.stat:https://issues.apache.org/jira/secure/attachment/12377685/Derby3447_v2.stat">Derby3447_v2.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-03-12T10:26:43.230Z">12/Mar/08 10:26</time>
                   </dd>
                   <dd class="attachment-size">
                    0.2 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12377990" data-issue-id="12389293" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12377990/Derby3447_v3.diff" draggable="true" data-downloadurl="text/x-patch:Derby3447_v3.diff:https://issues.apache.org/jira/secure/attachment/12377990/Derby3447_v3.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12377990/Derby3447_v3.diff" title="Latest  16/Mar/08 09:22 - V.Narayanan" draggable="true" data-downloadurl="text/x-patch:Derby3447_v3.diff:https://issues.apache.org/jira/secure/attachment/12377990/Derby3447_v3.diff">Derby3447_v3.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-03-16T09:22:08.489Z">16/Mar/08 09:22</time>
                   </dd>
                   <dd class="attachment-size">
                    3 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12377991" data-issue-id="12389293" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12377991/Derby3447_v3.stat" draggable="true" data-downloadurl="application/octet-stream:Derby3447_v3.stat:https://issues.apache.org/jira/secure/attachment/12377991/Derby3447_v3.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12377991/Derby3447_v3.stat" title="Latest  16/Mar/08 09:22 - V.Narayanan" draggable="true" data-downloadurl="application/octet-stream:Derby3447_v3.stat:https://issues.apache.org/jira/secure/attachment/12377991/Derby3447_v3.stat">Derby3447_v3.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-03-16T09:22:08.507Z">16/Mar/08 09:22</time>
                   </dd>
                   <dd class="attachment-size">
                    0.3 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12378041" data-issue-id="12389293" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12378041/Derby3447_v4.diff" draggable="true" data-downloadurl="text/x-patch:Derby3447_v4.diff:https://issues.apache.org/jira/secure/attachment/12378041/Derby3447_v4.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12378041/Derby3447_v4.diff" title="Latest  17/Mar/08 16:17 - V.Narayanan" draggable="true" data-downloadurl="text/x-patch:Derby3447_v4.diff:https://issues.apache.org/jira/secure/attachment/12378041/Derby3447_v4.diff">Derby3447_v4.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-03-17T16:17:32.447Z">17/Mar/08 16:17</time>
                   </dd>
                   <dd class="attachment-size">
                    5 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12378042" data-issue-id="12389293" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12378042/Derby3447_v4.stat" draggable="true" data-downloadurl="application/octet-stream:Derby3447_v4.stat:https://issues.apache.org/jira/secure/attachment/12378042/Derby3447_v4.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12378042/Derby3447_v4.stat" title="Latest  17/Mar/08 16:17 - V.Narayanan" draggable="true" data-downloadurl="application/octet-stream:Derby3447_v4.stat:https://issues.apache.org/jira/secure/attachment/12378042/Derby3447_v4.stat">Derby3447_v4.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-03-17T16:17:32.502Z">17/Mar/08 16:17</time>
                   </dd>
                   <dd class="attachment-size">
                    0.4 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12378689" data-issue-id="12389293" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12378689/Derby3447_v5.diff" draggable="true" data-downloadurl="text/x-patch:Derby3447_v5.diff:https://issues.apache.org/jira/secure/attachment/12378689/Derby3447_v5.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12378689/Derby3447_v5.diff" title="Latest  27/Mar/08 08:51 - V.Narayanan" draggable="true" data-downloadurl="text/x-patch:Derby3447_v5.diff:https://issues.apache.org/jira/secure/attachment/12378689/Derby3447_v5.diff">Derby3447_v5.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-03-27T08:51:32.576Z">27/Mar/08 08:51</time>
                   </dd>
                   <dd class="attachment-size">
                    5 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12378690" data-issue-id="12389293" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12378690/Derby3447_v5.stat" draggable="true" data-downloadurl="application/octet-stream:Derby3447_v5.stat:https://issues.apache.org/jira/secure/attachment/12378690/Derby3447_v5.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12378690/Derby3447_v5.stat" title="Latest  27/Mar/08 08:51 - V.Narayanan" draggable="true" data-downloadurl="application/octet-stream:Derby3447_v5.stat:https://issues.apache.org/jira/secure/attachment/12378690/Derby3447_v5.stat">Derby3447_v5.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-03-27T08:51:32.617Z">27/Mar/08 08:51</time>
                   </dd>
                   <dd class="attachment-size">
                    0.4 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is blocked by">
                   is blocked by
                  </dt> 
                  <dd id="internal-12391444_10032"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-3541: quit; on ij with authentication enabled does not shutdown the derby modules that are loaded"> <a href="/jira/browse/DERBY-3541" data-issue-key="DERBY-3541" class="issue-link link-title">DERBY-3541</a> <span class="link-summary">quit; on ij with authentication enabled does not shutdown the derby modules that are loaded</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/minor.svg" width="16" height="16" title="Minor - Minor loss of function, or other problem where easy workaround is present." alt="Minor - Minor loss of function, or other problem where easy workaround is present."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-blue-gray jira-issue-status-lozenge-new aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Open</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is open and ready for the assignee to start work on it.</span>">Open</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_narayanan" rel="narayanan" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;V.Narayanan&quot;,&quot;emailAddress&quot;:&quot;v.narayanan@sun.com-disabled&quot;,&quot;username&quot;:&quot;narayanan&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="narayanan"></span></span> V.Narayanan </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_narayanan" rel="narayanan" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;V.Narayanan&quot;,&quot;emailAddress&quot;:&quot;v.narayanan@sun.com-disabled&quot;,&quot;username&quot;:&quot;narayanan&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="narayanan"></span></span> V.Narayanan </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">0</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="22/Feb/08 09:35"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2008-02-22T09:35:32+0000">22/Feb/08 09:35</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="21/Jan/11 17:51"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2011-01-21T17:51:30+0000">21/Jan/11 17:51</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="01/Apr/08 13:48"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2008-04-01T13:48:40+0000">01/Apr/08 13:48</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3447?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-3447?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3447?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3447?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-3447?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3447?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-3447?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3447?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/DERBY-3447?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3447?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-3447?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/DERBY-3447?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12572021\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12572021&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12572021\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jorgenlo\\\" id=\\\"commentauthor_12572021_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jorgenlo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jorgenlo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J\\u00F8rgen L\\u00F8land\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12572021_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Feb\\/08 07:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-25T07:56:18+0000\'\u003e25\\/Feb\\/08 07:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI tried to start replication and then shutdown the master database, but did not get a hang. This may have been fixed in a recent commit. If you still get a hang, could you please submit a reproducible script? \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jorgenlo\\\" id=\\\"commentauthor_12572021_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jorgenlo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jorgenlo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J\\u00F8rgen L\\u00F8land\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12572021_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Feb\\/08 07:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-25T07:56:18+0000\'\u003e25\\/Feb\\/08 07:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I tried to start replication and then shutdown the master database, but did not get a hang. This may have been fixed in a recent commit. If you still get a hang, could you please submit a reproducible script?               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12574946\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12574946&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12574946\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jorgenlo\\\" id=\\\"commentauthor_12574946_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jorgenlo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jorgenlo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J\\u00F8rgen L\\u00F8land\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12574946_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Mar\\/08 11:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-04T11:56:47+0000\'\u003e04\\/Mar\\/08 11:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWhen replication has been set up in embedded using ij,\u003c\\/p\u003e\\n\\n\u003cp\u003econnect \'jdbc:derby:;shutdown=true\'\u003cbr\\/\u003e\\nquit;\u003c\\/p\u003e\\n\\n\u003cp\u003eworks fine on the master, whereas only\u003c\\/p\u003e\\n\\n\u003cp\u003equit;\u003c\\/p\u003e\\n\\n\u003cp\u003ehangs. I\'m not sure what the difference here is, but the thread stack reports that the log shipper thread is still alive. I think we shoul add cleanup code in MC#stop to get rid of this thread in the case that the module is unbooted without calling stopMaster or failover first. That happens e.g. for system shutdown.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jorgenlo\\\" id=\\\"commentauthor_12574946_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jorgenlo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jorgenlo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J\\u00F8rgen L\\u00F8land\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12574946_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Mar\\/08 11:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-04T11:56:47+0000\'\u003e04\\/Mar\\/08 11:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    When replication has been set up in embedded using ij, \\n\\n connect \'jdbc:derby:;shutdown=true\' \\nquit; \\n\\n works fine on the master, whereas only \\n\\n quit; \\n\\n hangs. I\'m not sure what the difference here is, but the thread stack reports that the log shipper thread is still alive. I think we shoul add cleanup code in MC#stop to get rid of this thread in the case that the module is unbooted without calling stopMaster or failover first. That happens e.g. for system shutdown.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12574952\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12574952&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12574952\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12574952_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12574952_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Mar\\/08 12:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-04T12:30:46+0000\'\u003e04\\/Mar\\/08 12:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe same operation also hangs on the slave.  Neither the log receiver thread nor the boot thread seems to have been terminated.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12574952_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12574952_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Mar\\/08 12:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-04T12:30:46+0000\'\u003e04\\/Mar\\/08 12:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The same operation also hangs on the slave.  Neither the log receiver thread nor the boot thread seems to have been terminated.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12576054\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12576054&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12576054\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12576054_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12576054_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/08 06:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-07T06:40:19+0000\'\u003e07\\/Mar\\/08 06:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eModified the stop() method to call stopMaster in the attached patch.\u003c\\/p\u003e\\n\\n\u003cp\u003eRan the following cases as repros, seems to run fine.\u003c\\/p\u003e\\n\\n\u003cp\u003eRepro 1\u003cbr\\/\u003e\\n-------\u003c\\/p\u003e\\n\\n\u003cp\u003eexit ij with quit;\u003c\\/p\u003e\\n\\n\u003cp\u003eij version 10.4\u003cbr\\/\u003e\\nij&gt; connect \'jdbc:derby:masterDB;user=oystein;password=pass;create=true\';\u003cbr\\/\u003e\\nij&gt; call syscs_util.syscs_freeze_database(); \u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij&gt; connect \'jdbc:derby:masterDB;user=oystein;password=pass;startMaster=true;slaveHost=localhost;slavePort-8001\';\u003cbr\\/\u003e\\nERROR XJ028: The URL \'jdbc:derby:masterDB;user=oystein;password=pass;startMaster=true;slaveHost=localhost;slavePort-8001\' is not properly formed.\u003cbr\\/\u003e\\nij&gt; connect \'jdbc:derby:masterDB;user=oystein;password=pass;startMaster=true;slaveHost=localhost;slavePort=8001\';\u003cbr\\/\u003e\\nij(CONNECTION1)&gt; quit;\u003cbr\\/\u003e\\nvn@vn-laptop:~\\/work\\/workspaces\\/Derby3447\\/master$ \u003c\\/p\u003e\\n\\n\u003cp\u003eRepro 2\u003cbr\\/\u003e\\n-------\u003c\\/p\u003e\\n\\n\u003cp\u003eexit ij, with system shutdown\u003c\\/p\u003e\\n\\n\u003cp\u003econnect \'jdbc:derby:;shutdown=true\' \u003cbr\\/\u003e\\nand\u003cbr\\/\u003e\\nquit\u003c\\/p\u003e\\n\\n\u003cp\u003evn@vn-laptop:~\\/work\\/workspaces\\/Derby3447\\/master$ java org.apache.derby.tools.ij\u003cbr\\/\u003e\\nij version 10.4\u003cbr\\/\u003e\\nij&gt; connect \'jdbc:derby:masterDB;user=oystein;password=pass;create=true\';\u003cbr\\/\u003e\\nij&gt; call syscs_util.syscs_freeze_database();\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij&gt;  connect \'jdbc:derby:masterDB;user=oystein;password=pass;startMaster=true;slaveHost=localhost;slavePort=8001\';\u003cbr\\/\u003e\\nij(CONNECTION1)&gt; connect \'jdbc:derby:;shutdown=true\';\u003cbr\\/\u003e\\nERROR XJ015: Derby system shutdown.\u003cbr\\/\u003e\\nij(CONNECTION1)&gt; quit;\u003cbr\\/\u003e\\nvn@vn-laptop:~\\/work\\/workspaces\\/Derby3447\\/master$ \u003c\\/p\u003e\\n\\n\u003cp\u003eRepro 3\u003cbr\\/\u003e\\n--------\u003c\\/p\u003e\\n\\n\u003cp\u003eexit ij, with database shutdown.\u003c\\/p\u003e\\n\\n\u003cp\u003evn@vn-laptop:~\\/work\\/workspaces\\/Derby3447\\/master$ java org.apache.derby.tools.ij\u003cbr\\/\u003e\\nij version 10.4\u003cbr\\/\u003e\\nij&gt;  connect \'jdbc:derby:masterDB;user=oystein;password=pass;create=true\';\u003cbr\\/\u003e\\nij&gt;  call syscs_util.syscs_freeze_database();\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij&gt;  connect \'jdbc:derby:masterDB;user=oystein;password=pass;startMaster=true;slaveHost=localhost;slavePort=8001\';\u003cbr\\/\u003e\\nij(CONNECTION1)&gt; connect \'jdbc:derby:masterDB;shutdown=true\';\u003cbr\\/\u003e\\nERROR 08006: Database \'masterDB\' shutdown.\u003cbr\\/\u003e\\nij(CONNECTION1)&gt; exit;\u003cbr\\/\u003e\\nvn@vn-laptop:~\\/work\\/workspaces\\/Derby3447\\/master$\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12576054_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12576054_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/08 06:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-07T06:40:19+0000\'\u003e07\\/Mar\\/08 06:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Modified the stop() method to call stopMaster in the attached patch. \\n\\n Ran the following cases as repros, seems to run fine. \\n\\n Repro 1 \\n------- \\n\\n exit ij with quit; \\n\\n ij version 10.4 \\nij&gt; connect \'jdbc:derby:masterDB;user=oystein;password=pass;create=true\'; \\nij&gt; call syscs_util.syscs_freeze_database();  \\n0 rows inserted\\/updated\\/deleted \\nij&gt; connect \'jdbc:derby:masterDB;user=oystein;password=pass;startMaster=true;slaveHost=localhost;slavePort-8001\'; \\nERROR XJ028: The URL \'jdbc:derby:masterDB;user=oystein;password=pass;startMaster=true;slaveHost=localhost;slavePort-8001\' is not properly formed. \\nij&gt; connect \'jdbc:derby:masterDB;user=oystein;password=pass;startMaster=true;slaveHost=localhost;slavePort=8001\'; \\nij(CONNECTION1)&gt; quit; \\nvn@vn-laptop:~\\/work\\/workspaces\\/Derby3447\\/master$  \\n\\n Repro 2 \\n------- \\n\\n exit ij, with system shutdown \\n\\n connect \'jdbc:derby:;shutdown=true\'  \\nand \\nquit \\n\\n vn@vn-laptop:~\\/work\\/workspaces\\/Derby3447\\/master$ java org.apache.derby.tools.ij \\nij version 10.4 \\nij&gt; connect \'jdbc:derby:masterDB;user=oystein;password=pass;create=true\'; \\nij&gt; call syscs_util.syscs_freeze_database(); \\n0 rows inserted\\/updated\\/deleted \\nij&gt;  connect \'jdbc:derby:masterDB;user=oystein;password=pass;startMaster=true;slaveHost=localhost;slavePort=8001\'; \\nij(CONNECTION1)&gt; connect \'jdbc:derby:;shutdown=true\'; \\nERROR XJ015: Derby system shutdown. \\nij(CONNECTION1)&gt; quit; \\nvn@vn-laptop:~\\/work\\/workspaces\\/Derby3447\\/master$  \\n\\n Repro 3 \\n-------- \\n\\n exit ij, with database shutdown. \\n\\n vn@vn-laptop:~\\/work\\/workspaces\\/Derby3447\\/master$ java org.apache.derby.tools.ij \\nij version 10.4 \\nij&gt;  connect \'jdbc:derby:masterDB;user=oystein;password=pass;create=true\'; \\nij&gt;  call syscs_util.syscs_freeze_database(); \\n0 rows inserted\\/updated\\/deleted \\nij&gt;  connect \'jdbc:derby:masterDB;user=oystein;password=pass;startMaster=true;slaveHost=localhost;slavePort=8001\'; \\nij(CONNECTION1)&gt; connect \'jdbc:derby:masterDB;shutdown=true\'; \\nERROR 08006: Database \'masterDB\' shutdown. \\nij(CONNECTION1)&gt; exit; \\nvn@vn-laptop:~\\/work\\/workspaces\\/Derby3447\\/master$ \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12577345\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12577345&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12577345\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12577345_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12577345_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Mar\\/08 09:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-11T09:28:58+0000\'\u003e11\\/Mar\\/08 09:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi, I tried the patch, but I still get I hang when I quit an ij that is running a master.\u003cbr\\/\u003e\\n(Since MasterController has moved, I modified the path in the diff file before applying the patch.)\u003cbr\\/\u003e\\n(I am runnig with classes.)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12577345_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12577345_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Mar\\/08 09:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-11T09:28:58+0000\'\u003e11\\/Mar\\/08 09:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi, I tried the patch, but I still get I hang when I quit an ij that is running a master. \\n(Since MasterController has moved, I modified the path in the diff file before applying the patch.) \\n(I am runnig with classes.)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12577348\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12577348&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12577348\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12577348_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12577348_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Mar\\/08 09:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-11T09:35:27+0000\'\u003e11\\/Mar\\/08 09:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt;Hi, I tried the patch, but I still get I hang when I quit an ij that is running a master.\u003c\\/p\u003e\\n\\n\u003cp\u003eYou just did a quit; and it hanged? Surprising the repro worked for me. I will check this.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;(Since MasterController has moved, I modified the path in the diff file before applying the patch.)\u003c\\/p\u003e\\n\\n\u003cp\u003eJust modified the file names in the diff?\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;(I am runnig with classes.)\u003c\\/p\u003e\\n\\n\u003cp\u003eWould this be different from running with the jars?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12577348_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12577348_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Mar\\/08 09:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-11T09:35:27+0000\'\u003e11\\/Mar\\/08 09:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt;Hi, I tried the patch, but I still get I hang when I quit an ij that is running a master. \\n\\n You just did a quit; and it hanged? Surprising the repro worked for me. I will check this. \\n\\n &gt;(Since MasterController has moved, I modified the path in the diff file before applying the patch.) \\n\\n Just modified the file names in the diff? \\n\\n &gt;(I am runnig with classes.) \\n\\n Would this be different from running with the jars?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12577389\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12577389&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12577389\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12577389_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12577389_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Mar\\/08 11:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-11T11:04:42+0000\'\u003e11\\/Mar\\/08 11:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI am not able to reproduce this problem on both embedded and network\\/client\u003c\\/p\u003e\\n\\n\u003cp\u003eNetwork Client\u003c\\/p\u003e\\n\\n\u003cp\u003evn@vn-laptop:~\\/work\\/workspaces\\/Derby3447_1\\/master$ java org.apache.derby.tools.ij\u003cbr\\/\u003e\\nij version 10.5\u003cbr\\/\u003e\\nij&gt; connect \'jdbc:derby:\\/\\/localhost:1527\\/replicationdb\';\u003cbr\\/\u003e\\nij&gt; connect \'jdbc:derby:\\/\\/localhost:1527\\/replicationdb;startMaster=true;slaveHost=localhost;slavePort=8001\';\u003cbr\\/\u003e\\nij(CONNECTION1)&gt; quit;\u003cbr\\/\u003e\\nvn@vn-laptop:~\\/work\\/workspaces\\/Derby3447_1\\/master$\u003c\\/p\u003e\\n\\n\u003cp\u003eEmbedded\u003c\\/p\u003e\\n\\n\u003cp\u003evn@vn-laptop:~\\/work\\/workspaces\\/Derby3447_1\\/master$ java org.apache.derby.tools.ij\u003cbr\\/\u003e\\nij version 10.5\u003cbr\\/\u003e\\nij&gt; connect \'jdbc:derby:masterDB;user=oystein;password=pass;create=true\';\u003cbr\\/\u003e\\nij&gt; call SYSCS_UTIL.SYSCS_FREEZE_DATABASE(); \u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij&gt; connect \'jdbc:derby:masterDB;user=oystein;password=pass;startMaster=true;slaveHost=localhost;slavePort=8001\';\u003cbr\\/\u003e\\nij(CONNECTION1)&gt; quit;\u003cbr\\/\u003e\\nvn@vn-laptop:~\\/work\\/workspaces\\/Derby3447_1\\/master$ \u003c\\/p\u003e\\n\\n\u003cp\u003eCan you pls re-run and confirm on the current workspace to see if this problem is occurring?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12577389_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12577389_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Mar\\/08 11:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-11T11:04:42+0000\'\u003e11\\/Mar\\/08 11:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I am not able to reproduce this problem on both embedded and network\\/client \\n\\n Network Client \\n\\n vn@vn-laptop:~\\/work\\/workspaces\\/Derby3447_1\\/master$ java org.apache.derby.tools.ij \\nij version 10.5 \\nij&gt; connect \'jdbc:derby:\\/\\/localhost:1527\\/replicationdb\'; \\nij&gt; connect \'jdbc:derby:\\/\\/localhost:1527\\/replicationdb;startMaster=true;slaveHost=localhost;slavePort=8001\'; \\nij(CONNECTION1)&gt; quit; \\nvn@vn-laptop:~\\/work\\/workspaces\\/Derby3447_1\\/master$ \\n\\n Embedded \\n\\n vn@vn-laptop:~\\/work\\/workspaces\\/Derby3447_1\\/master$ java org.apache.derby.tools.ij \\nij version 10.5 \\nij&gt; connect \'jdbc:derby:masterDB;user=oystein;password=pass;create=true\'; \\nij&gt; call SYSCS_UTIL.SYSCS_FREEZE_DATABASE();  \\n0 rows inserted\\/updated\\/deleted \\nij&gt; connect \'jdbc:derby:masterDB;user=oystein;password=pass;startMaster=true;slaveHost=localhost;slavePort=8001\'; \\nij(CONNECTION1)&gt; quit; \\nvn@vn-laptop:~\\/work\\/workspaces\\/Derby3447_1\\/master$  \\n\\n Can you pls re-run and confirm on the current workspace to see if this problem is occurring?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12577393\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12577393&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12577393\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12577393_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12577393_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Mar\\/08 11:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-11T11:17:25+0000\'\u003e11\\/Mar\\/08 11:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIt works for me if I turn off authentication and SQL authorization.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12577393_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12577393_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Mar\\/08 11:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-11T11:17:25+0000\'\u003e11\\/Mar\\/08 11:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    It works for me if I turn off authentication and SQL authorization.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12577785\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12577785&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12577785\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12577785_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12577785_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Mar\\/08 10:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-12T10:14:56+0000\'\u003e12\\/Mar\\/08 10:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI am not able to reproduce this problem on the network client (surprises me, Maybe I did something wrong!!). \u003cbr\\/\u003e\\nBut am able to reproduce this in the embedded mode. I did a jstack to find out what is hanging and found the\u003cbr\\/\u003e\\nfollowing relevant\u003c\\/p\u003e\\n\\n\u003cp\u003e-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------\u003cbr\\/\u003e\\nmaster\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"Attach Listener\\\" daemon prio=10 tid=0x08312000 nid=0x2086 waiting on condition \u003cspan class=\\\"error\\\"\u003e&#91;0x00000000..0x00000000&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: RUNNABLE\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"DestroyJavaVM\\\" prio=10 tid=0x08059800 nid=0x2004 waiting on condition \u003cspan class=\\\"error\\\"\u003e&#91;0x00000000..0xb7dfc090&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: RUNNABLE\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"derby.master.logger-mydb\\\" prio=10 tid=0x08311800 nid=0x203b in Object.wait() \u003cspan class=\\\"error\\\"\u003e&#91;0xb5594000..0xb55950c0&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\u003cbr\\/\u003e\\n        at java.lang.Object.wait(Native Method)\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ewaiting on &lt;0x8c0b6180&gt; (a org.apache.derby.impl.store.replication.master.AsynchronousLogShipper)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.replication.master.AsynchronousLogShipper.run(AsynchronousLogShipper.java:203)\u003c\\/li\u003e\\n\\t\u003cli\u003elocked &lt;0x8c0b6180&gt; (a org.apache.derby.impl.store.replication.master.AsynchronousLogShipper)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e\\\"derby.rawStoreDaemon\\\" daemon prio=10 tid=0x082b5c00 nid=0x2015 in Object.wait() \u003cspan class=\\\"error\\\"\u003e&#91;0xb5607000..0xb5608040&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\u003cbr\\/\u003e\\n        at java.lang.Object.wait(Native Method)\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ewaiting on &lt;0x8c61f0a0&gt; (a org.apache.derby.impl.services.daemon.BasicDaemon)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.services.daemon.BasicDaemon.rest(BasicDaemon.java:571)\u003c\\/li\u003e\\n\\t\u003cli\u003elocked &lt;0x8c61f0a0&gt; (a org.apache.derby.impl.services.daemon.BasicDaemon)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.services.daemon.BasicDaemon.run(BasicDaemon.java:388)\u003cbr\\/\u003e\\n        at java.lang.Thread.run(Thread.java:619)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e\\\"Timer-0\\\" daemon prio=10 tid=0x08294000 nid=0x2014 in Object.wait() \u003cspan class=\\\"error\\\"\u003e&#91;0xb5666000..0xb5666fc0&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: WAITING (on object monitor)\u003cbr\\/\u003e\\n        at java.lang.Object.wait(Native Method)\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ewaiting on &lt;0x8c5d47b0&gt; (a java.util.TaskQueue)\u003cbr\\/\u003e\\n        at java.lang.Object.wait(Object.java:485)\u003cbr\\/\u003e\\n        at java.util.TimerThread.mainLoop(Timer.java:483)\u003c\\/li\u003e\\n\\t\u003cli\u003elocked &lt;0x8c5d47b0&gt; (a java.util.TaskQueue)\u003cbr\\/\u003e\\n        at java.util.TimerThread.run(Timer.java:462)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e\\\"derby.antiGC\\\" daemon prio=10 tid=0x08213c00 nid=0x2013 in Object.wait() \u003cspan class=\\\"error\\\"\u003e&#91;0xb56ba000..0xb56baf40&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: WAITING (on object monitor)\u003cbr\\/\u003e\\n        at java.lang.Object.wait(Native Method)\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ewaiting on &lt;0x8c5870a8&gt; (a org.apache.derby.impl.services.monitor.AntiGC)\u003cbr\\/\u003e\\n        at java.lang.Object.wait(Object.java:485)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.services.monitor.AntiGC.run(BaseMonitor.java:2196)\u003c\\/li\u003e\\n\\t\u003cli\u003elocked &lt;0x8c5870a8&gt; (a org.apache.derby.impl.services.monitor.AntiGC)\u003cbr\\/\u003e\\n        at java.lang.Thread.run(Thread.java:619)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e\\\"Low Memory Detector\\\" daemon prio=10 tid=0x0808e000 nid=0x200a runnable \u003cspan class=\\\"error\\\"\u003e&#91;0x00000000..0x00000000&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: RUNNABLE\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"CompilerThread0\\\" daemon prio=10 tid=0x0808c400 nid=0x2009 waiting on condition \u003cspan class=\\\"error\\\"\u003e&#91;0x00000000..0xb5a5b858&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: RUNNABLE\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"Signal Dispatcher\\\" daemon prio=10 tid=0x0808b000 nid=0x2008 runnable \u003cspan class=\\\"error\\\"\u003e&#91;0x00000000..0xb5aace20&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: RUNNABLE\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"Finalizer\\\" daemon prio=10 tid=0x08082800 nid=0x2007 in Object.wait() \u003cspan class=\\\"error\\\"\u003e&#91;0xb5b3c000..0xb5b3d0c0&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: WAITING (on object monitor)\u003cbr\\/\u003e\\n        at java.lang.Object.wait(Native Method)\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ewaiting on &lt;0x8c551968&gt; (a java.lang.ref.ReferenceQueue$Lock)\u003cbr\\/\u003e\\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:116)\u003c\\/li\u003e\\n\\t\u003cli\u003elocked &lt;0x8c551968&gt; (a java.lang.ref.ReferenceQueue$Lock)\u003cbr\\/\u003e\\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:132)\u003cbr\\/\u003e\\n        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e\\\"Reference Handler\\\" daemon prio=10 tid=0x08081800 nid=0x2006 in Object.wait() \u003cspan class=\\\"error\\\"\u003e&#91;0xb5b8d000..0xb5b8e040&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: WAITING (on object monitor)\u003cbr\\/\u003e\\n        at java.lang.Object.wait(Native Method)\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ewaiting on &lt;0x8c5519f8&gt; (a java.lang.ref.Reference$Lock)\u003cbr\\/\u003e\\n        at java.lang.Object.wait(Object.java:485)\u003cbr\\/\u003e\\n        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:116)\u003c\\/li\u003e\\n\\t\u003cli\u003elocked &lt;0x8c5519f8&gt; (a java.lang.ref.Reference$Lock)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e\\\"VM Thread\\\" prio=10 tid=0x08080000 nid=0x2005 runnable \u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"VM Periodic Task Thread\\\" prio=10 tid=0x0808f800 nid=0x200b waiting on condition \u003c\\/p\u003e\\n\\n\u003cp\u003eJNI global references: 690\u003c\\/p\u003e\\n\\n\u003cp\u003e-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\u003c\\/p\u003e\\n\\n\u003cp\u003eSlave\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"Attach Listener\\\" daemon prio=10 tid=0x0820ac00 nid=0x2092 runnable \u003cspan class=\\\"error\\\"\u003e&#91;0x00000000..0x00000000&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: RUNNABLE\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"DestroyJavaVM\\\" prio=10 tid=0x08059800 nid=0x2029 waiting on condition \u003cspan class=\\\"error\\\"\u003e&#91;0x00000000..0xb7d66090&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: RUNNABLE\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"derby.slave.logger-mydb\\\" prio=10 tid=0x0820f000 nid=0x203a runnable \u003cspan class=\\\"error\\\"\u003e&#91;0xb54ac000..0xb54acf40&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: RUNNABLE\u003cbr\\/\u003e\\n        at java.net.SocketInputStream.socketRead0(Native Method)\u003cbr\\/\u003e\\n        at java.net.SocketInputStream.read(SocketInputStream.java:129)\u003cbr\\/\u003e\\n        at java.net.SocketInputStream.read(SocketInputStream.java:182)\u003cbr\\/\u003e\\n        at java.io.ObjectInputStream$PeekInputStream.peek(ObjectInputStream.java:2247)\u003cbr\\/\u003e\\n        at java.io.ObjectInputStream$BlockDataInputStream.peek(ObjectInputStream.java:2540)\u003cbr\\/\u003e\\n        at java.io.ObjectInputStream$BlockDataInputStream.peekByte(ObjectInputStream.java:2550)\u003cbr\\/\u003e\\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1297)\u003cbr\\/\u003e\\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:351)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.replication.net.SocketConnection.readMessage(SocketConnection.java:84)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.replication.net.ReplicationMessageReceive.readMessage(ReplicationMessageReceive.java:387)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.replication.slave.SlaveController$SlaveLogReceiverThread.run(SlaveController.java:476)\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"derby.rawStoreDaemon\\\" daemon prio=10 tid=0x083bc800 nid=0x2039 in Object.wait() \u003cspan class=\\\"error\\\"\u003e&#91;0xb5503000..0xb5503fc0&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\u003cbr\\/\u003e\\n        at java.lang.Object.wait(Native Method)\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ewaiting on &lt;0x8c1201b8&gt; (a org.apache.derby.impl.services.daemon.BasicDaemon)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.services.daemon.BasicDaemon.rest(BasicDaemon.java:571)\u003c\\/li\u003e\\n\\t\u003cli\u003elocked &lt;0x8c1201b8&gt; (a org.apache.derby.impl.services.daemon.BasicDaemon)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.services.daemon.BasicDaemon.run(BasicDaemon.java:388)\u003cbr\\/\u003e\\n        at java.lang.Thread.run(Thread.java:619)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e\\\"derby.slave.boot-mydb\\\" prio=10 tid=0x083bc400 nid=0x2038 in Object.wait() \u003cspan class=\\\"error\\\"\u003e&#91;0xb5570000..0xb5571040&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: WAITING (on object monitor)\u003cbr\\/\u003e\\n        at java.lang.Object.wait(Native Method)\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ewaiting on &lt;0x8c120268&gt; (a java.lang.Object)\u003cbr\\/\u003e\\n        at java.lang.Object.wait(Object.java:485)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.raw.log.LogToFile.recover(LogToFile.java:712)\u003c\\/li\u003e\\n\\t\u003cli\u003elocked &lt;0x8c120268&gt; (a java.lang.Object)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.raw.RawStore.boot(RawStore.java:334)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java:1999)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java:291)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMonitor.java:553)\u003cbr\\/\u003e\\n        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Monitor.java:427)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.access.RAMAccessManager.boot(RAMAccessManager.java:1019)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java:1999)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java:291)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMonitor.java:553)\u003cbr\\/\u003e\\n        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Monitor.java:427)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.db.BasicDatabase.bootStore(BasicDatabase.java:789)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.db.BasicDatabase.boot(BasicDatabase.java:205)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.db.SlaveDatabase.bootBasicDatabase(SlaveDatabase.java:421)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.db.SlaveDatabase.access$000(SlaveDatabase.java:70)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.db.SlaveDatabase$SlaveDatabaseBootThread.run(SlaveDatabase.java:308)\u003cbr\\/\u003e\\n        at java.lang.Thread.run(Thread.java:619)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e\\\"Timer-0\\\" daemon prio=10 tid=0x0816d800 nid=0x2036 in Object.wait() \u003cspan class=\\\"error\\\"\u003e&#91;0xb55cf000..0xb55d0140&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: WAITING (on object monitor)\u003cbr\\/\u003e\\n        at java.lang.Object.wait(Native Method)\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ewaiting on &lt;0x8c5d4980&gt; (a java.util.TaskQueue)\u003cbr\\/\u003e\\n        at java.lang.Object.wait(Object.java:485)\u003cbr\\/\u003e\\n        at java.util.TimerThread.mainLoop(Timer.java:483)\u003c\\/li\u003e\\n\\t\u003cli\u003elocked &lt;0x8c5d4980&gt; (a java.util.TaskQueue)\u003cbr\\/\u003e\\n        at java.util.TimerThread.run(Timer.java:462)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e\\\"derby.antiGC\\\" daemon prio=10 tid=0x08062400 nid=0x2035 in Object.wait() \u003cspan class=\\\"error\\\"\u003e&#91;0xb5623000..0xb5623dc0&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: WAITING (on object monitor)\u003cbr\\/\u003e\\n        at java.lang.Object.wait(Native Method)\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ewaiting on &lt;0x8c587550&gt; (a org.apache.derby.impl.services.monitor.AntiGC)\u003cbr\\/\u003e\\n        at java.lang.Object.wait(Object.java:485)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.services.monitor.AntiGC.run(BaseMonitor.java:2196)\u003c\\/li\u003e\\n\\t\u003cli\u003elocked &lt;0x8c587550&gt; (a org.apache.derby.impl.services.monitor.AntiGC)\u003cbr\\/\u003e\\n        at java.lang.Thread.run(Thread.java:619)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e\\\"Low Memory Detector\\\" daemon prio=10 tid=0x0808e000 nid=0x202f runnable \u003cspan class=\\\"error\\\"\u003e&#91;0x00000000..0x00000000&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: RUNNABLE\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"CompilerThread0\\\" daemon prio=10 tid=0x0808c400 nid=0x202e waiting on condition \u003cspan class=\\\"error\\\"\u003e&#91;0x00000000..0xb59c59d8&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: RUNNABLE\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"Signal Dispatcher\\\" daemon prio=10 tid=0x0808b000 nid=0x202d runnable \u003cspan class=\\\"error\\\"\u003e&#91;0x00000000..0xb5a16ca0&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: RUNNABLE\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"Finalizer\\\" daemon prio=10 tid=0x08082800 nid=0x202c in Object.wait() \u003cspan class=\\\"error\\\"\u003e&#91;0xb5aa6000..0xb5aa7040&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: WAITING (on object monitor)\u003cbr\\/\u003e\\n        at java.lang.Object.wait(Native Method)\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ewaiting on &lt;0x8c551960&gt; (a java.lang.ref.ReferenceQueue$Lock)\u003cbr\\/\u003e\\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:116)\u003c\\/li\u003e\\n\\t\u003cli\u003elocked &lt;0x8c551960&gt; (a java.lang.ref.ReferenceQueue$Lock)\u003cbr\\/\u003e\\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:132)\u003cbr\\/\u003e\\n        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e\\\"Reference Handler\\\" daemon prio=10 tid=0x08081800 nid=0x202b in Object.wait() \u003cspan class=\\\"error\\\"\u003e&#91;0xb5af7000..0xb5af80c0&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: WAITING (on object monitor)\u003cbr\\/\u003e\\n        at java.lang.Object.wait(Native Method)\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ewaiting on &lt;0x8c5519f0&gt; (a java.lang.ref.Reference$Lock)\u003cbr\\/\u003e\\n        at java.lang.Object.wait(Object.java:485)\u003cbr\\/\u003e\\n        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:116)\u003c\\/li\u003e\\n\\t\u003cli\u003elocked &lt;0x8c5519f0&gt; (a java.lang.ref.Reference$Lock)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e\\\"VM Thread\\\" prio=10 tid=0x08080000 nid=0x202a runnable \u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"VM Periodic Task Thread\\\" prio=10 tid=0x0808f800 nid=0x2030 waiting on condition \u003c\\/p\u003e\\n\\n\u003cp\u003eJNI global references: 732\u003cbr\\/\u003e\\n----------------------------------------------------------------------------------------------------------------------------------------------------------------------------\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12577785_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12577785_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Mar\\/08 10:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-12T10:14:56+0000\'\u003e12\\/Mar\\/08 10:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I am not able to reproduce this problem on the network client (surprises me, Maybe I did something wrong!!).  \\nBut am able to reproduce this in the embedded mode. I did a jstack to find out what is hanging and found the \\nfollowing relevant \\n\\n ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- \\nmaster \\n\\n \\\"Attach Listener\\\" daemon prio=10 tid=0x08312000 nid=0x2086 waiting on condition  &#91;0x00000000..0x00000000&#93;  \\n   java.lang.Thread.State: RUNNABLE \\n\\n \\\"DestroyJavaVM\\\" prio=10 tid=0x08059800 nid=0x2004 waiting on condition  &#91;0x00000000..0xb7dfc090&#93;  \\n   java.lang.Thread.State: RUNNABLE \\n\\n \\\"derby.master.logger-mydb\\\" prio=10 tid=0x08311800 nid=0x203b in Object.wait()  &#91;0xb5594000..0xb55950c0&#93;  \\n   java.lang.Thread.State: TIMED_WAITING (on object monitor) \\n        at java.lang.Object.wait(Native Method) \\n \\n\\t waiting on &lt;0x8c0b6180&gt; (a org.apache.derby.impl.store.replication.master.AsynchronousLogShipper) \\n        at org.apache.derby.impl.store.replication.master.AsynchronousLogShipper.run(AsynchronousLogShipper.java:203) \\n\\t locked &lt;0x8c0b6180&gt; (a org.apache.derby.impl.store.replication.master.AsynchronousLogShipper) \\n \\n\\n\\n \\\"derby.rawStoreDaemon\\\" daemon prio=10 tid=0x082b5c00 nid=0x2015 in Object.wait()  &#91;0xb5607000..0xb5608040&#93;  \\n   java.lang.Thread.State: TIMED_WAITING (on object monitor) \\n        at java.lang.Object.wait(Native Method) \\n \\n\\t waiting on &lt;0x8c61f0a0&gt; (a org.apache.derby.impl.services.daemon.BasicDaemon) \\n        at org.apache.derby.impl.services.daemon.BasicDaemon.rest(BasicDaemon.java:571) \\n\\t locked &lt;0x8c61f0a0&gt; (a org.apache.derby.impl.services.daemon.BasicDaemon) \\n        at org.apache.derby.impl.services.daemon.BasicDaemon.run(BasicDaemon.java:388) \\n        at java.lang.Thread.run(Thread.java:619) \\n \\n\\n\\n \\\"Timer-0\\\" daemon prio=10 tid=0x08294000 nid=0x2014 in Object.wait()  &#91;0xb5666000..0xb5666fc0&#93;  \\n   java.lang.Thread.State: WAITING (on object monitor) \\n        at java.lang.Object.wait(Native Method) \\n \\n\\t waiting on &lt;0x8c5d47b0&gt; (a java.util.TaskQueue) \\n        at java.lang.Object.wait(Object.java:485) \\n        at java.util.TimerThread.mainLoop(Timer.java:483) \\n\\t locked &lt;0x8c5d47b0&gt; (a java.util.TaskQueue) \\n        at java.util.TimerThread.run(Timer.java:462) \\n \\n\\n\\n \\\"derby.antiGC\\\" daemon prio=10 tid=0x08213c00 nid=0x2013 in Object.wait()  &#91;0xb56ba000..0xb56baf40&#93;  \\n   java.lang.Thread.State: WAITING (on object monitor) \\n        at java.lang.Object.wait(Native Method) \\n \\n\\t waiting on &lt;0x8c5870a8&gt; (a org.apache.derby.impl.services.monitor.AntiGC) \\n        at java.lang.Object.wait(Object.java:485) \\n        at org.apache.derby.impl.services.monitor.AntiGC.run(BaseMonitor.java:2196) \\n\\t locked &lt;0x8c5870a8&gt; (a org.apache.derby.impl.services.monitor.AntiGC) \\n        at java.lang.Thread.run(Thread.java:619) \\n \\n\\n\\n \\\"Low Memory Detector\\\" daemon prio=10 tid=0x0808e000 nid=0x200a runnable  &#91;0x00000000..0x00000000&#93;  \\n   java.lang.Thread.State: RUNNABLE \\n\\n \\\"CompilerThread0\\\" daemon prio=10 tid=0x0808c400 nid=0x2009 waiting on condition  &#91;0x00000000..0xb5a5b858&#93;  \\n   java.lang.Thread.State: RUNNABLE \\n\\n \\\"Signal Dispatcher\\\" daemon prio=10 tid=0x0808b000 nid=0x2008 runnable  &#91;0x00000000..0xb5aace20&#93;  \\n   java.lang.Thread.State: RUNNABLE \\n\\n \\\"Finalizer\\\" daemon prio=10 tid=0x08082800 nid=0x2007 in Object.wait()  &#91;0xb5b3c000..0xb5b3d0c0&#93;  \\n   java.lang.Thread.State: WAITING (on object monitor) \\n        at java.lang.Object.wait(Native Method) \\n \\n\\t waiting on &lt;0x8c551968&gt; (a java.lang.ref.ReferenceQueue$Lock) \\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:116) \\n\\t locked &lt;0x8c551968&gt; (a java.lang.ref.ReferenceQueue$Lock) \\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:132) \\n        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159) \\n \\n\\n\\n \\\"Reference Handler\\\" daemon prio=10 tid=0x08081800 nid=0x2006 in Object.wait()  &#91;0xb5b8d000..0xb5b8e040&#93;  \\n   java.lang.Thread.State: WAITING (on object monitor) \\n        at java.lang.Object.wait(Native Method) \\n \\n\\t waiting on &lt;0x8c5519f8&gt; (a java.lang.ref.Reference$Lock) \\n        at java.lang.Object.wait(Object.java:485) \\n        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:116) \\n\\t locked &lt;0x8c5519f8&gt; (a java.lang.ref.Reference$Lock) \\n \\n\\n\\n \\\"VM Thread\\\" prio=10 tid=0x08080000 nid=0x2005 runnable  \\n\\n \\\"VM Periodic Task Thread\\\" prio=10 tid=0x0808f800 nid=0x200b waiting on condition  \\n\\n JNI global references: 690 \\n\\n ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- \\n\\n Slave \\n\\n \\\"Attach Listener\\\" daemon prio=10 tid=0x0820ac00 nid=0x2092 runnable  &#91;0x00000000..0x00000000&#93;  \\n   java.lang.Thread.State: RUNNABLE \\n\\n \\\"DestroyJavaVM\\\" prio=10 tid=0x08059800 nid=0x2029 waiting on condition  &#91;0x00000000..0xb7d66090&#93;  \\n   java.lang.Thread.State: RUNNABLE \\n\\n \\\"derby.slave.logger-mydb\\\" prio=10 tid=0x0820f000 nid=0x203a runnable  &#91;0xb54ac000..0xb54acf40&#93;  \\n   java.lang.Thread.State: RUNNABLE \\n        at java.net.SocketInputStream.socketRead0(Native Method) \\n        at java.net.SocketInputStream.read(SocketInputStream.java:129) \\n        at java.net.SocketInputStream.read(SocketInputStream.java:182) \\n        at java.io.ObjectInputStream$PeekInputStream.peek(ObjectInputStream.java:2247) \\n        at java.io.ObjectInputStream$BlockDataInputStream.peek(ObjectInputStream.java:2540) \\n        at java.io.ObjectInputStream$BlockDataInputStream.peekByte(ObjectInputStream.java:2550) \\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1297) \\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:351) \\n        at org.apache.derby.impl.store.replication.net.SocketConnection.readMessage(SocketConnection.java:84) \\n        at org.apache.derby.impl.store.replication.net.ReplicationMessageReceive.readMessage(ReplicationMessageReceive.java:387) \\n        at org.apache.derby.impl.store.replication.slave.SlaveController$SlaveLogReceiverThread.run(SlaveController.java:476) \\n\\n \\\"derby.rawStoreDaemon\\\" daemon prio=10 tid=0x083bc800 nid=0x2039 in Object.wait()  &#91;0xb5503000..0xb5503fc0&#93;  \\n   java.lang.Thread.State: TIMED_WAITING (on object monitor) \\n        at java.lang.Object.wait(Native Method) \\n \\n\\t waiting on &lt;0x8c1201b8&gt; (a org.apache.derby.impl.services.daemon.BasicDaemon) \\n        at org.apache.derby.impl.services.daemon.BasicDaemon.rest(BasicDaemon.java:571) \\n\\t locked &lt;0x8c1201b8&gt; (a org.apache.derby.impl.services.daemon.BasicDaemon) \\n        at org.apache.derby.impl.services.daemon.BasicDaemon.run(BasicDaemon.java:388) \\n        at java.lang.Thread.run(Thread.java:619) \\n \\n\\n\\n \\\"derby.slave.boot-mydb\\\" prio=10 tid=0x083bc400 nid=0x2038 in Object.wait()  &#91;0xb5570000..0xb5571040&#93;  \\n   java.lang.Thread.State: WAITING (on object monitor) \\n        at java.lang.Object.wait(Native Method) \\n \\n\\t waiting on &lt;0x8c120268&gt; (a java.lang.Object) \\n        at java.lang.Object.wait(Object.java:485) \\n        at org.apache.derby.impl.store.raw.log.LogToFile.recover(LogToFile.java:712) \\n\\t locked &lt;0x8c120268&gt; (a java.lang.Object) \\n        at org.apache.derby.impl.store.raw.RawStore.boot(RawStore.java:334) \\n        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java:1999) \\n        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java:291) \\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMonitor.java:553) \\n        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Monitor.java:427) \\n        at org.apache.derby.impl.store.access.RAMAccessManager.boot(RAMAccessManager.java:1019) \\n        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java:1999) \\n        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java:291) \\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMonitor.java:553) \\n        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Monitor.java:427) \\n        at org.apache.derby.impl.db.BasicDatabase.bootStore(BasicDatabase.java:789) \\n        at org.apache.derby.impl.db.BasicDatabase.boot(BasicDatabase.java:205) \\n        at org.apache.derby.impl.db.SlaveDatabase.bootBasicDatabase(SlaveDatabase.java:421) \\n        at org.apache.derby.impl.db.SlaveDatabase.access$000(SlaveDatabase.java:70) \\n        at org.apache.derby.impl.db.SlaveDatabase$SlaveDatabaseBootThread.run(SlaveDatabase.java:308) \\n        at java.lang.Thread.run(Thread.java:619) \\n \\n\\n\\n \\\"Timer-0\\\" daemon prio=10 tid=0x0816d800 nid=0x2036 in Object.wait()  &#91;0xb55cf000..0xb55d0140&#93;  \\n   java.lang.Thread.State: WAITING (on object monitor) \\n        at java.lang.Object.wait(Native Method) \\n \\n\\t waiting on &lt;0x8c5d4980&gt; (a java.util.TaskQueue) \\n        at java.lang.Object.wait(Object.java:485) \\n        at java.util.TimerThread.mainLoop(Timer.java:483) \\n\\t locked &lt;0x8c5d4980&gt; (a java.util.TaskQueue) \\n        at java.util.TimerThread.run(Timer.java:462) \\n \\n\\n\\n \\\"derby.antiGC\\\" daemon prio=10 tid=0x08062400 nid=0x2035 in Object.wait()  &#91;0xb5623000..0xb5623dc0&#93;  \\n   java.lang.Thread.State: WAITING (on object monitor) \\n        at java.lang.Object.wait(Native Method) \\n \\n\\t waiting on &lt;0x8c587550&gt; (a org.apache.derby.impl.services.monitor.AntiGC) \\n        at java.lang.Object.wait(Object.java:485) \\n        at org.apache.derby.impl.services.monitor.AntiGC.run(BaseMonitor.java:2196) \\n\\t locked &lt;0x8c587550&gt; (a org.apache.derby.impl.services.monitor.AntiGC) \\n        at java.lang.Thread.run(Thread.java:619) \\n \\n\\n\\n \\\"Low Memory Detector\\\" daemon prio=10 tid=0x0808e000 nid=0x202f runnable  &#91;0x00000000..0x00000000&#93;  \\n   java.lang.Thread.State: RUNNABLE \\n\\n \\\"CompilerThread0\\\" daemon prio=10 tid=0x0808c400 nid=0x202e waiting on condition  &#91;0x00000000..0xb59c59d8&#93;  \\n   java.lang.Thread.State: RUNNABLE \\n\\n \\\"Signal Dispatcher\\\" daemon prio=10 tid=0x0808b000 nid=0x202d runnable  &#91;0x00000000..0xb5a16ca0&#93;  \\n   java.lang.Thread.State: RUNNABLE \\n\\n \\\"Finalizer\\\" daemon prio=10 tid=0x08082800 nid=0x202c in Object.wait()  &#91;0xb5aa6000..0xb5aa7040&#93;  \\n   java.lang.Thread.State: WAITING (on object monitor) \\n        at java.lang.Object.wait(Native Method) \\n \\n\\t waiting on &lt;0x8c551960&gt; (a java.lang.ref.ReferenceQueue$Lock) \\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:116) \\n\\t locked &lt;0x8c551960&gt; (a java.lang.ref.ReferenceQueue$Lock) \\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:132) \\n        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159) \\n \\n\\n\\n \\\"Reference Handler\\\" daemon prio=10 tid=0x08081800 nid=0x202b in Object.wait()  &#91;0xb5af7000..0xb5af80c0&#93;  \\n   java.lang.Thread.State: WAITING (on object monitor) \\n        at java.lang.Object.wait(Native Method) \\n \\n\\t waiting on &lt;0x8c5519f0&gt; (a java.lang.ref.Reference$Lock) \\n        at java.lang.Object.wait(Object.java:485) \\n        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:116) \\n\\t locked &lt;0x8c5519f0&gt; (a java.lang.ref.Reference$Lock) \\n \\n\\n\\n \\\"VM Thread\\\" prio=10 tid=0x08080000 nid=0x202a runnable  \\n\\n \\\"VM Periodic Task Thread\\\" prio=10 tid=0x0808f800 nid=0x2030 waiting on condition  \\n\\n JNI global references: 732 \\n----------------------------------------------------------------------------------------------------------------------------------------------------------------------------              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12577788\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12577788&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12577788\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12577788_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12577788_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Mar\\/08 10:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-12T10:19:55+0000\'\u003e12\\/Mar\\/08 10:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis shows that\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"derby.master.logger-mydb\\\" prio=10 tid=0x08311800 nid=0x203b in Object.wait() \u003cspan class=\\\"error\\\"\u003e&#91;0xb5594000..0xb55950c0&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\u003cbr\\/\u003e\\n        at java.lang.Object.wait(Native Method)\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ewaiting on &lt;0x8c0b6180&gt; (a org.apache.derby.impl.store.replication.master.AsynchronousLogShipper)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.replication.master.AsynchronousLogShipper.run(AsynchronousLogShipper.java:203)\u003c\\/li\u003e\\n\\t\u003cli\u003elocked &lt;0x8c0b6180&gt; (a org.apache.derby.impl.store.replication.master.AsynchronousLogShipper)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003ethe log shipper thread is still running causing the hang in the master\u003c\\/p\u003e\\n\\n\u003cp\u003eThis shows that\u003c\\/p\u003e\\n\\n\u003cp\u003ederby.slave.logger-mydb\\\" prio=10 tid=0x0820f000 nid=0x203a runnable \u003cspan class=\\\"error\\\"\u003e&#91;0xb54ac000..0xb54acf40&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n   java.lang.Thread.State: RUNNABLE\u003cbr\\/\u003e\\n        at java.net.SocketInputStream.socketRead0(Native Method)\u003cbr\\/\u003e\\n        at java.net.SocketInputStream.read(SocketInputStream.java:129)\u003cbr\\/\u003e\\n        at java.net.SocketInputStream.read(SocketInputStream.java:182)\u003cbr\\/\u003e\\n        at java.io.ObjectInputStream$PeekInputStream.peek(ObjectInputStream.java:2247)\u003cbr\\/\u003e\\n        at java.io.ObjectInputStream$BlockDataInputStream.peek(ObjectInputStream.java:2540)\u003cbr\\/\u003e\\n        at java.io.ObjectInputStream$BlockDataInputStream.peekByte(ObjectInputStream.java:2550)\u003cbr\\/\u003e\\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1297)\u003cbr\\/\u003e\\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:351)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.replication.net.SocketConnection.readMessage(SocketConnection.java:84)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.replication.net.ReplicationMessageReceive.readMessage(ReplicationMessageReceive.java:387)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.replication.slave.SlaveController$SlaveLogReceiverThread.run(SlaveController.java:476) \u003c\\/p\u003e\\n\\n\u003cp\u003eThe SlaveLogReceiver thread is hanging on the read method of the socket it is listening on causing the hang on the slave.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe questions I am searching for answers now is\u003c\\/p\u003e\\n\\n\u003cp\u003e1) Why is this happening only in the embedded mode?\u003c\\/p\u003e\\n\\n\u003cp\u003e2) How does turning authentication on affect this?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12577788_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12577788_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Mar\\/08 10:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-12T10:19:55+0000\'\u003e12\\/Mar\\/08 10:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This shows that \\n\\n \\\"derby.master.logger-mydb\\\" prio=10 tid=0x08311800 nid=0x203b in Object.wait()  &#91;0xb5594000..0xb55950c0&#93;  \\n   java.lang.Thread.State: TIMED_WAITING (on object monitor) \\n        at java.lang.Object.wait(Native Method) \\n \\n\\t waiting on &lt;0x8c0b6180&gt; (a org.apache.derby.impl.store.replication.master.AsynchronousLogShipper) \\n        at org.apache.derby.impl.store.replication.master.AsynchronousLogShipper.run(AsynchronousLogShipper.java:203) \\n\\t locked &lt;0x8c0b6180&gt; (a org.apache.derby.impl.store.replication.master.AsynchronousLogShipper) \\n \\n\\n\\n the log shipper thread is still running causing the hang in the master \\n\\n This shows that \\n\\n derby.slave.logger-mydb\\\" prio=10 tid=0x0820f000 nid=0x203a runnable  &#91;0xb54ac000..0xb54acf40&#93;  \\n   java.lang.Thread.State: RUNNABLE \\n        at java.net.SocketInputStream.socketRead0(Native Method) \\n        at java.net.SocketInputStream.read(SocketInputStream.java:129) \\n        at java.net.SocketInputStream.read(SocketInputStream.java:182) \\n        at java.io.ObjectInputStream$PeekInputStream.peek(ObjectInputStream.java:2247) \\n        at java.io.ObjectInputStream$BlockDataInputStream.peek(ObjectInputStream.java:2540) \\n        at java.io.ObjectInputStream$BlockDataInputStream.peekByte(ObjectInputStream.java:2550) \\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1297) \\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:351) \\n        at org.apache.derby.impl.store.replication.net.SocketConnection.readMessage(SocketConnection.java:84) \\n        at org.apache.derby.impl.store.replication.net.ReplicationMessageReceive.readMessage(ReplicationMessageReceive.java:387) \\n        at org.apache.derby.impl.store.replication.slave.SlaveController$SlaveLogReceiverThread.run(SlaveController.java:476)  \\n\\n The SlaveLogReceiver thread is hanging on the read method of the socket it is listening on causing the hang on the slave. \\n\\n The questions I am searching for answers now is \\n\\n 1) Why is this happening only in the embedded mode? \\n\\n 2) How does turning authentication on affect this?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12577790\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12577790&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12577790\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12577790_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12577790_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Mar\\/08 10:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-12T10:26:43+0000\'\u003e12\\/Mar\\/08 10:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFixed the earlier broken patch for the new trunk\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12577790_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12577790_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Mar\\/08 10:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-12T10:26:43+0000\'\u003e12\\/Mar\\/08 10:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Fixed the earlier broken patch for the new trunk              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12577863\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12577863&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12577863\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12577863_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12577863_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Mar\\/08 14:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-12T14:45:11+0000\'\u003e12\\/Mar\\/08 14:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eV.Narayanan (JIRA) wrote:\u003cbr\\/\u003e\\n&gt; I am not able to reproduce this problem on the network client (surprises me, Maybe I did something wrong!!). \u003c\\/p\u003e\\n\\n\u003cp\u003eThis may be ovious, but to be sure:  Note that when embedded a quit in ij will stop the VM that contains the master.  If client\\/server, the master is running in a separate VM.  I not quite sure you will necessarily get the same code path by stopping a server.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12577863_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12577863_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Mar\\/08 14:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-12T14:45:11+0000\'\u003e12\\/Mar\\/08 14:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    V.Narayanan (JIRA) wrote: \\n&gt; I am not able to reproduce this problem on the network client (surprises me, Maybe I did something wrong!!).  \\n\\n This may be ovious, but to be sure:  Note that when embedded a quit in ij will stop the VM that contains the master.  If client\\/server, the master is running in a separate VM.  I not quite sure you will necessarily get the same code path by stopping a server.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12577876\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12577876&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12577876\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12577876_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12577876_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Mar\\/08 15:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-12T15:34:47+0000\'\u003e12\\/Mar\\/08 15:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI understand that the code path will be different in the case of the \u003cbr\\/\u003e\\nclient. But I am confused about its import.\u003c\\/p\u003e\\n\\n\u003cp\u003eAre you trying to say that the problem of the log shipper thread \u003cbr\\/\u003e\\nclean-up not happening might still be there\u003cbr\\/\u003e\\nin the client but our current way of trying to reproduce the problem is \u003cbr\\/\u003e\\nnot right? (or)\u003c\\/p\u003e\\n\\n\u003cp\u003eAre you trying to say that this problem need not be looked from the \u003cbr\\/\u003e\\nclient perspective at all (I think you don\'t mean\u003cbr\\/\u003e\\nthis but just to be sure)\u003c\\/p\u003e\\n\\n\u003cp\u003eI am trying to work with the embedded reproducible for now.\u003c\\/p\u003e\\n\\n\u003cp\u003eBut from your comment it looks like finding a solution in the embedded \u003cbr\\/\u003e\\ncase might not necessarily mean that this\u003cbr\\/\u003e\\nproblem has been solved in all cases?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12577876_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12577876_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Mar\\/08 15:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-12T15:34:47+0000\'\u003e12\\/Mar\\/08 15:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I understand that the code path will be different in the case of the  \\nclient. But I am confused about its import. \\n\\n Are you trying to say that the problem of the log shipper thread  \\nclean-up not happening might still be there \\nin the client but our current way of trying to reproduce the problem is  \\nnot right? (or) \\n\\n Are you trying to say that this problem need not be looked from the  \\nclient perspective at all (I think you don\'t mean \\nthis but just to be sure) \\n\\n I am trying to work with the embedded reproducible for now. \\n\\n But from your comment it looks like finding a solution in the embedded  \\ncase might not necessarily mean that this \\nproblem has been solved in all cases?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12578200\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12578200&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12578200\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12578200_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12578200_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Mar\\/08 09:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-13T09:41:50+0000\'\u003e13\\/Mar\\/08 09:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eV.Narayanan (JIRA) wrote:\u003cbr\\/\u003e\\n&gt; Are you trying to say that the problem of the log shipper thread \u003cbr\\/\u003e\\n&gt; clean-up not happening might still be there\u003cbr\\/\u003e\\n&gt; in the client but our current way of trying to reproduce the problem is \u003cbr\\/\u003e\\n&gt; not right? (or)\u003c\\/p\u003e\\n\\n\u003cp\u003eNo, my point is that there will never be a log shipper problem in the client, because the log shipper is running in the server.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12578200_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12578200_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Mar\\/08 09:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-13T09:41:50+0000\'\u003e13\\/Mar\\/08 09:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    V.Narayanan (JIRA) wrote: \\n&gt; Are you trying to say that the problem of the log shipper thread  \\n&gt; clean-up not happening might still be there \\n&gt; in the client but our current way of trying to reproduce the problem is  \\n&gt; not right? (or) \\n\\n No, my point is that there will never be a log shipper problem in the client, because the log shipper is running in the server.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12578293\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12578293&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12578293\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12578293_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12578293_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Mar\\/08 13:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-13T13:51:02+0000\'\u003e13\\/Mar\\/08 13:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWith the Derby3447_v2.diff patch, the replication test suite fails as follows:\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; java junit.textui.TestRunner -noloading org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationSuite ...F...\u003cbr\\/\u003e\\nTime: 536.931\u003cbr\\/\u003e\\nThere was 1 failure:\u003cbr\\/\u003e\\n1) testReplication_Local_StateTest_part1_1(org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationRun_Local_StateTest_part1_1)junit.framework.AssertionFailedError: jdbc:derby:\\/\\/localhost:4527\\/\\/export\\/tmp\\/oysteing\\/derby-repl\\/testing_repl\\/db_slave\\/wombat;stopSlave=true failed: -1 XRE11 DERBY SQL error: SQLCODE: -1, SQLSTATE: XRE11, SQLERRMC: stopSlave\\/export\\/tmp\\/oysteing\\/derby-repl\\/testing_repl\\/db_slave\\/wombatXRE11\u003cbr\\/\u003e\\n        at org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationRun_Local_StateTest_part1_1._testPostStartedMasterAndSlave_StopSlave(ReplicationRun_Local_StateTest_part1_1.java:222)\u003cbr\\/\u003e\\n        at org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationRun_Local_StateTest_part1_1.testReplication_Local_StateTest_part1_1(ReplicationRun_Local_StateTest_part1_1.java:130)\u003cbr\\/\u003e\\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\u003cbr\\/\u003e\\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\u003cbr\\/\u003e\\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\u003cbr\\/\u003e\\n        at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:101)\u003cbr\\/\u003e\\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\u003cbr\\/\u003e\\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:21)\u003cbr\\/\u003e\\n        at junit.extensions.TestSetup.run(TestSetup.java:25)\u003c\\/p\u003e\\n\\n\u003cp\u003eFAILURES!!!\u003cbr\\/\u003e\\nTests run: 6,  Failures: 1,  Errors: 0\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12578293_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12578293_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Mar\\/08 13:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-13T13:51:02+0000\'\u003e13\\/Mar\\/08 13:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    With the Derby3447_v2.diff patch, the replication test suite fails as follows: \\n\\n &gt; java junit.textui.TestRunner -noloading org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationSuite ...F... \\nTime: 536.931 \\nThere was 1 failure: \\n1) testReplication_Local_StateTest_part1_1(org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationRun_Local_StateTest_part1_1)junit.framework.AssertionFailedError: jdbc:derby:\\/\\/localhost:4527\\/\\/export\\/tmp\\/oysteing\\/derby-repl\\/testing_repl\\/db_slave\\/wombat;stopSlave=true failed: -1 XRE11 DERBY SQL error: SQLCODE: -1, SQLSTATE: XRE11, SQLERRMC: stopSlave\\/export\\/tmp\\/oysteing\\/derby-repl\\/testing_repl\\/db_slave\\/wombatXRE11 \\n        at org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationRun_Local_StateTest_part1_1._testPostStartedMasterAndSlave_StopSlave(ReplicationRun_Local_StateTest_part1_1.java:222) \\n        at org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationRun_Local_StateTest_part1_1.testReplication_Local_StateTest_part1_1(ReplicationRun_Local_StateTest_part1_1.java:130) \\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) \\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) \\n        at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:101) \\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24) \\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:21) \\n        at junit.extensions.TestSetup.run(TestSetup.java:25) \\n\\n FAILURES!!! \\nTests run: 6,  Failures: 1,  Errors: 0              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12578688\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12578688&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12578688\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12578688_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12578688_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Mar\\/08 11:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-14T11:19:27+0000\'\u003e14\\/Mar\\/08 11:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThank you for the inputs Oystein.\u003c\\/p\u003e\\n\\n\u003cp\u003eI have been single stepping this issue and will briefly try to describe my progress so far.\u003c\\/p\u003e\\n\\n\u003cp\u003eI tried calling the stopMaster() method from RawStore#stop() to check if this will help me\u003cbr\\/\u003e\\nin determining if this would help result in a proper master shutdown. It did not.\u003c\\/p\u003e\\n\\n\u003cp\u003eI resorted to good old single stepping with my buddy Netbeans\u003c\\/p\u003e\\n\\n\u003cp\u003eI placed breakpoints in the following places\u003c\\/p\u003e\\n\\n\u003cp\u003e1) ij#quit() line no 342\u003cbr\\/\u003e\\n2) TopService#shutdown() line no 327 (I did this after I did one round of single stepping with 3) below)\u003cbr\\/\u003e\\n3) MasterController#stopMaster() line no 262\u003c\\/p\u003e\\n\\n\u003cp\u003eI basically started ij with the following command\u003c\\/p\u003e\\n\\n\u003cp\u003ejava -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=9009 org.apache.derby.tools.ij\u003c\\/p\u003e\\n\\n\u003cp\u003eand connected to it through netbeans\u003c\\/p\u003e\\n\\n\u003cp\u003eI basically observed the following when authentication is enabled\u003c\\/p\u003e\\n\\n\u003cp\u003e1) MasterController#stopMaster() is never called (called when authentication is not enabled)\u003cbr\\/\u003e\\n2) TopService#shutdown() is never called with authentication enabled ( I tried this twice and observed the\u003cbr\\/\u003e\\n   same this. Shouldn\'t the modules that are currently loaded be shutdown when authentication is enabled too?\u003cbr\\/\u003e\\n   I am not sure how replication code can influence this.)\u003c\\/p\u003e\\n\\n\u003cp\u003eI need to basically take it from here. I decided to report because I thought maybe people\u003cbr\\/\u003e\\ncould guide me as to why TopService#shutdown() is not called with authentication enabled and as to whether\u003cbr\\/\u003e\\nthis is something they know of?\u003c\\/p\u003e\\n\\n\u003cp\u003eTopService#shutdown() is however called when I do a connect \'jdbc:derby:;shutdown=true;user=oystein;password=pass\';\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12578688_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12578688_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Mar\\/08 11:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-14T11:19:27+0000\'\u003e14\\/Mar\\/08 11:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thank you for the inputs Oystein. \\n\\n I have been single stepping this issue and will briefly try to describe my progress so far. \\n\\n I tried calling the stopMaster() method from RawStore#stop() to check if this will help me \\nin determining if this would help result in a proper master shutdown. It did not. \\n\\n I resorted to good old single stepping with my buddy Netbeans \\n\\n I placed breakpoints in the following places \\n\\n 1) ij#quit() line no 342 \\n2) TopService#shutdown() line no 327 (I did this after I did one round of single stepping with 3) below) \\n3) MasterController#stopMaster() line no 262 \\n\\n I basically started ij with the following command \\n\\n java -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=9009 org.apache.derby.tools.ij \\n\\n and connected to it through netbeans \\n\\n I basically observed the following when authentication is enabled \\n\\n 1) MasterController#stopMaster() is never called (called when authentication is not enabled) \\n2) TopService#shutdown() is never called with authentication enabled ( I tried this twice and observed the \\n   same this. Shouldn\'t the modules that are currently loaded be shutdown when authentication is enabled too? \\n   I am not sure how replication code can influence this.) \\n\\n I need to basically take it from here. I decided to report because I thought maybe people \\ncould guide me as to why TopService#shutdown() is not called with authentication enabled and as to whether \\nthis is something they know of? \\n\\n TopService#shutdown() is however called when I do a connect \'jdbc:derby:;shutdown=true;user=oystein;password=pass\';              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12578739\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12578739&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12578739\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12578739_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12578739_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Mar\\/08 13:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-14T13:55:45+0000\'\u003e14\\/Mar\\/08 13:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI did a little bit more digging on a more generalized behaviour when authentication\u003cbr\\/\u003e\\nis enabled in the embedded mode and raised \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3541\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3541\u003c\\/a\u003e\u003cbr\\/\u003e\\nto address this issue.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis issue depends on \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3451\\\" title=\\\"Remove dependency between StandardException class and org.apache.derby.impl.jdbc classes.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3451\\\"\u003e\u003cdel\u003eDERBY-3451\u003c\\/del\u003e\u003c\\/a\u003e to be resolved.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12578739_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12578739_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Mar\\/08 13:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-14T13:55:45+0000\'\u003e14\\/Mar\\/08 13:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I did a little bit more digging on a more generalized behaviour when authentication \\nis enabled in the embedded mode and raised  https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3541  \\nto address this issue. \\n\\n This issue depends on   DERBY-3451   to be resolved.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12579160\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12579160&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12579160\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12579160_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12579160_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Mar\\/08 04:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-16T04:41:25+0000\'\u003e16\\/Mar\\/08 04:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWhen I found out about Derby-3451 I was thinking why the quit without\u003cbr\\/\u003e\\nstarting replication does not seem to hang. I found out that it does not\u003cbr\\/\u003e\\nhang because the other threads used in derby are Daemon threads .\u003c\\/p\u003e\\n\\n\u003cp\u003esee BaseMonitor#getDaemonThread (line no 2080)\u003c\\/p\u003e\\n\\n\u003cp\u003erelevant lines\u003c\\/p\u003e\\n\\n\u003cp\u003eThread t =  new Thread(daemonGroup, task, \\\"derby.\\\".concat(name));\u003cbr\\/\u003e\\nt.setDaemon(true);\u003c\\/p\u003e\\n\\n\u003cp\u003efound \\\"The Java Virtual Machine exits when the only threads running are all daemon threads.\\\"\u003cbr\\/\u003e\\nhere \u003ca href=\\\"http:\\/\\/java.sun.com\\/j2se\\/1.3\\/docs\\/api\\/java\\/lang\\/Thread.html#setDaemon(boolean\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/java.sun.com\\/j2se\\/1.3\\/docs\\/api\\/java\\/lang\\/Thread.html#setDaemon(boolean\u003c\\/a\u003e)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12579160_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12579160_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Mar\\/08 04:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-16T04:41:25+0000\'\u003e16\\/Mar\\/08 04:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    When I found out about Derby-3451 I was thinking why the quit without \\nstarting replication does not seem to hang. I found out that it does not \\nhang because the other threads used in derby are Daemon threads . \\n\\n see BaseMonitor#getDaemonThread (line no 2080) \\n\\n relevant lines \\n\\n Thread t =  new Thread(daemonGroup, task, \\\"derby.\\\".concat(name)); \\nt.setDaemon(true); \\n\\n found \\\"The Java Virtual Machine exits when the only threads running are all daemon threads.\\\" \\nhere  http:\\/\\/java.sun.com\\/j2se\\/1.3\\/docs\\/api\\/java\\/lang\\/Thread.html#setDaemon(boolean )              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12579175\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12579175&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12579175\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12579175_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12579175_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Mar\\/08 09:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-16T09:22:08+0000\'\u003e16\\/Mar\\/08 09:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI believe it is not right for the replication threads to prevent the jvm running\u003cbr\\/\u003e\\nan embedded application (like ij) from shutting down. These threads should also\u003cbr\\/\u003e\\nbe brought down along with the jvm. Hence I believe that the replication\u003cbr\\/\u003e\\nthreads should be daemon threads so that when the vm exits these threads\u003cbr\\/\u003e\\nare also brought down along with the vm.\u003c\\/p\u003e\\n\\n\u003cp\u003eConverting the following replication related threads to\u003cbr\\/\u003e\\nDaemon threads resolved the problem of these threads blocking\u003cbr\\/\u003e\\nthe ij process from executing a quit; on both the master and\u003cbr\\/\u003e\\nthe slave.\u003c\\/p\u003e\\n\\n\u003cp\u003e1)  Slave database boot thread (slave)\u003cbr\\/\u003e\\n2)  Log receiver thread (slave)\u003cbr\\/\u003e\\n3)  Log shipper thread (master)\u003c\\/p\u003e\\n\\n\u003cp\u003eI will run the replication suite of tests and shall revert back with\u003cbr\\/\u003e\\nresults for this patch.\u003c\\/p\u003e\\n\\n\u003cp\u003eI request for this patch to be please considered for reviews\\/comments.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12579175_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12579175_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Mar\\/08 09:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-16T09:22:08+0000\'\u003e16\\/Mar\\/08 09:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I believe it is not right for the replication threads to prevent the jvm running \\nan embedded application (like ij) from shutting down. These threads should also \\nbe brought down along with the jvm. Hence I believe that the replication \\nthreads should be daemon threads so that when the vm exits these threads \\nare also brought down along with the vm. \\n\\n Converting the following replication related threads to \\nDaemon threads resolved the problem of these threads blocking \\nthe ij process from executing a quit; on both the master and \\nthe slave. \\n\\n 1)  Slave database boot thread (slave) \\n2)  Log receiver thread (slave) \\n3)  Log shipper thread (master) \\n\\n I will run the replication suite of tests and shall revert back with \\nresults for this patch. \\n\\n I request for this patch to be please considered for reviews\\/comments.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12579176\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12579176&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12579176\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12579176_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12579176_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Mar\\/08 09:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-16T09:29:58+0000\'\u003e16\\/Mar\\/08 09:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"V.Narayanan - 16\\/Mar\\/08 09:31\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI was able to quit ij with authentication enabled on both the master\u003cbr\\/\u003e\\nand slave with patch v3.\u003c\\/p\u003e\\n\\n\u003cp\u003eOn the Master\u003cbr\\/\u003e\\n-----------------\u003c\\/p\u003e\\n\\n\u003cp\u003evn@vn-laptop:~\\/work\\/workspaces\\/Derby3447_1\\/master$ java org.apache.derby.tools.ij\u003cbr\\/\u003e\\nij version 10.5\u003cbr\\/\u003e\\nij&gt;  connect \'jdbc:derby:mydb;create=true;user=oystein;password=pass\';\u003cbr\\/\u003e\\nij&gt;  call syscs_util.syscs_freeze_database();\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij&gt; connect \'jdbc:derby:mydb;user=oystein;password=pass;startMaster=true;slaveHost=localhost;slavePort=8001\';\u003cbr\\/\u003e\\nij(CONNECTION1)&gt; create table narayanan(i int, name varchar(30));\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij(CONNECTION1)&gt; insert into narayanan values(2,\'n1\');\u003cbr\\/\u003e\\n1 row inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij(CONNECTION1)&gt; insert into narayanan values(3, \'n2\');\u003cbr\\/\u003e\\n1 row inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij(CONNECTION1)&gt; quit;\u003cbr\\/\u003e\\nvn@vn-laptop:~\\/work\\/workspaces\\/Derby3447_1\\/master$\u003c\\/p\u003e\\n\\n\u003cp\u003eOn the slave\u003cbr\\/\u003e\\n-------------\u003c\\/p\u003e\\n\\n\u003cp\u003eij version 10.5\u003cbr\\/\u003e\\nij&gt;  connect \'jdbc:derby:mydb;user=oystein;password=pass;startSlave=true;slaveHost=localhost;slavePort=8001\';\u003cbr\\/\u003e\\nERROR XRE08: Replication slave mode started successfully for database \'mydb\'. Connection refused because the database is in replication slave mode. \u003cbr\\/\u003e\\nij&gt; quit;\u003cbr\\/\u003e\\nvn@vn-laptop:~\\/work\\/workspaces\\/Derby3447_1\\/slave$\u003c\\/p\u003e\\n\\n\u003cp\u003eI tried it in both orders also (i.e.) first trying a quit on the master and then a quit on the slave\u003cbr\\/\u003e\\nand vice versa.\u003c\\/p\u003e\\n\\n\u003cp\u003eI also tried quit without executing any transactions on the master and in both orders.\u003c\\/p\u003e\\n\\n\u003cp\u003eIt worked fine for me in all the cases with patch v3.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12579176_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12579176_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Mar\\/08 09:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-16T09:29:58+0000\'\u003e16\\/Mar\\/08 09:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"V.Narayanan - 16\\/Mar\\/08 09:31\\\"\u003eedited\u003c\\/span\u003e                   I was able to quit ij with authentication enabled on both the master \\nand slave with patch v3. \\n\\n On the Master \\n----------------- \\n\\n vn@vn-laptop:~\\/work\\/workspaces\\/Derby3447_1\\/master$ java org.apache.derby.tools.ij \\nij version 10.5 \\nij&gt;  connect \'jdbc:derby:mydb;create=true;user=oystein;password=pass\'; \\nij&gt;  call syscs_util.syscs_freeze_database(); \\n0 rows inserted\\/updated\\/deleted \\nij&gt; connect \'jdbc:derby:mydb;user=oystein;password=pass;startMaster=true;slaveHost=localhost;slavePort=8001\'; \\nij(CONNECTION1)&gt; create table narayanan(i int, name varchar(30)); \\n0 rows inserted\\/updated\\/deleted \\nij(CONNECTION1)&gt; insert into narayanan values(2,\'n1\'); \\n1 row inserted\\/updated\\/deleted \\nij(CONNECTION1)&gt; insert into narayanan values(3, \'n2\'); \\n1 row inserted\\/updated\\/deleted \\nij(CONNECTION1)&gt; quit; \\nvn@vn-laptop:~\\/work\\/workspaces\\/Derby3447_1\\/master$ \\n\\n On the slave \\n------------- \\n\\n ij version 10.5 \\nij&gt;  connect \'jdbc:derby:mydb;user=oystein;password=pass;startSlave=true;slaveHost=localhost;slavePort=8001\'; \\nERROR XRE08: Replication slave mode started successfully for database \'mydb\'. Connection refused because the database is in replication slave mode.  \\nij&gt; quit; \\nvn@vn-laptop:~\\/work\\/workspaces\\/Derby3447_1\\/slave$ \\n\\n I tried it in both orders also (i.e.) first trying a quit on the master and then a quit on the slave \\nand vice versa. \\n\\n I also tried quit without executing any transactions on the master and in both orders. \\n\\n It worked fine for me in all the cases with patch v3.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12579348\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12579348&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12579348\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12579348_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12579348_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Mar\\/08 08:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-17T08:46:35+0000\'\u003e17\\/Mar\\/08 08:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI ran the replication suite of tests and observed this failure. I am investigating this failure.\u003c\\/p\u003e\\n\\n\u003cp\u003e java -Xmx512m -XX:MaxPermSize=128M junit.textui.TestRunner org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationSuite\u003cbr\\/\u003e\\n...F...\u003cbr\\/\u003e\\nTime: 542.146\u003cbr\\/\u003e\\nThere was 1 failure:\u003cbr\\/\u003e\\n1) testReplication_Local_StateTest_part1_1(org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationRun_Local_StateTest_part1_1)junit.framework.AssertionFailedError: jdbc:derby:\\/\\/localhost:4527\\/\\/home\\/vn\\/work\\/workspaces\\/Derby3447_1\\/tests\\/db_slave\\/wombat;stopSlave=true failed: -1 XRE11 DERBY SQL error: SQLCODE: -1, SQLSTATE: XRE11, SQLERRMC: stopSlave\\/home\\/vn\\/work\\/workspaces\\/Derby3447_1\\/tests\\/db_slave\\/wombatXRE11\u003cbr\\/\u003e\\n        at org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationRun_Local_StateTest_part1_1._testPostStartedMasterAndSlave_StopSlave(ReplicationRun_Local_StateTest_part1_1.java:222)\u003cbr\\/\u003e\\n        at org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationRun_Local_StateTest_part1_1.testReplication_Local_StateTest_part1_1(ReplicationRun_Local_StateTest_part1_1.java:130)\u003cbr\\/\u003e\\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\u003cbr\\/\u003e\\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\u003cbr\\/\u003e\\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\u003cbr\\/\u003e\\n        at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:101)\u003cbr\\/\u003e\\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\u003cbr\\/\u003e\\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:19)\u003cbr\\/\u003e\\n        at junit.extensions.TestSetup.run(TestSetup.java:23)\u003c\\/p\u003e\\n\\n\u003cp\u003eFAILURES!!!\u003cbr\\/\u003e\\nTests run: 6,  Failures: 1,  Errors: 0\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12579348_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12579348_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Mar\\/08 08:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-17T08:46:35+0000\'\u003e17\\/Mar\\/08 08:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I ran the replication suite of tests and observed this failure. I am investigating this failure. \\n\\n  java -Xmx512m -XX:MaxPermSize=128M junit.textui.TestRunner org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationSuite \\n...F... \\nTime: 542.146 \\nThere was 1 failure: \\n1) testReplication_Local_StateTest_part1_1(org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationRun_Local_StateTest_part1_1)junit.framework.AssertionFailedError: jdbc:derby:\\/\\/localhost:4527\\/\\/home\\/vn\\/work\\/workspaces\\/Derby3447_1\\/tests\\/db_slave\\/wombat;stopSlave=true failed: -1 XRE11 DERBY SQL error: SQLCODE: -1, SQLSTATE: XRE11, SQLERRMC: stopSlave\\/home\\/vn\\/work\\/workspaces\\/Derby3447_1\\/tests\\/db_slave\\/wombatXRE11 \\n        at org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationRun_Local_StateTest_part1_1._testPostStartedMasterAndSlave_StopSlave(ReplicationRun_Local_StateTest_part1_1.java:222) \\n        at org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationRun_Local_StateTest_part1_1.testReplication_Local_StateTest_part1_1(ReplicationRun_Local_StateTest_part1_1.java:130) \\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) \\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) \\n        at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:101) \\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22) \\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:19) \\n        at junit.extensions.TestSetup.run(TestSetup.java:23) \\n\\n FAILURES!!! \\nTests run: 6,  Failures: 1,  Errors: 0              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12579358\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12579358&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12579358\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12579358_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12579358_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Mar\\/08 09:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-17T09:27:47+0000\'\u003e17\\/Mar\\/08 09:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis error looks like what if run with classes instead of jar files.  Is this the case for you?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12579358_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12579358_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Mar\\/08 09:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-17T09:27:47+0000\'\u003e17\\/Mar\\/08 09:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This error looks like what if run with classes instead of jar files.  Is this the case for you?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12579361\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12579361&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12579361\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12579361_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12579361_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Mar\\/08 09:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-17T09:31:42+0000\'\u003e17\\/Mar\\/08 09:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI ran my tests with the jars Oystein, I observed this error when run with jars\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12579361_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12579361_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Mar\\/08 09:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-17T09:31:42+0000\'\u003e17\\/Mar\\/08 09:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I ran my tests with the jars Oystein, I observed this error when run with jars              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12579387\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12579387&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12579387\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12579387_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12579387_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Mar\\/08 11:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-17T11:13:03+0000\'\u003e17\\/Mar\\/08 11:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSorry the comment I deleted was a click too quick.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe part of the replication test where the failure occurs tries to test a slave\u003cbr\\/\u003e\\nshutdown after the master has been taken down.\u003c\\/p\u003e\\n\\n\u003cp\u003eI tried doing the above manually and observe the following\u003c\\/p\u003e\\n\\n\u003cp\u003eij&gt;  connect \'jdbc:derby:\\/\\/localhost:1528\\/replicationdb;user=oystein;password=pass;stopSlave=true\';\u003cbr\\/\u003e\\nERROR XRE41: DERBY SQL error: SQLCODE: -1, SQLSTATE: XRE41, SQLERRMC: XRE41\u003cbr\\/\u003e\\nij&gt; connect \'jdbc:derby:\\/\\/localhost:1528\\/replicationdb;user=oystein;password=pass;stopSlave=true\';\u003cbr\\/\u003e\\nERROR XRE42: DERBY SQL error: SQLCODE: -1, SQLSTATE: XRE42, SQLERRMC: replicationdbXRE42\u003cbr\\/\u003e\\nij&gt;\u003c\\/p\u003e\\n\\n\u003cp\u003eSo before the master is killed the slave take down attempt fails XRE41\u003c\\/p\u003e\\n\\n\u003cp\u003eand after the master is killed it succeeds XRE42.\u003c\\/p\u003e\\n\\n\u003cp\u003eSeems like the code is behaving as the tests ask it too. I will investigate further into this.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12579387_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12579387_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Mar\\/08 11:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-17T11:13:03+0000\'\u003e17\\/Mar\\/08 11:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Sorry the comment I deleted was a click too quick. \\n\\n The part of the replication test where the failure occurs tries to test a slave \\nshutdown after the master has been taken down. \\n\\n I tried doing the above manually and observe the following \\n\\n ij&gt;  connect \'jdbc:derby:\\/\\/localhost:1528\\/replicationdb;user=oystein;password=pass;stopSlave=true\'; \\nERROR XRE41: DERBY SQL error: SQLCODE: -1, SQLSTATE: XRE41, SQLERRMC: XRE41 \\nij&gt; connect \'jdbc:derby:\\/\\/localhost:1528\\/replicationdb;user=oystein;password=pass;stopSlave=true\'; \\nERROR XRE42: DERBY SQL error: SQLCODE: -1, SQLSTATE: XRE42, SQLERRMC: replicationdbXRE42 \\nij&gt; \\n\\n So before the master is killed the slave take down attempt fails XRE41 \\n\\n and after the master is killed it succeeds XRE42. \\n\\n Seems like the code is behaving as the tests ask it too. I will investigate further into this.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12579442\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12579442&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12579442\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12579442_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12579442_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Mar\\/08 13:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-17T13:58:01+0000\'\u003e17\\/Mar\\/08 13:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think I have a strong theory to explain this test failure,\u003c\\/p\u003e\\n\\n\u003cp\u003eWhen the Network Server running the master is shutdown as is being done in the test it result in the stop method\u003cbr\\/\u003e\\nof the MasterController module being called. This causes the master to send a STOP message\u003cbr\\/\u003e\\nto the slave. This causes a slave shutdown.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe cleanup code was added in the MasterController stop method as part of this patch.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think this is expected behaviour and XRE11 is the right message in this case. The NetworkServer\u003cbr\\/\u003e\\nrunning the master being shutdown results in the Replication master shutting down, this is similar\u003cbr\\/\u003e\\nto the stopMaster being called.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think the tests need to be fixed to accomodate this new and correct behaviour\u003c\\/p\u003e\\n\\n\u003cp\u003eI will fix this test and submit the patch again\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12579442_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12579442_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Mar\\/08 13:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-17T13:58:01+0000\'\u003e17\\/Mar\\/08 13:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I think I have a strong theory to explain this test failure, \\n\\n When the Network Server running the master is shutdown as is being done in the test it result in the stop method \\nof the MasterController module being called. This causes the master to send a STOP message \\nto the slave. This causes a slave shutdown. \\n\\n The cleanup code was added in the MasterController stop method as part of this patch. \\n\\n I think this is expected behaviour and XRE11 is the right message in this case. The NetworkServer \\nrunning the master being shutdown results in the Replication master shutting down, this is similar \\nto the stopMaster being called. \\n\\n I think the tests need to be fixed to accomodate this new and correct behaviour \\n\\n I will fix this test and submit the patch again              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12579443\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12579443&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12579443\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12579443_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12579443_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Mar\\/08 14:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-17T14:02:57+0000\'\u003e17\\/Mar\\/08 14:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIn my earlier comment I had written that I was getting an XRE42.\u003cbr\\/\u003e\\nI was getting a XRE42 because I had misunderstood killing the\u003cbr\\/\u003e\\nslave to mean doing a kill on the network server running the master.\u003cbr\\/\u003e\\nThis does not result in a proper shutdown of the master.  Hence\u003cbr\\/\u003e\\nresulting in a XRE42 (allowing a proper shutdown of the slave).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12579443_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12579443_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Mar\\/08 14:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-17T14:02:57+0000\'\u003e17\\/Mar\\/08 14:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    In my earlier comment I had written that I was getting an XRE42. \\nI was getting a XRE42 because I had misunderstood killing the \\nslave to mean doing a kill on the network server running the master. \\nThis does not result in a proper shutdown of the master.  Hence \\nresulting in a XRE42 (allowing a proper shutdown of the slave).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12579496\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12579496&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12579496\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12579496_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12579496_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Mar\\/08 16:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-17T16:17:32+0000\'\u003e17\\/Mar\\/08 16:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFixed the test that was failing when run with v3, as described in\u003cbr\\/\u003e\\nthe comments above.\u003c\\/p\u003e\\n\\n\u003cp\u003eRan the replication tests and observed no failure\u003c\\/p\u003e\\n\\n\u003cp\u003evn@vn-laptop:~\\/work\\/workspaces\\/Derby3447_1\\/tests$ java -Xmx512m -XX:MaxPermSize=128M junit.textui.TestRunner org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationSuite\u003cbr\\/\u003e\\n......\u003cbr\\/\u003e\\nTime: 545.178\u003c\\/p\u003e\\n\\n\u003cp\u003eOK (6 tests)\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12579496_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12579496_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Mar\\/08 16:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-17T16:17:32+0000\'\u003e17\\/Mar\\/08 16:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Fixed the test that was failing when run with v3, as described in \\nthe comments above. \\n\\n Ran the replication tests and observed no failure \\n\\n vn@vn-laptop:~\\/work\\/workspaces\\/Derby3447_1\\/tests$ java -Xmx512m -XX:MaxPermSize=128M junit.textui.TestRunner org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationSuite \\n...... \\nTime: 545.178 \\n\\n OK (6 tests) \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12582118\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12582118&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12582118\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12582118_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12582118_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Mar\\/08 04:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-26T04:03:50+0000\'\u003e26\\/Mar\\/08 04:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ev4 applies cleanly to a freshworkspace. I had also run tests earlier before I submitted v4.\u003cbr\\/\u003e\\nI please request v4 to be considered for a commit if everything is OK.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12582118_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12582118_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Mar\\/08 04:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-26T04:03:50+0000\'\u003e26\\/Mar\\/08 04:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    v4 applies cleanly to a freshworkspace. I had also run tests earlier before I submitted v4. \\nI please request v4 to be considered for a commit if everything is OK.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12582268\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12582268&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12582268\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12582268_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12582268_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Mar\\/08 12:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-26T12:39:13+0000\'\u003e26\\/Mar\\/08 12:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for the patch, Narayanan.  Changes look good, and my brief\u003cbr\\/\u003e\\ntesting shows that I am now able to quit ij when replication is\u003cbr\\/\u003e\\nrunning.  However, it would be good if you could add some regression\u003cbr\\/\u003e\\ntests for this issue to the replication test suite.\u003c\\/p\u003e\\n\\n\u003cp\u003eBefore committing this patch, I want to get one question clarified:\u003cbr\\/\u003e\\nIn MasterController#stop, if stopMaster fails, you will still write\u003cbr\\/\u003e\\n\'Replication master role stopped for database\' to derby.log.  Can you\u003cbr\\/\u003e\\nbe certain that this is the case regardless of what the error is?\u003c\\/p\u003e\\n\\n\u003cp\u003eSome nitpicks you may fix if you have to go another round with this\u003cbr\\/\u003e\\npatch: \u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eSlaveDatabase: I think sdbThread instead of sdb_Thread is more in\u003cbr\\/\u003e\\n   line with the naming style used in the derby code.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eMasterController: The casting to Thread does not seem to be\u003cbr\\/\u003e\\n   necessary.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12582268_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12582268_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Mar\\/08 12:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-26T12:39:13+0000\'\u003e26\\/Mar\\/08 12:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for the patch, Narayanan.  Changes look good, and my brief \\ntesting shows that I am now able to quit ij when replication is \\nrunning.  However, it would be good if you could add some regression \\ntests for this issue to the replication test suite. \\n\\n Before committing this patch, I want to get one question clarified: \\nIn MasterController#stop, if stopMaster fails, you will still write \\n\'Replication master role stopped for database\' to derby.log.  Can you \\nbe certain that this is the case regardless of what the error is? \\n\\n Some nitpicks you may fix if you have to go another round with this \\npatch:  \\n\\n \\n\\t SlaveDatabase: I think sdbThread instead of sdb_Thread is more in \\n   line with the naming style used in the derby code. \\n \\n\\n\\n \\n\\t MasterController: The casting to Thread does not seem to be \\n   necessary. \\n \\n\\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12582549\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12582549&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12582549\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12582549_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12582549_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Mar\\/08 08:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-27T08:51:32+0000\'\u003e27\\/Mar\\/08 08:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThank you for taking a look at the patch Oystein\u003c\\/p\u003e\\n\\n\u003cp\u003eI intended the message to be printed that way (similar to the printStackTrace and stop method)\u003c\\/p\u003e\\n\\n\u003cp\u003eI have two justifications for this\u003c\\/p\u003e\\n\\n\u003cp\u003e1) The only time the message is thrown is when the master has already stopped\u003cbr\\/\u003e\\n2) It is like saying the master has stopped but the following exception  \u003cbr\\/\u003e\\n   occurred (which is this case is only when the master is stopped)\u003c\\/p\u003e\\n\\n\u003cp\u003eI have fixed the nits pointed out.\u003c\\/p\u003e\\n\\n\u003cp\u003eI was hoping to submit regression tests in a follow up.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12582549_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12582549_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Mar\\/08 08:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-27T08:51:32+0000\'\u003e27\\/Mar\\/08 08:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thank you for taking a look at the patch Oystein \\n\\n I intended the message to be printed that way (similar to the printStackTrace and stop method) \\n\\n I have two justifications for this \\n\\n 1) The only time the message is thrown is when the master has already stopped \\n2) It is like saying the master has stopped but the following exception   \\n   occurred (which is this case is only when the master is stopped) \\n\\n I have fixed the nits pointed out. \\n\\n I was hoping to submit regression tests in a follow up.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12582978\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12582978&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12582978\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12582978_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12582978_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Mar\\/08 10:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-28T10:44:34+0000\'\u003e28\\/Mar\\/08 10:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks, for the latest updates, Narayanan.\u003cbr\\/\u003e\\nI have tested the patch, and my problem is solved.\u003cbr\\/\u003e\\nv5 patch committed at revision 642191.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12582978_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12582978_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Mar\\/08 10:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-28T10:44:34+0000\'\u003e28\\/Mar\\/08 10:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks, for the latest updates, Narayanan. \\nI have tested the patch, and my problem is solved. \\nv5 patch committed at revision 642191.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12584140\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3447?focusedCommentId=12584140&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12584140\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12584140_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12584140_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Apr\\/08 13:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-04-01T13:48:40+0000\'\u003e01\\/Apr\\/08 13:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFix ported to 10.4 branch at revision 643399.\u003cbr\\/\u003e\\nSVN command used:\u003cbr\\/\u003e\\nsvn merge -r642190:642191 \u003ca href=\\\"https:\\/\\/svn.apache.org\\/repos\\/asf\\/db\\/derby\\/code\\/trunk\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/repos\\/asf\\/db\\/derby\\/code\\/trunk\\/\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12584140_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12584140_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Apr\\/08 13:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-04-01T13:48:40+0000\'\u003e01\\/Apr\\/08 13:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Fix ported to 10.4 branch at revision 643399. \\nSVN command used: \\nsvn merge -r642190:642191  https:\\/\\/svn.apache.org\\/repos\\/asf\\/db\\/derby\\/code\\/trunk\\/               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="10594";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=10594&amp;avatarId=10122\\\" alt=\\\"Derby\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\"\u003eDerby\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520239339525"> 
    <input type="hidden" title="jira.request.server.time" value="255"> 
    <input type="hidden" title="jira.request.id" value="522x94388321x4"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="2"> 
    <input type="hidden" title="db.reads.time.in.ms" value="36"> 
    <input type="hidden" title="db.conns.time.in.ms" value="44"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 522x94388321x4
	          REQUEST TIMESTAMP : [05/Mar/2018:08:42:19 +0000]
	               REQUEST TIME : 0.2550
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 2

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=22, elapsedTotal=36784467, elapsedMin=601090, elapsedMax=14231833, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=26, elapsedTotal=44115497, elapsedMin=638783, elapsedMax=14266076, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>