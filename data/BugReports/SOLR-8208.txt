<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|f98016cd981d88f8efb5d133c49f2fb407ff7fe6|lout"> 
  <link rel="shortcut icon" href="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"sd.customer.profile.multi.languages\":true,\"sd.customer.portal.transitions\":true,\"sd.customer.portal.transitions.config\":true,\"sd.custom.email.stripping.rules\":false,\"sd.sla.lucene.issue.id.callback.performance\":true,\"sd.new.settings.sidebar.location\":true,\"sd.workload.report.paginator\":true,\"sd.experimental.portal.search.algorithm.default.1\":false,\"sd.customer.portal.help.center.agent.announcement\":true,\"sd.sla.improved.rendering\":false,\"sd.experimental.portal.search.algorithm.default.2\":false,\"sd.customer.feedback.validate.reporter.on.token\":true,\"sd.custom.email.notifications.utf8.csat.star\":true,\"sd.who.create.customers.by.email.setting\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.renderer.consider.variable.format\":true,\"sd.stats.event.tracking\":true,\"sd.password.helper.dialog\":true,\"sd.canned.responses\":false,\"sd.portal.help.center.customer.signup.secondary.email\":true,\"sd.custom.email.notifications.manage.language\":true,\"sd.use.search.by.permissions\":true,\"sd.slavalue.record.updated.date\":false,\"sd.report.custom.date.range\":false,\"sd.kb.article.helpfulness.report\":false,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"sd.custom.email.notifications.styling\":true,\"sd.workinghours.new.page.bulldog.1\":false,\"sd.customer.portal.two.step.login\":false,\"sd.automation.psmq.async.executor\":true,\"sd.customer.org.list.page.lazy.search\":true,\"sd.approval.requested.when.handler\":true,\"sd.request.type.field.rest.api.filtering.bugfix\":true,\"sd.automation.then.action.auto.answer.approval\":true,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"sla.will.only.be.paused.if.they.are.already.started\":true,\"sd.kb.comment.share.stats.collection\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"sd.customer.orgs.group.participants\":true,\"sd.portal.help.center.customer.signup\":true,\"sd.sla.agent.jql.security.restricted\":true,\"sd.test.feature.flag.x\":true,\"sd.test.feature.flag.y\":false,\"sd.cluster.safe.mail.channel.shutdown\":true,\"sd.email.channel.folders\":false,\"sd.email.analytics.open\":false,\"sd.kb.project.creation.create.link.space\":true,\"sd.workinghours.new.page\":false,\"sd.confluence.anonymous.permission.fix\":true,\"com.atlassian.jira.issuetable.draggable\":true,\"sd.customer.portal.project.agent.announcement\":true,\"sd.automation.audit.log\":true,\"jira.jql.suggestrecentfields\":false,\"sd.canned.responses.check.index.startup\":false,\"sd.new.project.templates\":true,\"sd.custom.email.notifications.custom.rules.simple.ui\":false,\"sd.custom.email.notifications.cut.over\":true,\"sd.dismiss.all.misconfiguration.warnings.setting\":true,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"sd.sla.configurations.export\":true,\"sd.canned.responses.variable.substitution\":true,\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"sd.customer.portal.prioties.per.project.fix\":true,\"jira.instrumentation.laas\":false,\"sd.kb.self.service.report\":false,\"sla.improved.request.handling\":true,\"sd.no.schedule.async.upgrade.tasks\":true,\"sd.kb.primary.nav\":true,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"sd.kb.issueview.panel.phase2\":true,\"sd.email.outsider.comments\":true,\"jira.create.linked.issue\":true,\"sd.kb.issueview.panel\":true,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"sd.approvals.light.weight\":false,\"sd.automation.then.webhook\":true,\"sd.respect.inline.edit.issue.off\":true,\"jira.jql.smartautoselectfirst\":false,\"sd.global.portal.search.atlassian.only.tracking\":false,\"sd.automation.if.condition.comment.primary.action\":true,\"jira.priorities.per.project\":true,\"sd.inline.noformat.renderer\":true,\"sd.customer.request.type.create.edit.screens\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/png,image/vnd.wap.wbmp,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["com.atlassian.servicedesk.servicedesk-canned-responses-plugin:canned-responses-data-provider.data"]="{\"substitutionVariables\":{\"issue.summary\":\"Issue summary\",\"issue.description\":\"Issue description\",\"issue.key\":\"Issue key\",\"issue.reporter.name\":\"Issue reporter\",\"issue.resolution\":\"Issue resolution\",\"request.url\":\"Request URL\",\"request.status\":\"Request status\"}}";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-help-links.help-links"]="{\"help\":{\"email.settings\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"managing.queues\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+queues+for+your+team\",\"email.setup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"request.settings.help.bubble\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\",\"email.settings.suitablerequest\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email#Receivingrequestsbyemail-suitablerequest\",\"sla.import.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Importing+SLAs\",\"documentation.home\":\"https://docs.atlassian.com/jira/jsd-docs-039/JIRA+Service+Desk+Documentation\",\"default\":\"https://docs.atlassian.com/jira/jsd-docs-039/\",\"create.space.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base#serving-customers-with-a-knowledge-base-createpermission\",\"email.settings.troubleshooting\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+the+email+channel\",\"admin.notifications.config\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+service+desk+notifications\",\"troubleshoot.requesttype\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+request+types\",\"approvals.configuration\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+JIRA+Service+Desk+approvals\",\"setting.up.reports\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+service+desk+reports\",\"public.signup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+public+signup\",\"knowledge.base\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base\",\"resolve.permission.scheme.errors\":\"https://docs.atlassian.com/jira/jsd-docs-039/Resolving+permission+scheme+errors\",\"getting.started\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+with+JIRA+Service+Desk\",\"getting.started.agent\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+for+service+desk+agents\",\"invite.customers\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\"},\"kb\":{\"default\":\"https://confluence.atlassian.com/display/SDKB/\",\"troubleshooting.user.management.issues\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\",\"legacytransition\":\"https://confluence.atlassian.com/display/SDKB/Replacing+legacy+automatic+transitions+with+automation+rules\",\"umtroubleshoot\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\"}}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-base-url.base-url"]="\"https://issues.apache.org/jira\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"c126b8bbdac253\"";
WRM._unparsedData["project-id"]="12310230";
WRM._unparsedData["project-key"]="\"SOLR\"";
WRM._unparsedData["project-name"]="\"Solr\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310230";
WRM._unparsedData["projectKey"]="\"SOLR\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/1a6b21131945f6f49ff48336b49ca3fe-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/d8484c9183f546511a8e336a8779bcd9-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d3b35d835f8f46fc3b53bb4db7f85158-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/71d42e74136d842a3ef4d5d136484843-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/95a4826c265852f4904f1e0e7300df68-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/944bb39eced1b35cfc7194aa02eb5a5a/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/5a8f0f8b8aa8f96a4f0f7e9e248d62f3-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="SOLR-8208"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[SOLR-8208] DocTransformer executes sub-queries - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[SOLR-8208] DocTransformer executes sub-queries - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/SOLR" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-8208">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310230" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Solr'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310230&amp;avatarId=22151"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/SOLR">Solr</a></li>
                 <li><a class="issue-link" data-issue-key="SOLR-8208" href="/jira/browse/SOLR-8208" id="key-val" rel="12907778">SOLR-8208</a></li>
                </ol>
                <h1 id="summary-val">DocTransformer executes sub-queries</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-8208"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/SOLR-8208/SOLR-8208.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/SOLR-8208/SOLR-8208.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/SOLR-8208/SOLR-8208.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/SOLR-8208/SOLR-8208.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" title="Improvement - An improvement or enhancement to an existing feature or task." width="16"> Improvement </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> None </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+6.1" title="6.1 Major release after 6.0">6.1</a>, <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+7.0" title="7.0 First 7x release, major release after 6.6">7.0</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+component+%3D+%22Response+Writers%22" title="Response Writers Anything related to the various response writers used to format the results of a request">Response Writers</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <ul class="labels" id="labels-12907778-value"> 
                     <li><a class="lozenge" href="/jira/issues/?jql=labels+%3D+features" title="features"><span>features</span></a></li> 
                     <li><a class="lozenge" href="/jira/issues/?jql=labels+%3D+newbie" title="newbie"><span>newbie</span></a></li> 
                    </ul> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>The initial idea was to return "from" side of query time join via doctransformer. I suppose it isn't query-time join specific, thus let to specify any query and parameters for them, let's call it sub-query. But it might be problematic to escape subquery parameters, including local ones, e.g. what if subquery needs to specify own doctransformer in &amp;fl=[..] ?<br> I suppose we can specify subquery parameter prefix:</p> 
                  <div class="code panel" style="border-width: 1px;">
                   <div class="codeContent panelContent"> 
                    <pre class="code-java">..&amp;q=name_s:john&amp;fl=*,depts:[subquery fromIndex=departments]&amp;
depts.q={!term f=dept_id_s v=$row.dept_ss_dv}&amp;depts.fl=text_t,dept_id_s_dv&amp;depts.rows=12&amp;depts.sort=id desc
</pre> 
                   </div>
                  </div> 
                  <p>response is like</p> 
                  <div class="code panel" style="border-width: 1px;">
                   <div class="codeContent panelContent"> 
                    <pre class="code-java">       
&lt;response&gt;
...
    &lt;result name=<span class="code-quote">"response"</span> numFound=<span class="code-quote">"1"</span> start=<span class="code-quote">"0"</span>&gt;
        &lt;doc&gt;
            &lt;str name=<span class="code-quote">"id"</span>&gt;1&lt;/str&gt;
            &lt;str name=<span class="code-quote">"name_s_dv"</span>&gt;john&lt;/str&gt;
..
            &lt;result name=<span class="code-quote">"depts"</span> numFound=<span class="code-quote">"2"</span> start=<span class="code-quote">"0"</span>&gt;
                &lt;doc&gt;
                    &lt;str name=<span class="code-quote">"dept_id_s_dv"</span>&gt;Engineering&lt;/str&gt;
                    &lt;str name=<span class="code-quote">"text_t"</span>&gt;These guys develop stuff&lt;/str&gt;
                &lt;/doc&gt;
                &lt;doc&gt;
                    &lt;str name=<span class="code-quote">"dept_id_s_dv"</span>&gt;Support&lt;/str&gt;
                    &lt;str name=<span class="code-quote">"text_t"</span>&gt;These guys help users&lt;/str&gt;
                &lt;/doc&gt;
            &lt;/result&gt;
        &lt;/doc&gt;
    &lt;/result&gt;
&lt;/response&gt;
</pre> 
                   </div>
                  </div> 
                  <ul> 
                   <li><tt>fl=depts:[subquery]</tt> executes a separate request for every query result row, and adds it into a document as a separate result list. The given field name (here it's 'depts') is used as a prefix to shift subquery parameters from main query parameter, eg <tt>depts.q</tt> turns to <tt>q</tt> for subquery, <tt>depts.rows</tt> to <tt>rows</tt>.</li> 
                   <li>document fields are available as implicit parameters with prefix <tt>row.</tt> eg. if result document has a field <tt>dept_id</tt> it can be referred as <tt>v=$row.dept_id</tt> this combines well with {!terms} query parser</li> 
                   <li><tt>separator=','</tt> is used when multiple field values are combined in parameter. eg. a document has multivalue field 
                    <div class="code panel" style="border-width: 1px;">
                     <div class="codeContent panelContent"> 
                      <pre class="code-java">dept_ids={2,3}</pre> 
                     </div>
                    </div> <p>, thus referring to it via </p> 
                    <div class="code panel" style="border-width: 1px;">
                     <div class="codeContent panelContent"> 
                      <pre class="code-java">..&amp;dept.q={!terms f=id v=$row.dept_ids}&amp;..</pre> 
                     </div>
                    </div> <p> executes a subquery </p> 
                    <div class="code panel" style="border-width: 1px;">
                     <div class="codeContent panelContent"> 
                      <pre class="code-java">{!terms f=id}2,3</pre> 
                     </div>
                    </div> <p>. When omitted it's a comma.</p></li> 
                   <li><tt>fromIndex=othercore</tt> optional param allows to run subquery on other core, like it works on query time join<br> However, it doesn't work on cloud setup (and will let you know), but it's proposed to use regular params (<tt>collection</tt>, <tt>shards</tt> - whatever, with subquery prefix as below ) to issue subquery to a collection 
                    <div class="code panel" style="border-width: 1px;">
                     <div class="codeContent panelContent"> 
                      <pre class="code-java">q=name_s:dave&amp;indent=<span class="code-keyword">true</span>&amp;fl=*,depts:[subquery]&amp;rows=20&amp;
depts.q={!terms f=dept_id_s v=$row.dept_ss_dv}&amp;depts.fl=text_t&amp;
depts.indent=<span class="code-keyword">true</span>&amp;
depts.collection=departments&amp;
depts.rows=10&amp;depts.logParamsList=q,fl,rows,row.dept_ss_dv
</pre> 
                     </div>
                    </div></li> 
                  </ul> 
                  <p>Caveat: it should be a way slow; it handles only search result page, not entire result set. </p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/SOLR-8208?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/SOLR-8208?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/SOLR-8208?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/SOLR-8208?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12794400" data-issue-id="12907778" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12794400/SOLR-8208.diff" draggable="true" data-downloadurl="application/octet-stream:SOLR-8208.diff:https://issues.apache.org/jira/secure/attachment/12794400/SOLR-8208.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12794400/SOLR-8208.diff" title="Latest  20/Mar/16 10:26 - Cao Manh Dat" draggable="true" data-downloadurl="application/octet-stream:SOLR-8208.diff:https://issues.apache.org/jira/secure/attachment/12794400/SOLR-8208.diff">SOLR-8208.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-03-20T10:26:26.692Z">20/Mar/16 10:26</time>
                   </dd>
                   <dd class="attachment-size">
                    24 kB
                   </dd>
                   <dd class="attachment-author">
                    Cao Manh Dat
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12802846" data-issue-id="12907778" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12802846/SOLR-8208.patch" draggable="true" data-downloadurl="text/plain:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12802846/SOLR-8208.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12802846/SOLR-8208.patch" title="Latest  07/May/16 22:24 - Mikhail Khludnev" draggable="true" data-downloadurl="text/plain:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12802846/SOLR-8208.patch">SOLR-8208.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-05-07T22:24:18.295Z">07/May/16 22:24</time>
                   </dd>
                   <dd class="attachment-size">
                    84 kB
                   </dd>
                   <dd class="attachment-author">
                    Mikhail Khludnev
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12802843" data-issue-id="12907778" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12802843/SOLR-8208.patch" draggable="true" data-downloadurl="text/plain:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12802843/SOLR-8208.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12802843/SOLR-8208.patch" title=" 07/May/16 20:41 - Mikhail Khludnev" draggable="true" data-downloadurl="text/plain:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12802843/SOLR-8208.patch">SOLR-8208.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-05-07T20:41:21.158Z">07/May/16 20:41</time>
                   </dd>
                   <dd class="attachment-size">
                    79 kB
                   </dd>
                   <dd class="attachment-author">
                    Mikhail Khludnev
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12802536" data-issue-id="12907778" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12802536/SOLR-8208.patch" draggable="true" data-downloadurl="text/plain:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12802536/SOLR-8208.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12802536/SOLR-8208.patch" title=" 05/May/16 21:50 - Mikhail Khludnev" draggable="true" data-downloadurl="text/plain:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12802536/SOLR-8208.patch">SOLR-8208.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-05-05T21:50:18.894Z">05/May/16 21:50</time>
                   </dd>
                   <dd class="attachment-size">
                    79 kB
                   </dd>
                   <dd class="attachment-author">
                    Mikhail Khludnev
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12801823" data-issue-id="12907778" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12801823/SOLR-8208.patch" draggable="true" data-downloadurl="text/plain:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12801823/SOLR-8208.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12801823/SOLR-8208.patch" title=" 02/May/16 20:50 - Mikhail Khludnev" draggable="true" data-downloadurl="text/plain:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12801823/SOLR-8208.patch">SOLR-8208.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-05-02T20:50:05.554Z">02/May/16 20:50</time>
                   </dd>
                   <dd class="attachment-size">
                    56 kB
                   </dd>
                   <dd class="attachment-author">
                    Mikhail Khludnev
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12801614" data-issue-id="12907778" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12801614/SOLR-8208.patch" draggable="true" data-downloadurl="text/plain:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12801614/SOLR-8208.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12801614/SOLR-8208.patch" title=" 30/Apr/16 21:18 - Mikhail Khludnev" draggable="true" data-downloadurl="text/plain:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12801614/SOLR-8208.patch">SOLR-8208.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-04-30T21:18:47.722Z">30/Apr/16 21:18</time>
                   </dd>
                   <dd class="attachment-size">
                    50 kB
                   </dd>
                   <dd class="attachment-author">
                    Mikhail Khludnev
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12801594" data-issue-id="12907778" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12801594/SOLR-8208.patch" draggable="true" data-downloadurl="text/plain:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12801594/SOLR-8208.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12801594/SOLR-8208.patch" title=" 30/Apr/16 12:40 - Mikhail Khludnev" draggable="true" data-downloadurl="text/plain:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12801594/SOLR-8208.patch">SOLR-8208.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-04-30T12:40:16.366Z">30/Apr/16 12:40</time>
                   </dd>
                   <dd class="attachment-size">
                    48 kB
                   </dd>
                   <dd class="attachment-author">
                    Mikhail Khludnev
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12801171" data-issue-id="12907778" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12801171/SOLR-8208.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12801171/SOLR-8208.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12801171/SOLR-8208.patch" title=" 28/Apr/16 03:00 - Cao Manh Dat" draggable="true" data-downloadurl="text/x-patch:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12801171/SOLR-8208.patch">SOLR-8208.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-04-28T03:00:52.043Z">28/Apr/16 03:00</time>
                   </dd>
                   <dd class="attachment-size">
                    47 kB
                   </dd>
                   <dd class="attachment-author">
                    Cao Manh Dat
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12800894" data-issue-id="12907778" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12800894/SOLR-8208.patch" draggable="true" data-downloadurl="text/plain:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12800894/SOLR-8208.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12800894/SOLR-8208.patch" title=" 26/Apr/16 22:03 - Mikhail Khludnev" draggable="true" data-downloadurl="text/plain:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12800894/SOLR-8208.patch">SOLR-8208.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-04-26T22:03:04.383Z">26/Apr/16 22:03</time>
                   </dd>
                   <dd class="attachment-size">
                    45 kB
                   </dd>
                   <dd class="attachment-author">
                    Mikhail Khludnev
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12800479" data-issue-id="12907778" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12800479/SOLR-8208.patch" draggable="true" data-downloadurl="text/plain:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12800479/SOLR-8208.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12800479/SOLR-8208.patch" title=" 25/Apr/16 07:24 - Mikhail Khludnev" draggable="true" data-downloadurl="text/plain:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12800479/SOLR-8208.patch">SOLR-8208.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-04-25T07:24:49.910Z">25/Apr/16 07:24</time>
                   </dd>
                   <dd class="attachment-size">
                    43 kB
                   </dd>
                   <dd class="attachment-author">
                    Mikhail Khludnev
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12798107" data-issue-id="12907778" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12798107/SOLR-8208.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12798107/SOLR-8208.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12798107/SOLR-8208.patch" title=" 11/Apr/16 21:37 - Mikhail Khludnev" draggable="true" data-downloadurl="text/x-patch:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12798107/SOLR-8208.patch">SOLR-8208.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-04-11T21:37:33.243Z">11/Apr/16 21:37</time>
                   </dd>
                   <dd class="attachment-size">
                    31 kB
                   </dd>
                   <dd class="attachment-author">
                    Mikhail Khludnev
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12796698" data-issue-id="12907778" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12796698/SOLR-8208.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12796698/SOLR-8208.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12796698/SOLR-8208.patch" title=" 02/Apr/16 21:32 - Mikhail Khludnev" draggable="true" data-downloadurl="text/x-patch:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12796698/SOLR-8208.patch">SOLR-8208.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-04-02T21:32:45.652Z">02/Apr/16 21:32</time>
                   </dd>
                   <dd class="attachment-size">
                    28 kB
                   </dd>
                   <dd class="attachment-author">
                    Mikhail Khludnev
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12796496" data-issue-id="12907778" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12796496/SOLR-8208.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12796496/SOLR-8208.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12796496/SOLR-8208.patch" title=" 01/Apr/16 08:27 - Mikhail Khludnev" draggable="true" data-downloadurl="text/x-patch:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12796496/SOLR-8208.patch">SOLR-8208.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-04-01T08:27:36.187Z">01/Apr/16 08:27</time>
                   </dd>
                   <dd class="attachment-size">
                    25 kB
                   </dd>
                   <dd class="attachment-author">
                    Mikhail Khludnev
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12795648" data-issue-id="12907778" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12795648/SOLR-8208.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12795648/SOLR-8208.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12795648/SOLR-8208.patch" title=" 28/Mar/16 16:36 - Mikhail Khludnev" draggable="true" data-downloadurl="text/x-patch:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12795648/SOLR-8208.patch">SOLR-8208.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-03-28T16:36:21.585Z">28/Mar/16 16:36</time>
                   </dd>
                   <dd class="attachment-size">
                    18 kB
                   </dd>
                   <dd class="attachment-author">
                    Mikhail Khludnev
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12794869" data-issue-id="12907778" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12794869/SOLR-8208.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12794869/SOLR-8208.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12794869/SOLR-8208.patch" title=" 22/Mar/16 22:38 - Mikhail Khludnev" draggable="true" data-downloadurl="text/x-patch:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12794869/SOLR-8208.patch">SOLR-8208.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-03-22T22:38:41.409Z">22/Mar/16 22:38</time>
                   </dd>
                   <dd class="attachment-size">
                    17 kB
                   </dd>
                   <dd class="attachment-author">
                    Mikhail Khludnev
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12779215" data-issue-id="12907778" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12779215/SOLR-8208.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12779215/SOLR-8208.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12779215/SOLR-8208.patch" title=" 23/Dec/15 07:20 - Cao Manh Dat" draggable="true" data-downloadurl="text/x-patch:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12779215/SOLR-8208.patch">SOLR-8208.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-12-23T07:20:29.830Z">23/Dec/15 07:20</time>
                   </dd>
                   <dd class="attachment-size">
                    24 kB
                   </dd>
                   <dd class="attachment-author">
                    Cao Manh Dat
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12778455" data-issue-id="12907778" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12778455/SOLR-8208.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12778455/SOLR-8208.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12778455/SOLR-8208.patch" title=" 18/Dec/15 08:48 - Mikhail Khludnev" draggable="true" data-downloadurl="text/x-patch:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12778455/SOLR-8208.patch">SOLR-8208.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-12-18T08:48:22.321Z">18/Dec/15 08:48</time>
                   </dd>
                   <dd class="attachment-size">
                    11 kB
                   </dd>
                   <dd class="attachment-author">
                    Mikhail Khludnev
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12777962" data-issue-id="12907778" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12777962/SOLR-8208.patch" draggable="true" data-downloadurl="text/plain:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12777962/SOLR-8208.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12777962/SOLR-8208.patch" title=" 16/Dec/15 09:17 - Cao Manh Dat" draggable="true" data-downloadurl="text/plain:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12777962/SOLR-8208.patch">SOLR-8208.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-12-16T09:17:32.644Z">16/Dec/15 09:17</time>
                   </dd>
                   <dd class="attachment-size">
                    11 kB
                   </dd>
                   <dd class="attachment-author">
                    Cao Manh Dat
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12777719" data-issue-id="12907778" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12777719/SOLR-8208.patch" draggable="true" data-downloadurl="text/plain:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12777719/SOLR-8208.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12777719/SOLR-8208.patch" title=" 15/Dec/15 10:30 - Cao Manh Dat" draggable="true" data-downloadurl="text/plain:SOLR-8208.patch:https://issues.apache.org/jira/secure/attachment/12777719/SOLR-8208.patch">SOLR-8208.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-12-15T10:30:50.470Z">15/Dec/15 10:30</time>
                   </dd>
                   <dd class="attachment-size">
                    10 kB
                   </dd>
                   <dd class="attachment-author">
                    Cao Manh Dat
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12803933" data-issue-id="12907778" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12803933/SOLR-8208-distrib-test-fix.patch" draggable="true" data-downloadurl="text/plain:SOLR-8208-distrib-test-fix.patch:https://issues.apache.org/jira/secure/attachment/12803933/SOLR-8208-distrib-test-fix.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12803933/SOLR-8208-distrib-test-fix.patch" title="Latest  13/May/16 20:13 - Mikhail Khludnev" draggable="true" data-downloadurl="text/plain:SOLR-8208-distrib-test-fix.patch:https://issues.apache.org/jira/secure/attachment/12803933/SOLR-8208-distrib-test-fix.patch">SOLR-8208-distrib-test-fix.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2016-05-13T20:13:52.551Z">13/May/16 20:13</time>
                   </dd>
                   <dd class="attachment-size">
                    1 kB
                   </dd>
                   <dd class="attachment-author">
                    Mikhail Khludnev
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is broken by">
                   is broken by
                  </dt> 
                  <dd id="internal-13000805_12310050"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="SOLR-9448: [subquery] calls another collection fails with &quot;undefined field&quot; or NPE from mergeIds"> <a href="/jira/browse/SOLR-9448" data-issue-key="SOLR-9448" class="issue-link link-title resolution">SOLR-9448</a> <span class="link-summary">[subquery] calls another collection fails with "undefined field" or NPE from mergeIds</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="is related to">
                   is related to
                  </dt> 
                  <dd id="internal-13070959_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype" width="16" height="16" title="New Feature - A new feature of the product, which has yet to be developed." alt="New Feature - A new feature of the product, which has yet to be developed."> <span title="SOLR-10669: bulk [subquery] result transformer"> <a href="/jira/browse/SOLR-10669" data-issue-key="SOLR-10669" class="issue-link link-title">SOLR-10669</a> <span class="link-summary">bulk [subquery] result transformer</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-blue-gray jira-issue-status-lozenge-new aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Open</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is open and ready for the assignee to start work on it.</span>">Open</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-13068042_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="SOLR-10589: [subquery] debugQuery=true support"> <a href="/jira/browse/SOLR-10589" data-issue-key="SOLR-10589" class="issue-link link-title">SOLR-10589</a> <span class="link-summary">[subquery] debugQuery=true support</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-blue-gray jira-issue-status-lozenge-new aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Open</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is open and ready for the assignee to start work on it.</span>">Open</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-13071170_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="SOLR-10673: [subquery] sort by geodist"> <a href="/jira/browse/SOLR-10673" data-issue-key="SOLR-10673" class="issue-link link-title">SOLR-10673</a> <span class="link-summary">[subquery] sort by geodist</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-blue-gray jira-issue-status-lozenge-new aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Open</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is open and ready for the assignee to start work on it.</span>">Open</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="relates to">
                   relates to
                  </dt> 
                  <dd id="internal-13067012_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="SOLR-10571: [subquery] requires field to be specified in both fl and subquery.fl to be responded in subquery results"> <a href="/jira/browse/SOLR-10571" data-issue-key="SOLR-10571" class="issue-link link-title">SOLR-10571</a> <span class="link-summary">[subquery] requires field to be specified in both fl and subquery.fl to be responded in subquery results</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-blue-gray jira-issue-status-lozenge-new aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Open</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is open and ready for the assignee to start work on it.</span>">Open</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12967170_10030" class="
                                                collapsed-link                    "> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="SOLR-9101: introduce SolrRequestInfo.doInSuspension(Callable<T>). make SolrRequestInfo final"> <a href="/jira/browse/SOLR-9101" data-issue-key="SOLR-9101" class="issue-link link-title">SOLR-9101</a> <span class="link-summary">introduce SolrRequestInfo.doInSuspension(Callable&lt;T&gt;). make SolrRequestInfo final</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-blue-gray jira-issue-status-lozenge-new aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Open</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is open and ready for the assignee to start work on it.</span>">Open</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-13077676_10030" class="
                                                collapsed-link                    "> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="SOLR-10825: [subquery] facets support "> <a href="/jira/browse/SOLR-10825" data-issue-key="SOLR-10825" class="issue-link link-title">SOLR-10825</a> <span class="link-summary">[subquery] facets support </span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-blue-gray jira-issue-status-lozenge-new aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Open</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is open and ready for the assignee to start work on it.</span>">Open</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list collapsed-links-list"> 
                  <dt title="links to">
                   links to
                  </dt> 
                  <dd id="remote-32902" data-remote-link-id="32902" class="
                        remote-link                        collapsed-link                    "> 
                   <div class="link-content"> 
                    <p> <img src="/jira/images/icons/generic_link_16.png" width="16" height="16" title="Web Link" alt="Web Link"> <span title="inspired by [child]"> <a href="https://cwiki.apache.org/confluence/display/solr/Transforming+Result+Documents" class="link-title">inspired by [child]</a> <span class="link-summary"></span> </span> </p> 
                    <ul class="link-snapshot"> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="remote-32901" data-remote-link-id="32901" class="
                        remote-link                        collapsed-link                    "> 
                   <div class="link-content"> 
                    <p> <img src="http://mail-archives.apache.org/favicon.ico" width="16" height="16" title="Web Link" alt="Web Link"> <span title="spin off from the thread"> <a href="http://mail-archives.apache.org/mod_mbox/lucene-solr-user/201510.mbox/%3CCAN4YXvcGur8LZF4JHoKdbXiRkp0E=iy_B52b7SxqKhOOzeaF5A@mail.gmail.com%3E" class="link-title">spin off from the thread</a> <span class="link-summary"></span> </span> </p> 
                    <ul class="link-snapshot"> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="remote-41194" data-remote-link-id="41194" class="
                        remote-link                        collapsed-link                    "> 
                   <div class="link-content"> 
                    <p> <img src="/jira/images/icons/generic_link_16.png" width="16" height="16" title="Web Link" alt="Web Link"> <span title="wiki update"> <a href="https://cwiki.apache.org/confluence/pages/diffpagesbyversion.action?pageId=42566697&amp;selectedPageVersions=8&amp;selectedPageVersions=9" class="link-title">wiki update</a> <span class="link-summary"></span> </span> </p> 
                    <ul class="link-snapshot"> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <div id="show-more-links"> 
                  <button class="aui-button aui-button-link" id="show-more-links-link">Show 5 more links</button> 
                  <span>(2 relates to, 3 links to)</span> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="view-subtasks" class="module toggle-wrap">
               <div id="view-subtasks_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="subtask-view-options" class="aui-list-section aui-first aui-last">
                     <li class="aui-list-item"><a id="subtasks-show-all" href="/jira/browse/SOLR-8208?subTaskView=all#issuetable" class="aui-list-checked aui-checked aui-list-item-link" title="Show All"><span>Show All</span></a></li>
                     <li class="aui-list-item"><a id="subtasks-show-open" href="/jira/browse/SOLR-8208?subTaskView=unresolved#issuetable" class="aui-list-checked aui-list-item-link" title="Show Open"><span>Show Open</span></a></li>
                     <li class="aui-list-item"><a id="subtasks-bulk-operation" href="/jira/issue/bulkedit/BulkEdit1!default.jspa?reset=true&amp;searchParent=SOLR-8208" class="aui-list-checked aui-list-item-link" title="Bulk operation"><span>Bulk operation</span></a></li>
                     <li class="aui-list-item"><a id="subtasks-open-issue-navigator" href="/jira/issues/?jql=parent%3DSOLR-8208" class="aui-list-checked aui-list-item-link" title="Open issue navigator"><span>Open issue navigator</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Sub-Tasks</h2>
               </div>
               <div class="mod-content">
                <div class="mod-content intform subtask-table-container"> 
                 <issuetable-web-component> 
                  <table id="issuetable"> 
                   <tbody>
                    <tr id="issuerow12922842" rel="12922842" data-issuekey="SOLR-8438" class="issuerow"> 
                     <td class="stsequence">
                      <div rel="0" class="subtask-done">
                       1.
                      </div> </td> 
                     <td class="stsummary"><a class="issue-link" data-issue-key="SOLR-8438" href="/jira/browse/SOLR-8438">fromIndex= param for [subquery ] DocTransformer </a></td> 
                     <td class="issuetype"> <a class="issue-link" data-issue-key="SOLR-8438" href="/jira/browse/SOLR-8438"> <img src="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype" height="16" width="16" border="0" align="absmiddle" alt="Sub-task" title="Sub-task - The sub-task of the issue"> </a> </td> 
                     <td class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </td> 
                     <td class="assignee"> <span class="tinylink"><a class="user-hover" rel="mkhludnev" id="assignee_mkhludnev" href="/jira/secure/ViewProfile.jspa?name=mkhludnev">Mikhail Khludnev</a></span> </td> 
                    </tr> 
                   </tbody> 
                  </table> 
                 </issuetable-web-component> 
                 <div class="end-of-stable-message"></div> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_mkhludnev" rel="mkhludnev" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Mikhail Khludnev&quot;,&quot;emailAddress&quot;:&quot;gedel@yandex.ru&quot;,&quot;username&quot;:&quot;mkhludnev&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="mkhludnev"></span></span> Mikhail Khludnev </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_mkhludnev" rel="mkhludnev" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Mikhail Khludnev&quot;,&quot;emailAddress&quot;:&quot;gedel@yandex.ru&quot;,&quot;username&quot;:&quot;mkhludnev&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="mkhludnev"></span></span> Mikhail Khludnev </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">12</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="25/Oct/15 21:56"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2015-10-25T21:56:44+0000">25/Oct/15 21:56</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="06/Jun/17 14:16"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2017-06-06T14:16:21+0000">06/Jun/17 14:16</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="17/May/16 21:18"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2016-05-17T21:18:11+0000">17/May/16 21:18</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for n/a, Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-8208?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-8208?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-8208?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-8208?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-8208?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-8208?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-8208?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-8208?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/SOLR-8208?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-8208?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-8208?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/SOLR-8208?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-14973476\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=14973476&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14973476\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"upayavira\\\" id=\\\"commentauthor_14973476_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=upayavira\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"upayavira\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Upayavira\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14973476_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Oct\\/15 23:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-10-25T23:07:42+0000\'\u003e25\\/Oct\\/15 23:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSomething I\'ve wanted for a long time - you\'ve got my vote.\u003c\\/p\u003e\\n\\n\u003cp\u003eWhy should it be way slow? Obviously for a very large number of docs in the result set it would get resource intensive, but for medium numbers it should be quite acceptable, no?\u003c\\/p\u003e\\n\\n\u003cp\u003eAnother feature that would make this really neat would be to specify the tag of a filter query that you want to use as your sub-query - assuming it includes a join query. Thus, you would only need to specify your join query once - including fromIndex, join fields, etc - all you would need to specify would be the fields you want to include:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003efq={!tag=join}{!join fromIndex=other from=id to=id}some_query&amp;\\nfl=*,[subquery fq.tag=join fl=field1,field2]\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"upayavira\\\" id=\\\"commentauthor_14973476_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=upayavira\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"upayavira\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Upayavira\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14973476_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Oct\\/15 23:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-10-25T23:07:42+0000\'\u003e25\\/Oct\\/15 23:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Something I\'ve wanted for a long time - you\'ve got my vote. \\n\\n Why should it be way slow? Obviously for a very large number of docs in the result set it would get resource intensive, but for medium numbers it should be quite acceptable, no? \\n\\n Another feature that would make this really neat would be to specify the tag of a filter query that you want to use as your sub-query - assuming it includes a join query. Thus, you would only need to specify your join query once - including fromIndex, join fields, etc - all you would need to specify would be the fields you want to include: \\n\\n  \\n fq={!tag=join}{!join fromIndex=other from=id to=id}some_query&amp;\\nfl=*,[subquery fq.tag=join fl=field1,field2]\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14974078\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=14974078&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14974078\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_14974078_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14974078_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Oct\\/15 11:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-10-26T11:43:56+0000\'\u003e26\\/Oct\\/15 11:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eSomething I\'ve wanted for a long time - you\'ve got my vote.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eThanks! Appreciate. but it\'s only \\\"watch\\\", not vote!\u003c\\/p\u003e\\n\u003cblockquote\u003e\u003cp\u003ebut for medium numbers it should be quite acceptable,\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003ethat\'s what I meant.\u003c\\/p\u003e\\n\u003cblockquote\u003e\u003cp\u003efq={!tag=join}\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003ethis approach is limited by join subquery that\'s might not be bad, actually, but join query might be really expensive, eg it doesn\'t leapfrog well;\u003c\\/li\u003e\\n\\t\u003cli\u003ealso in this case join subquery should be turned: \\\"from\\\"&lt;-&gt;\\\"to\\\", that\'s might be tricky;\u003c\\/li\u003e\\n\\t\u003cli\u003eit seems limited to score less join, but now there is a score-emitting twin!\u003c\\/li\u003e\\n\\t\u003cli\u003eI\'m really afraid of parsing splitting:\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003efl=*,[subquery fq.tag=join fl=field1,field2,[transf param=etc]]\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_14974078_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14974078_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Oct\\/15 11:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-10-26T11:43:56+0000\'\u003e26\\/Oct\\/15 11:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Something I\'ve wanted for a long time - you\'ve got my vote.  \\n Thanks! Appreciate. but it\'s only \\\"watch\\\", not vote! \\n  but for medium numbers it should be quite acceptable,  \\n that\'s what I meant. \\n  fq={!tag=join}  \\n \\n\\t this approach is limited by join subquery that\'s might not be bad, actually, but join query might be really expensive, eg it doesn\'t leapfrog well; \\n\\t also in this case join subquery should be turned: \\\"from\\\"&lt;-&gt;\\\"to\\\", that\'s might be tricky; \\n\\t it seems limited to score less join, but now there is a score-emitting twin! \\n\\t I\'m really afraid of parsing splitting:\\n  \\n fl=*,[subquery fq.tag=join fl=field1,field2,[transf param=etc]]\\n \\n    \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15057301\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15057301&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15057301\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15057301_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15057301_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Dec\\/15 03:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-15T03:57:37+0000\'\u003e15\\/Dec\\/15 03:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\" class=\\\"user-hover\\\" rel=\\\"mkhludnev\\\"\u003eMikhail Khludnev\u003c\\/a\u003e I really want to work on this issue, can you assign this issue to me?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15057301_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15057301_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Dec\\/15 03:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-15T03:57:37+0000\'\u003e15\\/Dec\\/15 03:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Mikhail Khludnev  I really want to work on this issue, can you assign this issue to me?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15057332\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15057332&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15057332\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_15057332_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15057332_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Dec\\/15 04:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-15T04:43:18+0000\'\u003e15\\/Dec\\/15 04:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHmm, for some reason I can\'t seem to assign it to you. While we figure that out, you could simply start working on it anyway without it being assigned to you...\u003c\\/p\u003e\\n\\n\u003cp\u003eCan you click on the \\\"more\\\" button at the top and have an option to \\\"upload files\\\"? If so, you can freely upload patches..\u003c\\/p\u003e\\n\\n\u003cp\u003eBTW, I don\'t know if you know this already, but usually we work against trunk. Then whoever commits the patch will merge it back to 5x.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_15057332_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15057332_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Dec\\/15 04:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-15T04:43:18+0000\'\u003e15\\/Dec\\/15 04:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hmm, for some reason I can\'t seem to assign it to you. While we figure that out, you could simply start working on it anyway without it being assigned to you... \\n\\n Can you click on the \\\"more\\\" button at the top and have an option to \\\"upload files\\\"? If so, you can freely upload patches.. \\n\\n BTW, I don\'t know if you know this already, but usually we work against trunk. Then whoever commits the patch will merge it back to 5x.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15057346\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15057346&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15057346\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15057346_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15057346_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Dec\\/15 04:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-15T04:53:06+0000\'\u003e15\\/Dec\\/15 04:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\" class=\\\"user-hover\\\" rel=\\\"erickerickson\\\"\u003eErick Erickson\u003c\\/a\u003eThanks Erick, I can upload file so will update work process through patch file.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15057346_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15057346_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Dec\\/15 04:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-15T04:53:06+0000\'\u003e15\\/Dec\\/15 04:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Erick Erickson Thanks Erick, I can upload file so will update work process through patch file.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15057812\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15057812&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15057812\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15057812_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15057812_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Dec\\/15 10:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-15T10:30:50+0000\'\u003e15\\/Dec\\/15 10:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Cao Manh Dat - 15\\/Dec\\/15 10:34\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eInitial patch,\u003cbr\\/\u003e\\nI change the API a little bit to make it easier to parse.\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e[subquery f=fromField t=toField v=value start=0 rows=10]\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eThe result so far.\u003cbr\\/\u003e\\nInput\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003edoc(\u003cspan class=\\\"code-quote\\\"\u003e\\\"id\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"4\\\"\u003c\\/span\u003e,\u003cspan class=\\\"code-quote\\\"\u003e\\\"name_s\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"dave\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"title_s\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"MTS\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"dept_ss_dv\\\"\u003c\\/span\u003e,\u003cspan class=\\\"code-quote\\\"\u003e\\\"Support\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"dept_ss_dv\\\"\u003c\\/span\u003e,\u003cspan class=\\\"code-quote\\\"\u003e\\\"Engineering\\\"\u003c\\/span\u003e))\\n\\ndoc(\u003cspan class=\\\"code-quote\\\"\u003e\\\"id\\\"\u003c\\/span\u003e,\u003cspan class=\\\"code-quote\\\"\u003e\\\"10\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"dept_id_s\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"Engineering\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"text_t\\\"\u003c\\/span\u003e,\u003cspan class=\\\"code-quote\\\"\u003e\\\"These guys develop stuff\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"salary_i_dv\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"1000\\\"\u003c\\/span\u003e)\\ndoc(\u003cspan class=\\\"code-quote\\\"\u003e\\\"id\\\"\u003c\\/span\u003e,\u003cspan class=\\\"code-quote\\\"\u003e\\\"13\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"dept_id_s\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"Support\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"text_t\\\"\u003c\\/span\u003e,\u003cspan class=\\\"code-quote\\\"\u003e\\\"These guys help customers\\\"\u003c\\/span\u003e,\u003cspan class=\\\"code-quote\\\"\u003e\\\"salary_i_dv\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"800\\\"\u003c\\/span\u003e)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eQuery\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003eq=name_s:dave&amp;fl=*,[subquery f=dept_ss_dv t=dept_id_s v=depts]\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eOutput\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e{\\n  \u003cspan class=\\\"code-quote\\\"\u003e\\\"id\\\"\u003c\\/span\u003e: \u003cspan class=\\\"code-quote\\\"\u003e\\\"4\\\"\u003c\\/span\u003e,\\n  \u003cspan class=\\\"code-quote\\\"\u003e\\\"name_s_dv\\\"\u003c\\/span\u003e: \u003cspan class=\\\"code-quote\\\"\u003e\\\"dave\\\"\u003c\\/span\u003e,\\n  \u003cspan class=\\\"code-quote\\\"\u003e\\\"title_s_dv\\\"\u003c\\/span\u003e: \u003cspan class=\\\"code-quote\\\"\u003e\\\"MTS\\\"\u003c\\/span\u003e,\\n  \u003cspan class=\\\"code-quote\\\"\u003e\\\"dept_ss_dv\\\"\u003c\\/span\u003e: [\\n    \u003cspan class=\\\"code-quote\\\"\u003e\\\"Support\\\"\u003c\\/span\u003e,\\n    \u003cspan class=\\\"code-quote\\\"\u003e\\\"Engineering\\\"\u003c\\/span\u003e\\n  ],\\n  \u003cspan class=\\\"code-quote\\\"\u003e\\\"depts\\\"\u003c\\/span\u003e: [\\n    {\\n      \u003cspan class=\\\"code-quote\\\"\u003e\\\"id\\\"\u003c\\/span\u003e: \u003cspan class=\\\"code-quote\\\"\u003e\\\"10\\\"\u003c\\/span\u003e,\\n      \u003cspan class=\\\"code-quote\\\"\u003e\\\"dept_id_s_dv\\\"\u003c\\/span\u003e: \u003cspan class=\\\"code-quote\\\"\u003e\\\"Engineering\\\"\u003c\\/span\u003e,\\n      \u003cspan class=\\\"code-quote\\\"\u003e\\\"text_t\\\"\u003c\\/span\u003e: \u003cspan class=\\\"code-quote\\\"\u003e\\\"These guys develop stuff\\\"\u003c\\/span\u003e,\\n      \u003cspan class=\\\"code-quote\\\"\u003e\\\"salary_i_dv\\\"\u003c\\/span\u003e: 1000\\n    },\\n    {\\n      \u003cspan class=\\\"code-quote\\\"\u003e\\\"id\\\"\u003c\\/span\u003e: \u003cspan class=\\\"code-quote\\\"\u003e\\\"13\\\"\u003c\\/span\u003e,\\n      \u003cspan class=\\\"code-quote\\\"\u003e\\\"dept_id_s_dv\\\"\u003c\\/span\u003e: \u003cspan class=\\\"code-quote\\\"\u003e\\\"Support\\\"\u003c\\/span\u003e,\\n      \u003cspan class=\\\"code-quote\\\"\u003e\\\"text_t\\\"\u003c\\/span\u003e: \u003cspan class=\\\"code-quote\\\"\u003e\\\"These guys help customers\\\"\u003c\\/span\u003e,\\n      \u003cspan class=\\\"code-quote\\\"\u003e\\\"salary_i_dv\\\"\u003c\\/span\u003e: 800\\n    }\\n  ]\\n}\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eManaging to work on sort and fl params. Am i on right track?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15057812_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15057812_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Dec\\/15 10:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-15T10:30:50+0000\'\u003e15\\/Dec\\/15 10:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Cao Manh Dat - 15\\/Dec\\/15 10:34\\\"\u003eedited\u003c\\/span\u003e                   Initial patch, \\nI change the API a little bit to make it easier to parse. \\n  \\n [subquery f=fromField t=toField v=value start=0 rows=10]\\n \\n  \\n\\n The result so far. \\nInput \\n  \\n doc( \\\"id\\\" ,  \\\"4\\\" , \\\"name_s\\\" ,  \\\"dave\\\" ,  \\\"title_s\\\" ,  \\\"MTS\\\" ,  \\\"dept_ss_dv\\\" , \\\"Support\\\" ,  \\\"dept_ss_dv\\\" , \\\"Engineering\\\" ))\\n\\ndoc( \\\"id\\\" , \\\"10\\\" ,  \\\"dept_id_s\\\" ,  \\\"Engineering\\\" ,  \\\"text_t\\\" , \\\"These guys develop stuff\\\" ,  \\\"salary_i_dv\\\" ,  \\\"1000\\\" )\\ndoc( \\\"id\\\" , \\\"13\\\" ,  \\\"dept_id_s\\\" ,  \\\"Support\\\" ,  \\\"text_t\\\" , \\\"These guys help customers\\\" , \\\"salary_i_dv\\\" ,  \\\"800\\\" )\\n \\n  \\n\\n Query \\n  \\n q=name_s:dave&amp;fl=*,[subquery f=dept_ss_dv t=dept_id_s v=depts]\\n \\n  \\n\\n Output \\n  \\n {\\n   \\\"id\\\" :  \\\"4\\\" ,\\n   \\\"name_s_dv\\\" :  \\\"dave\\\" ,\\n   \\\"title_s_dv\\\" :  \\\"MTS\\\" ,\\n   \\\"dept_ss_dv\\\" : [\\n     \\\"Support\\\" ,\\n     \\\"Engineering\\\" \\n  ],\\n   \\\"depts\\\" : [\\n    {\\n       \\\"id\\\" :  \\\"10\\\" ,\\n       \\\"dept_id_s_dv\\\" :  \\\"Engineering\\\" ,\\n       \\\"text_t\\\" :  \\\"These guys develop stuff\\\" ,\\n       \\\"salary_i_dv\\\" : 1000\\n    },\\n    {\\n       \\\"id\\\" :  \\\"13\\\" ,\\n       \\\"dept_id_s_dv\\\" :  \\\"Support\\\" ,\\n       \\\"text_t\\\" :  \\\"These guys help customers\\\" ,\\n       \\\"salary_i_dv\\\" : 800\\n    }\\n  ]\\n}\\n \\n  \\n\\n Managing to work on sort and fl params. Am i on right track?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15057857\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15057857&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15057857\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"upayavira\\\" id=\\\"commentauthor_15057857_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=upayavira\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"upayavira\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Upayavira\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15057857_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Dec\\/15 11:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-15T11:02:15+0000\'\u003e15\\/Dec\\/15 11:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis is useful stuff. Much needed. I assume this would work as well on block joins and alongside pseudo joins, which I think I\'m seeing above?\u003c\\/p\u003e\\n\\n\u003cp\u003eTraditionally, in a local params query parser, the parameter v refers to the actual query string, so: \u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003eq={!lucene v=$qq}&amp;qq=field:(my search) \u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003e would be a valid syntax. I would suggest using n= (for name) or tag= for the field name of the newly created field to avoid association with this v= syntax.\u003c\\/p\u003e\\n\\n\u003cp\u003eIs a lookup based upon the ID of a field in the current document sufficient? I suspect it is.\u003c\\/p\u003e\\n\\n\u003cp\u003eDo you also support fromIndex - that is, executing the query against another core or collection? \u003cb\u003eThat\u003c\\/b\u003e would be the killer feature.\u003c\\/p\u003e\\n\\n\u003cp\u003eAs to the fq=\u003c\\/p\u003e\\n{!tag=join}\\n{!join blah....}\\n\u003cp\u003e syntax, if you had \u003cspan class=\\\"error\\\"\u003e&#91;subquery fq=join&#93;\u003c\\/span\u003e, you wouldn\'t actually execute the join query, you would just locate the query object, and extract its key parameters to avoid the user from having to enter them multiple times. Having both options would be super cool.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"upayavira\\\" id=\\\"commentauthor_15057857_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=upayavira\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"upayavira\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Upayavira\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15057857_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Dec\\/15 11:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-15T11:02:15+0000\'\u003e15\\/Dec\\/15 11:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This is useful stuff. Much needed. I assume this would work as well on block joins and alongside pseudo joins, which I think I\'m seeing above? \\n\\n Traditionally, in a local params query parser, the parameter v refers to the actual query string, so:  \\n  \\n q={!lucene v=$qq}&amp;qq=field:(my search)  \\n  \\n  would be a valid syntax. I would suggest using n= (for name) or tag= for the field name of the newly created field to avoid association with this v= syntax. \\n\\n Is a lookup based upon the ID of a field in the current document sufficient? I suspect it is. \\n\\n Do you also support fromIndex - that is, executing the query against another core or collection?  That  would be the killer feature. \\n\\n As to the fq= \\n{!tag=join}\\n{!join blah....}\\n  syntax, if you had  &#91;subquery fq=join&#93; , you wouldn\'t actually execute the join query, you would just locate the query object, and extract its key parameters to avoid the user from having to enter them multiple times. Having both options would be super cool.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15059731\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15059731&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15059731\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15059731_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15059731_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Dec\\/15 09:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-16T09:17:32+0000\'\u003e16\\/Dec\\/15 09:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Cao Manh Dat - 16\\/Dec\\/15 09:21\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI changed the api back like Mikhail\'s suggestion\u003c\\/p\u003e\\n\\n\u003cp\u003eResult so far. \u003cbr\\/\u003e\\nQuery\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003eq=name_s:dave\\n&amp;fl=*,[subquery prefix=subq1 name=depts]\\n&amp;subq1.q={!term f=dept_id_s v=$subq1.row.dept_ss_dv}\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eInput\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003edoc(\u003cspan class=\\\"code-quote\\\"\u003e\\\"id\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"4\\\"\u003c\\/span\u003e,\u003cspan class=\\\"code-quote\\\"\u003e\\\"name_s\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"dave\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"title_s\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"MTS\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"dept_ss_dv\\\"\u003c\\/span\u003e,\u003cspan class=\\\"code-quote\\\"\u003e\\\"Support\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"dept_ss_dv\\\"\u003c\\/span\u003e,\u003cspan class=\\\"code-quote\\\"\u003e\\\"Engineering\\\"\u003c\\/span\u003e))\\n\\ndoc(\u003cspan class=\\\"code-quote\\\"\u003e\\\"id\\\"\u003c\\/span\u003e,\u003cspan class=\\\"code-quote\\\"\u003e\\\"10\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"dept_id_s\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"Engineering\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"text_t\\\"\u003c\\/span\u003e,\u003cspan class=\\\"code-quote\\\"\u003e\\\"These guys develop stuff\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"salary_i_dv\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"1000\\\"\u003c\\/span\u003e)\\ndoc(\u003cspan class=\\\"code-quote\\\"\u003e\\\"id\\\"\u003c\\/span\u003e,\u003cspan class=\\\"code-quote\\\"\u003e\\\"13\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"dept_id_s\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"Support\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"text_t\\\"\u003c\\/span\u003e,\u003cspan class=\\\"code-quote\\\"\u003e\\\"These guys help customers\\\"\u003c\\/span\u003e,\u003cspan class=\\\"code-quote\\\"\u003e\\\"salary_i_dv\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"800\\\"\u003c\\/span\u003e)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eResult\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e{\\n  \u003cspan class=\\\"code-quote\\\"\u003e\\\"id\\\"\u003c\\/span\u003e: \u003cspan class=\\\"code-quote\\\"\u003e\\\"4\\\"\u003c\\/span\u003e,\\n  \u003cspan class=\\\"code-quote\\\"\u003e\\\"name_s_dv\\\"\u003c\\/span\u003e: \u003cspan class=\\\"code-quote\\\"\u003e\\\"dave\\\"\u003c\\/span\u003e,\\n  \u003cspan class=\\\"code-quote\\\"\u003e\\\"title_s_dv\\\"\u003c\\/span\u003e: \u003cspan class=\\\"code-quote\\\"\u003e\\\"MTS\\\"\u003c\\/span\u003e,\\n  \u003cspan class=\\\"code-quote\\\"\u003e\\\"dept_ss_dv\\\"\u003c\\/span\u003e: [\\n    \u003cspan class=\\\"code-quote\\\"\u003e\\\"Support\\\"\u003c\\/span\u003e,\\n    \u003cspan class=\\\"code-quote\\\"\u003e\\\"Engineering\\\"\u003c\\/span\u003e\\n  ],\\n  \u003cspan class=\\\"code-quote\\\"\u003e\\\"depts\\\"\u003c\\/span\u003e: [\\n    {\\n      \u003cspan class=\\\"code-quote\\\"\u003e\\\"id\\\"\u003c\\/span\u003e: \u003cspan class=\\\"code-quote\\\"\u003e\\\"13\\\"\u003c\\/span\u003e,\\n      \u003cspan class=\\\"code-quote\\\"\u003e\\\"dept_id_s_dv\\\"\u003c\\/span\u003e: \u003cspan class=\\\"code-quote\\\"\u003e\\\"Support\\\"\u003c\\/span\u003e,\\n      \u003cspan class=\\\"code-quote\\\"\u003e\\\"text_t\\\"\u003c\\/span\u003e: \u003cspan class=\\\"code-quote\\\"\u003e\\\"These guys help customers\\\"\u003c\\/span\u003e,\\n      \u003cspan class=\\\"code-quote\\\"\u003e\\\"salary_i_dv\\\"\u003c\\/span\u003e: 800\\n    }\\n  ]\\n}\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eI just have one question. What should we do when from field have multiple values? Should we change the \u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003esubq1.q\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003e to\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e{!term f=dept_id_s v=\u003cspan class=\\\"code-quote\\\"\u003e\\\"Support Engineer\\\"\u003c\\/span\u003e}\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eI will submit the patch frequently to keep me on track. Hope that it not bother people.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15059731_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15059731_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Dec\\/15 09:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-16T09:17:32+0000\'\u003e16\\/Dec\\/15 09:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Cao Manh Dat - 16\\/Dec\\/15 09:21\\\"\u003eedited\u003c\\/span\u003e                   I changed the api back like Mikhail\'s suggestion \\n\\n Result so far.  \\nQuery \\n  \\n q=name_s:dave\\n&amp;fl=*,[subquery prefix=subq1 name=depts]\\n&amp;subq1.q={!term f=dept_id_s v=$subq1.row.dept_ss_dv}\\n \\n  \\n\\n Input \\n  \\n doc( \\\"id\\\" ,  \\\"4\\\" , \\\"name_s\\\" ,  \\\"dave\\\" ,  \\\"title_s\\\" ,  \\\"MTS\\\" ,  \\\"dept_ss_dv\\\" , \\\"Support\\\" ,  \\\"dept_ss_dv\\\" , \\\"Engineering\\\" ))\\n\\ndoc( \\\"id\\\" , \\\"10\\\" ,  \\\"dept_id_s\\\" ,  \\\"Engineering\\\" ,  \\\"text_t\\\" , \\\"These guys develop stuff\\\" ,  \\\"salary_i_dv\\\" ,  \\\"1000\\\" )\\ndoc( \\\"id\\\" , \\\"13\\\" ,  \\\"dept_id_s\\\" ,  \\\"Support\\\" ,  \\\"text_t\\\" , \\\"These guys help customers\\\" , \\\"salary_i_dv\\\" ,  \\\"800\\\" )\\n \\n  \\n\\n Result \\n  \\n {\\n   \\\"id\\\" :  \\\"4\\\" ,\\n   \\\"name_s_dv\\\" :  \\\"dave\\\" ,\\n   \\\"title_s_dv\\\" :  \\\"MTS\\\" ,\\n   \\\"dept_ss_dv\\\" : [\\n     \\\"Support\\\" ,\\n     \\\"Engineering\\\" \\n  ],\\n   \\\"depts\\\" : [\\n    {\\n       \\\"id\\\" :  \\\"13\\\" ,\\n       \\\"dept_id_s_dv\\\" :  \\\"Support\\\" ,\\n       \\\"text_t\\\" :  \\\"These guys help customers\\\" ,\\n       \\\"salary_i_dv\\\" : 800\\n    }\\n  ]\\n}\\n \\n  \\n\\n I just have one question. What should we do when from field have multiple values? Should we change the  \\n  \\n subq1.q \\n  \\n  to \\n  \\n {!term f=dept_id_s v= \\\"Support Engineer\\\" }\\n \\n  \\n\\n I will submit the patch frequently to keep me on track. Hope that it not bother people.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15062727\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15062727&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15062727\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15062727_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15062727_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Dec\\/15 20:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-17T20:22:19+0000\'\u003e17\\/Dec\\/15 20:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eDo you also support fromIndex - that is, executing the query against another core or collection? That would be the killer feature.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003egreat idea. Let me spawn a sub-task. \u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15062727_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15062727_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Dec\\/15 20:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-17T20:22:19+0000\'\u003e17\\/Dec\\/15 20:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Do you also support fromIndex - that is, executing the query against another core or collection? That would be the killer feature.  \\n\\n great idea. Let me spawn a sub-task.  \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15062731\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15062731&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15062731\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15062731_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15062731_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Dec\\/15 20:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-17T20:24:47+0000\'\u003e17\\/Dec\\/15 20:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eWhat should we do when from field have multiple values?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eI prefer to forget about it, until we have real life challenge from someone. So, far support  single value fields.   \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15062731_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15062731_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Dec\\/15 20:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-17T20:24:47+0000\'\u003e17\\/Dec\\/15 20:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     What should we do when from field have multiple values?  \\n\\n I prefer to forget about it, until we have real life challenge from someone. So, far support  single value fields.                 \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15063358\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15063358&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15063358\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15063358_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15063358_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/15 03:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-18T03:36:58+0000\'\u003e18\\/Dec\\/15 03:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Cao Manh Dat - 18\\/Dec\\/15 06:30\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Mikhail, It will make thing more easier. I also consider about distributing the sub-queries, so I\'m trying to do this (execute the subquery through solrCore)\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003eSolrCore solrCore = subQueryRequest.getCore();\\nSolrQueryResponse response = \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e SolrQueryResponse();\\nsolrCore.execute(solrCore.getRequestHandler(\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e), subQueryRequest, response);\\nDocsStreamer docsStreamer = \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e DocsStreamer((ResultContext) response.getValues().get(\u003cspan class=\\\"code-quote\\\"\u003e\\\"response\\\"\u003c\\/span\u003e));\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eBut i\'m afraid that it will mess up the logic inside \u003ctt\u003eSolrCore.execute\u003c\\/tt\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15063358_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15063358_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/15 03:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-18T03:36:58+0000\'\u003e18\\/Dec\\/15 03:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Cao Manh Dat - 18\\/Dec\\/15 06:30\\\"\u003eedited\u003c\\/span\u003e                   Thanks Mikhail, It will make thing more easier. I also consider about distributing the sub-queries, so I\'m trying to do this (execute the subquery through solrCore) \\n  \\n SolrCore solrCore = subQueryRequest.getCore();\\nSolrQueryResponse response =  new  SolrQueryResponse();\\nsolrCore.execute(solrCore.getRequestHandler( null ), subQueryRequest, response);\\nDocsStreamer docsStreamer =  new  DocsStreamer((ResultContext) response.getValues().get( \\\"response\\\" ));\\n \\n  \\n But i\'m afraid that it will mess up the logic inside  SolrCore.execute               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15063704\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15063704&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15063704\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15063704_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15063704_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/15 08:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-18T08:48:22+0000\'\u003e18\\/Dec\\/15 08:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI added a couple of assertions.\u003c\\/p\u003e\\n\\n\u003cp\u003eI suppose the last \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15063358&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15063358\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003esnippet\u003c\\/a\u003e makes much sense, just because scoring query parsers do [something|\u003cbr\\/\u003e\\n\u003ca href=\\\"https:\\/\\/github.com\\/apache\\/lucene-solr\\/blob\\/trunk\\/solr\\/core\\/src\\/java\\/org\\/apache\\/solr\\/search\\/join\\/ScoreJoinQParserPlugin.java#L95\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/github.com\\/apache\\/lucene-solr\\/blob\\/trunk\\/solr\\/core\\/src\\/java\\/org\\/apache\\/solr\\/search\\/join\\/ScoreJoinQParserPlugin.java#L95\u003c\\/a\u003e] like this.   \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15063704_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15063704_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/15 08:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-18T08:48:22+0000\'\u003e18\\/Dec\\/15 08:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I added a couple of assertions. \\n\\n I suppose the last  snippet  makes much sense, just because scoring query parsers do [something| \\n https:\\/\\/github.com\\/apache\\/lucene-solr\\/blob\\/trunk\\/solr\\/core\\/src\\/java\\/org\\/apache\\/solr\\/search\\/join\\/ScoreJoinQParserPlugin.java#L95 ] like this.                 \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15069343\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15069343&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15069343\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15069343_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15069343_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/15 07:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-23T07:20:29+0000\'\u003e23\\/Dec\\/15 07:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\" class=\\\"user-hover\\\" rel=\\\"mkhludnev\\\"\u003eMikhail Khludnev\u003c\\/a\u003e Please review my patch. I thinks it quite ok now.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15069343_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15069343_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/15 07:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-23T07:20:29+0000\'\u003e23\\/Dec\\/15 07:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Mikhail Khludnev  Please review my patch. I thinks it quite ok now.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15069354\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15069354&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15069354\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15069354_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15069354_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/15 07:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-23T07:41:07+0000\'\u003e23\\/Dec\\/15 07:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003edon\'t worry. both of your patches in my \u003cem\u003ecommit queue\u003c\\/em\u003e. It just takes some time. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15069354_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15069354_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/15 07:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-23T07:41:07+0000\'\u003e23\\/Dec\\/15 07:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    don\'t worry. both of your patches in my  commit queue . It just takes some time.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15202346\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15202346&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15202346\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15202346_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15202346_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Mar\\/16 23:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-18T23:15:16+0000\'\u003e18\\/Mar\\/16 23:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHello \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\" class=\\\"user-hover\\\" rel=\\\"caomanhdat\\\"\u003eCao Manh Dat\u003c\\/a\u003e,\u003cbr\\/\u003e\\nI terribly sorry for such late review.\u003c\\/p\u003e\\n\\n\u003cp\u003eI applied the recent patch to master. There was some compile problems with StoredField or, so. I can\'t pass units. \u003cbr\\/\u003e\\n\u003ctt\u003eTestSubQueryTransformer.testSubQuerytransformer()\u003c\\/tt\u003e\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e assertQ(\u003cspan class=\\\"code-quote\\\"\u003e\\\"subq1.fl is limited to single field\\\"\u003c\\/span\u003e,\\n      req(\u003cspan class=\\\"code-quote\\\"\u003e\\\"q\\\"\u003c\\/span\u003e,\u003cspan class=\\\"code-quote\\\"\u003e\\\"name_s:john\\\"\u003c\\/span\u003e,\\n        \u003cspan class=\\\"code-quote\\\"\u003e\\\"fl\\\"\u003c\\/span\u003e,\u003cspan class=\\\"code-quote\\\"\u003e\\\"*,depts:[subquery prefix=subq1]\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"subq1.q\\\"\u003c\\/span\u003e,\u003cspan class=\\\"code-quote\\\"\u003e\\\"{!term f=dept_id_s v=$subq1.row.dept_ss_dv}\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"subq1.fl\\\"\u003c\\/span\u003e,\u003cspan class=\\\"code-quote\\\"\u003e\\\"text_t\\\"\u003c\\/span\u003e),\\n      \u003cspan class=\\\"code-quote\\\"\u003e\\\"\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/result\\/doc\\/str[@name=\u003cspan class=\\\"code-quote\\\"\u003e\'name_s_dv\'\u003c\\/span\u003e][.=\u003cspan class=\\\"code-quote\\\"\u003e\'john\'\u003c\\/span\u003e]\\/..\\/arr[@name=\u003cspan class=\\\"code-quote\\\"\u003e\'depts\'\u003c\\/span\u003e]\\/doc\\/str[@name=\u003cspan class=\\\"code-quote\\\"\u003e\'text_t\'\u003c\\/span\u003e][.=\u003cspan class=\\\"code-quote\\\"\u003e\'These guys develop stuff\'\u003c\\/span\u003e]\\\"\u003c\\/span\u003e,\\n\u003c\\/span\u003e      \u003cspan class=\\\"code-quote\\\"\u003e\\\"count(\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/result\\/doc\\/str[@name=\u003cspan class=\\\"code-quote\\\"\u003e\'name_s_dv\'\u003c\\/span\u003e][.=\u003cspan class=\\\"code-quote\\\"\u003e\'john\'\u003c\\/span\u003e]\\/..\\/arr[@name=\u003cspan class=\\\"code-quote\\\"\u003e\'depts\'\u003c\\/span\u003e]\\/doc\\/*)=1\\\"\u003c\\/span\u003e);\\/\\/ only text_t\u003c\\/span\u003e\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e REQUEST FAILED: xpath=count(\\/\\/result\\/doc\\/str[@name=\'name_s_dv\'][.=\'john\']\\/..\\/arr[@name=\'depts\']\\/doc\\/*)=1\\n&lt;response&gt;\\n&lt;lst name=\\\"responseHeader\\\"&gt;&lt;int name=\\\"status\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"QTime\\\"&gt;15474&lt;\\/int&gt;&lt;\\/lst&gt;&lt;result name=\\\"response\\\" numFound=\\\"1\\\" start=\\\"0\\\"&gt;\\n\\n&lt;doc&gt;&lt;str name=\\\"id\\\"&gt;1&lt;\\/str&gt;\\n        &lt;str name=\\\"name_s_dv\\\"&gt;john&lt;\\/str&gt;\\n        &lt;str name=\\\"title_s_dv\\\"&gt;Director&lt;\\/str&gt;\\n        &lt;arr name=\\\"dept_ss_dv\\\"&gt;&lt;str&gt;Engineering&lt;\\/str&gt;&lt;\\/arr&gt;\\n        &lt;arr name=\\\"depts\\\"&gt;\\n                 &lt;doc&gt;&lt;str name=\\\"text_t\\\"&gt;These guys develop stuff&lt;\\/str&gt;&lt;\\/doc&gt;\\n                 &lt;doc&gt;&lt;str name=\\\"text_t\\\"&gt;These guys develop other stuff&lt;\\/str&gt;&lt;\\/doc&gt;\\n                 &lt;doc&gt;&lt;str name=\\\"text_t\\\"&gt;These guys develop manage other engineers&lt;\\/str&gt;&lt;\\/doc&gt;&lt;\\/arr&gt;\\n       &lt;\\/doc&gt;\\n&lt;\\/result&gt;\\n&lt;\\/response&gt;\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003ethis xpath matches three times, not once as it\'s asserted\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e&lt;str name=\\\"text_t\\\"&gt;These guys develop stuff&lt;\\/str&gt;\\n&lt;str name=\\\"text_t\\\"&gt;These guys develop other stuff&lt;\\/str&gt;\\n&lt;str name=\\\"text_t\\\"&gt;These guys develop manage other engineers&lt;\\/str&gt;\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eCan\'t it happen as that there should be \u003ctt\u003esubq1.rows=1\u003c\\/tt\u003e? Can you make sure that tests pass?\u003c\\/p\u003e\\n\\n\u003cp\u003eAlso, I didn\'t get deep yet, but I noticed some request\\/closable infrastructure, it\'s wise to avoid obtaining core on very transformation, but couldn\'t it be achieved via SolrRequestInfo.addCloseHook(Closeable)  ?\u003c\\/p\u003e\\n\\n\u003cp\u003ethe also thing which I want to think about is to avoid code with regexp replace\\/field types and toExternal, I have an idea to use already resolved document fields as parameters view with keys prepended with \\\"subq1.row.\\\" This can be used by chaining like \u003ctt\u003eDefaultSolrParams\u003c\\/tt\u003e.  \u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15202346_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15202346_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Mar\\/16 23:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-18T23:15:16+0000\'\u003e18\\/Mar\\/16 23:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hello  Cao Manh Dat , \\nI terribly sorry for such late review. \\n\\n I applied the recent patch to master. There was some compile problems with StoredField or, so. I can\'t pass units.  \\n TestSubQueryTransformer.testSubQuerytransformer()  \\n  \\n  assertQ( \\\"subq1.fl is limited to single field\\\" ,\\n      req( \\\"q\\\" , \\\"name_s:john\\\" ,\\n         \\\"fl\\\" , \\\"*,depts:[subquery prefix=subq1]\\\" ,  \\\"subq1.q\\\" , \\\"{!term f=dept_id_s v=$subq1.row.dept_ss_dv}\\\" ,  \\\"subq1.fl\\\" , \\\"text_t\\\" ),\\n       \\\" \\/\\/result\\/doc\\/str[@name= \'name_s_dv\' ][.= \'john\' ]\\/..\\/arr[@name= \'depts\' ]\\/doc\\/str[@name= \'text_t\' ][.= \'These guys develop stuff\' ]\\\" ,\\n        \\\"count( \\/\\/result\\/doc\\/str[@name= \'name_s_dv\' ][.= \'john\' ]\\/..\\/arr[@name= \'depts\' ]\\/doc\\/*)=1\\\" );\\/\\/ only text_t \\n \\n  \\n  \\n  REQUEST FAILED: xpath=count(\\/\\/result\\/doc\\/str[@name=\'name_s_dv\'][.=\'john\']\\/..\\/arr[@name=\'depts\']\\/doc\\/*)=1\\n&lt;response&gt;\\n&lt;lst name=\\\"responseHeader\\\"&gt;&lt;int name=\\\"status\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"QTime\\\"&gt;15474&lt;\\/int&gt;&lt;\\/lst&gt;&lt;result name=\\\"response\\\" numFound=\\\"1\\\" start=\\\"0\\\"&gt;\\n\\n&lt;doc&gt;&lt;str name=\\\"id\\\"&gt;1&lt;\\/str&gt;\\n        &lt;str name=\\\"name_s_dv\\\"&gt;john&lt;\\/str&gt;\\n        &lt;str name=\\\"title_s_dv\\\"&gt;Director&lt;\\/str&gt;\\n        &lt;arr name=\\\"dept_ss_dv\\\"&gt;&lt;str&gt;Engineering&lt;\\/str&gt;&lt;\\/arr&gt;\\n        &lt;arr name=\\\"depts\\\"&gt;\\n                 &lt;doc&gt;&lt;str name=\\\"text_t\\\"&gt;These guys develop stuff&lt;\\/str&gt;&lt;\\/doc&gt;\\n                 &lt;doc&gt;&lt;str name=\\\"text_t\\\"&gt;These guys develop other stuff&lt;\\/str&gt;&lt;\\/doc&gt;\\n                 &lt;doc&gt;&lt;str name=\\\"text_t\\\"&gt;These guys develop manage other engineers&lt;\\/str&gt;&lt;\\/doc&gt;&lt;\\/arr&gt;\\n       &lt;\\/doc&gt;\\n&lt;\\/result&gt;\\n&lt;\\/response&gt;\\n \\n  \\n\\n this xpath matches three times, not once as it\'s asserted \\n\\n  \\n &lt;str name=\\\"text_t\\\"&gt;These guys develop stuff&lt;\\/str&gt;\\n&lt;str name=\\\"text_t\\\"&gt;These guys develop other stuff&lt;\\/str&gt;\\n&lt;str name=\\\"text_t\\\"&gt;These guys develop manage other engineers&lt;\\/str&gt;\\n \\n  \\n\\n Can\'t it happen as that there should be  subq1.rows=1 ? Can you make sure that tests pass? \\n\\n Also, I didn\'t get deep yet, but I noticed some request\\/closable infrastructure, it\'s wise to avoid obtaining core on very transformation, but couldn\'t it be achieved via SolrRequestInfo.addCloseHook(Closeable)  ? \\n\\n the also thing which I want to think about is to avoid code with regexp replace\\/field types and toExternal, I have an idea to use already resolved document fields as parameters view with keys prepended with \\\"subq1.row.\\\" This can be used by chaining like  DefaultSolrParams .   \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15203227\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15203227&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15203227\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15203227_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15203227_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Mar\\/16 10:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-20T10:26:26+0000\'\u003e20\\/Mar\\/16 10:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Mikhail,\u003c\\/p\u003e\\n\\n\u003cp\u003eI updated the code with lastest code in trunk. All tests are passed now.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15203227_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15203227_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Mar\\/16 10:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-20T10:26:26+0000\'\u003e20\\/Mar\\/16 10:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Mikhail, \\n\\n I updated the code with lastest code in trunk. All tests are passed now.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15203528\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15203528&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15203528\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15203528_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15203528_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Mar\\/16 21:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-20T21:13:46+0000\'\u003e20\\/Mar\\/16 21:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI moved patch to existing closeables. Now I\'m looking into change in DocStreamer and trying to avoid it.  \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15203528_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15203528_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Mar\\/16 21:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-20T21:13:46+0000\'\u003e20\\/Mar\\/16 21:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I moved patch to existing closeables. Now I\'m looking into change in DocStreamer and trying to avoid it.                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15207447\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15207447&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15207447\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15207447_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15207447_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Mar\\/16 22:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-22T22:38:41+0000\'\u003e22\\/Mar\\/16 22:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eattaching a patch which pass existing tests.   now it avoids changes in DocStreamer and SolrQueryRequest. As a detail, subquery results are represents with &lt;result&gt;, but not &lt;arr&gt; \u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e&lt;response&gt;\\n\\n&lt;lst name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"responseHeader\\\"\u003c\\/span\u003e&gt;\\n  &lt;\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"status\\\"\u003c\\/span\u003e&gt;0&lt;\\/\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e&gt;\\n  &lt;\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"QTime\\\"\u003c\\/span\u003e&gt;650&lt;\\/\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e&gt;\\n&lt;\\/lst&gt;\\n&lt;result name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"response\\\"\u003c\\/span\u003e numFound=\u003cspan class=\\\"code-quote\\\"\u003e\\\"1\\\"\u003c\\/span\u003e start=\u003cspan class=\\\"code-quote\\\"\u003e\\\"0\\\"\u003c\\/span\u003e&gt;\\n  &lt;doc&gt;\\n    &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"id\\\"\u003c\\/span\u003e&gt;1&lt;\\/str&gt;\\n    &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"name_s_dv\\\"\u003c\\/span\u003e&gt;john&lt;\\/str&gt;\\n    &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"title_s_dv\\\"\u003c\\/span\u003e&gt;Director&lt;\\/str&gt;\\n    &lt;arr name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"dept_ss_dv\\\"\u003c\\/span\u003e&gt;\\n      &lt;str&gt;Engineering&lt;\\/str&gt;\\n    &lt;\\/arr&gt;\\n    &lt;result name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"depts\\\"\u003c\\/span\u003e numFound=\u003cspan class=\\\"code-quote\\\"\u003e\\\"1\\\"\u003c\\/span\u003e start=\u003cspan class=\\\"code-quote\\\"\u003e\\\"0\\\"\u003c\\/span\u003e&gt;\\n      &lt;doc&gt;\\n        &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text_t\\\"\u003c\\/span\u003e&gt;These guys develop stuff&lt;\\/str&gt;&lt;\\/doc&gt;\\n    &lt;\\/result&gt;&lt;\\/doc&gt;\\n&lt;\\/result&gt;\\n&lt;\\/response&gt;\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eHow do you feel about it? \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15207447_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15207447_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Mar\\/16 22:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-22T22:38:41+0000\'\u003e22\\/Mar\\/16 22:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    attaching a patch which pass existing tests.   now it avoids changes in DocStreamer and SolrQueryRequest. As a detail, subquery results are represents with &lt;result&gt;, but not &lt;arr&gt;  \\n  \\n &lt;response&gt;\\n\\n&lt;lst name= \\\"responseHeader\\\" &gt;\\n  &lt; int  name= \\\"status\\\" &gt;0&lt;\\/ int &gt;\\n  &lt; int  name= \\\"QTime\\\" &gt;650&lt;\\/ int &gt;\\n&lt;\\/lst&gt;\\n&lt;result name= \\\"response\\\"  numFound= \\\"1\\\"  start= \\\"0\\\" &gt;\\n  &lt;doc&gt;\\n    &lt;str name= \\\"id\\\" &gt;1&lt;\\/str&gt;\\n    &lt;str name= \\\"name_s_dv\\\" &gt;john&lt;\\/str&gt;\\n    &lt;str name= \\\"title_s_dv\\\" &gt;Director&lt;\\/str&gt;\\n    &lt;arr name= \\\"dept_ss_dv\\\" &gt;\\n      &lt;str&gt;Engineering&lt;\\/str&gt;\\n    &lt;\\/arr&gt;\\n    &lt;result name= \\\"depts\\\"  numFound= \\\"1\\\"  start= \\\"0\\\" &gt;\\n      &lt;doc&gt;\\n        &lt;str name= \\\"text_t\\\" &gt;These guys develop stuff&lt;\\/str&gt;&lt;\\/doc&gt;\\n    &lt;\\/result&gt;&lt;\\/doc&gt;\\n&lt;\\/result&gt;\\n&lt;\\/response&gt;\\n \\n  \\n\\n How do you feel about it?               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15212464\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15212464&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15212464\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15212464_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15212464_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Mar\\/16 21:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-25T21:49:48+0000\'\u003e25\\/Mar\\/16 21:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cspan class=\\\"nobr\\\"\u003e\u003ca href=\\\"\\/jira\\/secure\\/attachment\\/12802846\\/12802846_SOLR-8208.patch\\\" title=\\\"SOLR-8208.patch attached to SOLR-8208\\\"\u003eSOLR-8208.patch\u003csup\u003e\u003cimg class=\\\"rendericon\\\" src=\\\"\\/jira\\/images\\/icons\\/link_attachment_7.gif\\\" height=\\\"7\\\" width=\\\"7\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/sup\u003e\u003c\\/a\u003e\u003c\\/span\u003e here is how I\'d like to handle parameters substitution.\u003cbr\\/\u003e\\nNote, the patch might in in really early stages (might not even work on may docs, etc). \u003cbr\\/\u003e\\nSubquery still accepts only single value doc fields as a parameter, how do you prefer handle multivalue field, if you do?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15212464_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15212464_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Mar\\/16 21:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-25T21:49:48+0000\'\u003e25\\/Mar\\/16 21:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                      SOLR-8208.patch      here is how I\'d like to handle parameters substitution. \\nNote, the patch might in in really early stages (might not even work on may docs, etc).  \\nSubquery still accepts only single value doc fields as a parameter, how do you prefer handle multivalue field, if you do?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15213183\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15213183&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15213183\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15213183_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15213183_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Mar\\/16 20:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-26T20:14:11+0000\'\u003e26\\/Mar\\/16 20:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI just got an idea how to handle multivalue fields, there should be \u003ctt\u003e[subquery prefix=products mv-delim=,]\u003c\\/tt\u003e thus muliple values are concatenated and can be used as an input for \u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e...&amp;products.q={!terms separator=, v=$products.row.id} \u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eWDYT?  \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15213183_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15213183_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Mar\\/16 20:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-26T20:14:11+0000\'\u003e26\\/Mar\\/16 20:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I just got an idea how to handle multivalue fields, there should be  [subquery prefix=products mv-delim=,]  thus muliple values are concatenated and can be used as an input for  \\n  \\n ...&amp;products.q={!terms separator=, v=$products.row.id}  \\n  \\n WDYT?                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15213216\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15213216&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15213216\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15213216_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15213216_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Mar\\/16 21:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-26T21:54:03+0000\'\u003e26\\/Mar\\/16 21:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003emade some severe improvements \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15213216_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15213216_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Mar\\/16 21:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-03-26T21:54:03+0000\'\u003e26\\/Mar\\/16 21:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    made some severe improvements               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15221362\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15221362&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15221362\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15221362_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15221362_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Apr\\/16 08:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-01T08:27:36+0000\'\u003e01\\/Apr\\/16 08:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eattaching the shuffled tests. \u003cbr\\/\u003e\\nrevealed a design gap - even if doc field isn\'t referred in subquery, because solr eagerly copies params. That\'s a pity.\u003c\\/p\u003e\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eorg.apache.solr.common.SolrException: SubQuery depts cant substitute  multiple values [stored,indexed,toke via parameter \\\"subq1.row.dept_ss_dv\\\" for document SolrDocument{id=stor\\n\\nSubQueryAugmenter$DocParams.get(String) line: 172\\t\\nSubQueryAugmenter$DocParams.getParams(String) line: 139\\t\\nDefaultSolrParams.getParams(String) line: 44\\t\\nMultiMapSolrParams.asMultiMap(SolrParams, boolean) line: 103\\t\\nRequestUtil.processParams(SolrRequestHandler, SolrQueryRequest, SolrParams, SolrParams, SolrParams) line: 104\\t\\nSolrPluginUtils.setDefaults(SolrRequestHandler, SolrQueryRequest, SolrParams, SolrParams, SolrParams) line: 176\\t\\nSearchHandler(RequestHandlerBase).handleRequest(SolrQueryRequest, SolrQueryResponse) line: 152\\t\\nSolrCore.execute(SolrRequestHandler, SolrQueryRequest, SolrQueryResponse) line: 2033\\t\\nSubQueryAugmenter.transform(SolrDocument, int, float) line: 226\\t\\nDocsStreamer.next() line: 146\\t\\n...\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eMultivalue fields substitution should be implemented before it moves further. \u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15221362_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15221362_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Apr\\/16 08:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-01T08:27:36+0000\'\u003e01\\/Apr\\/16 08:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    attaching the shuffled tests.  \\nrevealed a design gap - even if doc field isn\'t referred in subquery, because solr eagerly copies params. That\'s a pity. \\n  \\n org.apache.solr.common.SolrException: SubQuery depts cant substitute  multiple values [stored,indexed,toke via parameter \\\"subq1.row.dept_ss_dv\\\" for document SolrDocument{id=stor\\n\\nSubQueryAugmenter$DocParams.get(String) line: 172\\t\\nSubQueryAugmenter$DocParams.getParams(String) line: 139\\t\\nDefaultSolrParams.getParams(String) line: 44\\t\\nMultiMapSolrParams.asMultiMap(SolrParams, boolean) line: 103\\t\\nRequestUtil.processParams(SolrRequestHandler, SolrQueryRequest, SolrParams, SolrParams, SolrParams) line: 104\\t\\nSolrPluginUtils.setDefaults(SolrRequestHandler, SolrQueryRequest, SolrParams, SolrParams, SolrParams) line: 176\\t\\nSearchHandler(RequestHandlerBase).handleRequest(SolrQueryRequest, SolrQueryResponse) line: 152\\t\\nSolrCore.execute(SolrRequestHandler, SolrQueryRequest, SolrQueryResponse) line: 2033\\t\\nSubQueryAugmenter.transform(SolrDocument, int, float) line: 226\\t\\nDocsStreamer.next() line: 146\\t\\n...\\n \\n  \\n\\n Multivalue fields substitution should be implemented before it moves further.  \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15223049\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15223049&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15223049\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15223049_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15223049_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Apr\\/16 21:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-02T21:32:45+0000\'\u003e02\\/Apr\\/16 21:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eattaching an implementation with multivalue fix and tests.\u003c\\/p\u003e\\n\\n\u003cp\u003eReveal a potential usability usage: Implicit subquery params (doc values) are not logged:\u003c\\/p\u003e\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e params={q=name_s:dave&amp;subq1.rows=6&amp;indent=true&amp;fl=*,depts:[subquery+prefix%3Dsubq1+separator%3D\\\"+\\\"]&amp;rows=3&amp;subq1.indent=true&amp;wt=xml&amp;subq1.fl=text_t&amp;subq1.q={!lucene+df%3Ddept_id_s+v%3D$subq1.row.dept_ss_dv}} hits=3 status=0 QTime=2\\n params={rows=6&amp;indent=true&amp;fl=text_t&amp;q={!lucene+df%3Ddept_id_s+v%3D$subq1.row.dept_ss_dv}} hits=6 status=0 QTime=4\\n params={rows=6&amp;indent=true&amp;fl=text_t&amp;q={!lucene+df%3Ddept_id_s+v%3D$subq1.row.dept_ss_dv}} hits=6 status=0 QTime=7\\n params={rows=6&amp;indent=true&amp;fl=text_t&amp;q={!lucene+df%3Ddept_id_s+v%3D$subq1.row.dept_ss_dv}} hits=6 status=0 QTime=10\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003ethe first line is a main query, and the latter are subqueries. here you see that and actual value of \u003ctt\u003esubq1.row.dept_ss_dv\u003c\\/tt\u003e are not logged, but it might by deadly needful.\u003c\\/p\u003e\\n\\n\u003cp\u003eWhat\'s you prefer tweak params somehow for logging, or \u003ctt\u003eallow debugQuery=true\u003c\\/tt\u003e for subqueries, and inject it into main query debug?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15223049_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15223049_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Apr\\/16 21:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-02T21:32:45+0000\'\u003e02\\/Apr\\/16 21:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    attaching an implementation with multivalue fix and tests. \\n\\n Reveal a potential usability usage: Implicit subquery params (doc values) are not logged: \\n  \\n  params={q=name_s:dave&amp;subq1.rows=6&amp;indent=true&amp;fl=*,depts:[subquery+prefix%3Dsubq1+separator%3D\\\"+\\\"]&amp;rows=3&amp;subq1.indent=true&amp;wt=xml&amp;subq1.fl=text_t&amp;subq1.q={!lucene+df%3Ddept_id_s+v%3D$subq1.row.dept_ss_dv}} hits=3 status=0 QTime=2\\n params={rows=6&amp;indent=true&amp;fl=text_t&amp;q={!lucene+df%3Ddept_id_s+v%3D$subq1.row.dept_ss_dv}} hits=6 status=0 QTime=4\\n params={rows=6&amp;indent=true&amp;fl=text_t&amp;q={!lucene+df%3Ddept_id_s+v%3D$subq1.row.dept_ss_dv}} hits=6 status=0 QTime=7\\n params={rows=6&amp;indent=true&amp;fl=text_t&amp;q={!lucene+df%3Ddept_id_s+v%3D$subq1.row.dept_ss_dv}} hits=6 status=0 QTime=10\\n \\n  \\n the first line is a main query, and the latter are subqueries. here you see that and actual value of  subq1.row.dept_ss_dv  are not logged, but it might by deadly needful. \\n\\n What\'s you prefer tweak params somehow for logging, or  allow debugQuery=true  for subqueries, and inject it into main query debug?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15223511\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15223511&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15223511\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15223511_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15223511_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Apr\\/16 20:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-03T20:48:41+0000\'\u003e03\\/Apr\\/16 20:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Mikhail Khludnev - 03\\/Apr\\/16 20:49\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eit seems like param tracing can be done with \u003ctt\u003elogParamsList\u003c\\/tt\u003e\u003c\\/p\u003e\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e...Request [collection1]  webapp=null path=null params={q=name_s:dave&amp;subq1.rows=6&amp;indent=true&amp;fl=*,depts:[subquery+prefix%3Dsubq1+]&amp;rows=2&amp;subq1.indent=true&amp;subq1.logParamsList=q,fl,rows,subq1.row.dept_ss_dv&amp;wt=xml&amp;subq1.fl=text_t&amp;subq1.q={!terms+f%3Ddept_id_s+v%3D$subq1.row.dept_ss_dv+separator%3D,}} hits=2 status=0 QTime=9979\\n...Request [collection1]  webapp=null path=null params={q={!terms+f%3Ddept_id_s+v%3D$subq1.row.dept_ss_dv+separator%3D,}&amp;subq1.row.dept_ss_dv=Support,Engineering&amp;fl=text_t&amp;rows=6} hits=6 status=0 QTime=60740\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15223511_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15223511_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Apr\\/16 20:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-03T20:48:41+0000\'\u003e03\\/Apr\\/16 20:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Mikhail Khludnev - 03\\/Apr\\/16 20:49\\\"\u003eedited\u003c\\/span\u003e                   it seems like param tracing can be done with  logParamsList  \\n  \\n ...Request [collection1]  webapp=null path=null params={q=name_s:dave&amp;subq1.rows=6&amp;indent=true&amp;fl=*,depts:[subquery+prefix%3Dsubq1+]&amp;rows=2&amp;subq1.indent=true&amp;subq1.logParamsList=q,fl,rows,subq1.row.dept_ss_dv&amp;wt=xml&amp;subq1.fl=text_t&amp;subq1.q={!terms+f%3Ddept_id_s+v%3D$subq1.row.dept_ss_dv+separator%3D,}} hits=2 status=0 QTime=9979\\n...Request [collection1]  webapp=null path=null params={q={!terms+f%3Ddept_id_s+v%3D$subq1.row.dept_ss_dv+separator%3D,}&amp;subq1.row.dept_ss_dv=Support,Engineering&amp;fl=text_t&amp;rows=6} hits=6 status=0 QTime=60740\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15236024\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15236024&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15236024\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15236024_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15236024_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Apr\\/16 21:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-11T21:37:33+0000\'\u003e11\\/Apr\\/16 21:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eattaching a test with logParamsList and json assert\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15236024_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15236024_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Apr\\/16 21:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-11T21:37:33+0000\'\u003e11\\/Apr\\/16 21:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    attaching a test with logParamsList and json assert              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15256001\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15256001&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15256001\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15256001_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15256001_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Apr\\/16 07:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-25T07:24:49+0000\'\u003e25\\/Apr\\/16 07:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAdded cloud test. As expected it doesn\'t pass. Keep going.  \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15256001_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15256001_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Apr\\/16 07:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-25T07:24:49+0000\'\u003e25\\/Apr\\/16 07:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Added cloud test. As expected it doesn\'t pass. Keep going.                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15259027\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15259027&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15259027\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15259027_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15259027_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Apr\\/16 22:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-26T22:03:04+0000\'\u003e26\\/Apr\\/16 22:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMaking subquery call via embedded solr server, I believe it help to handle solr cloud case easier.  \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15259027_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15259027_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Apr\\/16 22:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-26T22:03:04+0000\'\u003e26\\/Apr\\/16 22:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Making subquery call via embedded solr server, I believe it help to handle solr cloud case easier.                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15261458\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15261458&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15261458\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15261458_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15261458_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Apr\\/16 03:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-28T03:00:52+0000\'\u003e28\\/Apr\\/16 03:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMake distrib test pass.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15261458_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15261458_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Apr\\/16 03:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-28T03:00:52+0000\'\u003e28\\/Apr\\/16 03:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Make distrib test pass.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15263016\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15263016&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15263016\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15263016_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15263016_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Apr\\/16 21:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-28T21:15:22+0000\'\u003e28\\/Apr\\/16 21:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\" class=\\\"user-hover\\\" rel=\\\"caomanhdat\\\"\u003eCao Manh Dat\u003c\\/a\u003e, your last patch is awesome!!! \u003cbr\\/\u003e\\nfor the reference, attempt to request cloud collection via EmbeddedSolrServer were too naive:\u003c\\/p\u003e\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eERROR (qtp1310704163-67) [n:127.0.0.1:65356_ c:people s:shard1 r:core_node2 x:people_shard1_replica1] o.a.s.s.HttpSolrCall null:org.apache.solr.common.SolrException: No such core: departments\\n\\tat org.apache.solr.client.solrj.embedded.EmbeddedSolrServer.request(EmbeddedSolrServer.java:149)\\n\\tat org.apache.solr.response.transform.LocalSubQueryAugmenter.transform(SubQueryAugmenterFactory.java:239)\\n\\tat org.apache.solr.response.DocsStreamer.next(DocsStreamer.java:146)\\n\\tat org.apache.solr.response.DocsStreamer.next(DocsStreamer.java:1)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15263016_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15263016_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Apr\\/16 21:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-28T21:15:22+0000\'\u003e28\\/Apr\\/16 21:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Cao Manh Dat , your last patch is awesome!!!  \\nfor the reference, attempt to request cloud collection via EmbeddedSolrServer were too naive: \\n  \\n ERROR (qtp1310704163-67) [n:127.0.0.1:65356_ c:people s:shard1 r:core_node2 x:people_shard1_replica1] o.a.s.s.HttpSolrCall null:org.apache.solr.common.SolrException: No such core: departments\\n\\tat org.apache.solr.client.solrj.embedded.EmbeddedSolrServer.request(EmbeddedSolrServer.java:149)\\n\\tat org.apache.solr.response.transform.LocalSubQueryAugmenter.transform(SubQueryAugmenterFactory.java:239)\\n\\tat org.apache.solr.response.DocsStreamer.next(DocsStreamer.java:146)\\n\\tat org.apache.solr.response.DocsStreamer.next(DocsStreamer.java:1)\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15265301\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15265301&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15265301\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15265301_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15265301_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Apr\\/16 12:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-30T12:40:16+0000\'\u003e30\\/Apr\\/16 12:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cul\u003e\\n\\t\u003cli\u003eremoved call via cloud client, turns out we can request it via EmbeddedServer explicitly specifying \u003ctt\u003ecollection=\u003c\\/tt\u003e, I\'m not sure it\'s better, but it\'s just neat at least (which means better, most times)\u003c\\/li\u003e\\n\\t\u003cli\u003eI introduced thread executor, there are two points behind it: it\'s allows to don\'t restore SolrRequestInfo threadlocal every request, however it\'s necessary to clean it before request, because it\'s inherited; in future it will be used to enrich docs in parallel, but under another ticket;\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eopinions?\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eI reconstruct ResultContext to pass numFound and start for subquery result, it might be redundant but seems reasonable\u003c\\/li\u003e\\n\\t\u003cli\u003eI added empty test method for remaining cases\u003c\\/li\u003e\\n\\t\u003cli\u003eI want to challenge $subq.doc.field  can\'t prefix be removed?\u003c\\/li\u003e\\n\\t\u003cli\u003eit\'s also make sense to show how [subquery] compete with [child] ig order result or so.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15265301_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15265301_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Apr\\/16 12:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-04-30T12:40:16+0000\'\u003e30\\/Apr\\/16 12:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    \\n\\t removed call via cloud client, turns out we can request it via EmbeddedServer explicitly specifying  collection= , I\'m not sure it\'s better, but it\'s just neat at least (which means better, most times) \\n\\t I introduced thread executor, there are two points behind it: it\'s allows to don\'t restore SolrRequestInfo threadlocal every request, however it\'s necessary to clean it before request, because it\'s inherited; in future it will be used to enrich docs in parallel, but under another ticket; \\n \\n\\n\\n opinions? \\n\\n \\n\\t I reconstruct ResultContext to pass numFound and start for subquery result, it might be redundant but seems reasonable \\n\\t I added empty test method for remaining cases \\n\\t I want to challenge $subq.doc.field  can\'t prefix be removed? \\n\\t it\'s also make sense to show how [subquery] compete with [child] ig order result or so. \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15267481\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15267481&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15267481\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15267481_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15267481_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/May\\/16 20:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-02T20:50:05+0000\'\u003e02\\/May\\/16 20:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think it\'s almost ready. I\'ll post the final syntax in the description above. Note fore reviewers. It introduces thread pool executor, but use it for sequential invocations for a while.  Change in MLT is just line move no impact at all.\u003cbr\\/\u003e\\nThe last test I would like to add is just demonstrate how [subquery] can be used instead of [child].\u003cbr\\/\u003e\\nMy plan is to commit it next week. Concerns? \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15267481_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15267481_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/May\\/16 20:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-02T20:50:05+0000\'\u003e02\\/May\\/16 20:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I think it\'s almost ready. I\'ll post the final syntax in the description above. Note fore reviewers. It introduces thread pool executor, but use it for sequential invocations for a while.  Change in MLT is just line move no impact at all. \\nThe last test I would like to add is just demonstrate how [subquery] can be used instead of [child]. \\nMy plan is to commit it next week. Concerns?               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15269180\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15269180&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15269180\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dsmiley\\\" id=\\\"commentauthor_15269180_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dsmiley\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dsmiley\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e David Smiley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15269180_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/May\\/16 17:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-03T17:48:56+0000\'\u003e03\\/May\\/16 17:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI looked at it extremely briefly and just want to say you did a nice thorough job of testing.  Hopefully someone will have more time to look more carefully, but I\'m too busy.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dsmiley\\\" id=\\\"commentauthor_15269180_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dsmiley\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dsmiley\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e David Smiley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15269180_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/May\\/16 17:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-03T17:48:56+0000\'\u003e03\\/May\\/16 17:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I looked at it extremely briefly and just want to say you did a nice thorough job of testing.  Hopefully someone will have more time to look more carefully, but I\'m too busy.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15269642\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15269642&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15269642\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15269642_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15269642_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/May\\/16 21:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-03T21:34:12+0000\'\u003e03\\/May\\/16 21:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAppreciate. Take care!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15269642_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15269642_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/May\\/16 21:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-03T21:34:12+0000\'\u003e03\\/May\\/16 21:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Appreciate. Take care!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15270428\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15270428&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15270428\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15270428_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15270428_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/May\\/16 10:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-04T10:01:04+0000\'\u003e04\\/May\\/16 10:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e+1 The last patch sound great! Turn out that SearchHandler distribute the search for us.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15270428_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15270428_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/May\\/16 10:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-04T10:01:04+0000\'\u003e04\\/May\\/16 10:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    +1 The last patch sound great! Turn out that SearchHandler distribute the search for us.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15271411\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15271411&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15271411\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15271411_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15271411_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/May\\/16 20:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-04T20:54:41+0000\'\u003e04\\/May\\/16 20:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ehmm... you might be laughing, but game is over.\u003cbr\\/\u003e\\nThe problem is to call EmbeddedSolrServer from DocTransformer. This call isn\'t possible from thread where SolrRequestInfo is present. So far it\'s not possible to suspend and then resume SolrRequestInfo. Juggling with threads complicates it a lot, however it\'s possible to manage threads after all, but not SolrRequestInfo.\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\" class=\\\"user-hover\\\" rel=\\\"yseeley@gmail.com\\\"\u003eYonik Seeley\u003c\\/a\u003e can you suggest an approach? \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15271411_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15271411_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/May\\/16 20:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-04T20:54:41+0000\'\u003e04\\/May\\/16 20:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    hmm... you might be laughing, but game is over. \\nThe problem is to call EmbeddedSolrServer from DocTransformer. This call isn\'t possible from thread where SolrRequestInfo is present. So far it\'s not possible to suspend and then resume SolrRequestInfo. Juggling with threads complicates it a lot, however it\'s possible to manage threads after all, but not SolrRequestInfo. \\n\\n  Yonik Seeley  can you suggest an approach?               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15271620\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15271620&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15271620\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_15271620_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15271620_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/May\\/16 23:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-04T23:21:20+0000\'\u003e04\\/May\\/16 23:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDid you try something like:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e    SolrRequestInfo orig = SolrRequestInfo.getRequestInfo();\\n    \u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e {\\n      SolrRequestInfo.clearRequestInfo();\\n      \\n      \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ TODO, make whatever call you need\\n\u003c\\/span\u003e    }\\n    \u003cspan class=\\\"code-keyword\\\"\u003efinally\u003c\\/span\u003e {\\n      SolrRequestInfo.setRequestInfo(orig);\\n    }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_15271620_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15271620_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/May\\/16 23:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-04T23:21:20+0000\'\u003e04\\/May\\/16 23:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Did you try something like: \\n\\n  \\n     SolrRequestInfo orig = SolrRequestInfo.getRequestInfo();\\n     try  {\\n      SolrRequestInfo.clearRequestInfo();\\n      \\n       \\/\\/ TODO, make whatever call you need\\n     }\\n     finally  {\\n      SolrRequestInfo.setRequestInfo(orig);\\n    }\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15271821\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15271821&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15271821\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15271821_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15271821_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/May\\/16 03:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-05T03:03:46+0000\'\u003e05\\/May\\/16 03:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Cao Manh Dat - 05\\/May\\/16 03:06\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\" class=\\\"user-hover\\\" rel=\\\"ryantxu\\\"\u003eRyan McKinley\u003c\\/a\u003e I think the above code is quite dangerous because the original SolrRequestInfo can have some close hooks and the call to \u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e SolrRequestInfo.clearRequestInfo()\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003e will close all the hooks.\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\" class=\\\"user-hover\\\" rel=\\\"mkhludnev\\\"\u003eMikhail Khludnev\u003c\\/a\u003e I\'m not laughing at all, i think it is a clever idea to handle swap out\\/swap in SolrRequestInfo (without modify SolrRequestInfo class) . I propose another approach, that change SolrRequestInfo a little bit.\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003estatic\u003c\\/span\u003e void doActionInEmptyRequestInfo(Action action) \u003cspan class=\\\"code-keyword\\\"\u003ethrows\u003c\\/span\u003e IOException {\\n    SolrRequestInfo prev = threadLocal.get();\\n    threadLocal.remove();\\n    \u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e {\\n      action.doAction();\\n      SolrRequestInfo current = threadLocal.get();\\n      \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (current != \u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e) {\\n        log.error(\u003cspan class=\\\"code-quote\\\"\u003e\\\"New SolrRequestInfo was not closed!  req=\\\"\u003c\\/span\u003e + current.req.getOriginalParams().toString());\\n      }\\n      \u003cspan class=\\\"code-keyword\\\"\u003eassert\u003c\\/span\u003e current == \u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e;\\n    } \u003cspan class=\\\"code-keyword\\\"\u003efinally\u003c\\/span\u003e {\\n      threadLocal.set(prev);\\n    }\\n  }\\n\\n  \u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003einterface\u003c\\/span\u003e Action {\\n    void doAction() \u003cspan class=\\\"code-keyword\\\"\u003ethrows\u003c\\/span\u003e IOException;\\n  }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15271821_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15271821_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/May\\/16 03:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-05T03:03:46+0000\'\u003e05\\/May\\/16 03:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Cao Manh Dat - 05\\/May\\/16 03:06\\\"\u003eedited\u003c\\/span\u003e                    Ryan McKinley  I think the above code is quite dangerous because the original SolrRequestInfo can have some close hooks and the call to  \\n  \\n  SolrRequestInfo.clearRequestInfo() \\n  \\n  will close all the hooks. \\n\\n  Mikhail Khludnev  I\'m not laughing at all, i think it is a clever idea to handle swap out\\/swap in SolrRequestInfo (without modify SolrRequestInfo class) . I propose another approach, that change SolrRequestInfo a little bit. \\n\\n  \\n  public   static  void doActionInEmptyRequestInfo(Action action)  throws  IOException {\\n    SolrRequestInfo prev = threadLocal.get();\\n    threadLocal.remove();\\n     try  {\\n      action.doAction();\\n      SolrRequestInfo current = threadLocal.get();\\n       if  (current !=  null ) {\\n        log.error( \\\"New SolrRequestInfo was not closed!  req=\\\"  + current.req.getOriginalParams().toString());\\n      }\\n       assert  current ==  null ;\\n    }  finally  {\\n      threadLocal.set(prev);\\n    }\\n  }\\n\\n   public   interface  Action {\\n    void doAction()  throws  IOException;\\n  }\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15273166\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15273166&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15273166\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15273166_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15273166_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/May\\/16 21:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-05T21:50:18+0000\'\u003e05\\/May\\/16 21:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Mikhail Khludnev - 06\\/May\\/16 07:57\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cul\u003e\\n\\t\u003cli\u003eGood news! \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\" class=\\\"user-hover\\\" rel=\\\"caomanhdat\\\"\u003eCao Manh Dat\u003c\\/a\u003e your approach laid quite well!  For you know sake we have a backdoor to suspend SolrRequestInfo. I wonder if it legal enough?\u003c\\/li\u003e\\n\\t\u003cli\u003ethreads were removed (I\'ll comment about a pain, which those who want to get, can get with it).\u003c\\/li\u003e\\n\\t\u003cli\u003eadded a few tests proving that [subquery] is on par with [child]\u003c\\/li\u003e\\n\\t\u003cli\u003emoved tests in a subpackage\u003c\\/li\u003e\\n\\t\u003cli\u003eone question about code style: the core class (300 LOC) is compiled into more than five classes, doesn\'t it deserve a separate \u003ctt\u003eo.a.s.response.transform.subquery\u003c\\/tt\u003e ?\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15273166_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15273166_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/May\\/16 21:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-05T21:50:18+0000\'\u003e05\\/May\\/16 21:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Mikhail Khludnev - 06\\/May\\/16 07:57\\\"\u003eedited\u003c\\/span\u003e                   \\n\\t Good news!  Cao Manh Dat  your approach laid quite well!  For you know sake we have a backdoor to suspend SolrRequestInfo. I wonder if it legal enough? \\n\\t threads were removed (I\'ll comment about a pain, which those who want to get, can get with it). \\n\\t added a few tests proving that [subquery] is on par with [child] \\n\\t moved tests in a subpackage \\n\\t one question about code style: the core class (300 LOC) is compiled into more than five classes, doesn\'t it deserve a separate  o.a.s.response.transform.subquery  ? \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15273532\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15273532&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15273532\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15273532_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15273532_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/May\\/16 02:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-06T02:14:56+0000\'\u003e06\\/May\\/16 02:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Cao Manh Dat - 06\\/May\\/16 02:15\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eGreat patch! I think \u003ctt\u003edoInSuspension\u003c\\/tt\u003e is good (better than swap in\\/swap out try catch) and we should add \u003ctt\u003edoInSuspension\u003c\\/tt\u003e  to SolrRequestInfo (to prevent anyone who try to do swap in\\/swap out in the future).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"caomanhdat\\\" id=\\\"commentauthor_15273532_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=caomanhdat\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"caomanhdat\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Cao Manh Dat\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15273532_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/May\\/16 02:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-06T02:14:56+0000\'\u003e06\\/May\\/16 02:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Cao Manh Dat - 06\\/May\\/16 02:15\\\"\u003eedited\u003c\\/span\u003e                   Great patch! I think  doInSuspension  is good (better than swap in\\/swap out try catch) and we should add  doInSuspension   to SolrRequestInfo (to prevent anyone who try to do swap in\\/swap out in the future).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15275383\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15275383&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15275383\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15275383_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15275383_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/May\\/16 20:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-07T20:41:21+0000\'\u003e07\\/May\\/16 20:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eadded changes, committing in two days. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15275383_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15275383_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/May\\/16 20:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-07T20:41:21+0000\'\u003e07\\/May\\/16 20:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    added changes, committing in two days.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15276595\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15276595&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15276595\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15276595_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15276595_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/May\\/16 16:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-09T16:42:03+0000\'\u003e09\\/May\\/16 16:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 7571e747c3506ee93d63c9bd3534254944b5caa7 in lucene-solr\'s branch refs\\/heads\\/master from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\" class=\\\"user-hover\\\" rel=\\\"mkhludnev\\\"\u003eMikhail Khludnev\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=7571e74\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=7571e74\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-8208\\\" title=\\\"DocTransformer executes sub-queries\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-8208\\\"\u003e\u003cdel\u003eSOLR-8208\u003c\\/del\u003e\u003c\\/a\u003e: \u003cspan class=\\\"error\\\"\u003e&#91;subquery&#93;\u003c\\/span\u003e document transformer executes separate requests per result document.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15276595_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15276595_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/May\\/16 16:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-09T16:42:03+0000\'\u003e09\\/May\\/16 16:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 7571e747c3506ee93d63c9bd3534254944b5caa7 in lucene-solr\'s branch refs\\/heads\\/master from  Mikhail Khludnev  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=7571e74  ] \\n\\n   SOLR-8208  :  &#91;subquery&#93;  document transformer executes separate requests per result document.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15276649\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15276649&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15276649\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15276649_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15276649_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/May\\/16 17:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-09T17:17:46+0000\'\u003e09\\/May\\/16 17:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 75a84b7d2d0d8f0ed36efad4306e5a938cae3a2a in lucene-solr\'s branch refs\\/heads\\/branch_6x from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\" class=\\\"user-hover\\\" rel=\\\"mkhludnev\\\"\u003eMikhail Khludnev\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=75a84b7\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=75a84b7\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-8208\\\" title=\\\"DocTransformer executes sub-queries\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-8208\\\"\u003e\u003cdel\u003eSOLR-8208\u003c\\/del\u003e\u003c\\/a\u003e: \u003cspan class=\\\"error\\\"\u003e&#91;subquery&#93;\u003c\\/span\u003e document transformer executes separate requests per result document.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15276649_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15276649_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/May\\/16 17:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-09T17:17:46+0000\'\u003e09\\/May\\/16 17:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 75a84b7d2d0d8f0ed36efad4306e5a938cae3a2a in lucene-solr\'s branch refs\\/heads\\/branch_6x from  Mikhail Khludnev  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=75a84b7  ] \\n\\n   SOLR-8208  :  &#91;subquery&#93;  document transformer executes separate requests per result document.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15276833\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15276833&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15276833\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15276833_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15276833_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/May\\/16 19:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-09T19:07:56+0000\'\u003e09\\/May\\/16 19:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ethis commit adds \u003ca href=\\\"http:\\/\\/jenkins.thetaphi.de\\/job\\/Lucene-Solr-6.x-Linux\\/606\\/testReport\\/org.apache.solr.response.transform\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003eTestSubQueryTransformerDistrib\u003c\\/a\u003e which took 1m 34s. Let me know if it\'s not affordable, and I need mark it somehow. It\'s a \u003cdel\u003ecopy-cat\u003c\\/del\u003e twin bro of \u003ca href=\\\"http:\\/\\/jenkins.thetaphi.de\\/job\\/Lucene-Solr-6.x-Linux\\/606\\/testReport\\/org.apache.solr.cloud\\/DistribJoinFromCollectionTest\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003eDistribJoinFromCollectionTest\u003c\\/a\u003e.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15276833_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15276833_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/May\\/16 19:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-09T19:07:56+0000\'\u003e09\\/May\\/16 19:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    this commit adds  TestSubQueryTransformerDistrib  which took 1m 34s. Let me know if it\'s not affordable, and I need mark it somehow. It\'s a  copy-cat  twin bro of  DistribJoinFromCollectionTest .              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15278681\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15278681&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15278681\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15278681_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15278681_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/May\\/16 18:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-10T18:59:00+0000\'\u003e10\\/May\\/16 18:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 184983280e9b47a24a448b1894b05bd97e221011 in lucene-solr\'s branch refs\\/heads\\/branch_6x from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\" class=\\\"user-hover\\\" rel=\\\"mkhludnev\\\"\u003eMikhail Khludnev\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=1849832\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=1849832\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-8208\\\" title=\\\"DocTransformer executes sub-queries\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-8208\\\"\u003e\u003cdel\u003eSOLR-8208\u003c\\/del\u003e\u003c\\/a\u003e: miserable javadoc fixes\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15278681_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15278681_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/May\\/16 18:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-10T18:59:00+0000\'\u003e10\\/May\\/16 18:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 184983280e9b47a24a448b1894b05bd97e221011 in lucene-solr\'s branch refs\\/heads\\/branch_6x from  Mikhail Khludnev  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=1849832  ] \\n\\n   SOLR-8208  : miserable javadoc fixes              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15278685\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15278685&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15278685\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15278685_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15278685_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/May\\/16 19:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-10T19:00:31+0000\'\u003e10\\/May\\/16 19:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 470ba0794ecddd6375db3da521272dde46ed6761 in lucene-solr\'s branch refs\\/heads\\/master from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\" class=\\\"user-hover\\\" rel=\\\"mkhludnev\\\"\u003eMikhail Khludnev\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=470ba07\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=470ba07\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-8208\\\" title=\\\"DocTransformer executes sub-queries\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-8208\\\"\u003e\u003cdel\u003eSOLR-8208\u003c\\/del\u003e\u003c\\/a\u003e: miserable javadoc fixes\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15278685_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15278685_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/May\\/16 19:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-10T19:00:31+0000\'\u003e10\\/May\\/16 19:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 470ba0794ecddd6375db3da521272dde46ed6761 in lucene-solr\'s branch refs\\/heads\\/master from  Mikhail Khludnev  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=470ba07  ] \\n\\n   SOLR-8208  : miserable javadoc fixes              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15278697\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15278697&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15278697\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15278697_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15278697_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/May\\/16 19:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-10T19:13:02+0000\'\u003e10\\/May\\/16 19:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003ch2\u003e\u003ca name=\\\"TLDR\\\"\u003e\u003c\\/a\u003eTLDR\u003c\\/h2\u003e\\n\u003cp\u003eok some notes about an attempt to use separate threads to invoke EmbeddedSolrServer. \u003cbr\\/\u003e\\nThe first obstacle: it doesn\'t fully help to clean SolrRequestInfo. (and the problem is that EmbeddedSolrServer can\'t be invoked from Solr threads where SolrRequestInfo is set). So, even if we introduce thread pool to call EmbeddedSolrServer, SolrRequestInfo.clear() should be called before, because threadpool inherits SolrRequestInfo. Sic.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe real problem comes later: when randomized tests run. EmbeddedSolrServer internals are larded with randomized flipping gears. So, when it requests a randomized context, it\'s obtained from a mapping. But the key of this map is a thread group, and DefaultSolrFactory assigns a thread group from the tread which load the threadpool, but it was a thread pool used to launch the first test in the suite, which usually finished already. That makes randomized context unavailable for tests request EmbeddedSolrServer running later. That\'s a bummer. No way. Don\'t do this ever.  \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15278697_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15278697_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/May\\/16 19:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-10T19:13:02+0000\'\u003e10\\/May\\/16 19:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                      TLDR \\n ok some notes about an attempt to use separate threads to invoke EmbeddedSolrServer.  \\nThe first obstacle: it doesn\'t fully help to clean SolrRequestInfo. (and the problem is that EmbeddedSolrServer can\'t be invoked from Solr threads where SolrRequestInfo is set). So, even if we introduce thread pool to call EmbeddedSolrServer, SolrRequestInfo.clear() should be called before, because threadpool inherits SolrRequestInfo. Sic. \\n\\n The real problem comes later: when randomized tests run. EmbeddedSolrServer internals are larded with randomized flipping gears. So, when it requests a randomized context, it\'s obtained from a mapping. But the key of this map is a thread group, and DefaultSolrFactory assigns a thread group from the tread which load the threadpool, but it was a thread pool used to launch the first test in the suite, which usually finished already. That makes randomized context unavailable for tests request EmbeddedSolrServer running later. That\'s a bummer. No way. Don\'t do this ever.                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15279634\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15279634&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15279634\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dsmiley\\\" id=\\\"commentauthor_15279634_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dsmiley\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dsmiley\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e David Smiley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15279634_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/May\\/16 06:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-11T06:22:25+0000\'\u003e11\\/May\\/16 06:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eok some notes about an attempt to use separate threads to invoke EmbeddedSolrServer. \u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eInteresting.  Nonetheless it seems that we shouldn\'t let our test infrastructure prevent us from what we want to do &#8211; it can be changed.  This is an idealistic statement, maybe it isn\'t sufficiently worth-it, but it depends.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dsmiley\\\" id=\\\"commentauthor_15279634_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dsmiley\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dsmiley\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e David Smiley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15279634_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/May\\/16 06:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-11T06:22:25+0000\'\u003e11\\/May\\/16 06:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     ok some notes about an attempt to use separate threads to invoke EmbeddedSolrServer.   \\n\\n Interesting.  Nonetheless it seems that we shouldn\'t let our test infrastructure prevent us from what we want to do &#8211; it can be changed.  This is an idealistic statement, maybe it isn\'t sufficiently worth-it, but it depends.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15279680\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15279680&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15279680\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15279680_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15279680_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/May\\/16 07:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-11T07:05:48+0000\'\u003e11\\/May\\/16 07:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think that tests\' hurdles can be tricked after all. Probably the more itching problem is the prohibition to call EmbeddedSolrServer from Solr threads. It\'s just not intended to do such recurrent requests.  Let\'s address it in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-9101\\\" title=\\\"introduce SolrRequestInfo.doInSuspension(Callable&lt;T&gt;). make SolrRequestInfo final\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-9101\\\"\u003eSOLR-9101\u003c\\/a\u003e \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15279680_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15279680_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/May\\/16 07:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-11T07:05:48+0000\'\u003e11\\/May\\/16 07:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I think that tests\' hurdles can be tricked after all. Probably the more itching problem is the prohibition to call EmbeddedSolrServer from Solr threads. It\'s just not intended to do such recurrent requests.  Let\'s address it in  SOLR-9101                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15282702\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15282702&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15282702\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_15282702_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15282702_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/May\\/16 13:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-13T13:51:30+0000\'\u003e13\\/May\\/16 13:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Steve Rowe - 13\\/May\\/16 13:54\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s a reproducible failure of TestSubQueryTransformerDistrib on my Jenkins:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eChecking out Revision 9d5b834b09d4ff23e89755e5d1af407a2bd96c16 (refs\\/remotes\\/origin\\/master)\\n[...]\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestSubQueryTransformerDistrib -Dtests.method=test -Dtests.seed=A6B6D43AC01C202D -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=\\/home\\/jenkins\\/lucene-data\\/enwiki.random.lines.txt -Dtests.locale=de-LU -Dtests.timezone=Pacific\\/Tongatapu -Dtests.asserts=true -Dtests.file.encoding=US-ASCII\\n   [junit4] ERROR   55.9s J7 | TestSubQueryTransformerDistrib.test &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException: Error from server at http:\\/\\/127.0.0.1:54181: Cannot create collection departments. Value of maxShardsPerNode is 12, and the number of nodes currently live or live and part of your createNodeSet is 5. This allows a maximum of 60 to be created. Value of numShards is 6 and value of replicationFactor is 12. This requires 72 shards to be created (higher than the allowed number)\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([A6B6D43AC01C202D:2EE2EBE06EE04DD5]:0)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:606)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:259)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:248)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.SolrClient.request(SolrClient.java:1219)\\n   [junit4]    &gt; \\tat org.apache.solr.cloud.AbstractFullDistribZkTestBase.createCollection(AbstractFullDistribZkTestBase.java:1592)\\n   [junit4]    &gt; \\tat org.apache.solr.cloud.AbstractFullDistribZkTestBase.createCollection(AbstractFullDistribZkTestBase.java:1549)\\n   [junit4]    &gt; \\tat org.apache.solr.cloud.AbstractFullDistribZkTestBase.createCollection(AbstractFullDistribZkTestBase.java:1604)\\n   [junit4]    &gt; \\tat org.apache.solr.cloud.AbstractFullDistribZkTestBase.createCollection(AbstractFullDistribZkTestBase.java:1545)\\n   [junit4]    &gt; \\tat org.apache.solr.response.transform.TestSubQueryTransformerDistrib.test(TestSubQueryTransformerDistrib.java:64)\\n   [junit4]    &gt; \\tat org.apache.solr.BaseDistributedSearchTestCase$ShardsRepeatRule$ShardsFixedStatement.callStatement(BaseDistributedSearchTestCase.java:985)\\n   [junit4]    &gt; \\tat org.apache.solr.BaseDistributedSearchTestCase$ShardsRepeatRule$ShardsStatement.evaluate(BaseDistributedSearchTestCase.java:960)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]   2&gt; 743644 INFO  (SUITE-TestSubQueryTransformerDistrib-seed#[A6B6D43AC01C202D]-worker) [    ] o.a.s.SolrTestCaseJ4 ###deleteCore\\n   [junit4]   2&gt; NOTE: leaving temporary files on disk at: \\/var\\/lib\\/jenkins\\/jobs\\/Lucene-Solr-Nightly-master\\/workspace\\/solr\\/build\\/solr-core\\/test\\/J7\\/temp\\/solr.response.transform.TestSubQueryTransformerDistrib_A6B6D43AC01C202D-001\\n   [junit4]   2&gt; May 13, 2016 7:06:27 AM com.carrotsearch.randomizedtesting.ThreadLeakControl checkThreadLeaks\\n   [junit4]   2&gt; WARNING: Will linger awaiting termination of 1 leaked thread(s).\\n   [junit4]   2&gt; NOTE: test params are: codec=Asserting(Lucene62): {}, docValues:{}, maxPointsInLeafNode=772, maxMBSortInHeap=6.297414713628615, sim=RandomSimilarity(queryNorm=true,coord=no): {}, locale=de-LU, timezone=Pacific\\/Tongatapu\\n   [junit4]   2&gt; NOTE: Linux 4.1.0-custom2-amd64 amd64\\/Oracle Corporation 1.8.0_77 (64-bit)\\/cpus=16,threads=1,free=267803120,total=527433728\\n   [junit4]   2&gt; NOTE: All tests run in this JVM: [CoreMergeIndexesAdminHandlerTest, TestIBSimilarityFactory, AnalyticsMergeStrategyTest, SolrIndexSplitterTest, SolrPluginUtilsTest, DocumentBuilderTest, TestQueryTypes, BlockJoinFacetDistribTest, TestReplicationHandlerBackup, BadIndexSchemaTest, DistanceUnitsTest, CleanupOldIndexTest, OverseerRolesTest, DocValuesTest, DistributedFacetPivotSmallAdvancedTest, TestReloadAndDeleteDocs, TestSolrJ, TestPHPSerializedResponseWriter, TlogReplayBufferedWhileIndexingTest, TestSha256AuthenticationProvider, TestFaceting, DeleteStatusTest, TestSubQueryTransformerDistrib]\\n   [junit4] Completed [218\\/597 (3!)] on J7 in 56.17s, 1 test, 1 error &lt;&lt;&lt; FAILURES!\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eand another one from ASFJenkins a few days back \u003ca href=\\\"https:\\/\\/builds.apache.org\\/job\\/Lucene-Solr-NightlyTests-master\\/1011\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/builds.apache.org\\/job\\/Lucene-Solr-NightlyTests-master\\/1011\\/\u003c\\/a\u003e:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eChecking out Revision 470ba0794ecddd6375db3da521272dde46ed6761 (refs\\/remotes\\/origin\\/master)\\n[...]\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestSubQueryTransformerDistrib -Dtests.method=test -Dtests.seed=594D23296C3F97B8 -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=\\/x1\\/jenkins\\/lucene-data\\/enwiki.random.lines.txt -Dtests.locale=es-US -Dtests.timezone=Etc\\/GMT-1 -Dtests.asserts=true -Dtests.file.encoding=US-ASCII\\n   [junit4] ERROR   59.8s J0 | TestSubQueryTransformerDistrib.test &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException: Error from server at http:\\/\\/127.0.0.1:43474\\/ldvl\\/gb: Cannot create collection departments. Value of maxShardsPerNode is 10, and the number of nodes currently live or live and part of your createNodeSet is 5. This allows a maximum of 50 to be created. Value of numShards is 6 and value of replicationFactor is 10. This requires 60 shards to be created (higher than the allowed number)\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([594D23296C3F97B8:D1191CF3C2C3FA40]:0)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:606)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:259)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:248)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.SolrClient.request(SolrClient.java:1219)\\n   [junit4]    &gt; \\tat org.apache.solr.cloud.AbstractFullDistribZkTestBase.createCollection(AbstractFullDistribZkTestBase.java:1592)\\n   [junit4]    &gt; \\tat org.apache.solr.cloud.AbstractFullDistribZkTestBase.createCollection(AbstractFullDistribZkTestBase.java:1549)\\n   [junit4]    &gt; \\tat org.apache.solr.cloud.AbstractFullDistribZkTestBase.createCollection(AbstractFullDistribZkTestBase.java:1604)\\n   [junit4]    &gt; \\tat org.apache.solr.cloud.AbstractFullDistribZkTestBase.createCollection(AbstractFullDistribZkTestBase.java:1545)\\n   [junit4]    &gt; \\tat org.apache.solr.response.transform.TestSubQueryTransformerDistrib.test(TestSubQueryTransformerDistrib.java:64)\\n   [junit4]    &gt; \\tat org.apache.solr.BaseDistributedSearchTestCase$ShardsRepeatRule$ShardsFixedStatement.callStatement(BaseDistributedSearchTestCase.java:985)\\n   [junit4]    &gt; \\tat org.apache.solr.BaseDistributedSearchTestCase$ShardsRepeatRule$ShardsStatement.evaluate(BaseDistributedSearchTestCase.java:960)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]   2&gt; 4199324 INFO  (SUITE-TestSubQueryTransformerDistrib-seed#[594D23296C3F97B8]-worker) [    ] o.a.s.SolrTestCaseJ4 ###deleteCore\\n   [junit4]   2&gt; NOTE: leaving temporary files on disk at: \\/x1\\/jenkins\\/jenkins-slave\\/workspace\\/Lucene-Solr-NightlyTests-master\\/solr\\/build\\/solr-core\\/test\\/J0\\/temp\\/solr.response.transform.TestSubQueryTransformerDistrib_594D23296C3F97B8-001\\n   [junit4]   2&gt; May 11, 2016 5:31:49 AM com.carrotsearch.randomizedtesting.ThreadLeakControl checkThreadLeaks\\n   [junit4]   2&gt; WARNING: Will linger awaiting termination of 1 leaked thread(s).\\n   [junit4]   2&gt; NOTE: test params are: codec=Asserting(Lucene60): {}, docValues:{}, maxPointsInLeafNode=2044, maxMBSortInHeap=7.8998054031288465, sim=ClassicSimilarity, locale=es-US, timezone=Etc\\/GMT-1\\n   [junit4]   2&gt; NOTE: Linux 3.13.0-85-generic amd64\\/Oracle Corporation 1.8.0_74 (64-bit)\\/cpus=4,threads=1,free=275515608,total=532676608\\n   [junit4]   2&gt; NOTE: All tests run in this JVM: [TestExceedMaxTermLength, DistributedSpellCheckComponentTest, TestComponentsName, TestSha256AuthenticationProvider, TestGraphTermsQParserPlugin, AddSchemaFieldsUpdateProcessorFactoryTest, TestFunctionQuery, TestConfigSetImmutable, CursorPagingTest, XsltUpdateRequestHandlerTest, JsonLoaderTest, TestRawResponseWriter, TestPseudoReturnFields, PrimUtilsTest, LeaderElectionIntegrationTest, ParsingFieldUpdateProcessorsTest, TestInitParams, TestIBSimilarityFactory, TestCustomDocTransformer, SegmentsInfoRequestHandlerTest, TestTrackingShardHandlerFactory, PreAnalyzedFieldTest, CloneFieldUpdateProcessorFactoryTest, TestLRUStatsCache, CurrencyFieldOpenExchangeTest, TestLRUCache, TestConfigReload, DistributedQueryComponentOptimizationTest, TestConfigSetsAPIExclusivity, BlockDirectoryTest, JSONWriterTest, TestDistributedSearch, TolerantUpdateProcessorTest, TestLuceneMatchVersion, TestRandomFaceting, HdfsChaosMonkeyNothingIsSafeTest, RequiredFieldsTest, TestLMDirichletSimilarityFactory, TestUseDocValuesAsStored, RulesTest, TestRandomDVFaceting, PeerSyncTest, TestSSLRandomization, TestRangeQuery, TestOrdValues, SmileWriterTest, PathHierarchyTokenizerFactoryTest, LeaderInitiatedRecoveryOnCommitTest, TestSchemaVersionResource, TestCloudBackupRestore, TestCustomSort, SharedFSAutoReplicaFailoverTest, SolrRequestParserTest, SolrCoreTest, AlternateDirectoryTest, StandardRequestHandlerTest, CachingDirectoryFactoryTest, TestShardHandlerFactory, TestPhraseSuggestions, TestReplicationHandler, TestHighlightDedupGrouping, TestSolrQueryParserResource, DistributedQueryElevationComponentTest, CdcrVersionReplicationTest, TestConfig, DistribJoinFromCollectionTest, TestCSVLoader, ConcurrentDeleteAndCreateCollectionTest, SOLR749Test, OverseerTaskQueueTest, OutputWriterTest, TestJoin, AnalyticsQueryTest, ResponseLogComponentTest, TestRTGBase, ForceLeaderTest, TestJsonRequest, TestOverriddenPrefixQueryForCustomFieldType, IndexSchemaTest, DateRangeFieldTest, ActionThrottleTest, TestBinaryField, DeleteStatusTest, BasicZkTest, CdcrReplicationDistributedZkTest, IndexSchemaRuntimeFieldTest, BlockJoinFacetDistribTest, TestBadConfig, PolyFieldTest, TestDynamicFieldCollectionResource, SpatialRPTFieldTypeTest, CollectionTooManyReplicasTest, TestStressLucene, TestDistribDocBasedVersion, TestMergePolicyConfig, CoreMergeIndexesAdminHandlerTest, DistributedFacetPivotLargeTest, SSLMigrationTest, SaslZkACLProviderTest, ShardSplitTest, TestRequestForwarding, TestRequestStatusCollectionAPI, TestTolerantUpdateProcessorCloud, TlogReplayBufferedWhileIndexingTest, HdfsTlogReplayBufferedWhileIndexingTest, TestRestoreCore, DistributedDebugComponentTest, DistributedFacetPivotSmallTest, DistributedSuggestComponentTest, FacetPivotSmallTest, SpatialHeatmapFacetsTest, TestExpandComponent, WrapperMergePolicyFactoryTest, TestIntervalFaceting, TestGraphMLResponseWriter, TestSortingResponseWriter, TestChildDocTransformer, TestSubQueryTransformerDistrib]\\n   [junit4] Completed [549\\/597 (8!)] on J0 in 60.44s, 1 test, 1 error &lt;&lt;&lt; FAILURES!\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_15282702_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15282702_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/May\\/16 13:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-13T13:51:30+0000\'\u003e13\\/May\\/16 13:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Steve Rowe - 13\\/May\\/16 13:54\\\"\u003eedited\u003c\\/span\u003e                   Here\'s a reproducible failure of TestSubQueryTransformerDistrib on my Jenkins: \\n\\n  \\n Checking out Revision 9d5b834b09d4ff23e89755e5d1af407a2bd96c16 (refs\\/remotes\\/origin\\/master)\\n[...]\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestSubQueryTransformerDistrib -Dtests.method=test -Dtests.seed=A6B6D43AC01C202D -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=\\/home\\/jenkins\\/lucene-data\\/enwiki.random.lines.txt -Dtests.locale=de-LU -Dtests.timezone=Pacific\\/Tongatapu -Dtests.asserts=true -Dtests.file.encoding=US-ASCII\\n   [junit4] ERROR   55.9s J7 | TestSubQueryTransformerDistrib.test &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException: Error from server at http:\\/\\/127.0.0.1:54181: Cannot create collection departments. Value of maxShardsPerNode is 12, and the number of nodes currently live or live and part of your createNodeSet is 5. This allows a maximum of 60 to be created. Value of numShards is 6 and value of replicationFactor is 12. This requires 72 shards to be created (higher than the allowed number)\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([A6B6D43AC01C202D:2EE2EBE06EE04DD5]:0)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:606)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:259)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:248)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.SolrClient.request(SolrClient.java:1219)\\n   [junit4]    &gt; \\tat org.apache.solr.cloud.AbstractFullDistribZkTestBase.createCollection(AbstractFullDistribZkTestBase.java:1592)\\n   [junit4]    &gt; \\tat org.apache.solr.cloud.AbstractFullDistribZkTestBase.createCollection(AbstractFullDistribZkTestBase.java:1549)\\n   [junit4]    &gt; \\tat org.apache.solr.cloud.AbstractFullDistribZkTestBase.createCollection(AbstractFullDistribZkTestBase.java:1604)\\n   [junit4]    &gt; \\tat org.apache.solr.cloud.AbstractFullDistribZkTestBase.createCollection(AbstractFullDistribZkTestBase.java:1545)\\n   [junit4]    &gt; \\tat org.apache.solr.response.transform.TestSubQueryTransformerDistrib.test(TestSubQueryTransformerDistrib.java:64)\\n   [junit4]    &gt; \\tat org.apache.solr.BaseDistributedSearchTestCase$ShardsRepeatRule$ShardsFixedStatement.callStatement(BaseDistributedSearchTestCase.java:985)\\n   [junit4]    &gt; \\tat org.apache.solr.BaseDistributedSearchTestCase$ShardsRepeatRule$ShardsStatement.evaluate(BaseDistributedSearchTestCase.java:960)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]   2&gt; 743644 INFO  (SUITE-TestSubQueryTransformerDistrib-seed#[A6B6D43AC01C202D]-worker) [    ] o.a.s.SolrTestCaseJ4 ###deleteCore\\n   [junit4]   2&gt; NOTE: leaving temporary files on disk at: \\/var\\/lib\\/jenkins\\/jobs\\/Lucene-Solr-Nightly-master\\/workspace\\/solr\\/build\\/solr-core\\/test\\/J7\\/temp\\/solr.response.transform.TestSubQueryTransformerDistrib_A6B6D43AC01C202D-001\\n   [junit4]   2&gt; May 13, 2016 7:06:27 AM com.carrotsearch.randomizedtesting.ThreadLeakControl checkThreadLeaks\\n   [junit4]   2&gt; WARNING: Will linger awaiting termination of 1 leaked thread(s).\\n   [junit4]   2&gt; NOTE: test params are: codec=Asserting(Lucene62): {}, docValues:{}, maxPointsInLeafNode=772, maxMBSortInHeap=6.297414713628615, sim=RandomSimilarity(queryNorm=true,coord=no): {}, locale=de-LU, timezone=Pacific\\/Tongatapu\\n   [junit4]   2&gt; NOTE: Linux 4.1.0-custom2-amd64 amd64\\/Oracle Corporation 1.8.0_77 (64-bit)\\/cpus=16,threads=1,free=267803120,total=527433728\\n   [junit4]   2&gt; NOTE: All tests run in this JVM: [CoreMergeIndexesAdminHandlerTest, TestIBSimilarityFactory, AnalyticsMergeStrategyTest, SolrIndexSplitterTest, SolrPluginUtilsTest, DocumentBuilderTest, TestQueryTypes, BlockJoinFacetDistribTest, TestReplicationHandlerBackup, BadIndexSchemaTest, DistanceUnitsTest, CleanupOldIndexTest, OverseerRolesTest, DocValuesTest, DistributedFacetPivotSmallAdvancedTest, TestReloadAndDeleteDocs, TestSolrJ, TestPHPSerializedResponseWriter, TlogReplayBufferedWhileIndexingTest, TestSha256AuthenticationProvider, TestFaceting, DeleteStatusTest, TestSubQueryTransformerDistrib]\\n   [junit4] Completed [218\\/597 (3!)] on J7 in 56.17s, 1 test, 1 error &lt;&lt;&lt; FAILURES!\\n \\n  \\n\\n and another one from ASFJenkins a few days back  https:\\/\\/builds.apache.org\\/job\\/Lucene-Solr-NightlyTests-master\\/1011\\/ : \\n\\n  \\n Checking out Revision 470ba0794ecddd6375db3da521272dde46ed6761 (refs\\/remotes\\/origin\\/master)\\n[...]\\n   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestSubQueryTransformerDistrib -Dtests.method=test -Dtests.seed=594D23296C3F97B8 -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=\\/x1\\/jenkins\\/lucene-data\\/enwiki.random.lines.txt -Dtests.locale=es-US -Dtests.timezone=Etc\\/GMT-1 -Dtests.asserts=true -Dtests.file.encoding=US-ASCII\\n   [junit4] ERROR   59.8s J0 | TestSubQueryTransformerDistrib.test &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException: Error from server at http:\\/\\/127.0.0.1:43474\\/ldvl\\/gb: Cannot create collection departments. Value of maxShardsPerNode is 10, and the number of nodes currently live or live and part of your createNodeSet is 5. This allows a maximum of 50 to be created. Value of numShards is 6 and value of replicationFactor is 10. This requires 60 shards to be created (higher than the allowed number)\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([594D23296C3F97B8:D1191CF3C2C3FA40]:0)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:606)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:259)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:248)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.SolrClient.request(SolrClient.java:1219)\\n   [junit4]    &gt; \\tat org.apache.solr.cloud.AbstractFullDistribZkTestBase.createCollection(AbstractFullDistribZkTestBase.java:1592)\\n   [junit4]    &gt; \\tat org.apache.solr.cloud.AbstractFullDistribZkTestBase.createCollection(AbstractFullDistribZkTestBase.java:1549)\\n   [junit4]    &gt; \\tat org.apache.solr.cloud.AbstractFullDistribZkTestBase.createCollection(AbstractFullDistribZkTestBase.java:1604)\\n   [junit4]    &gt; \\tat org.apache.solr.cloud.AbstractFullDistribZkTestBase.createCollection(AbstractFullDistribZkTestBase.java:1545)\\n   [junit4]    &gt; \\tat org.apache.solr.response.transform.TestSubQueryTransformerDistrib.test(TestSubQueryTransformerDistrib.java:64)\\n   [junit4]    &gt; \\tat org.apache.solr.BaseDistributedSearchTestCase$ShardsRepeatRule$ShardsFixedStatement.callStatement(BaseDistributedSearchTestCase.java:985)\\n   [junit4]    &gt; \\tat org.apache.solr.BaseDistributedSearchTestCase$ShardsRepeatRule$ShardsStatement.evaluate(BaseDistributedSearchTestCase.java:960)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]   2&gt; 4199324 INFO  (SUITE-TestSubQueryTransformerDistrib-seed#[594D23296C3F97B8]-worker) [    ] o.a.s.SolrTestCaseJ4 ###deleteCore\\n   [junit4]   2&gt; NOTE: leaving temporary files on disk at: \\/x1\\/jenkins\\/jenkins-slave\\/workspace\\/Lucene-Solr-NightlyTests-master\\/solr\\/build\\/solr-core\\/test\\/J0\\/temp\\/solr.response.transform.TestSubQueryTransformerDistrib_594D23296C3F97B8-001\\n   [junit4]   2&gt; May 11, 2016 5:31:49 AM com.carrotsearch.randomizedtesting.ThreadLeakControl checkThreadLeaks\\n   [junit4]   2&gt; WARNING: Will linger awaiting termination of 1 leaked thread(s).\\n   [junit4]   2&gt; NOTE: test params are: codec=Asserting(Lucene60): {}, docValues:{}, maxPointsInLeafNode=2044, maxMBSortInHeap=7.8998054031288465, sim=ClassicSimilarity, locale=es-US, timezone=Etc\\/GMT-1\\n   [junit4]   2&gt; NOTE: Linux 3.13.0-85-generic amd64\\/Oracle Corporation 1.8.0_74 (64-bit)\\/cpus=4,threads=1,free=275515608,total=532676608\\n   [junit4]   2&gt; NOTE: All tests run in this JVM: [TestExceedMaxTermLength, DistributedSpellCheckComponentTest, TestComponentsName, TestSha256AuthenticationProvider, TestGraphTermsQParserPlugin, AddSchemaFieldsUpdateProcessorFactoryTest, TestFunctionQuery, TestConfigSetImmutable, CursorPagingTest, XsltUpdateRequestHandlerTest, JsonLoaderTest, TestRawResponseWriter, TestPseudoReturnFields, PrimUtilsTest, LeaderElectionIntegrationTest, ParsingFieldUpdateProcessorsTest, TestInitParams, TestIBSimilarityFactory, TestCustomDocTransformer, SegmentsInfoRequestHandlerTest, TestTrackingShardHandlerFactory, PreAnalyzedFieldTest, CloneFieldUpdateProcessorFactoryTest, TestLRUStatsCache, CurrencyFieldOpenExchangeTest, TestLRUCache, TestConfigReload, DistributedQueryComponentOptimizationTest, TestConfigSetsAPIExclusivity, BlockDirectoryTest, JSONWriterTest, TestDistributedSearch, TolerantUpdateProcessorTest, TestLuceneMatchVersion, TestRandomFaceting, HdfsChaosMonkeyNothingIsSafeTest, RequiredFieldsTest, TestLMDirichletSimilarityFactory, TestUseDocValuesAsStored, RulesTest, TestRandomDVFaceting, PeerSyncTest, TestSSLRandomization, TestRangeQuery, TestOrdValues, SmileWriterTest, PathHierarchyTokenizerFactoryTest, LeaderInitiatedRecoveryOnCommitTest, TestSchemaVersionResource, TestCloudBackupRestore, TestCustomSort, SharedFSAutoReplicaFailoverTest, SolrRequestParserTest, SolrCoreTest, AlternateDirectoryTest, StandardRequestHandlerTest, CachingDirectoryFactoryTest, TestShardHandlerFactory, TestPhraseSuggestions, TestReplicationHandler, TestHighlightDedupGrouping, TestSolrQueryParserResource, DistributedQueryElevationComponentTest, CdcrVersionReplicationTest, TestConfig, DistribJoinFromCollectionTest, TestCSVLoader, ConcurrentDeleteAndCreateCollectionTest, SOLR749Test, OverseerTaskQueueTest, OutputWriterTest, TestJoin, AnalyticsQueryTest, ResponseLogComponentTest, TestRTGBase, ForceLeaderTest, TestJsonRequest, TestOverriddenPrefixQueryForCustomFieldType, IndexSchemaTest, DateRangeFieldTest, ActionThrottleTest, TestBinaryField, DeleteStatusTest, BasicZkTest, CdcrReplicationDistributedZkTest, IndexSchemaRuntimeFieldTest, BlockJoinFacetDistribTest, TestBadConfig, PolyFieldTest, TestDynamicFieldCollectionResource, SpatialRPTFieldTypeTest, CollectionTooManyReplicasTest, TestStressLucene, TestDistribDocBasedVersion, TestMergePolicyConfig, CoreMergeIndexesAdminHandlerTest, DistributedFacetPivotLargeTest, SSLMigrationTest, SaslZkACLProviderTest, ShardSplitTest, TestRequestForwarding, TestRequestStatusCollectionAPI, TestTolerantUpdateProcessorCloud, TlogReplayBufferedWhileIndexingTest, HdfsTlogReplayBufferedWhileIndexingTest, TestRestoreCore, DistributedDebugComponentTest, DistributedFacetPivotSmallTest, DistributedSuggestComponentTest, FacetPivotSmallTest, SpatialHeatmapFacetsTest, TestExpandComponent, WrapperMergePolicyFactoryTest, TestIntervalFaceting, TestGraphMLResponseWriter, TestSortingResponseWriter, TestChildDocTransformer, TestSubQueryTransformerDistrib]\\n   [junit4] Completed [549\\/597 (8!)] on J0 in 60.44s, 1 test, 1 error &lt;&lt;&lt; FAILURES!\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15282824\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15282824&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15282824\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15282824_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15282824_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/May\\/16 15:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-13T15:51:12+0000\'\u003e13\\/May\\/16 15:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI.ll fix it in a few hours. Is there a quick hint, how to ? I remember something about setting numShards.. But appreciate a suggestion.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15282824_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15282824_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/May\\/16 15:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-13T15:51:12+0000\'\u003e13\\/May\\/16 15:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I.ll fix it in a few hours. Is there a quick hint, how to ? I remember something about setting numShards.. But appreciate a suggestion.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15283089\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15283089&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15283089\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15283089_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15283089_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/May\\/16 20:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-13T20:13:52+0000\'\u003e13\\/May\\/16 20:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eseting resonable numbers for \u003ctt\u003ecreateCollection(people, 2, 1, 10);\u003c\\/tt\u003e\u003cbr\\/\u003e\\n\u003cspan class=\\\"nobr\\\"\u003e\u003ca href=\\\"\\/jira\\/secure\\/attachment\\/12803933\\/12803933_SOLR-8208-distrib-test-fix.patch\\\" title=\\\"SOLR-8208-distrib-test-fix.patch attached to SOLR-8208\\\"\u003eSOLR-8208-distrib-test-fix.patch\u003csup\u003e\u003cimg class=\\\"rendericon\\\" src=\\\"\\/jira\\/images\\/icons\\/link_attachment_7.gif\\\" height=\\\"7\\\" width=\\\"7\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/sup\u003e\u003c\\/a\u003e\u003c\\/span\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mkhludnev\\\" id=\\\"commentauthor_15283089_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mkhludnev\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mikhail Khludnev\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15283089_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/May\\/16 20:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-13T20:13:52+0000\'\u003e13\\/May\\/16 20:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    seting resonable numbers for  createCollection(people, 2, 1, 10);  \\n  SOLR-8208-distrib-test-fix.patch                   \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15283100\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15283100&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15283100\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15283100_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15283100_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/May\\/16 20:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-13T20:24:09+0000\'\u003e13\\/May\\/16 20:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 3b0a79a13ee77c867576edcfb82477ee0ea65db6 in lucene-solr\'s branch refs\\/heads\\/master from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\" class=\\\"user-hover\\\" rel=\\\"mkhludnev\\\"\u003eMikhail Khludnev\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=3b0a79a\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=3b0a79a\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-8208\\\" title=\\\"DocTransformer executes sub-queries\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-8208\\\"\u003e\u003cdel\u003eSOLR-8208\u003c\\/del\u003e\u003c\\/a\u003e: fixing TestSubQueryTransformerDistrib by passing reasonable numbers in creatCollection()\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15283100_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15283100_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/May\\/16 20:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-13T20:24:09+0000\'\u003e13\\/May\\/16 20:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 3b0a79a13ee77c867576edcfb82477ee0ea65db6 in lucene-solr\'s branch refs\\/heads\\/master from  Mikhail Khludnev  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=3b0a79a  ] \\n\\n   SOLR-8208  : fixing TestSubQueryTransformerDistrib by passing reasonable numbers in creatCollection()              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15283124\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-8208?focusedCommentId=15283124&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15283124\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15283124_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15283124_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/May\\/16 20:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-13T20:42:19+0000\'\u003e13\\/May\\/16 20:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit e94ffde44e654b9b68a7d3a9d37db3fb0f66ba20 in lucene-solr\'s branch refs\\/heads\\/branch_6x from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=mkhludnev\\\" class=\\\"user-hover\\\" rel=\\\"mkhludnev\\\"\u003eMikhail Khludnev\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=e94ffde\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=e94ffde\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-8208\\\" title=\\\"DocTransformer executes sub-queries\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-8208\\\"\u003e\u003cdel\u003eSOLR-8208\u003c\\/del\u003e\u003c\\/a\u003e: fixing TestSubQueryTransformerDistrib by passing reasonable numbers in creatCollection()\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15283124_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15283124_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/May\\/16 20:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-13T20:42:19+0000\'\u003e13\\/May\\/16 20:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit e94ffde44e654b9b68a7d3a9d37db3fb0f66ba20 in lucene-solr\'s branch refs\\/heads\\/branch_6x from  Mikhail Khludnev  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=e94ffde  ] \\n\\n   SOLR-8208  : fixing TestSubQueryTransformerDistrib by passing reasonable numbers in creatCollection()              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310230";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310230&amp;avatarId=22151\\\" alt=\\\"Solr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\"\u003eSolr\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1516225730839"> 
    <input type="hidden" title="jira.request.server.time" value="707"> 
    <input type="hidden" title="jira.request.id" value="1308x8484965x5"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="6"> 
    <input type="hidden" title="db.reads.time.in.ms" value="115"> 
    <input type="hidden" title="db.conns.time.in.ms" value="123"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 1308x8484965x5
	          REQUEST TIMESTAMP : [17/Jan/2018:21:48:50 +0000]
	               REQUEST TIME : 0.7070
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 6

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=38, elapsedTotal=115399962, elapsedMin=500686, elapsedMax=53819023, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=42, elapsedTotal=123545287, elapsedMin=431162, elapsedMax=53923034, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>