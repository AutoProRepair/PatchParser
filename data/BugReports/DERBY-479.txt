<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|1cf461184d4cf69de18f6f97a17bd158a95f6e62|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"9e13e54f1b55c7\"";
WRM._unparsedData["project-id"]="10594";
WRM._unparsedData["project-key"]="\"DERBY\"";
WRM._unparsedData["project-name"]="\"Derby\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="10594";
WRM._unparsedData["projectKey"]="\"DERBY\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="DERBY-479"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[DERBY-479] Passing the return of  a RETURN NULL ON NULL INPUT function to another function call throws linkage error. - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[DERBY-479] Passing the return of  a RETURN NULL ON NULL INPUT function to another function call throws linkage error. - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/DERBY" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-479">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="10594" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Derby'" src="https://issues.apache.org/jira/secure/projectavatar?pid=10594&amp;avatarId=10122"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/DERBY">Derby</a></li>
                 <li><a class="issue-link" data-issue-key="DERBY-479" href="/jira/browse/DERBY-479" id="key-val" rel="12312748">DERBY-479</a></li>
                </ol>
                <h1 id="summary-val">Passing the return of a RETURN NULL ON NULL INPUT function to another function call throws linkage error.</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-479"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/DERBY-479/DERBY-479.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/DERBY-479/DERBY-479.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/DERBY-479/DERBY-479.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/DERBY-479/DERBY-479.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="10.2.1.6 ">10.2.1.6</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.2.1.6" title="10.2.1.6 ">10.2.1.6</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+component+%3D+SQL" title="SQL ">SQL</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12312748-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>Error in ij (RN_RADIANS is a function declared as returns null on null input)</p> 
                  <p>ij&gt; VALUES CAST( CALL_COS(RN_RADIANS(90.0)) AS DECIMAL(3,2));<br> ERROR XBCM1: Java linkage error thrown during load of generated class org.apache.derby.exe.ace5214067x0105x5e41x7a46xffff855452e375.<br> ERROR XJ001: Java exception: '(class: org/apache/derby/exe/ace5214067x0105x5e41x<br> 7a46xffff855452e375, method: e0 signature: ()Ljava/lang/Object<img class="emoticon" src="/jira/images/icons/emoticons/wink.png" height="16" width="16" align="absmiddle" alt="" border="0"> Expecting to find double on stack: java.lang.VerifyError'.</p> 
                  <p>extract from derby.log</p> 
                  <p>2005-07-28 16:23:43.836 GMT Thread<span class="error">[main,5,main]</span> Wrote class org.apache.derby.exe<br> .ace5214067x0105x5e41x7a46xffff855452e375 to file C:_work\svn_pb\trunk\systest\<br> out\functions\ace5214067x0105x5e41x7a46xffff855452e375.class. Please provide sup<br> port with the file and the following exception information: java.lang.VerifyErro<br> r: (class: org/apache/derby/exe/ace5214067x0105x5e41x7a46xffff855452e375, method<br> : e0 signature: ()Ljava/lang/Object<img class="emoticon" src="/jira/images/icons/emoticons/wink.png" height="16" width="16" align="absmiddle" alt="" border="0"> Expecting to find double on stack</p> 
                  <p>I will add a test case to lang/functions.sql commented with this bug number. Test cases<br> that fail will be commented out.</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/DERBY-479?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/DERBY-479?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/DERBY-479?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/DERBY-479?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12322935" data-issue-id="12312748" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12322935/Derby479LinkageErrorReturnNullIfNulldiff021306.txt" draggable="true" data-downloadurl="text/plain:Derby479LinkageErrorReturnNullIfNulldiff021306.txt:https://issues.apache.org/jira/secure/attachment/12322935/Derby479LinkageErrorReturnNullIfNulldiff021306.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12322935/Derby479LinkageErrorReturnNullIfNulldiff021306.txt" title="Latest  14/Feb/06 06:24 - Mamta A. Satoor" draggable="true" data-downloadurl="text/plain:Derby479LinkageErrorReturnNullIfNulldiff021306.txt:https://issues.apache.org/jira/secure/attachment/12322935/Derby479LinkageErrorReturnNullIfNulldiff021306.txt">Derby479LinkageErrorReturnNullIfNulldiff021306.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-02-14T06:24:45.000Z">14/Feb/06 06:24</time>
                   </dd>
                   <dd class="attachment-size">
                    7 kB
                   </dd>
                   <dd class="attachment-author">
                    Mamta A. Satoor
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12322985" data-issue-id="12312748" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12322985/Derby479LinkageErrorReturnNullIfNulldiff021406.txt" draggable="true" data-downloadurl="text/plain:Derby479LinkageErrorReturnNullIfNulldiff021406.txt:https://issues.apache.org/jira/secure/attachment/12322985/Derby479LinkageErrorReturnNullIfNulldiff021406.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12322985/Derby479LinkageErrorReturnNullIfNulldiff021406.txt" title="Latest  15/Feb/06 15:23 - Mamta A. Satoor" draggable="true" data-downloadurl="text/plain:Derby479LinkageErrorReturnNullIfNulldiff021406.txt:https://issues.apache.org/jira/secure/attachment/12322985/Derby479LinkageErrorReturnNullIfNulldiff021406.txt">Derby479LinkageErrorReturnNullIfNulldiff021406.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-02-15T15:23:45.000Z">15/Feb/06 15:23</time>
                   </dd>
                   <dd class="attachment-size">
                    6 kB
                   </dd>
                   <dd class="attachment-author">
                    Mamta A. Satoor
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12323066" data-issue-id="12312748" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12323066/Derby479LinkageErrorReturnNullIfNulldiff021606.txt" draggable="true" data-downloadurl="text/plain:Derby479LinkageErrorReturnNullIfNulldiff021606.txt:https://issues.apache.org/jira/secure/attachment/12323066/Derby479LinkageErrorReturnNullIfNulldiff021606.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12323066/Derby479LinkageErrorReturnNullIfNulldiff021606.txt" title="Latest  17/Feb/06 03:58 - Mamta A. Satoor" draggable="true" data-downloadurl="text/plain:Derby479LinkageErrorReturnNullIfNulldiff021606.txt:https://issues.apache.org/jira/secure/attachment/12323066/Derby479LinkageErrorReturnNullIfNulldiff021606.txt">Derby479LinkageErrorReturnNullIfNulldiff021606.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-02-17T03:58:28.000Z">17/Feb/06 03:58</time>
                   </dd>
                   <dd class="attachment-size">
                    9 kB
                   </dd>
                   <dd class="attachment-author">
                    Mamta A. Satoor
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12323227" data-issue-id="12312748" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12323227/Derby479Version4LinkageErrorReturnNullIfNull022006.txt" draggable="true" data-downloadurl="text/plain:Derby479Version4LinkageErrorReturnNullIfNull022006.txt:https://issues.apache.org/jira/secure/attachment/12323227/Derby479Version4LinkageErrorReturnNullIfNull022006.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12323227/Derby479Version4LinkageErrorReturnNullIfNull022006.txt" title="Latest  21/Feb/06 15:12 - Mamta A. Satoor" draggable="true" data-downloadurl="text/plain:Derby479Version4LinkageErrorReturnNullIfNull022006.txt:https://issues.apache.org/jira/secure/attachment/12323227/Derby479Version4LinkageErrorReturnNullIfNull022006.txt">Derby479Version4LinkageErrorReturnNullIfNull022006.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-02-21T15:12:36.000Z">21/Feb/06 15:12</time>
                   </dd>
                   <dd class="attachment-size">
                    9 kB
                   </dd>
                   <dd class="attachment-author">
                    Mamta A. Satoor
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12323307" data-issue-id="12312748" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12323307/Derby479Version5LinkageErrorReturnNullIfNull022206.txt" draggable="true" data-downloadurl="text/plain:Derby479Version5LinkageErrorReturnNullIfNull022206.txt:https://issues.apache.org/jira/secure/attachment/12323307/Derby479Version5LinkageErrorReturnNullIfNull022206.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12323307/Derby479Version5LinkageErrorReturnNullIfNull022206.txt" title="Latest  23/Feb/06 14:50 - Mamta A. Satoor" draggable="true" data-downloadurl="text/plain:Derby479Version5LinkageErrorReturnNullIfNull022206.txt:https://issues.apache.org/jira/secure/attachment/12323307/Derby479Version5LinkageErrorReturnNullIfNull022206.txt">Derby479Version5LinkageErrorReturnNullIfNull022206.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-02-23T14:50:59.000Z">23/Feb/06 14:50</time>
                   </dd>
                   <dd class="attachment-size">
                    9 kB
                   </dd>
                   <dd class="attachment-author">
                    Mamta A. Satoor
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12323196" data-issue-id="12312748" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12323196/wisconsin.out" draggable="true" data-downloadurl="application/octet-stream:wisconsin.out:https://issues.apache.org/jira/secure/attachment/12323196/wisconsin.out"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12323196/wisconsin.out" title="Latest  21/Feb/06 01:54 - Mamta A. Satoor" draggable="true" data-downloadurl="application/octet-stream:wisconsin.out:https://issues.apache.org/jira/secure/attachment/12323196/wisconsin.out">wisconsin.out</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-02-21T01:54:46.000Z">21/Feb/06 01:54</time>
                   </dd>
                   <dd class="attachment-size">
                    1.47 MB
                   </dd>
                   <dd class="attachment-author">
                    Mamta A. Satoor
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12323197" data-issue-id="12312748" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12323197/wisconsinAfterRemovingNullChk.out" draggable="true" data-downloadurl="application/octet-stream:wisconsinAfterRemovingNullChk.out:https://issues.apache.org/jira/secure/attachment/12323197/wisconsinAfterRemovingNullChk.out"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12323197/wisconsinAfterRemovingNullChk.out" title="Latest  21/Feb/06 01:54 - Mamta A. Satoor" draggable="true" data-downloadurl="application/octet-stream:wisconsinAfterRemovingNullChk.out:https://issues.apache.org/jira/secure/attachment/12323197/wisconsinAfterRemovingNullChk.out">wisconsinAfterRemovingNullChk.out</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-02-21T01:54:46.000Z">21/Feb/06 01:54</time>
                   </dd>
                   <dd class="attachment-size">
                    1.47 MB
                   </dd>
                   <dd class="attachment-author">
                    Mamta A. Satoor
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is blocked by">
                   is blocked by
                  </dt> 
                  <dd id="internal-12442110_10032"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-4459: Verification error at execute-time when an outer function which takes a primitive arg is wrapped around an inner function which returns the corresponding Java wrapper object"> <a href="/jira/browse/DERBY-4459" data-issue-key="DERBY-4459" class="issue-link link-title resolution">DERBY-4459</a> <span class="link-summary">Verification error at execute-time when an outer function which takes a primitive arg is wrapped around an inner function which returns the corresponding Java wrapper object</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="relates to">
                   relates to
                  </dt> 
                  <dd id="internal-12329346_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-1030: In some situations a RETURNS NULL ON NULL function is called when one ot its parameters is NULL"> <a href="/jira/browse/DERBY-1030" data-issue-key="DERBY-1030" class="issue-link link-title resolution">DERBY-1030</a> <span class="link-summary">In some situations a RETURNS NULL ON NULL function is called when one ot its parameters is NULL</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_mamtas" rel="mamtas" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Mamta A. Satoor&quot;,&quot;emailAddress&quot;:&quot;msatoor@gmail.com&quot;,&quot;username&quot;:&quot;mamtas&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="mamtas"></span></span> Mamta A. Satoor </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_djd" rel="djd" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Daniel John Debrunner&quot;,&quot;emailAddress&quot;:&quot;djd@apache.org&quot;,&quot;username&quot;:&quot;djd&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="djd"></span></span> Daniel John Debrunner </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">0</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="29/Jul/05 01:35"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2005-07-29T01:35:12+0000">29/Jul/05 01:35</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="01/Dec/09 18:10"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2009-12-01T18:10:45+0000">01/Dec/09 18:10</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="07/Mar/06 12:45"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2006-03-07T12:45:25+0000">07/Mar/06 12:45</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-479?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-479?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-479?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-479?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-479?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-479?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-479?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-479?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/DERBY-479?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-479?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-479?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/DERBY-479?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12365538\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-479?focusedCommentId=12365538&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12365538\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12365538_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12365538_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Feb\\/06 19:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-08T19:15:44+0000\'\u003e08\\/Feb\\/06 19:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI spent some time on this bug and was able to reproduce it without casting and multiple functions. The following simpler test case will run into similar linkage error as the one reported in the bug\u003cbr\\/\u003e\\nCREATE FUNCTION RN_abs(A int) RETURNS int\u003cbr\\/\u003e\\nEXTERNAL NAME \'java.lang.Math.abs(int)\'\u003cbr\\/\u003e\\nRETURNS NULL ON NULL INPUT\u003cbr\\/\u003e\\nLANGUAGE JAVA PARAMETER STYLE JAVA;\u003cbr\\/\u003e\\nVALUES ( RN_abS(RN_abs(90)));\u003c\\/p\u003e\\n\\n\u003cp\u003eThe function is defined such that if the argument to it is null, it should simply return null w\\/o invoking the function. But, in order to return null, the function\'s return type can\'t be primitive (it is int in this example). To get around this, the generator generates the output of the RN_abs function as java.lang.Integer. But since in the given example, (RN_abs(90)) is input to another function which is expecting to get a primitive data type of int, and not java.lang.Integer, Derby raises an error for type mismatch because (RN_abs(90)) is going to return java.lang.Integer and not int. \u003c\\/p\u003e\\n\\n\u003cp\u003eI will continue to look into this, but does this explanation trigger a thought process in anyone\'s mind? \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12365538_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12365538_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Feb\\/06 19:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-08T19:15:44+0000\'\u003e08\\/Feb\\/06 19:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I spent some time on this bug and was able to reproduce it without casting and multiple functions. The following simpler test case will run into similar linkage error as the one reported in the bug \\nCREATE FUNCTION RN_abs(A int) RETURNS int \\nEXTERNAL NAME \'java.lang.Math.abs(int)\' \\nRETURNS NULL ON NULL INPUT \\nLANGUAGE JAVA PARAMETER STYLE JAVA; \\nVALUES ( RN_abS(RN_abs(90))); \\n\\n The function is defined such that if the argument to it is null, it should simply return null w\\/o invoking the function. But, in order to return null, the function\'s return type can\'t be primitive (it is int in this example). To get around this, the generator generates the output of the RN_abs function as java.lang.Integer. But since in the given example, (RN_abs(90)) is input to another function which is expecting to get a primitive data type of int, and not java.lang.Integer, Derby raises an error for type mismatch because (RN_abs(90)) is going to return java.lang.Integer and not int.  \\n\\n I will continue to look into this, but does this explanation trigger a thought process in anyone\'s mind?               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12365609\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-479?focusedCommentId=12365609&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12365609\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12365609_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12365609_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Feb\\/06 03:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-09T03:25:25+0000\'\u003e09\\/Feb\\/06 03:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIt helps in these situations to be clear about SQL function vs. Java method. For example the the first sentence in the last comment should be:\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; The function is defined such that if the argument to it is null, it should simply return null w\\/o invoking the method.\u003c\\/p\u003e\\n\\n\u003cp\u003eThen this leads to the next sentence saying:\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; But, in order to return null, the method\'s return type can\'t be primitive\u003c\\/p\u003e\\n\\n\u003cp\u003eThis is wrong, if it relates to the first sentence, if the method is never being called when the input is SQL NULL, then it doesn\'t matter\u003cbr\\/\u003e\\nwhat the return type of the method is (since the method is never called).  \u003c\\/p\u003e\\n\\n\u003cp\u003eIt is correct however if the method needs to return a NULL value when the input parameters are not NULL, or the SQL function\u003cbr\\/\u003e\\nis declared as CALLED ON  NULL INPUT. then the Java method does need to have a return type of  java.lang.Integer.\u003c\\/p\u003e\\n\\n\u003cp\u003eOne thought is related to the handling of converting types between the SQL domain and the Java domain. The nodes pushed for such\u003cbr\\/\u003e\\nan expression are something like:\u003c\\/p\u003e\\n\\n\u003cp\u003e JavaToSQL( StaticMethodCall(  SQLtoJava ( JavaToSQL ( StaticMethodCall (constant 90) ) ) ) ) \u003c\\/p\u003e\\n\\n\u003cp\u003eThat is any compiled node that results in a Java value is automatically wrapped in a JavaToSQL node that  converts the value\u003cbr\\/\u003e\\nfrom the Java space (a Java object ot primitive) to the SQL space (a DataValueDescriptor). The assumption is the Java value\u003cbr\\/\u003e\\nis most likely returned to the SQL space. If a SQL value needs to be pushed into the Java space the converse node is used.\u003c\\/p\u003e\\n\\n\u003cp\u003eWhen a SQLtoJava  wraps a JavaToSQL node   (or vice versa) the compiler (I think) will just remove these two nodes so that \u003cbr\\/\u003e\\nthere is no performance overhead due to the no-op conversion . I think the logic for this removal was not updated for the RETURNS\u003cbr\\/\u003e\\nNULL ON NULL INPUT case, because this clause means the double conversion is not  no-op.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12365609_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12365609_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Feb\\/06 03:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-09T03:25:25+0000\'\u003e09\\/Feb\\/06 03:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    It helps in these situations to be clear about SQL function vs. Java method. For example the the first sentence in the last comment should be: \\n\\n &gt; The function is defined such that if the argument to it is null, it should simply return null w\\/o invoking the method. \\n\\n Then this leads to the next sentence saying: \\n\\n &gt; But, in order to return null, the method\'s return type can\'t be primitive \\n\\n This is wrong, if it relates to the first sentence, if the method is never being called when the input is SQL NULL, then it doesn\'t matter \\nwhat the return type of the method is (since the method is never called).   \\n\\n It is correct however if the method needs to return a NULL value when the input parameters are not NULL, or the SQL function \\nis declared as CALLED ON  NULL INPUT. then the Java method does need to have a return type of  java.lang.Integer. \\n\\n One thought is related to the handling of converting types between the SQL domain and the Java domain. The nodes pushed for such \\nan expression are something like: \\n\\n  JavaToSQL( StaticMethodCall(  SQLtoJava ( JavaToSQL ( StaticMethodCall (constant 90) ) ) ) )  \\n\\n That is any compiled node that results in a Java value is automatically wrapped in a JavaToSQL node that  converts the value \\nfrom the Java space (a Java object ot primitive) to the SQL space (a DataValueDescriptor). The assumption is the Java value \\nis most likely returned to the SQL space. If a SQL value needs to be pushed into the Java space the converse node is used. \\n\\n When a SQLtoJava  wraps a JavaToSQL node   (or vice versa) the compiler (I think) will just remove these two nodes so that  \\nthere is no performance overhead due to the no-op conversion . I think the logic for this removal was not updated for the RETURNS \\nNULL ON NULL INPUT case, because this clause means the double conversion is not  no-op.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12366243\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-479?focusedCommentId=12366243&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12366243\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12366243_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366243_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Feb\\/06 06:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-14T06:24:45+0000\'\u003e14\\/Feb\\/06 06:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi,\u003c\\/p\u003e\\n\\n\u003cp\u003eI have a patch for this bug. The patch description in brief is as follows.\u003c\\/p\u003e\\n\\n\u003cp\u003eI have taken an example to explain the patch. Consider following sql function.(Notice it is defined with RETURNS NULL ON NULL INPUT)\u003c\\/p\u003e\\n\\n\u003cp\u003eCREATE FUNCTION RN_abs(A int) RETURNS int\u003cbr\\/\u003e\\nEXTERNAL NAME \'java.lang.Math.abs(int)\'\u003cbr\\/\u003e\\nRETURNS NULL ON NULL INPUT\u003cbr\\/\u003e\\nLANGUAGE JAVA PARAMETER STYLE JAVA;\u003cbr\\/\u003e\\nVALUES CAST( RN_abS(RN_abs(90)) AS INTEGER);\u003c\\/p\u003e\\n\\n\u003cp\u003eFirst let\'s start out by a VALUES query that does work fine.\u003cbr\\/\u003e\\nVALUES RN_abs(90)\u003c\\/p\u003e\\n\\n\u003cp\u003eDuring the bind phase of VALUES RN_abs(90), following nodes are created\u003cbr\\/\u003e\\nJavaToSQL ( StaticMethodCall (SQLToJava (NumericConstantNode for constant 90) ) )\u003c\\/p\u003e\\n\\n\u003cp\u003eDuring code generation, StaticMethodCallNode, for each of the parameters, calls generateOneParameter. In this eg, there is only one parameter and the node for that parameter is SQLToJavaValueNode. This node first generates the SQL value by calling generate on NumericConstantNode. NumericConstantNode generates code to get NumberDataValue for constant 90. This is the right type for the SQL domain but since this needs to be passed into Java domain, we need to do some casting. The java domain value would be to get a primitive int from NumberDataValue. To achieve this, SQLToJavaValueNode in it\'s generateJavaValue generates the code to get primitive value from NumberDataValue. In this case, it will be generating code to call getInt() on NumberDataValue so that we have the correct type for the java domain.\u003c\\/p\u003e\\n\\n\u003cp\u003eStaticMethodCallNode after generating each parameter checks if the argument type to SQL function is same\u003cbr\\/\u003e\\nas the parameter type to the Java method. In this case, the SQL argument type is java.lang.Integer and Java method parameter type is int. Because of this, it casts the item on the top of the stack to Java method parameter type. \u003c\\/p\u003e\\n\\n\u003cp\u003eAfter taking care of parameter code generation, StaticMethodCallNode checks if the sql function is defined to return null if any of its arguments are null. This is true for our specific sql function. To take care of this, StaticMethodNode needs to have a return type of Object rather than primitive int type. After generating code to call java.lang.Math.abs, it generates the code to return java.lang.Math.abs\'s return value as java.lang.Integer This is where VALUES ( RN_abS(RN_abs(90))) runs into problem. \u003c\\/p\u003e\\n\\n\u003cp\u003eSo, now let\'s look at the problem sql.\u003cbr\\/\u003e\\nVALUES ( RN_abS(RN_abs(90)));\u003c\\/p\u003e\\n\\n\u003cp\u003eIn the bind phase, following nodes are created for VALUES ( RN_abS(RN_abs(90)))\u003cbr\\/\u003e\\nJavaToSQL ( StaticMethodCall ( StaticMethodCall (SQLToJava (NumericConstantNode for constant 90) ) )  )\u003c\\/p\u003e\\n\\n\u003cp\u003eIn generate phase, SQLToJavaValueNode generates code for SQL domain NumberDataValue first. But since the value needs to be returned to Java domain, it generates code to call getInt on NumberDataValue to get int for the Java domain. The inside StaticMethodCallNode finds that SQL function argument type is not same as Java parameter type and hence it generates code to cast the stack value to Java method parameter type. StaticMethodNode then generates the code to call java.lang.Math.abs and it converts the int type of the Java method return value into java.lang.Integer because the sql function has been defined to return null on null input. In order to be able to return null, the return type can\'t be primitive, it has to be an Object which in this case is java.lang.Integer. So far the code generation is same as for simple VALUES RN_abs(90). The problem happens during code generation for outside StaticMethodCallNode. Outside StaticMethodCallNode is expecting an int type but inside StaticMethodNode returned java.lang.Integer to cover return null on null state definition of the sql function. This type mismatch is what causes the linkage exception. \u003c\\/p\u003e\\n\\n\u003cp\u003eI have resolved this type mismatch for outside sql function call by retrieving int value from java.lang.Integer with the help of the DataValueFactory, as shown below (I have added the code for this in MethodCallNode.generateParameters. The new code has !!! in front of them in following code)\u003cbr\\/\u003e\\n   if (!parameterType.equals(argumentType))\u003cbr\\/\u003e\\n   {\u003cbr\\/\u003e\\n    \\/\\/ since we reached here through method resolution\u003cbr\\/\u003e\\n    \\/\\/ casts are only required for primitive types.\u003cbr\\/\u003e\\n    \\/\\/ In any other case the expression type must be assignable\u003cbr\\/\u003e\\n    \\/\\/ to the parameter type.\u003cbr\\/\u003e\\n    if (classInspector.primitiveType(parameterType)) \u003c\\/p\u003e\\n{\\n!!!     \\/\\/The type on the stack for this parameter will not be primitive if this parameter\\n!!!     \\/\\/is a call to another sql function which is defined to return null on null input.\\n!!!     \\/\\/To take care of such a case, first generate the code to extract primitive type\\n!!!     \\/\\/from the value on the top of the stack. Derby479. eg \\n!!!     \\/\\/CREATE FUNCTION RN_abs(A int) RETURNS int\\n!!!     \\/\\/EXTERNAL NAME \'java.lang.Math.abs(int)\'\\n!!!     \\/\\/RETURNS NULL ON NULL INPUT\\n!!!     \\/\\/LANGUAGE JAVA PARAMETER STYLE JAVA;\\n!!!     \\/\\/VALUES ( RN_abS(RN_abs(90)));\\n!!!     \\/\\/Inside RN_abs is returning a java.lang.Math so that it can return null if the argument\\n!!!     \\/\\/to it is null. But inside RN_abS is expecting primitive type int as input argument.\\n!!!     \\/\\/Following piece of code extract primitive value from the Object value.\\n!!!     TypeId temp = methodParms[param].getJSQLType().getSQLType().getTypeId();\\n!!!     acb.generateDataValue(mb, getTypeCompiler(temp), (LocalField) null);\\n!!!     mb.callMethod(VMOpcode.INVOKEINTERFACE, ClassName.DataValueDescriptor,\\n!!!       getTypeCompiler(temp).getPrimitiveMethodName(), \\n!!!       getTypeCompiler(temp).getCorrespondingPrimitiveTypeName(), 0);\\n     mb.cast(parameterType);\\n    }\\n\u003cp\u003e else {\u003cbr\\/\u003e\\nBecause of these changes to MethodCallNode, mb.cast doesn\'t run into casting exception anymore. I have attached the code changes to the JIRA entry.\u003c\\/p\u003e\\n\\n\u003cp\u003esvn stat\u003cbr\\/\u003e\\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\ActivationClassBuilder.java\u003cbr\\/\u003e\\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\MethodCallNode.java\u003cbr\\/\u003e\\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\CursorNode.java\u003cbr\\/\u003e\\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\SQLToJavaValueNode.java\u003cbr\\/\u003e\\nM      java\\\\testing\\\\org\\\\apache\\\\derbyTesting\\\\functionTests\\\\tests\\\\lang\\\\functions.sql\u003cbr\\/\u003e\\nM      java\\\\testing\\\\org\\\\apache\\\\derbyTesting\\\\functionTests\\\\master\\\\functions.out\u003c\\/p\u003e\\n\\n\u003cp\u003eI ran derbyall on my Windows XP with Sun\'s jdk14 and everything ran fine.\u003c\\/p\u003e\\n\\n\u003cp\u003ePlease send any feedback you might have.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12366243_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366243_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Feb\\/06 06:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-14T06:24:45+0000\'\u003e14\\/Feb\\/06 06:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi, \\n\\n I have a patch for this bug. The patch description in brief is as follows. \\n\\n I have taken an example to explain the patch. Consider following sql function.(Notice it is defined with RETURNS NULL ON NULL INPUT) \\n\\n CREATE FUNCTION RN_abs(A int) RETURNS int \\nEXTERNAL NAME \'java.lang.Math.abs(int)\' \\nRETURNS NULL ON NULL INPUT \\nLANGUAGE JAVA PARAMETER STYLE JAVA; \\nVALUES CAST( RN_abS(RN_abs(90)) AS INTEGER); \\n\\n First let\'s start out by a VALUES query that does work fine. \\nVALUES RN_abs(90) \\n\\n During the bind phase of VALUES RN_abs(90), following nodes are created \\nJavaToSQL ( StaticMethodCall (SQLToJava (NumericConstantNode for constant 90) ) ) \\n\\n During code generation, StaticMethodCallNode, for each of the parameters, calls generateOneParameter. In this eg, there is only one parameter and the node for that parameter is SQLToJavaValueNode. This node first generates the SQL value by calling generate on NumericConstantNode. NumericConstantNode generates code to get NumberDataValue for constant 90. This is the right type for the SQL domain but since this needs to be passed into Java domain, we need to do some casting. The java domain value would be to get a primitive int from NumberDataValue. To achieve this, SQLToJavaValueNode in it\'s generateJavaValue generates the code to get primitive value from NumberDataValue. In this case, it will be generating code to call getInt() on NumberDataValue so that we have the correct type for the java domain. \\n\\n StaticMethodCallNode after generating each parameter checks if the argument type to SQL function is same \\nas the parameter type to the Java method. In this case, the SQL argument type is java.lang.Integer and Java method parameter type is int. Because of this, it casts the item on the top of the stack to Java method parameter type.  \\n\\n After taking care of parameter code generation, StaticMethodCallNode checks if the sql function is defined to return null if any of its arguments are null. This is true for our specific sql function. To take care of this, StaticMethodNode needs to have a return type of Object rather than primitive int type. After generating code to call java.lang.Math.abs, it generates the code to return java.lang.Math.abs\'s return value as java.lang.Integer This is where VALUES ( RN_abS(RN_abs(90))) runs into problem.  \\n\\n So, now let\'s look at the problem sql. \\nVALUES ( RN_abS(RN_abs(90))); \\n\\n In the bind phase, following nodes are created for VALUES ( RN_abS(RN_abs(90))) \\nJavaToSQL ( StaticMethodCall ( StaticMethodCall (SQLToJava (NumericConstantNode for constant 90) ) )  ) \\n\\n In generate phase, SQLToJavaValueNode generates code for SQL domain NumberDataValue first. But since the value needs to be returned to Java domain, it generates code to call getInt on NumberDataValue to get int for the Java domain. The inside StaticMethodCallNode finds that SQL function argument type is not same as Java parameter type and hence it generates code to cast the stack value to Java method parameter type. StaticMethodNode then generates the code to call java.lang.Math.abs and it converts the int type of the Java method return value into java.lang.Integer because the sql function has been defined to return null on null input. In order to be able to return null, the return type can\'t be primitive, it has to be an Object which in this case is java.lang.Integer. So far the code generation is same as for simple VALUES RN_abs(90). The problem happens during code generation for outside StaticMethodCallNode. Outside StaticMethodCallNode is expecting an int type but inside StaticMethodNode returned java.lang.Integer to cover return null on null state definition of the sql function. This type mismatch is what causes the linkage exception.  \\n\\n I have resolved this type mismatch for outside sql function call by retrieving int value from java.lang.Integer with the help of the DataValueFactory, as shown below (I have added the code for this in MethodCallNode.generateParameters. The new code has !!! in front of them in following code) \\n   if (!parameterType.equals(argumentType)) \\n   { \\n    \\/\\/ since we reached here through method resolution \\n    \\/\\/ casts are only required for primitive types. \\n    \\/\\/ In any other case the expression type must be assignable \\n    \\/\\/ to the parameter type. \\n    if (classInspector.primitiveType(parameterType))  \\n{\\n!!!     \\/\\/The type on the stack for this parameter will not be primitive if this parameter\\n!!!     \\/\\/is a call to another sql function which is defined to return null on null input.\\n!!!     \\/\\/To take care of such a case, first generate the code to extract primitive type\\n!!!     \\/\\/from the value on the top of the stack. Derby479. eg \\n!!!     \\/\\/CREATE FUNCTION RN_abs(A int) RETURNS int\\n!!!     \\/\\/EXTERNAL NAME \'java.lang.Math.abs(int)\'\\n!!!     \\/\\/RETURNS NULL ON NULL INPUT\\n!!!     \\/\\/LANGUAGE JAVA PARAMETER STYLE JAVA;\\n!!!     \\/\\/VALUES ( RN_abS(RN_abs(90)));\\n!!!     \\/\\/Inside RN_abs is returning a java.lang.Math so that it can return null if the argument\\n!!!     \\/\\/to it is null. But inside RN_abS is expecting primitive type int as input argument.\\n!!!     \\/\\/Following piece of code extract primitive value from the Object value.\\n!!!     TypeId temp = methodParms[param].getJSQLType().getSQLType().getTypeId();\\n!!!     acb.generateDataValue(mb, getTypeCompiler(temp), (LocalField) null);\\n!!!     mb.callMethod(VMOpcode.INVOKEINTERFACE, ClassName.DataValueDescriptor,\\n!!!       getTypeCompiler(temp).getPrimitiveMethodName(), \\n!!!       getTypeCompiler(temp).getCorrespondingPrimitiveTypeName(), 0);\\n     mb.cast(parameterType);\\n    }\\n  else { \\nBecause of these changes to MethodCallNode, mb.cast doesn\'t run into casting exception anymore. I have attached the code changes to the JIRA entry. \\n\\n svn stat \\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\ActivationClassBuilder.java \\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\MethodCallNode.java \\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\CursorNode.java \\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\SQLToJavaValueNode.java \\nM      java\\\\testing\\\\org\\\\apache\\\\derbyTesting\\\\functionTests\\\\tests\\\\lang\\\\functions.sql \\nM      java\\\\testing\\\\org\\\\apache\\\\derbyTesting\\\\functionTests\\\\master\\\\functions.out \\n\\n I ran derbyall on my Windows XP with Sun\'s jdk14 and everything ran fine. \\n\\n Please send any feedback you might have.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12366445\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-479?focusedCommentId=12366445&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12366445\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12366445_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366445_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Feb\\/06 15:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-15T15:23:45+0000\'\u003e15\\/Feb\\/06 15:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe reason for this exception lies in the parsing phase where MethodCallNode.addParams(Vector) tries to do some optimization. Rather than putting SQLToJavaValueNode on top of JavaToSQLValueNode, it directly gets the JavaValueNode. The comment for this shortcircuit in MethodCallNode.addParams(Vector) says \\\"In general, we want to avoid converting the same value back and forth between the SQL and Java domains,\\\" But going directly to java domain value causes type mismatch for a SQL function defined with return null on null input and when that SQL function is used as an argument to another SQL function. In order to generate the correct code for such a SQL function, we need access to both SQL domain value and Java domain value. In my patch, I have removed the optimization code from MethodCallNode.addParams(Vector) so that now, we do create a SQLToJavaValueNode on top of JavaToSQLValueNode. This change fixes the problem. I have attached the patch for it to JIRA. Please send any comments you might have after the review.\u003c\\/p\u003e\\n\\n\u003cp\u003eI have run derbyall suite on Windows XP with Sun jdk14 and there were no problems. \u003c\\/p\u003e\\n\\n\u003cp\u003esvn stat\u003cbr\\/\u003e\\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\ActivationClassBuilder.java\u003cbr\\/\u003e\\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\MethodCallNode.java\u003cbr\\/\u003e\\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\CursorNode.java\u003cbr\\/\u003e\\nM      java\\\\testing\\\\org\\\\apache\\\\derbyTesting\\\\functionTests\\\\tests\\\\lang\\\\functions.sql\u003cbr\\/\u003e\\nM      java\\\\testing\\\\org\\\\apache\\\\derbyTesting\\\\functionTests\\\\master\\\\functions.out\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12366445_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366445_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Feb\\/06 15:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-15T15:23:45+0000\'\u003e15\\/Feb\\/06 15:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The reason for this exception lies in the parsing phase where MethodCallNode.addParams(Vector) tries to do some optimization. Rather than putting SQLToJavaValueNode on top of JavaToSQLValueNode, it directly gets the JavaValueNode. The comment for this shortcircuit in MethodCallNode.addParams(Vector) says \\\"In general, we want to avoid converting the same value back and forth between the SQL and Java domains,\\\" But going directly to java domain value causes type mismatch for a SQL function defined with return null on null input and when that SQL function is used as an argument to another SQL function. In order to generate the correct code for such a SQL function, we need access to both SQL domain value and Java domain value. In my patch, I have removed the optimization code from MethodCallNode.addParams(Vector) so that now, we do create a SQLToJavaValueNode on top of JavaToSQLValueNode. This change fixes the problem. I have attached the patch for it to JIRA. Please send any comments you might have after the review. \\n\\n I have run derbyall suite on Windows XP with Sun jdk14 and there were no problems.  \\n\\n svn stat \\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\ActivationClassBuilder.java \\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\MethodCallNode.java \\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\CursorNode.java \\nM      java\\\\testing\\\\org\\\\apache\\\\derbyTesting\\\\functionTests\\\\tests\\\\lang\\\\functions.sql \\nM      java\\\\testing\\\\org\\\\apache\\\\derbyTesting\\\\functionTests\\\\master\\\\functions.out              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12366484\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-479?focusedCommentId=12366484&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12366484\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12366484_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366484_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Feb\\/06 23:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-15T23:16:13+0000\'\u003e15\\/Feb\\/06 23:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe patch seems to always remove the optimization, isn\'t the optimization still useful for functions that are CALLED ON NULL INPUT?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12366484_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366484_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Feb\\/06 23:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-15T23:16:13+0000\'\u003e15\\/Feb\\/06 23:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The patch seems to always remove the optimization, isn\'t the optimization still useful for functions that are CALLED ON NULL INPUT?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12366523\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-479?focusedCommentId=12366523&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12366523\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12366523_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366523_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Feb\\/06 04:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-16T04:06:16+0000\'\u003e16\\/Feb\\/06 04:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIn the parsing phase, we do not yet know whether the sql function is defined as RETURN NULL ON NULL INPUT or as CALLED ON NULL INPUT and hence the optimization for CALLED ON NULL INPUT can\'t done in MethodCallNode.addParams(Vector). But during the bind phase, after all the parameters are bound (StaticMethodCallNode.bindExpression line number 170), we get information about the  underlying sql function from the system tables. At this point (StaticMethodCallNode.bindExpression line number 241), we can find out whether the function is defined as CALLED ON NULL INPUT and possibly can optimize the parameter code for CALLED ON NULL INPUT by going directly to java value rather than going JavaToSQLValueNode and then SLQToJavaValueNode on top of it. Let me know if anyone has any comments on this approach. If not, I will investigate in putting the shortcut code in for CALLED ON NULL INPUT.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12366523_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366523_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Feb\\/06 04:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-16T04:06:16+0000\'\u003e16\\/Feb\\/06 04:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    In the parsing phase, we do not yet know whether the sql function is defined as RETURN NULL ON NULL INPUT or as CALLED ON NULL INPUT and hence the optimization for CALLED ON NULL INPUT can\'t done in MethodCallNode.addParams(Vector). But during the bind phase, after all the parameters are bound (StaticMethodCallNode.bindExpression line number 170), we get information about the  underlying sql function from the system tables. At this point (StaticMethodCallNode.bindExpression line number 241), we can find out whether the function is defined as CALLED ON NULL INPUT and possibly can optimize the parameter code for CALLED ON NULL INPUT by going directly to java value rather than going JavaToSQLValueNode and then SLQToJavaValueNode on top of it. Let me know if anyone has any comments on this approach. If not, I will investigate in putting the shortcut code in for CALLED ON NULL INPUT.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12366661\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-479?focusedCommentId=12366661&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12366661\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12366661_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366661_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Feb\\/06 03:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-17T03:58:28+0000\'\u003e17\\/Feb\\/06 03:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have attached a patch (Derby479LinkageErrorReturnNullIfNulldiff021606.txt) which solves the problem by leaving SQLToJavaValueNode wrapper on top of JavaToSQLValueNode in case of a SQL function defined as RETURN NULL ON NULL INPUT. This is because, such a function requires access to both SQL domain value and Java domain value. This is not required for SQL function defined as CALLED ON NULL INPUT and hence we will continue to do the optimization for such functions by removing the wrapper classes SQLToJavaValueNode\u003cbr\\/\u003e\\nand JavaToSQLValueNode and going directly to java domain value. This happens in StaticMethodCallNode.bindExpression()\u003c\\/p\u003e\\n\\n\u003cp\u003esvn stat\u003cbr\\/\u003e\\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\ActivationClassBuilder.java\u003cbr\\/\u003e\\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\MethodCallNode.java\u003cbr\\/\u003e\\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\CursorNode.java\u003cbr\\/\u003e\\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\StaticMethodCallNode.java\u003cbr\\/\u003e\\nM      java\\\\testing\\\\org\\\\apache\\\\derbyTesting\\\\functionTests\\\\tests\\\\lang\\\\functions.sql\u003cbr\\/\u003e\\nM      java\\\\testing\\\\org\\\\apache\\\\derbyTesting\\\\functionTests\\\\master\\\\functions.out\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12366661_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366661_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Feb\\/06 03:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-17T03:58:28+0000\'\u003e17\\/Feb\\/06 03:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have attached a patch (Derby479LinkageErrorReturnNullIfNulldiff021606.txt) which solves the problem by leaving SQLToJavaValueNode wrapper on top of JavaToSQLValueNode in case of a SQL function defined as RETURN NULL ON NULL INPUT. This is because, such a function requires access to both SQL domain value and Java domain value. This is not required for SQL function defined as CALLED ON NULL INPUT and hence we will continue to do the optimization for such functions by removing the wrapper classes SQLToJavaValueNode \\nand JavaToSQLValueNode and going directly to java domain value. This happens in StaticMethodCallNode.bindExpression() \\n\\n svn stat \\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\ActivationClassBuilder.java \\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\MethodCallNode.java \\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\CursorNode.java \\nM      java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\StaticMethodCallNode.java \\nM      java\\\\testing\\\\org\\\\apache\\\\derbyTesting\\\\functionTests\\\\tests\\\\lang\\\\functions.sql \\nM      java\\\\testing\\\\org\\\\apache\\\\derbyTesting\\\\functionTests\\\\master\\\\functions.out              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12366726\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-479?focusedCommentId=12366726&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12366726\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12366726_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366726_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Feb\\/06 09:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-17T09:35:24+0000\'\u003e17\\/Feb\\/06 09:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for the updated patch:\u003cbr\\/\u003e\\nMinor comments now:\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eYou removed all the comment in MethodCallNode, but it seems half of that comment was still applicable.\u003cbr\\/\u003e\\n    At least the code\'s that left needs some comments.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eI like the separate optimizeDomainValueConversion method\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eoptimizeDomainValueConversion, can you make the comments to this method javadoc comments.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e  \\/**\u003cbr\\/\u003e\\n  *\\/\u003cbr\\/\u003e\\n before the method defintiion. This means they will appear in the javadoc and in eclipse when the cursor is hovering\u003cbr\\/\u003e\\nover a call to this method. In general always use \\/** *\\/ javadoc comments for classes, methods and fields.\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eIn optimizeDomainValueConversion when can methodParms\u003cspan class=\\\"error\\\"\u003e&#91;parm&#93;\u003c\\/span\u003e be null?\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12366726_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366726_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Feb\\/06 09:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-17T09:35:24+0000\'\u003e17\\/Feb\\/06 09:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for the updated patch: \\nMinor comments now: \\n\\n \\n\\t You removed all the comment in MethodCallNode, but it seems half of that comment was still applicable. \\n    At least the code\'s that left needs some comments. \\n \\n\\n\\n \\n\\t I like the separate optimizeDomainValueConversion method \\n \\n\\n\\n \\n\\t optimizeDomainValueConversion, can you make the comments to this method javadoc comments. \\n \\n\\n\\n   \\/** \\n  *\\/ \\n before the method defintiion. This means they will appear in the javadoc and in eclipse when the cursor is hovering \\nover a call to this method. In general always use \\/** *\\/ javadoc comments for classes, methods and fields. \\n\\n \\n\\t In optimizeDomainValueConversion when can methodParms &#91;parm&#93;  be null? \\n \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12366820\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-479?focusedCommentId=12366820&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12366820\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12366820_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366820_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Feb\\/06 02:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-18T02:35:06+0000\'\u003e18\\/Feb\\/06 02:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for reviewing the patch. As for the last comment about methodParms\u003cspan class=\\\"error\\\"\u003e&#91;parm&#93;\u003c\\/span\u003e null check, I did it because there are several such checks in MethodCallNode. Based on that, I assumed that it is required for some edge case. (I have to admit that I did wonder why there was such a check and probably should have asked the list). I have taken that null check out and rerunning the tests right now to make sure nothing breaks. Will post a new patch once the tests have completed successfully.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12366820_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366820_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Feb\\/06 02:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-18T02:35:06+0000\'\u003e18\\/Feb\\/06 02:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for reviewing the patch. As for the last comment about methodParms &#91;parm&#93;  null check, I did it because there are several such checks in MethodCallNode. Based on that, I assumed that it is required for some edge case. (I have to admit that I did wonder why there was such a check and probably should have asked the list). I have taken that null check out and rerunning the tests right now to make sure nothing breaks. Will post a new patch once the tests have completed successfully.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12367052\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-479?focusedCommentId=12367052&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12367052\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12367052_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12367052_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Feb\\/06 01:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-21T01:54:46+0000\'\u003e21\\/Feb\\/06 01:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI reran the tests after removing the \\\"if (methodParms\u003cspan class=\\\"error\\\"\u003e&#91;parm&#93;\u003c\\/span\u003e != null)\\\" from StaticMethodCallNBode.optimizeDomainValueConversion and this caused lang\\/wisconsin.java test to fail. I am not sure exactly why, but if I put the null check back, the wisconsin test doesnot fail. I have attached the original master as wisconsin.out and the failed wisconsin results as wisconsinAfterRemovingNullChk.out to this JIRA entry to shows what the diffs are. Does this ring a bell to anyone? \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12367052_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12367052_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Feb\\/06 01:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-21T01:54:46+0000\'\u003e21\\/Feb\\/06 01:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I reran the tests after removing the \\\"if (methodParms &#91;parm&#93;  != null)\\\" from StaticMethodCallNBode.optimizeDomainValueConversion and this caused lang\\/wisconsin.java test to fail. I am not sure exactly why, but if I put the null check back, the wisconsin test doesnot fail. I have attached the original master as wisconsin.out and the failed wisconsin results as wisconsinAfterRemovingNullChk.out to this JIRA entry to shows what the diffs are. Does this ring a bell to anyone?               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12367149\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-479?focusedCommentId=12367149&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12367149\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12367149_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12367149_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Feb\\/06 15:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-21T15:12:36+0000\'\u003e21\\/Feb\\/06 15:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDan, I have addressed all your comments in this (Derby479Version4LinkageErrorReturnNullIfNull022006.txt) patch. Also, as Myrna mentioned on the derby list, I indeed was running into intermittent failures of wisconsin.java test. Thanks, Myrna. I ran the test many times, with and without the parameter null check, and the test passed majority of the times. It intermittently failed for both with and without the parameter null check. Based on this, I have removed the parameter null check from StaticMethodCallNode.optimizeDomainValueConversion(). If anyone has any comments, please let me know. Otherwise, can a committer please commit this patch?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12367149_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12367149_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Feb\\/06 15:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-21T15:12:36+0000\'\u003e21\\/Feb\\/06 15:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Dan, I have addressed all your comments in this (Derby479Version4LinkageErrorReturnNullIfNull022006.txt) patch. Also, as Myrna mentioned on the derby list, I indeed was running into intermittent failures of wisconsin.java test. Thanks, Myrna. I ran the test many times, with and without the parameter null check, and the test passed majority of the times. It intermittently failed for both with and without the parameter null check. Based on this, I have removed the parameter null check from StaticMethodCallNode.optimizeDomainValueConversion(). If anyone has any comments, please let me know. Otherwise, can a committer please commit this patch?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12367150\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-479?focusedCommentId=12367150&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12367150\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12367150_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12367150_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Feb\\/06 15:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-21T15:18:08+0000\'\u003e21\\/Feb\\/06 15:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe svn stat for Derby479Version4LinkageErrorReturnNullIfNull022006.txt is as follows\u003cbr\\/\u003e\\nM java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\ActivationClassBuilder.java\u003cbr\\/\u003e\\nM java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\MethodCallNode.java\u003cbr\\/\u003e\\nM java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\CursorNode.java\u003cbr\\/\u003e\\nM java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\StaticMethodCallNode.java\u003cbr\\/\u003e\\nM java\\\\testing\\\\org\\\\apache\\\\derbyTesting\\\\functionTests\\\\tests\\\\lang\\\\functions.sql\u003cbr\\/\u003e\\nM java\\\\testing\\\\org\\\\apache\\\\derbyTesting\\\\functionTests\\\\master\\\\functions.out\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12367150_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12367150_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Feb\\/06 15:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-21T15:18:08+0000\'\u003e21\\/Feb\\/06 15:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The svn stat for Derby479Version4LinkageErrorReturnNullIfNull022006.txt is as follows \\nM java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\ActivationClassBuilder.java \\nM java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\MethodCallNode.java \\nM java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\CursorNode.java \\nM java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\StaticMethodCallNode.java \\nM java\\\\testing\\\\org\\\\apache\\\\derbyTesting\\\\functionTests\\\\tests\\\\lang\\\\functions.sql \\nM java\\\\testing\\\\org\\\\apache\\\\derbyTesting\\\\functionTests\\\\master\\\\functions.out              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12367261\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-479?focusedCommentId=12367261&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12367261\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12367261_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12367261_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Feb\\/06 06:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-22T06:12:40+0000\'\u003e22\\/Feb\\/06 06:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe comment you added\\/modified in MethodCallNode is:\u003c\\/p\u003e\\n\\n\u003cp\u003e+\\t\\t\\t** If the parameter is a SQL ValueNode, then put a\u003cbr\\/\u003e\\n+\\t\\t\\t** SQLToJavaValueNode on top of it.\u003c\\/p\u003e\\n\\n\u003cp\u003eI see that as a comment that doesn\'t add any value, from the code I can see that is being done, the real value in a comment is explaining \u003cb\u003ewhy\u003c\\/b\u003e something is done.\u003c\\/p\u003e\\n\\n\u003cp\u003eLooking more at StaticMethodCallNode.optimizeDomainValueConversion() I\'m not convinced it is correct.\u003cbr\\/\u003e\\nThe comments and code seem to say if I have\u003c\\/p\u003e\\n\\n\u003cp\u003e f1(f2())\u003c\\/p\u003e\\n\\n\u003cp\u003ethen if f2() is CALLED ON NULL INPUT then I can take the java value directly from f2() and pass it to f1().\u003c\\/p\u003e\\n\\n\u003cp\u003eBut, what if f1() is RETURNS NULL ON NULL INPUT, don\'t I need the SQL nodes to perform the NULL check?\u003cbr\\/\u003e\\nThus don\'t both methods, the one being called and the one providing the parameter have to be CALLED ON NULL INPUT to take allow the conversion nodes to be dropped?\u003c\\/p\u003e\\n\\n\u003cp\u003eIn the optimizeDomainValueConversion I think you need to check for the node being an instance of StaticMethodCallNode and not MethodCallNode, and I think for routine being null. StaticMethodCallNode and MethodCallNode are stil used for internal SQL that uses Java expressions directly and are not defined SQL routines.\u003c\\/p\u003e\\n\\n\u003cp\u003eAnother aspect that may not be important, but before this change the conversion nodes are always dropped if they are between Java expressions, and that was incorrect in one situation, functions with RETURNS NULL ON NULL INPUT. Now you have changed it so they are only dropped in one situation, both methods being CALLED ON NULL INPUT (assuming a modified patch). Thus the optimization is being lost in situations where it is useful. Maybe this is not an issue because those siutations typically don\'t arise any more, but some internal statements that use Java expressions may be losing this optimization.\u003c\\/p\u003e\\n\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12367261_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12367261_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Feb\\/06 06:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-22T06:12:40+0000\'\u003e22\\/Feb\\/06 06:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The comment you added\\/modified in MethodCallNode is: \\n\\n +\\t\\t\\t** If the parameter is a SQL ValueNode, then put a \\n+\\t\\t\\t** SQLToJavaValueNode on top of it. \\n\\n I see that as a comment that doesn\'t add any value, from the code I can see that is being done, the real value in a comment is explaining  why  something is done. \\n\\n Looking more at StaticMethodCallNode.optimizeDomainValueConversion() I\'m not convinced it is correct. \\nThe comments and code seem to say if I have \\n\\n  f1(f2()) \\n\\n then if f2() is CALLED ON NULL INPUT then I can take the java value directly from f2() and pass it to f1(). \\n\\n But, what if f1() is RETURNS NULL ON NULL INPUT, don\'t I need the SQL nodes to perform the NULL check? \\nThus don\'t both methods, the one being called and the one providing the parameter have to be CALLED ON NULL INPUT to take allow the conversion nodes to be dropped? \\n\\n In the optimizeDomainValueConversion I think you need to check for the node being an instance of StaticMethodCallNode and not MethodCallNode, and I think for routine being null. StaticMethodCallNode and MethodCallNode are stil used for internal SQL that uses Java expressions directly and are not defined SQL routines. \\n\\n Another aspect that may not be important, but before this change the conversion nodes are always dropped if they are between Java expressions, and that was incorrect in one situation, functions with RETURNS NULL ON NULL INPUT. Now you have changed it so they are only dropped in one situation, both methods being CALLED ON NULL INPUT (assuming a modified patch). Thus the optimization is being lost in situations where it is useful. Maybe this is not an issue because those siutations typically don\'t arise any more, but some internal statements that use Java expressions may be losing this optimization. \\n\\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12367315\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-479?focusedCommentId=12367315&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12367315\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12367315_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12367315_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Feb\\/06 16:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-22T16:55:21+0000\'\u003e22\\/Feb\\/06 16:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDan, you are probably right about following \u003cbr\\/\u003e\\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Dan\'s review comments start\u003cbr\\/\u003e\\n\\\"Looking more at StaticMethodCallNode.optimizeDomainValueConversion() I\'m not convinced it is correct. \u003cbr\\/\u003e\\nThe comments and code seem to say if I have \u003c\\/p\u003e\\n\\n\u003cp\u003e f1(f2()) \u003c\\/p\u003e\\n\\n\u003cp\u003ethen if f2() is CALLED ON NULL INPUT then I can take the java value directly from f2() and pass it to f1(). \u003c\\/p\u003e\\n\\n\u003cp\u003eBut, what if f1() is RETURNS NULL ON NULL INPUT, don\'t I need the SQL nodes to perform the NULL check? \u003cbr\\/\u003e\\nThus don\'t both methods, the one being called and the one providing the parameter have to be CALLED ON NULL INPUT to take allow the conversion nodes to be dropped? \\\"\u003cbr\\/\u003e\\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Dan\'s review comments end\u003c\\/p\u003e\\n\\n\u003cp\u003eBut I wanted to write an example for what you have described above to test what exactly happens with my changes.\u003c\\/p\u003e\\n\\n\u003cp\u003eFollowing is the example I came up with and it worked fine with my changes\u003c\\/p\u003e\\n\\n\u003cp\u003eCREATE FUNCTION f2(A varchar(128)) RETURNS varchar(128)\u003cbr\\/\u003e\\nEXTERNAL NAME \'org.apache.derbyTesting.functionTests.util.ProcedureTest.function2AlwaysReturnsNull\'\u003cbr\\/\u003e\\nCALLED ON NULL INPUT\u003cbr\\/\u003e\\nLANGUAGE JAVA PARAMETER STYLE JAVA;\u003c\\/p\u003e\\n\\n\u003cp\u003eCREATE FUNCTION f1(A varchar(128)) RETURNS varchar(128)\u003cbr\\/\u003e\\nEXTERNAL NAME \'org.apache.derbyTesting.functionTests.util.ProcedureTest.function1AlwaysReturnsAAA\'\u003cbr\\/\u003e\\nRETURNs NULL ON NULL INPUT\u003cbr\\/\u003e\\nLANGUAGE JAVA PARAMETER STYLE JAVA;\u003c\\/p\u003e\\n\\n\u003cp\u003eThe java methods invoked by the 2 sql functions are as follows\u003cbr\\/\u003e\\n\\tpublic static String function1AlwaysReturnsAAA(String a) throws SQLException\u003c\\/p\u003e\\n\\t{\\n\\t\\treturn \\\"AAA\\\";\\n\\t}\\n\\n\u003cp\u003e\\tpublic static String function2AlwaysReturnsNull(String a) throws SQLException\u003c\\/p\u003e\\n\\t{\\n\\t\\treturn (String)null;\\n\\t}\\n\\n\u003cp\u003eThen I tried following in ij and both of them returned null which is the correct value\u003cbr\\/\u003e\\nvalues f1(f2(\'sss\'));\u003cbr\\/\u003e\\n1\u003cbr\\/\u003e\\n--------------------------------------------------------------------------------\u003cbr\\/\u003e\\nNULL\u003c\\/p\u003e\\n\\n\u003cp\u003evalues f1(f2(null));\u003cbr\\/\u003e\\n1\u003cbr\\/\u003e\\n--------------------------------------------------------------------------------\u003cbr\\/\u003e\\nNULL\u003c\\/p\u003e\\n\\n\u003cp\u003eI have spent couple of hours on trying to come up with another example where I can see that my changes won\'t work but I haven\'t succedded. Do you have an example in mind which I can try? Thanks\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12367315_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12367315_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Feb\\/06 16:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-22T16:55:21+0000\'\u003e22\\/Feb\\/06 16:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Dan, you are probably right about following  \\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Dan\'s review comments start \\n\\\"Looking more at StaticMethodCallNode.optimizeDomainValueConversion() I\'m not convinced it is correct.  \\nThe comments and code seem to say if I have  \\n\\n  f1(f2())  \\n\\n then if f2() is CALLED ON NULL INPUT then I can take the java value directly from f2() and pass it to f1().  \\n\\n But, what if f1() is RETURNS NULL ON NULL INPUT, don\'t I need the SQL nodes to perform the NULL check?  \\nThus don\'t both methods, the one being called and the one providing the parameter have to be CALLED ON NULL INPUT to take allow the conversion nodes to be dropped? \\\" \\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Dan\'s review comments end \\n\\n But I wanted to write an example for what you have described above to test what exactly happens with my changes. \\n\\n Following is the example I came up with and it worked fine with my changes \\n\\n CREATE FUNCTION f2(A varchar(128)) RETURNS varchar(128) \\nEXTERNAL NAME \'org.apache.derbyTesting.functionTests.util.ProcedureTest.function2AlwaysReturnsNull\' \\nCALLED ON NULL INPUT \\nLANGUAGE JAVA PARAMETER STYLE JAVA; \\n\\n CREATE FUNCTION f1(A varchar(128)) RETURNS varchar(128) \\nEXTERNAL NAME \'org.apache.derbyTesting.functionTests.util.ProcedureTest.function1AlwaysReturnsAAA\' \\nRETURNs NULL ON NULL INPUT \\nLANGUAGE JAVA PARAMETER STYLE JAVA; \\n\\n The java methods invoked by the 2 sql functions are as follows \\n\\tpublic static String function1AlwaysReturnsAAA(String a) throws SQLException \\n\\t{\\n\\t\\treturn \\\"AAA\\\";\\n\\t}\\n\\n \\tpublic static String function2AlwaysReturnsNull(String a) throws SQLException \\n\\t{\\n\\t\\treturn (String)null;\\n\\t}\\n\\n Then I tried following in ij and both of them returned null which is the correct value \\nvalues f1(f2(\'sss\')); \\n1 \\n-------------------------------------------------------------------------------- \\nNULL \\n\\n values f1(f2(null)); \\n1 \\n-------------------------------------------------------------------------------- \\nNULL \\n\\n I have spent couple of hours on trying to come up with another example where I can see that my changes won\'t work but I haven\'t succedded. Do you have an example in mind which I can try? Thanks              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12367394\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-479?focusedCommentId=12367394&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12367394\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12367394_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12367394_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/06 05:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-23T05:02:10+0000\'\u003e23\\/Feb\\/06 05:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSingle patch could fix \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-479\\\" title=\\\"Passing the return of  a RETURN NULL ON NULL INPUT function to another function call throws linkage error.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-479\\\"\u003e\u003cdel\u003eDERBY-479\u003c\\/del\u003e\u003c\\/a\u003e and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1030\\\" title=\\\"In some situations a RETURNS NULL ON NULL function is called when one ot its parameters is NULL\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1030\\\"\u003e\u003cdel\u003eDERBY-1030\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12367394_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12367394_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/06 05:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-23T05:02:10+0000\'\u003e23\\/Feb\\/06 05:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Single patch could fix   DERBY-479   and   DERBY-1030                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12367396\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-479?focusedCommentId=12367396&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12367396\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12367396_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12367396_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/06 05:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-23T05:03:19+0000\'\u003e23\\/Feb\\/06 05:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSingle patch could fix \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-479\\\" title=\\\"Passing the return of  a RETURN NULL ON NULL INPUT function to another function call throws linkage error.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-479\\\"\u003e\u003cdel\u003eDERBY-479\u003c\\/del\u003e\u003c\\/a\u003e and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1030\\\" title=\\\"In some situations a RETURNS NULL ON NULL function is called when one ot its parameters is NULL\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1030\\\"\u003e\u003cdel\u003eDERBY-1030\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12367396_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12367396_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/06 05:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-23T05:03:19+0000\'\u003e23\\/Feb\\/06 05:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Single patch could fix   DERBY-479   and   DERBY-1030                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12367473\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-479?focusedCommentId=12367473&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12367473\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12367473_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12367473_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/06 14:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-23T14:50:59+0000\'\u003e23\\/Feb\\/06 14:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBased on today\'s mail sent by Dan where he identified another issue with functions (Derby-1030), I am submitting a patch(Derby479Version5LinkageErrorReturnNullIfNull022206.txt) that just addresses Derby-479. I will work on Derby-1030 after finishing up feature development work for 10.2 \u003cbr\\/\u003e\\n(Dan\'s mail is titled Re: \u003cspan class=\\\"error\\\"\u003e&#91;jira&#93;\u003c\\/span\u003e Commented: (\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-479\\\" title=\\\"Passing the return of  a RETURN NULL ON NULL INPUT function to another function call throws linkage error.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-479\\\"\u003e\u003cdel\u003eDERBY-479\u003c\\/del\u003e\u003c\\/a\u003e) Passing the return of a RETURN NULL ON NULL INPUT function to another function call throws linkage error) (For some reason, that mail from Dan is not showing up in derby dev archives and hence I don\'t have a direct html link to post here), \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12367473_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12367473_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/06 14:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-23T14:50:59+0000\'\u003e23\\/Feb\\/06 14:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Based on today\'s mail sent by Dan where he identified another issue with functions (Derby-1030), I am submitting a patch(Derby479Version5LinkageErrorReturnNullIfNull022206.txt) that just addresses Derby-479. I will work on Derby-1030 after finishing up feature development work for 10.2  \\n(Dan\'s mail is titled Re:  &#91;jira&#93;  Commented: (  DERBY-479  ) Passing the return of a RETURN NULL ON NULL INPUT function to another function call throws linkage error) (For some reason, that mail from Dan is not showing up in derby dev archives and hence I don\'t have a direct html link to post here),               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12368068\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-479?focusedCommentId=12368068&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12368068\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12368068_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12368068_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Feb\\/06 12:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-28T12:56:40+0000\'\u003e28\\/Feb\\/06 12:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePatch submitted  - minus changes that were not related to this issue.\u003c\\/p\u003e\\n\\n\u003cp\u003eSending        java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\MethodCallNode.java\u003cbr\\/\u003e\\nSending        java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\StaticMethodCallNode.java\u003cbr\\/\u003e\\nSending        java\\\\testing\\\\org\\\\apache\\\\derbyTesting\\\\functionTests\\\\master\\\\functions.out\u003cbr\\/\u003e\\nSending        java\\\\testing\\\\org\\\\apache\\\\derbyTesting\\\\functionTests\\\\tests\\\\lang\\\\functions.sql\u003cbr\\/\u003e\\nTransmitting file data ....\u003cbr\\/\u003e\\nCommitted revision 381553\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12368068_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12368068_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Feb\\/06 12:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-28T12:56:40+0000\'\u003e28\\/Feb\\/06 12:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Patch submitted  - minus changes that were not related to this issue. \\n\\n Sending        java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\MethodCallNode.java \\nSending        java\\\\engine\\\\org\\\\apache\\\\derby\\\\impl\\\\sql\\\\compile\\\\StaticMethodCallNode.java \\nSending        java\\\\testing\\\\org\\\\apache\\\\derbyTesting\\\\functionTests\\\\master\\\\functions.out \\nSending        java\\\\testing\\\\org\\\\apache\\\\derbyTesting\\\\functionTests\\\\tests\\\\lang\\\\functions.sql \\nTransmitting file data .... \\nCommitted revision 381553              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12369157\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-479?focusedCommentId=12369157&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12369157\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12369157_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12369157_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/06 12:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-03-07T12:45:25+0000\'\u003e07\\/Mar\\/06 12:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe patch fixes the problem test case in functions.sql. Dan, if you have no further comments on this particular issue, I will close it on Wednesday.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12369157_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12369157_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/06 12:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-03-07T12:45:25+0000\'\u003e07\\/Mar\\/06 12:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The patch fixes the problem test case in functions.sql. Dan, if you have no further comments on this particular issue, I will close it on Wednesday.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12413279\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-479?focusedCommentId=12413279&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12413279\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12413279_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12413279_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/May\\/06 00:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-05-26T00:12:37+0000\'\u003e26\\/May\\/06 00:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBack in an earlier comment I said:\u003c\\/p\u003e\\n\\n\u003cp\u003eAnother aspect that may not be important, but before this change the conversion nodes are always dropped if they are between Java expressions, and that was incorrect in one situation, functions with RETURNS NULL ON NULL INPUT. Now you have changed it so they are only dropped in one situation, both methods being CALLED ON NULL INPUT (assuming a modified patch). Thus the optimization is being lost in situations where it is useful. Maybe this is not an issue because those siutations typically don\'t arise any more, but some internal statements that use Java expressions may be losing this optimization.\u003c\\/p\u003e\\n\\n\u003cp\u003eHaving worked on triggers recently for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-438\\\" title=\\\"Update triggers on tables with BLOB and CLOB columns fail at execution time if the triggered-SQL-statement references the LOB column(s).\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-438\\\"\u003e\u003cdel\u003eDERBY-438\u003c\\/del\u003e\u003c\\/a\u003e I see that Java expressions are heavily used in accessing data with a trigger\'s action statement. Thus it would be best to reinstate the optimization of dropping conversion nodes for pure java expressions to avoid performance degradation in 10.2\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"djd\\\" id=\\\"commentauthor_12413279_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=djd\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"djd\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Daniel John Debrunner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12413279_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/May\\/06 00:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-05-26T00:12:37+0000\'\u003e26\\/May\\/06 00:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Back in an earlier comment I said: \\n\\n Another aspect that may not be important, but before this change the conversion nodes are always dropped if they are between Java expressions, and that was incorrect in one situation, functions with RETURNS NULL ON NULL INPUT. Now you have changed it so they are only dropped in one situation, both methods being CALLED ON NULL INPUT (assuming a modified patch). Thus the optimization is being lost in situations where it is useful. Maybe this is not an issue because those siutations typically don\'t arise any more, but some internal statements that use Java expressions may be losing this optimization. \\n\\n Having worked on triggers recently for   DERBY-438   I see that Java expressions are heavily used in accessing data with a trigger\'s action statement. Thus it would be best to reinstate the optimization of dropping conversion nodes for pure java expressions to avoid performance degradation in 10.2              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="10594";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=10594&amp;avatarId=10122\\\" alt=\\\"Derby\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\"\u003eDerby\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520237882094"> 
    <input type="hidden" title="jira.request.server.time" value="189"> 
    <input type="hidden" title="jira.request.id" value="498x94339581x2"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="2"> 
    <input type="hidden" title="db.reads.time.in.ms" value="30"> 
    <input type="hidden" title="db.conns.time.in.ms" value="37"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 498x94339581x2
	          REQUEST TIMESTAMP : [05/Mar/2018:08:18:02 +0000]
	               REQUEST TIME : 0.1890
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 2

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=23, elapsedTotal=30764997, elapsedMin=704617, elapsedMax=10933888, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=27, elapsedTotal=37252586, elapsedMin=730157, elapsedMax=10961689, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>