<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|9eaf45ce35100c6b621f68afb8002c28c28131db|lout"> 
  <link rel="shortcut icon" href="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"sd.customer.profile.multi.languages\":true,\"sd.customer.portal.transitions\":true,\"sd.customer.portal.transitions.config\":true,\"sd.custom.email.stripping.rules\":false,\"sd.sla.lucene.issue.id.callback.performance\":true,\"sd.new.settings.sidebar.location\":true,\"sd.workload.report.paginator\":true,\"sd.experimental.portal.search.algorithm.default.1\":false,\"sd.customer.portal.help.center.agent.announcement\":true,\"sd.sla.improved.rendering\":false,\"sd.experimental.portal.search.algorithm.default.2\":false,\"sd.customer.feedback.validate.reporter.on.token\":true,\"sd.custom.email.notifications.utf8.csat.star\":true,\"sd.who.create.customers.by.email.setting\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.renderer.consider.variable.format\":true,\"sd.stats.event.tracking\":true,\"sd.password.helper.dialog\":true,\"sd.canned.responses\":false,\"sd.portal.help.center.customer.signup.secondary.email\":true,\"sd.custom.email.notifications.manage.language\":true,\"sd.use.search.by.permissions\":true,\"sd.slavalue.record.updated.date\":false,\"sd.report.custom.date.range\":false,\"sd.kb.article.helpfulness.report\":false,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"sd.custom.email.notifications.styling\":true,\"sd.workinghours.new.page.bulldog.1\":false,\"sd.customer.portal.two.step.login\":false,\"sd.automation.psmq.async.executor\":true,\"sd.customer.org.list.page.lazy.search\":true,\"sd.approval.requested.when.handler\":true,\"sd.request.type.field.rest.api.filtering.bugfix\":true,\"sd.automation.then.action.auto.answer.approval\":true,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"sla.will.only.be.paused.if.they.are.already.started\":true,\"sd.kb.comment.share.stats.collection\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"sd.customer.orgs.group.participants\":true,\"sd.portal.help.center.customer.signup\":true,\"sd.sla.agent.jql.security.restricted\":true,\"sd.test.feature.flag.x\":true,\"sd.test.feature.flag.y\":false,\"sd.cluster.safe.mail.channel.shutdown\":true,\"sd.email.channel.folders\":false,\"sd.email.analytics.open\":false,\"sd.kb.project.creation.create.link.space\":true,\"sd.workinghours.new.page\":false,\"sd.confluence.anonymous.permission.fix\":true,\"com.atlassian.jira.issuetable.draggable\":true,\"sd.customer.portal.project.agent.announcement\":true,\"sd.automation.audit.log\":true,\"jira.jql.suggestrecentfields\":false,\"sd.canned.responses.check.index.startup\":false,\"sd.new.project.templates\":true,\"sd.custom.email.notifications.custom.rules.simple.ui\":false,\"sd.custom.email.notifications.cut.over\":true,\"sd.dismiss.all.misconfiguration.warnings.setting\":true,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"sd.sla.configurations.export\":true,\"sd.canned.responses.variable.substitution\":true,\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"sd.customer.portal.prioties.per.project.fix\":true,\"jira.instrumentation.laas\":false,\"sd.kb.self.service.report\":false,\"sla.improved.request.handling\":true,\"sd.no.schedule.async.upgrade.tasks\":true,\"sd.kb.primary.nav\":true,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"sd.kb.issueview.panel.phase2\":true,\"sd.email.outsider.comments\":true,\"jira.create.linked.issue\":true,\"sd.kb.issueview.panel\":true,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"sd.approvals.light.weight\":false,\"sd.automation.then.webhook\":true,\"sd.respect.inline.edit.issue.off\":true,\"jira.jql.smartautoselectfirst\":false,\"sd.global.portal.search.atlassian.only.tracking\":false,\"sd.automation.if.condition.comment.primary.action\":true,\"jira.priorities.per.project\":true,\"sd.inline.noformat.renderer\":true,\"sd.customer.request.type.create.edit.screens\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/png,image/vnd.wap.wbmp,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["com.atlassian.servicedesk.servicedesk-canned-responses-plugin:canned-responses-data-provider.data"]="{\"substitutionVariables\":{\"issue.summary\":\"Issue summary\",\"issue.description\":\"Issue description\",\"issue.key\":\"Issue key\",\"issue.reporter.name\":\"Issue reporter\",\"issue.resolution\":\"Issue resolution\",\"request.url\":\"Request URL\",\"request.status\":\"Request status\"}}";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-help-links.help-links"]="{\"help\":{\"email.settings\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"managing.queues\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+queues+for+your+team\",\"email.setup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"request.settings.help.bubble\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\",\"email.settings.suitablerequest\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email#Receivingrequestsbyemail-suitablerequest\",\"sla.import.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Importing+SLAs\",\"documentation.home\":\"https://docs.atlassian.com/jira/jsd-docs-039/JIRA+Service+Desk+Documentation\",\"default\":\"https://docs.atlassian.com/jira/jsd-docs-039/\",\"create.space.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base#serving-customers-with-a-knowledge-base-createpermission\",\"email.settings.troubleshooting\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+the+email+channel\",\"admin.notifications.config\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+service+desk+notifications\",\"troubleshoot.requesttype\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+request+types\",\"approvals.configuration\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+JIRA+Service+Desk+approvals\",\"setting.up.reports\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+service+desk+reports\",\"public.signup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+public+signup\",\"knowledge.base\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base\",\"resolve.permission.scheme.errors\":\"https://docs.atlassian.com/jira/jsd-docs-039/Resolving+permission+scheme+errors\",\"getting.started\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+with+JIRA+Service+Desk\",\"getting.started.agent\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+for+service+desk+agents\",\"invite.customers\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\"},\"kb\":{\"default\":\"https://confluence.atlassian.com/display/SDKB/\",\"troubleshooting.user.management.issues\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\",\"legacytransition\":\"https://confluence.atlassian.com/display/SDKB/Replacing+legacy+automatic+transitions+with+automation+rules\",\"umtroubleshoot\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\"}}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-base-url.base-url"]="\"https://issues.apache.org/jira\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"42d6d900d09b7f\"";
WRM._unparsedData["project-id"]="12310751";
WRM._unparsedData["project-key"]="\"MAHOUT\"";
WRM._unparsedData["project-name"]="\"Mahout\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310751";
WRM._unparsedData["projectKey"]="\"MAHOUT\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/1a6b21131945f6f49ff48336b49ca3fe-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/d8484c9183f546511a8e336a8779bcd9-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d3b35d835f8f46fc3b53bb4db7f85158-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/71d42e74136d842a3ef4d5d136484843-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/95a4826c265852f4904f1e0e7300df68-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/944bb39eced1b35cfc7194aa02eb5a5a/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/5a8f0f8b8aa8f96a4f0f7e9e248d62f3-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="MAHOUT-305"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[MAHOUT-305] Combine both cooccurrence-based CF M/R jobs - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[MAHOUT-305] Combine both cooccurrence-based CF M/R jobs - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/MAHOUT" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FMAHOUT-305">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310751" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Mahout'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310751&amp;avatarId=10103"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/MAHOUT">Mahout</a></li>
                 <li><a class="issue-link" data-issue-key="MAHOUT-305" href="/jira/browse/MAHOUT-305" id="key-val" rel="12456936">MAHOUT-305</a></li>
                </ol>
                <h1 id="summary-val">Combine both cooccurrence-based CF M/R jobs</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FMAHOUT-305"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/MAHOUT-305/MAHOUT-305.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/MAHOUT-305/MAHOUT-305.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/MAHOUT-305/MAHOUT-305.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/MAHOUT-305/MAHOUT-305.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" title="Improvement - An improvement or enhancement to an existing feature or task." width="16"> Improvement </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/minor.svg" title="Minor - Minor loss of function, or other problem where easy workaround is present." width="16"> Minor </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="0.2 ">0.2</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+MAHOUT+AND+fixVersion+%3D+0.4" title="0.4 ">0.4</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+MAHOUT+AND+component+%3D+%22Collaborative+Filtering%22" title="Collaborative Filtering Taste and any other CF stuff">Collaborative Filtering</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12456936-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>We have two different but essentially identical MapReduce jobs to make recommendations based on item co-occurrence: org.apache.mahout.cf.taste.hadoop.</p> {item,cooccurrence} 
                  <p>. They ought to be merged. Not sure exactly how to approach that but noting this in JIRA, per Ankur.</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_ankur" rel="ankur" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Ankur&quot;,&quot;emailAddress&quot;:&quot;ankur_goel79@yahoo.com&quot;,&quot;username&quot;:&quot;ankur&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="ankur"></span></span> Ankur </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_srowen" rel="srowen" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Sean Owen&quot;,&quot;emailAddress&quot;:&quot;srowen@gmail.com&quot;,&quot;username&quot;:&quot;srowen&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="srowen"></span></span> Sean Owen </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">0</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Due:
                   </dt> 
                   <dd class="date " title="31/Mar/10"> 
                    <span data-name="Due" id="due-date" data-fieldtype="datepicker"> <time datetime="2010-03-31">31/Mar/10</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="21/Feb/10 13:28"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2010-02-21T13:28:07+0000">21/Feb/10 13:28</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="31/Oct/10 15:49"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2010-10-31T15:49:08+0000">31/Oct/10 15:49</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="28/Apr/10 04:42"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2010-04-28T04:42:26+0000">28/Apr/10 04:42</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for n/a, Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/MAHOUT-305?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/MAHOUT-305?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/MAHOUT-305?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/MAHOUT-305?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/MAHOUT-305?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/MAHOUT-305?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/MAHOUT-305?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/MAHOUT-305?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/MAHOUT-305?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/MAHOUT-305?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/MAHOUT-305?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/MAHOUT-305?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12836543\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12836543&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12836543\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12836543_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12836543_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Feb\\/10 08:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-22T08:13:50+0000\'\u003e22\\/Feb\\/10 08:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSean, Thanks for filing the jira. Nothing points from our discussion here.\u003c\\/p\u003e\\n\\n\u003cp\u003e1. Need to decide on the dataset to run both the implementations on. I have netflix dataset in mind but a strange thing I observed during my tests with it is that there were 2 - 3 users who rated more than 10,000 movies! This seemed a little odd to me. Can you or some else who has had experience with the dataset validate my observation ?  \u003c\\/p\u003e\\n\\n\u003cp\u003e2. Both the implementations need to run on dataset in the identical environment to gauge performance and accuracy. For accuracy I believe we need to do a Precision-Recall test. My understanding of it is that \u003c\\/p\u003e\\n\\n\u003cp\u003e      a) Do a 80-20 split of the data (80% train and 20% test) with split happening on a timeline. \u003cbr\\/\u003e\\n      b) Feed training data to the algorithm and generate recommendations for a subset of users from training data. \u003cbr\\/\u003e\\n      c) Compare those recommendations with items actually present in the history of user in test data.\u003cbr\\/\u003e\\n      d) Calculate precision = tp \\/ (tp + fp) = (recommendations actually present in user\'s history) \\/ (total items recommended)\u003cbr\\/\u003e\\n      e) Calculate recall = tp \\/ (tp + fn) =    (recommendations actually present in user\'s history) \\/ (total items in user\'s history)\u003cbr\\/\u003e\\n      f) Finally take a simple avg of both across all the users to get approx global precision\\/recall. \u003c\\/p\u003e\\n\\n\u003cp\u003eplease feel free to correct any of the step above if I misunderstood anything.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12836543_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12836543_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Feb\\/10 08:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-22T08:13:50+0000\'\u003e22\\/Feb\\/10 08:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Sean, Thanks for filing the jira. Nothing points from our discussion here. \\n\\n 1. Need to decide on the dataset to run both the implementations on. I have netflix dataset in mind but a strange thing I observed during my tests with it is that there were 2 - 3 users who rated more than 10,000 movies! This seemed a little odd to me. Can you or some else who has had experience with the dataset validate my observation ?   \\n\\n 2. Both the implementations need to run on dataset in the identical environment to gauge performance and accuracy. For accuracy I believe we need to do a Precision-Recall test. My understanding of it is that  \\n\\n       a) Do a 80-20 split of the data (80% train and 20% test) with split happening on a timeline.  \\n      b) Feed training data to the algorithm and generate recommendations for a subset of users from training data.  \\n      c) Compare those recommendations with items actually present in the history of user in test data. \\n      d) Calculate precision = tp \\/ (tp + fp) = (recommendations actually present in user\'s history) \\/ (total items recommended) \\n      e) Calculate recall = tp \\/ (tp + fn) =    (recommendations actually present in user\'s history) \\/ (total items in user\'s history) \\n      f) Finally take a simple avg of both across all the users to get approx global precision\\/recall.  \\n\\n please feel free to correct any of the step above if I misunderstood anything.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12836666\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12836666&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12836666\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12836666_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12836666_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Feb\\/10 15:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-22T15:30:27+0000\'\u003e22\\/Feb\\/10 15:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHey Sean,\u003cbr\\/\u003e\\n               Have you played with netflix dataset? Are there really user who have rated more than 10,000 movies? For PR test do we have something already that will work in this case or some coding is required ? Any other thoughts ?  \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12836666_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12836666_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Feb\\/10 15:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-22T15:30:27+0000\'\u003e22\\/Feb\\/10 15:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hey Sean, \\n               Have you played with netflix dataset? Are there really user who have rated more than 10,000 movies? For PR test do we have something already that will work in this case or some coding is required ? Any other thoughts ?                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12836689\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12836689&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12836689\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12836689_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12836689_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Feb\\/10 16:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-22T16:07:12+0000\'\u003e22\\/Feb\\/10 16:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYes there are some prolific users. I don\'t have anything ready-made for such a test; the existing eval framework won\'t work here. I think it would need a bit of coding to pull out some test data, run the job, compare the results.\u003c\\/p\u003e\\n\\n\u003cp\u003eI have only one little tweak to make to the procedure you mention here. Really, we ought to pull out the most-preferred movies as test data. After all the recommendations will be for those movies that should be rated highly. We wouldn\'t want to punish the algorithm for failing to recommend something I have rated, but didn\'t like, over something I haven\'t rated but indeed would like.\u003c\\/p\u003e\\n\\n\u003cp\u003eOne very crude way to do this is remove all 5-star ratings in the data set, and see how many of those actually come back in the recommendations.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12836689_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12836689_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Feb\\/10 16:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-22T16:07:12+0000\'\u003e22\\/Feb\\/10 16:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yes there are some prolific users. I don\'t have anything ready-made for such a test; the existing eval framework won\'t work here. I think it would need a bit of coding to pull out some test data, run the job, compare the results. \\n\\n I have only one little tweak to make to the procedure you mention here. Really, we ought to pull out the most-preferred movies as test data. After all the recommendations will be for those movies that should be rated highly. We wouldn\'t want to punish the algorithm for failing to recommend something I have rated, but didn\'t like, over something I haven\'t rated but indeed would like. \\n\\n One very crude way to do this is remove all 5-star ratings in the data set, and see how many of those actually come back in the recommendations.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12836725\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12836725&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12836725\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12836725_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12836725_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Feb\\/10 17:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-22T17:02:55+0000\'\u003e22\\/Feb\\/10 17:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eTypically when doing train-test data split, we divide the data on a timeline. So as a simple example if we have 10 days data then we would keep last 2 days data as test data and remaining as training data. If we remove all 5 star rating the crude way, we may not be able to ensure this condition, not a hard one but still a best practice AFAIK.  Also I am not sure if 5 star ratings would be 20 or even 10% of the total data.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe crude way you mentioned is ok for a start but I am not sure if its a fair evaluation or not. Also with this we would effectively be calculating precision as\u003cbr\\/\u003e\\nprecision = (5 start recommendations actually present in user\'s history) \\/ (total 5 star recommendations)\u003cbr\\/\u003e\\nrecall = (5 start recommendations actually present in user\'s history) \\/ (total 5 start items in user\'s history)\u003c\\/p\u003e\\n\\n\u003cp\u003eis that what you mean?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12836725_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12836725_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Feb\\/10 17:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-22T17:02:55+0000\'\u003e22\\/Feb\\/10 17:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Typically when doing train-test data split, we divide the data on a timeline. So as a simple example if we have 10 days data then we would keep last 2 days data as test data and remaining as training data. If we remove all 5 star rating the crude way, we may not be able to ensure this condition, not a hard one but still a best practice AFAIK.  Also I am not sure if 5 star ratings would be 20 or even 10% of the total data. \\n\\n The crude way you mentioned is ok for a start but I am not sure if its a fair evaluation or not. Also with this we would effectively be calculating precision as \\nprecision = (5 start recommendations actually present in user\'s history) \\/ (total 5 star recommendations) \\nrecall = (5 start recommendations actually present in user\'s history) \\/ (total 5 start items in user\'s history) \\n\\n is that what you mean?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12836733\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12836733&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12836733\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12836733_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12836733_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Feb\\/10 17:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-22T17:20:33+0000\'\u003e22\\/Feb\\/10 17:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSay I\'ve made the following ratings:\u003c\\/p\u003e\\n\\n\u003cp\u003e5 stars: Harry Potter\u003cbr\\/\u003e\\n5 stars: Harry Potter 2\u003cbr\\/\u003e\\n1 star: Maid in Manhattan\u003c\\/p\u003e\\n\\n\u003cp\u003eSay I remove Maid in Manhattan as test data. I run recommendations and it recommends to me Harry Potter 3 (which presumably I would rate highly). The implementation would be penalized for not returning Maid in Manhattan, when that\'s surely not what it should have returned.\u003c\\/p\u003e\\n\\n\u003cp\u003eEven if you take out only the most highly-rated movies as test data (this is what the existing CF precsion\\/recall evaluator does), this phenomenon can still occur: the recommender could return a movie that\'s better than anything you\'ve yet seen but that would be considered \'bad\' by this evaluation style. It\'s still not a fair test, but it\'s less un-fair.\u003c\\/p\u003e\\n\\n\u003cp\u003eYes you could take the 20% most-highly-rated movies from each user as test data if you like, not just 5-star.\u003c\\/p\u003e\\n\\n\u003cp\u003eSay I ask for 10 recommendations. Precision @ 10 is the proportion of those 10 that were in the users\' history (top ratings). Recall @ 10 is the proportion of all top-rated items that appeared in those 10. I think this is a little different than what you\'re saying?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12836733_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12836733_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Feb\\/10 17:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-22T17:20:33+0000\'\u003e22\\/Feb\\/10 17:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Say I\'ve made the following ratings: \\n\\n 5 stars: Harry Potter \\n5 stars: Harry Potter 2 \\n1 star: Maid in Manhattan \\n\\n Say I remove Maid in Manhattan as test data. I run recommendations and it recommends to me Harry Potter 3 (which presumably I would rate highly). The implementation would be penalized for not returning Maid in Manhattan, when that\'s surely not what it should have returned. \\n\\n Even if you take out only the most highly-rated movies as test data (this is what the existing CF precsion\\/recall evaluator does), this phenomenon can still occur: the recommender could return a movie that\'s better than anything you\'ve yet seen but that would be considered \'bad\' by this evaluation style. It\'s still not a fair test, but it\'s less un-fair. \\n\\n Yes you could take the 20% most-highly-rated movies from each user as test data if you like, not just 5-star. \\n\\n Say I ask for 10 recommendations. Precision @ 10 is the proportion of those 10 that were in the users\' history (top ratings). Recall @ 10 is the proportion of all top-rated items that appeared in those 10. I think this is a little different than what you\'re saying?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12837123\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12837123&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12837123\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12837123_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837123_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 07:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T07:34:52+0000\'\u003e23\\/Feb\\/10 07:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWith co-occurrence analysis we are dropping ratings. So if there are a lot of people who watched \\\"Harry Potter\\\" also watched \\\"Maid in manhattan\\\" it will have a higher chance of getting recommended regardless of ratings.\u003c\\/p\u003e\\n\\n\u003cp\u003eI am trying not be influenced too much by ratings as that is not the strength of this algorithm. Where it really shines is when you have lots and lots of sparse user click data where a click may be present or absent. Something like an online book store  or a shopping site. We are sticking with netflix as there is no such publicly available dataset AFAIK.    \u003c\\/p\u003e\\n\\n\u003cp\u003eOk so moving forward with the action plan, here is what I propose to do. Please feel free to suggest modifications.\u003c\\/p\u003e\\n\\n\u003cp\u003e1. For each user take out the most recent movies that he has rated 3 or 4 or 5 as TEST data.  Use the remaining as TRAIN data. \u003cbr\\/\u003e\\n2. Run both implementations in identical environment on test data and record runtimes and results\u003cbr\\/\u003e\\n3. Join recommendation results with TEST data on \'user\' key and calculate precision recall.\u003cbr\\/\u003e\\n4. Report average precision &amp; recall.\u003c\\/p\u003e\\n\\n\u003cp\u003eOk so when separating top ratings as TEST data. For each user \u003c\\/p\u003e\\n\\n\u003cp\u003ePrecision @10 = (3,4,5 rating movies recommended &amp; actually present ) \\/ 10\u003cbr\\/\u003e\\nRecall @ 10 =  (3,4,5 rating movies recommended &amp; actually present ) \\/ (all 3,4,5 movies seen by user)\u003c\\/p\u003e\\n\\n\u003cp\u003eHope this was more clear.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12837123_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837123_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 07:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T07:34:52+0000\'\u003e23\\/Feb\\/10 07:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    With co-occurrence analysis we are dropping ratings. So if there are a lot of people who watched \\\"Harry Potter\\\" also watched \\\"Maid in manhattan\\\" it will have a higher chance of getting recommended regardless of ratings. \\n\\n I am trying not be influenced too much by ratings as that is not the strength of this algorithm. Where it really shines is when you have lots and lots of sparse user click data where a click may be present or absent. Something like an online book store  or a shopping site. We are sticking with netflix as there is no such publicly available dataset AFAIK.     \\n\\n Ok so moving forward with the action plan, here is what I propose to do. Please feel free to suggest modifications. \\n\\n 1. For each user take out the most recent movies that he has rated 3 or 4 or 5 as TEST data.  Use the remaining as TRAIN data.  \\n2. Run both implementations in identical environment on test data and record runtimes and results \\n3. Join recommendation results with TEST data on \'user\' key and calculate precision recall. \\n4. Report average precision &amp; recall. \\n\\n Ok so when separating top ratings as TEST data. For each user  \\n\\n Precision @10 = (3,4,5 rating movies recommended &amp; actually present ) \\/ 10 \\nRecall @ 10 =  (3,4,5 rating movies recommended &amp; actually present ) \\/ (all 3,4,5 movies seen by user) \\n\\n Hope this was more clear.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12837156\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12837156&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12837156\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12837156_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837156_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 09:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T09:07:32+0000\'\u003e23\\/Feb\\/10 09:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYou don\'t entirely drop ratings, it\'s that they don\'t figure into the similarity metric, right? But yes, ratings are not relevant to the point I was trying to make. Regardless, Harry Potter 3 is a better recommendation.\u003c\\/p\u003e\\n\\n\u003cp\u003eI really think you have to take out the highest-rated items or this is a fairly flawed test, for this reason. Does anyone else have experience in or thoughts on defining precision and recall in this context? 3,4,5 is arbitrary, just pick the top n, or top n%, I\'d imagine.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12837156_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837156_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 09:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T09:07:32+0000\'\u003e23\\/Feb\\/10 09:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    You don\'t entirely drop ratings, it\'s that they don\'t figure into the similarity metric, right? But yes, ratings are not relevant to the point I was trying to make. Regardless, Harry Potter 3 is a better recommendation. \\n\\n I really think you have to take out the highest-rated items or this is a fairly flawed test, for this reason. Does anyone else have experience in or thoughts on defining precision and recall in this context? 3,4,5 is arbitrary, just pick the top n, or top n%, I\'d imagine.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12837192\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12837192&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12837192\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12837192_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837192_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 11:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T11:03:33+0000\'\u003e23\\/Feb\\/10 11:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eJust picking random N % data for each user calculating avg precision and recall across all users in test data  and then repeating the test K times to take average across all runs should be reasonably fair assessment IMHO.\u003c\\/p\u003e\\n\\n\u003cp\u003eMahouters your opinion here would be valuable.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12837192_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837192_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 11:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T11:03:33+0000\'\u003e23\\/Feb\\/10 11:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Just picking random N % data for each user calculating avg precision and recall across all users in test data  and then repeating the test K times to take average across all runs should be reasonably fair assessment IMHO. \\n\\n Mahouters your opinion here would be valuable.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12837193\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12837193&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12837193\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12837193_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837193_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 11:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T11:09:36+0000\'\u003e23\\/Feb\\/10 11:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI just don\'t think it can be random. it\'s like doing a PR test on search results and defining \\\"relevant\\\" documents as some randomly-chosen subset of all documents.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12837193_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837193_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 11:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T11:09:36+0000\'\u003e23\\/Feb\\/10 11:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I just don\'t think it can be random. it\'s like doing a PR test on search results and defining \\\"relevant\\\" documents as some randomly-chosen subset of all documents.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12837198\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12837198&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12837198\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12837198_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837198_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 11:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T11:31:50+0000\'\u003e23\\/Feb\\/10 11:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI am not proposing that we choose random subset over all movies.  Rather choose random N% movie ratings  from EACH user and use it as test data to get precision recall across this test set.  Also repeat this procedure X times to get a fair assessment. They seem to do it the same way - \u003ca href=\\\"http:\\/\\/www2007.org\\/papers\\/paper570.pdf\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/www2007.org\\/papers\\/paper570.pdf\u003c\\/a\u003e \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12837198_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837198_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 11:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T11:31:50+0000\'\u003e23\\/Feb\\/10 11:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I am not proposing that we choose random subset over all movies.  Rather choose random N% movie ratings  from EACH user and use it as test data to get precision recall across this test set.  Also repeat this procedure X times to get a fair assessment. They seem to do it the same way -  http:\\/\\/www2007.org\\/papers\\/paper570.pdf                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12837203\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12837203&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12837203\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12837203_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837203_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 11:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T11:37:11+0000\'\u003e23\\/Feb\\/10 11:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYes I understand that, and it still doesn\'t change the issue here.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe paper here deals with a data set with no ratings; picking any item as test data is as good as the next. This isn\'t the case when we have ratings, and we do.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12837203_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837203_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 11:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T11:37:11+0000\'\u003e23\\/Feb\\/10 11:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yes I understand that, and it still doesn\'t change the issue here. \\n\\n The paper here deals with a data set with no ratings; picking any item as test data is as good as the next. This isn\'t the case when we have ratings, and we do.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12837205\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12837205&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12837205\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12837205_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837205_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 11:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T11:48:40+0000\'\u003e23\\/Feb\\/10 11:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWell! not factoring ratings in the similarity metric but having them influence the train\\/test data for evaluation doesn\'t sound fair to me. So I don\'t think both of us agree on the evaluation methodology.  \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12837205_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837205_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 11:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T11:48:40+0000\'\u003e23\\/Feb\\/10 11:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Well! not factoring ratings in the similarity metric but having them influence the train\\/test data for evaluation doesn\'t sound fair to me. So I don\'t think both of us agree on the evaluation methodology.                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12837209\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12837209&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12837209\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12837209_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837209_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 11:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T11:56:28+0000\'\u003e23\\/Feb\\/10 11:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThey don\'t influence the similarity metric but they do influence the estimated ratings and therefore recommendations. Are we talking about the same algorithm? The last step is to multiply the co-occurrence matrix by the user \u003cdel\u003erating\u003c\\/del\u003e vector.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12837209_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837209_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 11:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T11:56:28+0000\'\u003e23\\/Feb\\/10 11:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    They don\'t influence the similarity metric but they do influence the estimated ratings and therefore recommendations. Are we talking about the same algorithm? The last step is to multiply the co-occurrence matrix by the user  rating  vector.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12837230\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12837230&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12837230\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12837230_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837230_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 12:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T12:56:33+0000\'\u003e23\\/Feb\\/10 12:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cb\u003esmile\u003c\\/b\u003e There we go. \u003cbr\\/\u003e\\nOur last steps are essentially different. I don\'t do any multiplication, instead I just join (user, movie) on \'movie\'  with co-occurrence set followed by a group on \'user\' to calculate recommendations. I guess while joining I should multiply ratings with co-occurrence counts for better evaluation.\u003c\\/p\u003e\\n\\n\u003cp\u003eCan you give a small illustrative example with dummy data to describe your last steps? \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12837230_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837230_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 12:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T12:56:33+0000\'\u003e23\\/Feb\\/10 12:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     smile  There we go.  \\nOur last steps are essentially different. I don\'t do any multiplication, instead I just join (user, movie) on \'movie\'  with co-occurrence set followed by a group on \'user\' to calculate recommendations. I guess while joining I should multiply ratings with co-occurrence counts for better evaluation. \\n\\n Can you give a small illustrative example with dummy data to describe your last steps?               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12837245\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12837245&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12837245\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12837245_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837245_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 14:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T14:11:46+0000\'\u003e23\\/Feb\\/10 14:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYeah it\'s just a small generalization &#8211; what I\'m up to reduces to the same thing if all ratings are 1. You can make it run faster if there are no ratings involved, I\'m sure.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m going to send you a draft of chapter 6 of MiA which has a complete writeup on this.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12837245_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837245_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 14:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T14:11:46+0000\'\u003e23\\/Feb\\/10 14:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yeah it\'s just a small generalization &#8211; what I\'m up to reduces to the same thing if all ratings are 1. You can make it run faster if there are no ratings involved, I\'m sure. \\n\\n I\'m going to send you a draft of chapter 6 of MiA which has a complete writeup on this.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12837377\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12837377&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12837377\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"tdunning\\\" id=\\\"commentauthor_12837377_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=tdunning\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"tdunning\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ted Dunning\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837377_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 18:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T18:44:02+0000\'\u003e23\\/Feb\\/10 18:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\\n\u003cp\u003eMy own experience is that all that counts in recommendations is the probability of click (interest) on a set of recommendations.  As such, the best analog is probably precision at 10 or 20.  I don\'t think that recall at 10 or 20 makes any sense at all (with a depth limited situation like this, you have given up on recall and are only looking at precision).\u003c\\/p\u003e\\n\\n\u003cp\u003eAnkur\'s suggestion about keeping the most recent 4\'s and 5\'s as test data seems right to me.  My only beefs are that you don\'t need recall@10 and what to do with the unrated items.  Presumably a new style algorithm could surface items that the user hadn\'t thought of, but really likes.  In practice, I think that counting unrated items in the results as misses isn\'t a big deal in the Netflix data.  In the real world where test data is more scarce, I would count unrated items as misses in off-line evaluation, but try to run as many alternatives as possible against live users.\u003c\\/p\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"tdunning\\\" id=\\\"commentauthor_12837377_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=tdunning\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"tdunning\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ted Dunning\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837377_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 18:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T18:44:02+0000\'\u003e23\\/Feb\\/10 18:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                   \\n My own experience is that all that counts in recommendations is the probability of click (interest) on a set of recommendations.  As such, the best analog is probably precision at 10 or 20.  I don\'t think that recall at 10 or 20 makes any sense at all (with a depth limited situation like this, you have given up on recall and are only looking at precision). \\n\\n Ankur\'s suggestion about keeping the most recent 4\'s and 5\'s as test data seems right to me.  My only beefs are that you don\'t need recall@10 and what to do with the unrated items.  Presumably a new style algorithm could surface items that the user hadn\'t thought of, but really likes.  In practice, I think that counting unrated items in the results as misses isn\'t a big deal in the Netflix data.  In the real world where test data is more scarce, I would count unrated items as misses in off-line evaluation, but try to run as many alternatives as possible against live users. \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12837378\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12837378&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12837378\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"tdunning\\\" id=\\\"commentauthor_12837378_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=tdunning\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"tdunning\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ted Dunning\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837378_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 18:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T18:44:03+0000\'\u003e23\\/Feb\\/10 18:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\\n\u003cp\u003eMy own experience is that all that counts in recommendations is the probability of click (interest) on a set of recommendations.  As such, the best analog is probably precision at 10 or 20.  I don\'t think that recall at 10 or 20 makes any sense at all (with a depth limited situation like this, you have given up on recall and are only looking at precision).\u003c\\/p\u003e\\n\\n\u003cp\u003eAnkur\'s suggestion about keeping the most recent 4\'s and 5\'s as test data seems right to me.  My only beefs are that you don\'t need recall@10 and what to do with the unrated items.  Presumably a new style algorithm could surface items that the user hadn\'t thought of, but really likes.  In practice, I think that counting unrated items in the results as misses isn\'t a big deal in the Netflix data.  In the real world where test data is more scarce, I would count unrated items as misses in off-line evaluation, but try to run as many alternatives as possible against live users.\u003c\\/p\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"tdunning\\\" id=\\\"commentauthor_12837378_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=tdunning\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"tdunning\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ted Dunning\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837378_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 18:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T18:44:03+0000\'\u003e23\\/Feb\\/10 18:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                   \\n My own experience is that all that counts in recommendations is the probability of click (interest) on a set of recommendations.  As such, the best analog is probably precision at 10 or 20.  I don\'t think that recall at 10 or 20 makes any sense at all (with a depth limited situation like this, you have given up on recall and are only looking at precision). \\n\\n Ankur\'s suggestion about keeping the most recent 4\'s and 5\'s as test data seems right to me.  My only beefs are that you don\'t need recall@10 and what to do with the unrated items.  Presumably a new style algorithm could surface items that the user hadn\'t thought of, but really likes.  In practice, I think that counting unrated items in the results as misses isn\'t a big deal in the Netflix data.  In the real world where test data is more scarce, I would count unrated items as misses in off-line evaluation, but try to run as many alternatives as possible against live users. \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12837517\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12837517&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12837517\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12837517_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837517_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 23:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T23:35:47+0000\'\u003e23\\/Feb\\/10 23:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAgree, I do not see recall as useful, but hey, including it for completeness isn\'t a big deal.\u003c\\/p\u003e\\n\\n\u003cp\u003eYeah in this context there\'s no choice but to count unrated items as misses. My intuition based on limited experience is it is in fact an issue &#8211; are the best items for a user typically found among their ratings in real-world data sets? I just can\'t imagine it\'s so for most users, who express few ratings.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo I harp on picking the highest-rated items for exclusion, and based only on the criteria, in order to align best with the process being tested, because even then the test is fairly flawed, but at least minimally flawed.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12837517_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837517_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 23:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T23:35:47+0000\'\u003e23\\/Feb\\/10 23:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Agree, I do not see recall as useful, but hey, including it for completeness isn\'t a big deal. \\n\\n Yeah in this context there\'s no choice but to count unrated items as misses. My intuition based on limited experience is it is in fact an issue &#8211; are the best items for a user typically found among their ratings in real-world data sets? I just can\'t imagine it\'s so for most users, who express few ratings. \\n\\n So I harp on picking the highest-rated items for exclusion, and based only on the criteria, in order to align best with the process being tested, because even then the test is fairly flawed, but at least minimally flawed.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12837528\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12837528&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12837528\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"tdunning\\\" id=\\\"commentauthor_12837528_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=tdunning\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"tdunning\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ted Dunning\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837528_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 23:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T23:52:50+0000\'\u003e23\\/Feb\\/10 23:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\\n\u003cp\u003eYeah in this context there\'s no choice but to count unrated items as misses. My intuition based on limited experience is it is in fact an issue - are the best items for a user typically found among their ratings in real-world data sets? I just can\'t imagine it\'s so for most users, who express few ratings.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eThis suggests that mean reciprocal rank (MRR) of the top 5 or 10 highly rated items might be a useful measure.  Even if the top 10 has several unrated good choices, if the rated choices are all pretty high then you can have pretty good feelings even if they didn\'t quite make the top 10.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"tdunning\\\" id=\\\"commentauthor_12837528_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=tdunning\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"tdunning\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ted Dunning\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12837528_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/10 23:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-23T23:52:50+0000\'\u003e23\\/Feb\\/10 23:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    \\n Yeah in this context there\'s no choice but to count unrated items as misses. My intuition based on limited experience is it is in fact an issue - are the best items for a user typically found among their ratings in real-world data sets? I just can\'t imagine it\'s so for most users, who express few ratings.  \\n\\n This suggests that mean reciprocal rank (MRR) of the top 5 or 10 highly rated items might be a useful measure.  Even if the top 10 has several unrated good choices, if the rated choices are all pretty high then you can have pretty good feelings even if they didn\'t quite make the top 10.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12838044\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12838044&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12838044\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jamborta\\\" id=\\\"commentauthor_12838044_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jamborta\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jamborta\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tamas Jambor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12838044_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Feb\\/10 22:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-24T22:41:20+0000\'\u003e24\\/Feb\\/10 22:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI usually pick random N % data for each user as Ankur suggested. This would ensure that the recommender is not biased, and it doesn\'t really matter that non-relevant items are in this subset, since they needed to be ranked lower anyway. \u003c\\/p\u003e\\n\\n\u003cp\u003eI think the way Sean implemented it is also pretty good, taking the top-n relevant items and evaluating on that data, but you have to build a new model for each user, which makes it impossible to use it on a big data set, especially with SVD.\u003c\\/p\u003e\\n\\n\u003cp\u003eI agree that the other issue is how to deal with non-rated item. I personally just rank items that has known ratings, so that the relevance judgement is always known. but I\'ve been thinking to changing it to count unrated items as non-relevant. I think there are pros and cons either way.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jamborta\\\" id=\\\"commentauthor_12838044_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jamborta\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jamborta\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tamas Jambor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12838044_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Feb\\/10 22:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-24T22:41:20+0000\'\u003e24\\/Feb\\/10 22:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I usually pick random N % data for each user as Ankur suggested. This would ensure that the recommender is not biased, and it doesn\'t really matter that non-relevant items are in this subset, since they needed to be ranked lower anyway.  \\n\\n I think the way Sean implemented it is also pretty good, taking the top-n relevant items and evaluating on that data, but you have to build a new model for each user, which makes it impossible to use it on a big data set, especially with SVD. \\n\\n I agree that the other issue is how to deal with non-rated item. I personally just rank items that has known ratings, so that the relevance judgement is always known. but I\'ve been thinking to changing it to count unrated items as non-relevant. I think there are pros and cons either way.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12860221\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12860221&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12860221\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12860221_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12860221_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Apr\\/10 11:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-23T11:30:52+0000\'\u003e23\\/Apr\\/10 11:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFirst copying and pasting my comment from the mailing list:\u003c\\/p\u003e\\n\\n\u003cp\u003eAnkur effectively raised issues about the performance of\u003cbr\\/\u003e\\norg.apache.mahout.cf.taste.hadoop.item by adding\u003cbr\\/\u003e\\norg.apache.mahout.cf.taste.hadoop.cooccurrence, which is a similar\u003cbr\\/\u003e\\nrecommender job (item cooccurrence-based) but with a different\u003cbr\\/\u003e\\nimplementation. \\\".item\\\" ultimately does not distribute the matrix-user\u003cbr\\/\u003e\\nvector multiply, and \\\".coocurrence\\\" highly distributes it.\u003c\\/p\u003e\\n\\n\u003cp\u003e.item accomplished this by side-loading the co-occurrence matrix into\u003cbr\\/\u003e\\na reducer, by accessing it from disk as MapFiles. This way of\u003cbr\\/\u003e\\naccessing columns proved to be very slow.\u003c\\/p\u003e\\n\\n\u003cp\u003eAfter much experimentation, I\'ve completely overhauled .item by\u003cbr\\/\u003e\\ngrafting in ideas from .cooccurrence. It is a sort of\u003cbr\\/\u003e\\nbest-of-both-worlds hybrid of the two. It borrows a clever way to join\u003cbr\\/\u003e\\ntwo kinds of input into one MapReduce, in order to join the\u003cbr\\/\u003e\\nco-occurrence matrix columns and individual elements of each user\u003cbr\\/\u003e\\nvector. The product is output and recombined later. This hybrid\u003cbr\\/\u003e\\nretains features of .item like accommodating user ratings.\u003c\\/p\u003e\\n\\n\u003cp\u003eLetting Hadoop manage the data flow, even though it takes a bit more\u003cbr\\/\u003e\\ncopying, avoiding reading from MapFile in a random-access manner,\u003cbr\\/\u003e\\nusing features like the Combiner, and being smarter about Writables\u003cbr\\/\u003e\\nhas sped this up for me by at least a factor of 10 &#8211; mostly that\u003cbr\\/\u003e\\navoiding MapFiles.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12860221_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12860221_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Apr\\/10 11:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-23T11:30:52+0000\'\u003e23\\/Apr\\/10 11:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    First copying and pasting my comment from the mailing list: \\n\\n Ankur effectively raised issues about the performance of \\norg.apache.mahout.cf.taste.hadoop.item by adding \\norg.apache.mahout.cf.taste.hadoop.cooccurrence, which is a similar \\nrecommender job (item cooccurrence-based) but with a different \\nimplementation. \\\".item\\\" ultimately does not distribute the matrix-user \\nvector multiply, and \\\".coocurrence\\\" highly distributes it. \\n\\n .item accomplished this by side-loading the co-occurrence matrix into \\na reducer, by accessing it from disk as MapFiles. This way of \\naccessing columns proved to be very slow. \\n\\n After much experimentation, I\'ve completely overhauled .item by \\ngrafting in ideas from .cooccurrence. It is a sort of \\nbest-of-both-worlds hybrid of the two. It borrows a clever way to join \\ntwo kinds of input into one MapReduce, in order to join the \\nco-occurrence matrix columns and individual elements of each user \\nvector. The product is output and recombined later. This hybrid \\nretains features of .item like accommodating user ratings. \\n\\n Letting Hadoop manage the data flow, even though it takes a bit more \\ncopying, avoiding reading from MapFile in a random-access manner, \\nusing features like the Combiner, and being smarter about Writables \\nhas sped this up for me by at least a factor of 10 &#8211; mostly that \\navoiding MapFiles.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12860223\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12860223&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12860223\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12860223_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12860223_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Apr\\/10 11:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-23T11:37:56+0000\'\u003e23\\/Apr\\/10 11:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAnd now more thoughts:\u003c\\/p\u003e\\n\\n\u003cp\u003eYes all the code is checked in. \u003c\\/p\u003e\\n\\n\u003cp\u003eThis is still running perhaps slower than I\'d like. The step to distributing the computation more slowed things down considerably in the I\\/O phases &#8211; but avoided use of MapFile which was in the end just being used very wrongly. So a net win.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe slowest step by far is outputting the partial vector products. Each is as big as a column of the co-occurrence matrix (which is sparse, yes), and one is output for each preference value. That\'s huge. This would be an ideal place for a combiner but it\'s a reducer, so it\'s not available \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/help_16.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eCo-occurrence is also slowish. It does use a combiner but to get a good hit rate, it needs to have a very large buffer.\u003c\\/p\u003e\\n\\n\u003cp\u003eEverything works quite well if you\'re willing to prune data. For example, very roughly, on a 10M rating data set &#8211; \u003cb\u003ebut keeping only 20 prefs per user for each of 70,000 users\u003c\\/b\u003e &#8211; the total time per users is in seconds of machine time. Not too bad.\u003c\\/p\u003e\\n\\n\u003cp\u003eBut take that off and this still balloons quite a bit. Naturally, pruning is a good thing but it seems like we should be able to speed up more.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12860223_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12860223_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Apr\\/10 11:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-23T11:37:56+0000\'\u003e23\\/Apr\\/10 11:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    And now more thoughts: \\n\\n Yes all the code is checked in.  \\n\\n This is still running perhaps slower than I\'d like. The step to distributing the computation more slowed things down considerably in the I\\/O phases &#8211; but avoided use of MapFile which was in the end just being used very wrongly. So a net win. \\n\\n The slowest step by far is outputting the partial vector products. Each is as big as a column of the co-occurrence matrix (which is sparse, yes), and one is output for each preference value. That\'s huge. This would be an ideal place for a combiner but it\'s a reducer, so it\'s not available   \\n\\n Co-occurrence is also slowish. It does use a combiner but to get a good hit rate, it needs to have a very large buffer. \\n\\n Everything works quite well if you\'re willing to prune data. For example, very roughly, on a 10M rating data set &#8211;  but keeping only 20 prefs per user for each of 70,000 users  &#8211; the total time per users is in seconds of machine time. Not too bad. \\n\\n But take that off and this still balloons quite a bit. Naturally, pruning is a good thing but it seems like we should be able to speed up more.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12860265\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12860265&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12860265\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12860265_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12860265_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Apr\\/10 15:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-23T15:11:12+0000\'\u003e23\\/Apr\\/10 15:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt; Co-occurrence is also slowish ..\u003cbr\\/\u003e\\nI am thinking this can be speeded up using the secondary sort trick so that values need not be cached. Also items that fall below a threshold can be pruned. This will help in reducing the size of co-occurrence vector reducing the I\\/O load. This will speed up recommendations computation also.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12860265_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12860265_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Apr\\/10 15:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-23T15:11:12+0000\'\u003e23\\/Apr\\/10 15:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt; Co-occurrence is also slowish .. \\nI am thinking this can be speeded up using the secondary sort trick so that values need not be cached. Also items that fall below a threshold can be pruned. This will help in reducing the size of co-occurrence vector reducing the I\\/O load. This will speed up recommendations computation also. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12860284\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12860284&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12860284\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12860284_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12860284_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Apr\\/10 15:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-23T15:37:10+0000\'\u003e23\\/Apr\\/10 15:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWhat do you mean about the secondary sort and is it something I can set about porting \\/ writing?\u003c\\/p\u003e\\n\\n\u003cp\u003eYes it may be inevitable that one has to prune the data to run this reasonably. It doesn\'t necessarily hurt. We probably need better facilities than hard-coding taking the top 20.\u003c\\/p\u003e\\n\\n\u003cp\u003eI suggest we merge into the .item implementation, since it resembles the rest of the code base (both other MR jobs and recommender bits) somewhat more. The framework of has been kind of debugged by a few users, and now the machinery has the best of both worlds inside, including a few more new tricks. You\'re welcome to continue messing with it.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12860284_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12860284_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Apr\\/10 15:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-23T15:37:10+0000\'\u003e23\\/Apr\\/10 15:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    What do you mean about the secondary sort and is it something I can set about porting \\/ writing? \\n\\n Yes it may be inevitable that one has to prune the data to run this reasonably. It doesn\'t necessarily hurt. We probably need better facilities than hard-coding taking the top 20. \\n\\n I suggest we merge into the .item implementation, since it resembles the rest of the code base (both other MR jobs and recommender bits) somewhat more. The framework of has been kind of debugged by a few users, and now the machinery has the best of both worlds inside, including a few more new tricks. You\'re welcome to continue messing with it.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12860882\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12860882&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12860882\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12860882_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12860882_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Apr\\/10 10:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-26T10:19:21+0000\'\u003e26\\/Apr\\/10 10:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCooccurrenceCombiner caches items internally and increments counts whenever it sees a new value. This might lead to memory issues with some real big datasets. Moreover, for every (item-id, count)  cached, a new object is created to apply a simple procedure. Looks an overkill to me.\u003c\\/p\u003e\\n\\n\u003cp\u003eWith the secondary sort (item1, item2)  pairs are already sorted so that for each key (item1) all the (item1, item2) pairs appear before (item1, item3) assuming item2 &lt; item3. With this we simple increment the count each time we see item2 and put the (item2, count) entry into a priority queue as soon as we see item3 or something else. The size of the priority queue can be limited to N.  Check out ItemSimilarityEstimator.java.\u003c\\/p\u003e\\n\\n\u003cp\u003eAgreed we need better facilities for pruning, something like support-count (any other?).\u003c\\/p\u003e\\n\\n\u003cp\u003eAbout merging, I feel CooccurrenceCombiner would be better with secondary sort. Also it will be good if we can retain TupleWritable for future use. Other than these I have no issues with throwing away code under o.a.m.cf.taste.hadoop.cooccurrence\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12860882_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12860882_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Apr\\/10 10:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-26T10:19:21+0000\'\u003e26\\/Apr\\/10 10:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    CooccurrenceCombiner caches items internally and increments counts whenever it sees a new value. This might lead to memory issues with some real big datasets. Moreover, for every (item-id, count)  cached, a new object is created to apply a simple procedure. Looks an overkill to me. \\n\\n With the secondary sort (item1, item2)  pairs are already sorted so that for each key (item1) all the (item1, item2) pairs appear before (item1, item3) assuming item2 &lt; item3. With this we simple increment the count each time we see item2 and put the (item2, count) entry into a priority queue as soon as we see item3 or something else. The size of the priority queue can be limited to N.  Check out ItemSimilarityEstimator.java. \\n\\n Agreed we need better facilities for pruning, something like support-count (any other?). \\n\\n About merging, I feel CooccurrenceCombiner would be better with secondary sort. Also it will be good if we can retain TupleWritable for future use. Other than these I have no issues with throwing away code under o.a.m.cf.taste.hadoop.cooccurrence              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12860895\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12860895&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12860895\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12860895_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12860895_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Apr\\/10 11:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-26T11:17:35+0000\'\u003e26\\/Apr\\/10 11:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMost broadly, the input is item1-&gt;item2 pairs and the final output of the co-occurrence step is item1-&gt;((item2,count2),(item3,count3),...) &#8211; rows of the co-occurrence matrix. I\'m trying to do it in one pass, so need the reducer keyed by item1 instead of a pair. So I generate item1-&gt;(item2,count) in the mapper, combine, and then reduce to the vector in one go.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eBut OK you\'re suggesting to unpack that, and try to first output (item1,item2)-&gt;count, and from there a second stage can generate the rows.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn ItemSimilarityEstimator, the map seems to emit (item1,item2)\u003cdel\u003e&gt;(item2,count). OK, so I understood the \'redundant\' item2 in the key to be the secondary sort trick, so you can efficiently sum up counts and emit the final (item1,item2)\u003c\\/del\u003e&gt;count. But then why is the value (item2,count) and not just count?\u003c\\/p\u003e\\n\\n\u003cp\u003eAnd why is a priority queue needed? Is it just used to store and emit only the top item-item pairs by count? That makes sense, though you\'ve made the size 20, isn\'t that too small? or is it that the user must set this to a reasonable size. Or you could scrap the priority queue and filter based on a count cutoff. I\'m fond of culling co-occurrence of 1 and keeping everything else. No queue needed for that though it doesn\'t cap the size of the resulting matrix.\u003c\\/p\u003e\\n\\n\\n\\n\\n\u003cp\u003eWhat worries me is the size of the map output. Spilling an (item1,item2) pair for every co-occurrence is absolutely massive. With P preferences, U users, and I items, you\'re spilling about U*(P\\/U)^2 pairs = P^2\\/U. With a billion preferences that\'s getting easily into quadrillions.\u003c\\/p\u003e\\n\\n\u003cp\u003eNow of course the combiner, in theory, prevents almost all of this from spilling to disk. It sums up counts, so the number of pairs output is more on the order of I^2. In practice, I think the combiner doesn\'t have enough memory. Before it has to spill its queue through the combiner, it rarely tallies up the same item-item cooccurrence more than once. On a smallish data set I find the \'hit rate\' about 10% in this regards, even with io.sort.mb increased from a healthy 200MB to 1000MB.\u003c\\/p\u003e\\n\\n\u003cp\u003eAnd this is what\'s killing the job, I think, emitting so many low-count pairs. So that\'s why I was trying to be very aggressive in the combiner in throwing out data, and maybe need to do more. And being super-aggressive can mean capping the size of that intermediate map quite a bit more. And then that also kind of addresses the scalability bottleneck issue, and enables this to happen in one go anyway.\u003c\\/p\u003e\\n\\n\u003cp\u003eOr perhaps I miss why emitting pairs with count is actually going to be very scalable. It\'s very attractive after the map phase, but it\'s the spill after the map that\'s the problem I think.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eTupleWritable is copied and paste from Hadoop right?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12860895_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12860895_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Apr\\/10 11:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-26T11:17:35+0000\'\u003e26\\/Apr\\/10 11:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Most broadly, the input is item1-&gt;item2 pairs and the final output of the co-occurrence step is item1-&gt;((item2,count2),(item3,count3),...) &#8211; rows of the co-occurrence matrix. I\'m trying to do it in one pass, so need the reducer keyed by item1 instead of a pair. So I generate item1-&gt;(item2,count) in the mapper, combine, and then reduce to the vector in one go. \\n\\n\\n But OK you\'re suggesting to unpack that, and try to first output (item1,item2)-&gt;count, and from there a second stage can generate the rows. \\n\\n In ItemSimilarityEstimator, the map seems to emit (item1,item2) &gt;(item2,count). OK, so I understood the \'redundant\' item2 in the key to be the secondary sort trick, so you can efficiently sum up counts and emit the final (item1,item2) &gt;count. But then why is the value (item2,count) and not just count? \\n\\n And why is a priority queue needed? Is it just used to store and emit only the top item-item pairs by count? That makes sense, though you\'ve made the size 20, isn\'t that too small? or is it that the user must set this to a reasonable size. Or you could scrap the priority queue and filter based on a count cutoff. I\'m fond of culling co-occurrence of 1 and keeping everything else. No queue needed for that though it doesn\'t cap the size of the resulting matrix. \\n\\n\\n\\n\\n What worries me is the size of the map output. Spilling an (item1,item2) pair for every co-occurrence is absolutely massive. With P preferences, U users, and I items, you\'re spilling about U*(P\\/U)^2 pairs = P^2\\/U. With a billion preferences that\'s getting easily into quadrillions. \\n\\n Now of course the combiner, in theory, prevents almost all of this from spilling to disk. It sums up counts, so the number of pairs output is more on the order of I^2. In practice, I think the combiner doesn\'t have enough memory. Before it has to spill its queue through the combiner, it rarely tallies up the same item-item cooccurrence more than once. On a smallish data set I find the \'hit rate\' about 10% in this regards, even with io.sort.mb increased from a healthy 200MB to 1000MB. \\n\\n And this is what\'s killing the job, I think, emitting so many low-count pairs. So that\'s why I was trying to be very aggressive in the combiner in throwing out data, and maybe need to do more. And being super-aggressive can mean capping the size of that intermediate map quite a bit more. And then that also kind of addresses the scalability bottleneck issue, and enables this to happen in one go anyway. \\n\\n Or perhaps I miss why emitting pairs with count is actually going to be very scalable. It\'s very attractive after the map phase, but it\'s the spill after the map that\'s the problem I think. \\n\\n\\n TupleWritable is copied and paste from Hadoop right?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12860914\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12860914&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12860914\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12860914_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12860914_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Apr\\/10 12:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-26T12:54:45+0000\'\u003e26\\/Apr\\/10 12:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOK, I think I get the (item1,item2) -&gt; (item2,count) part, at least, why it can be used in conjunction with a one-pass solution.\u003c\\/p\u003e\\n\\n\u003cp\u003eI wasn\'t sure how you guarantee that all (item1,item2) for item1 arrive at the same reducer. But the answer is the partitioner?\u003c\\/p\u003e\\n\\n\u003cp\u003eThen it works; I still think there is a need for lots of pruning and big combiner buffers after the map but that\'s different.\u003c\\/p\u003e\\n\\n\u003cp\u003eAm I right that (item1,item2) -&gt; count is all that\'s needed?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12860914_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12860914_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Apr\\/10 12:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-26T12:54:45+0000\'\u003e26\\/Apr\\/10 12:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    OK, I think I get the (item1,item2) -&gt; (item2,count) part, at least, why it can be used in conjunction with a one-pass solution. \\n\\n I wasn\'t sure how you guarantee that all (item1,item2) for item1 arrive at the same reducer. But the answer is the partitioner? \\n\\n Then it works; I still think there is a need for lots of pruning and big combiner buffers after the map but that\'s different. \\n\\n Am I right that (item1,item2) -&gt; count is all that\'s needed?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12860931\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12860931&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12860931\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"tdunning\\\" id=\\\"commentauthor_12860931_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=tdunning\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"tdunning\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ted Dunning\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12860931_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Apr\\/10 14:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-26T14:22:44+0000\'\u003e26\\/Apr\\/10 14:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\\n\u003cp\u003eI think that the key to speed with a cooccurrence counter is not to prune small support items, but rather to prune the most common items.  The problem is that the overall speed is proportional to the average of the square of the number of items per user.   You can either prune each item to only be seen as related to a bounded number of users, or you can limit the number of items each user is considered to have seen.  Either has pretty much the desired impact and neither causes any significant loss of information (partly because users who touch toooo many items are often spammers and partly because we don\'t learn anything new about them after the first several hundred items).\u003c\\/p\u003e\\n\\n\u003cp\u003eAnother alternative is to use a decomposition-based approximation of the cooccurrence matrix.  I think both techniques should be available so the direct counting approach is still valuable.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"tdunning\\\" id=\\\"commentauthor_12860931_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=tdunning\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"tdunning\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ted Dunning\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12860931_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Apr\\/10 14:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-26T14:22:44+0000\'\u003e26\\/Apr\\/10 14:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                   \\n I think that the key to speed with a cooccurrence counter is not to prune small support items, but rather to prune the most common items.  The problem is that the overall speed is proportional to the average of the square of the number of items per user.   You can either prune each item to only be seen as related to a bounded number of users, or you can limit the number of items each user is considered to have seen.  Either has pretty much the desired impact and neither causes any significant loss of information (partly because users who touch toooo many items are often spammers and partly because we don\'t learn anything new about them after the first several hundred items). \\n\\n Another alternative is to use a decomposition-based approximation of the cooccurrence matrix.  I think both techniques should be available so the direct counting approach is still valuable.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12860939\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12860939&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12860939\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12860939_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12860939_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Apr\\/10 14:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-26T14:39:16+0000\'\u003e26\\/Apr\\/10 14:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt; But the answer is the partitioner ?\u003cbr\\/\u003e\\nYes\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; Am I right that (item1, item2) -&gt;count is all that\'s needed ?\u003cbr\\/\u003e\\nYes\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; And why is the priority queue needed ...\u003c\\/p\u003e\\n\\n\u003cp\u003eYou could use both a co-occurrence count (your favorite) and max number co-occurrent pair (say 1000). I have chosen a size 100. So for any given item the top-100 co-occurrent items (by count) would be output. Though the size is limited with this it still can cause explosion if there are very long histories. From netflix dataset recall the users who have rated more than 10K movies. So one way of taking care of them is to apply \'sessionization\' i.e. output a co-occurrence pair only if they are part of a session or satisfy some other constraint. But that is not implemented yet. \u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; TupleWritable ...\u003cbr\\/\u003e\\nNot really. I have a specialized implementation for my own purpose using GenericWritable that wraps each object of TupleWritable.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ankur\\\" id=\\\"commentauthor_12860939_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ankur\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ankur\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ankur\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12860939_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Apr\\/10 14:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-26T14:39:16+0000\'\u003e26\\/Apr\\/10 14:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt; But the answer is the partitioner ? \\nYes \\n\\n &gt; Am I right that (item1, item2) -&gt;count is all that\'s needed ? \\nYes \\n\\n &gt; And why is the priority queue needed ... \\n\\n You could use both a co-occurrence count (your favorite) and max number co-occurrent pair (say 1000). I have chosen a size 100. So for any given item the top-100 co-occurrent items (by count) would be output. Though the size is limited with this it still can cause explosion if there are very long histories. From netflix dataset recall the users who have rated more than 10K movies. So one way of taking care of them is to apply \'sessionization\' i.e. output a co-occurrence pair only if they are part of a session or satisfy some other constraint. But that is not implemented yet.  \\n\\n &gt; TupleWritable ... \\nNot really. I have a specialized implementation for my own purpose using GenericWritable that wraps each object of TupleWritable.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12861095\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12861095&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12861095\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12861095_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12861095_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Apr\\/10 20:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-26T20:46:18+0000\'\u003e26\\/Apr\\/10 20:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'m about to commit another pass at this since it\'s getting better and better, that would formally collapse the two together per this thread. Then some more ideas can be added in that I didn\'t already.\u003c\\/p\u003e\\n\\n\u003cp\u003eTed how do you like to pick which items to pay attention to for co-occurrence? I\'m looking for something simple to start.\u003c\\/p\u003e\\n\\n\u003cp\u003eThough it\'s running pretty well (well a lot better than it was) at the moment, with the aggressive combiner chucking out low-frequency co-occurrence.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12861095_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12861095_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Apr\\/10 20:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-26T20:46:18+0000\'\u003e26\\/Apr\\/10 20:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'m about to commit another pass at this since it\'s getting better and better, that would formally collapse the two together per this thread. Then some more ideas can be added in that I didn\'t already. \\n\\n Ted how do you like to pick which items to pay attention to for co-occurrence? I\'m looking for something simple to start. \\n\\n Though it\'s running pretty well (well a lot better than it was) at the moment, with the aggressive combiner chucking out low-frequency co-occurrence.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12861144\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12861144&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12861144\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12861144_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12861144_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Apr\\/10 22:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-26T22:22:25+0000\'\u003e26\\/Apr\\/10 22:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eTed says he likes LLR, and doesn\'t like throwing out the low-count co-occurrences.\u003c\\/p\u003e\\n\\n\u003cp\u003eI agree, in the sense that low-count doesn\'t mean unimportant. It\'s something that LLR that figures out whether it\'s meaningless or contains a lot of info.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think the sentiment reduces to, this would be a better system if LLRs were used instead of simple co-occurrence counts as weights, which is right. It would involve the whole step of computing all item-item LLRs right? which can be done.\u003c\\/p\u003e\\n\\n\u003cp\u003eMy vision is to start with this simple system and work towards generalizing, so I can stick in a different means of generation the weights matrix, and different strategies for pruning..\u003c\\/p\u003e\\n\\n\u003cp\u003eSo if generalizing to create a second, LLR-based system comes next, does it make sense to leave in the dumb co-occurrence based system as well? meh, probably for now. So what\'s the appropriately dumb pruning method for co-occurrence counts?\u003c\\/p\u003e\\n\\n\u003cp\u003eSince pruning a co-occurrence means setting its count to 0, it made sense to me that the error from pruning is minimized by pruning those with lowest counts (already closest to 0).\u003c\\/p\u003e\\n\\n\u003cp\u003e(By the way I meant \'running well\' in the sense of quickly; I haven\'t run much evaluation of the output yet.)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12861144_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12861144_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Apr\\/10 22:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-26T22:22:25+0000\'\u003e26\\/Apr\\/10 22:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Ted says he likes LLR, and doesn\'t like throwing out the low-count co-occurrences. \\n\\n I agree, in the sense that low-count doesn\'t mean unimportant. It\'s something that LLR that figures out whether it\'s meaningless or contains a lot of info. \\n\\n I think the sentiment reduces to, this would be a better system if LLRs were used instead of simple co-occurrence counts as weights, which is right. It would involve the whole step of computing all item-item LLRs right? which can be done. \\n\\n My vision is to start with this simple system and work towards generalizing, so I can stick in a different means of generation the weights matrix, and different strategies for pruning.. \\n\\n So if generalizing to create a second, LLR-based system comes next, does it make sense to leave in the dumb co-occurrence based system as well? meh, probably for now. So what\'s the appropriately dumb pruning method for co-occurrence counts? \\n\\n Since pruning a co-occurrence means setting its count to 0, it made sense to me that the error from pruning is minimized by pruning those with lowest counts (already closest to 0). \\n\\n (By the way I meant \'running well\' in the sense of quickly; I haven\'t run much evaluation of the output yet.)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12861171\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12861171&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12861171\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"tdunning\\\" id=\\\"commentauthor_12861171_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=tdunning\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"tdunning\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ted Dunning\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12861171_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Apr\\/10 23:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-26T23:45:26+0000\'\u003e26\\/Apr\\/10 23:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\\n\u003cp\u003eTed says he ... doesn\'t like throwing out the low-count co-occurrences.\u003c\\/p\u003e\\n\\n\u003cp\u003eI agree, in the sense that low-count doesn\'t mean unimportant. It\'s something that LLR that figures out whether it\'s meaningless or contains a lot of info.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eClose.  But I would go further and say that on average individual data records that are high count are generally less useful than those with low counts and they are quadratically more expensive to deal with.  That combination of much higher expense and considerably lower value makes it seem to be a good idea to nuke (aka downsample) those records rather than lose the low count stuff.  \u003c\\/p\u003e\\n\\n\u003cp\u003eDropping low count items in the combiner is even worse since there might have been quite a number scattered around that could have added up to interesting levels.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"tdunning\\\" id=\\\"commentauthor_12861171_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=tdunning\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"tdunning\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ted Dunning\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12861171_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Apr\\/10 23:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-26T23:45:26+0000\'\u003e26\\/Apr\\/10 23:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    \\n Ted says he ... doesn\'t like throwing out the low-count co-occurrences. \\n\\n I agree, in the sense that low-count doesn\'t mean unimportant. It\'s something that LLR that figures out whether it\'s meaningless or contains a lot of info.  \\n\\n Close.  But I would go further and say that on average individual data records that are high count are generally less useful than those with low counts and they are quadratically more expensive to deal with.  That combination of much higher expense and considerably lower value makes it seem to be a good idea to nuke (aka downsample) those records rather than lose the low count stuff.   \\n\\n Dropping low count items in the combiner is even worse since there might have been quite a number scattered around that could have added up to interesting levels. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12861381\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12861381&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12861381\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12861381_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12861381_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Apr\\/10 12:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-27T12:15:57+0000\'\u003e27\\/Apr\\/10 12:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI see, fair enough. Even for this simplistic initial system, something better is called for. Perhaps the mappers can keep a count of how many times each item has been seen and favor co-occurrences among items that have \u003cb\u003enot\u003c\\/b\u003e been seen. they wouldn\'t have a global count but such a simple heuristic may be efficient and effective. For now I might arbitrarily prune, say, for user vectors with more than 50 preferences.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12861381_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12861381_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Apr\\/10 12:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-27T12:15:57+0000\'\u003e27\\/Apr\\/10 12:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I see, fair enough. Even for this simplistic initial system, something better is called for. Perhaps the mappers can keep a count of how many times each item has been seen and favor co-occurrences among items that have  not  been seen. they wouldn\'t have a global count but such a simple heuristic may be efficient and effective. For now I might arbitrarily prune, say, for user vectors with more than 50 preferences.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12861520\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12861520&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12861520\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"tdunning\\\" id=\\\"commentauthor_12861520_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=tdunning\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"tdunning\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ted Dunning\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12861520_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Apr\\/10 20:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-27T20:08:22+0000\'\u003e27\\/Apr\\/10 20:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMy own approach in the past was to group on user to get a count as well as a list of items for that user.  This can be done in one MR step with a bit of fancy footwork or in two if you want simple.  The fancy footwork involves reading the item list into memory as we sample to avoid keeping too many.  It is relatively easy to do the sampling in a completely fair way, allowing all samples equal chance of survival by using a swapping algorithm.  A completely sampling is also trivial.  With some thought, it is probably possible to do various recency weighted samples as well.  \u003c\\/p\u003e\\n\\n\u003cp\u003eWith the count for the items for each user, or a clever on-line sampling algorithm I can down-sample the user list before running the actual cooccurrence counting step.  This is a good point to drop users with &lt; k_min items.  k_min should be at least 2 since users with one item cannot give rise to non-trivial cooccurrence.  A value of 3-5 isn\'t bad either.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe total time involved is pretty dominated by the original data reading so the extra MR step doesn\'t hurt all that much.  The win obtained by avoiding quadratic explosion of the cooccurrence step is massive.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"tdunning\\\" id=\\\"commentauthor_12861520_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=tdunning\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"tdunning\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ted Dunning\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12861520_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Apr\\/10 20:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-27T20:08:22+0000\'\u003e27\\/Apr\\/10 20:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    My own approach in the past was to group on user to get a count as well as a list of items for that user.  This can be done in one MR step with a bit of fancy footwork or in two if you want simple.  The fancy footwork involves reading the item list into memory as we sample to avoid keeping too many.  It is relatively easy to do the sampling in a completely fair way, allowing all samples equal chance of survival by using a swapping algorithm.  A completely sampling is also trivial.  With some thought, it is probably possible to do various recency weighted samples as well.   \\n\\n With the count for the items for each user, or a clever on-line sampling algorithm I can down-sample the user list before running the actual cooccurrence counting step.  This is a good point to drop users with &lt; k_min items.  k_min should be at least 2 since users with one item cannot give rise to non-trivial cooccurrence.  A value of 3-5 isn\'t bad either. \\n\\n The total time involved is pretty dominated by the original data reading so the extra MR step doesn\'t hurt all that much.  The win obtained by avoiding quadratic explosion of the cooccurrence step is massive. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12861674\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-305?focusedCommentId=12861674&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12861674\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12861674_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12861674_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Apr\\/10 04:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-28T04:42:26+0000\'\u003e28\\/Apr\\/10 04:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think with my latest commit this is substantially done. It weaves together the spirit of your implementation, plus Ted\'s ideas about pruning, into the existing shell I had under .item. I retained TupleWritable though it\'s not now used. The unified implementation remains open for business for anyone to keep working on.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_12861674_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12861674_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Apr\\/10 04:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-04-28T04:42:26+0000\'\u003e28\\/Apr\\/10 04:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I think with my latest commit this is substantially done. It weaves together the spirit of your implementation, plus Ted\'s ideas about pruning, into the existing shell I had under .item. I retained TupleWritable though it\'s not now used. The unified implementation remains open for business for anyone to keep working on.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310751";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/MAHOUT\\/summary\\\" title=\\\"Mahout\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310751&amp;avatarId=10103\\\" alt=\\\"Mahout\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/MAHOUT\\/summary\\\" title=\\\"Mahout\\\"\u003eMahout\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/MAHOUT\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/MAHOUT?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/MAHOUT?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1516195559863"> 
    <input type="hidden" title="jira.request.server.time" value="492"> 
    <input type="hidden" title="jira.request.id" value="805x7373354x5"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="4"> 
    <input type="hidden" title="db.reads.time.in.ms" value="39"> 
    <input type="hidden" title="db.conns.time.in.ms" value="48"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 805x7373354x5
	          REQUEST TIMESTAMP : [17/Jan/2018:13:25:59 +0000]
	               REQUEST TIME : 0.4920
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 4

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=16, elapsedTotal=39474857, elapsedMin=978956, elapsedMax=13089249, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=20, elapsedTotal=48893828, elapsedMin=1045208, elapsedMax=13222265, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>