<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|892e29ab0d2edcd15c29e34d6f78f8617f9846d0|lout"> 
  <link rel="shortcut icon" href="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"sd.customer.profile.multi.languages\":true,\"sd.customer.portal.transitions\":true,\"sd.customer.portal.transitions.config\":true,\"sd.custom.email.stripping.rules\":false,\"sd.sla.lucene.issue.id.callback.performance\":true,\"sd.new.settings.sidebar.location\":true,\"sd.workload.report.paginator\":true,\"sd.experimental.portal.search.algorithm.default.1\":false,\"sd.customer.portal.help.center.agent.announcement\":true,\"sd.sla.improved.rendering\":false,\"sd.experimental.portal.search.algorithm.default.2\":false,\"sd.customer.feedback.validate.reporter.on.token\":true,\"sd.custom.email.notifications.utf8.csat.star\":true,\"sd.who.create.customers.by.email.setting\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.renderer.consider.variable.format\":true,\"sd.stats.event.tracking\":true,\"sd.password.helper.dialog\":true,\"sd.canned.responses\":false,\"sd.portal.help.center.customer.signup.secondary.email\":true,\"sd.custom.email.notifications.manage.language\":true,\"sd.use.search.by.permissions\":true,\"sd.slavalue.record.updated.date\":false,\"sd.report.custom.date.range\":false,\"sd.kb.article.helpfulness.report\":false,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"sd.custom.email.notifications.styling\":true,\"sd.workinghours.new.page.bulldog.1\":false,\"sd.customer.portal.two.step.login\":false,\"sd.automation.psmq.async.executor\":true,\"sd.customer.org.list.page.lazy.search\":true,\"sd.approval.requested.when.handler\":true,\"sd.request.type.field.rest.api.filtering.bugfix\":true,\"sd.automation.then.action.auto.answer.approval\":true,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"sla.will.only.be.paused.if.they.are.already.started\":true,\"sd.kb.comment.share.stats.collection\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"sd.customer.orgs.group.participants\":true,\"sd.portal.help.center.customer.signup\":true,\"sd.sla.agent.jql.security.restricted\":true,\"sd.test.feature.flag.x\":true,\"sd.test.feature.flag.y\":false,\"sd.cluster.safe.mail.channel.shutdown\":true,\"sd.email.channel.folders\":false,\"sd.email.analytics.open\":false,\"sd.kb.project.creation.create.link.space\":true,\"sd.workinghours.new.page\":false,\"sd.confluence.anonymous.permission.fix\":true,\"com.atlassian.jira.issuetable.draggable\":true,\"sd.customer.portal.project.agent.announcement\":true,\"sd.automation.audit.log\":true,\"jira.jql.suggestrecentfields\":false,\"sd.canned.responses.check.index.startup\":false,\"sd.new.project.templates\":true,\"sd.custom.email.notifications.custom.rules.simple.ui\":false,\"sd.custom.email.notifications.cut.over\":true,\"sd.dismiss.all.misconfiguration.warnings.setting\":true,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"sd.sla.configurations.export\":true,\"sd.canned.responses.variable.substitution\":true,\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"sd.customer.portal.prioties.per.project.fix\":true,\"jira.instrumentation.laas\":false,\"sd.kb.self.service.report\":false,\"sla.improved.request.handling\":true,\"sd.no.schedule.async.upgrade.tasks\":true,\"sd.kb.primary.nav\":true,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"sd.kb.issueview.panel.phase2\":true,\"sd.email.outsider.comments\":true,\"jira.create.linked.issue\":true,\"sd.kb.issueview.panel\":true,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"sd.approvals.light.weight\":false,\"sd.automation.then.webhook\":true,\"sd.respect.inline.edit.issue.off\":true,\"jira.jql.smartautoselectfirst\":false,\"sd.global.portal.search.atlassian.only.tracking\":false,\"sd.automation.if.condition.comment.primary.action\":true,\"jira.priorities.per.project\":true,\"sd.inline.noformat.renderer\":true,\"sd.customer.request.type.create.edit.screens\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/png,image/vnd.wap.wbmp,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["com.atlassian.servicedesk.servicedesk-canned-responses-plugin:canned-responses-data-provider.data"]="{\"substitutionVariables\":{\"issue.summary\":\"Issue summary\",\"issue.description\":\"Issue description\",\"issue.key\":\"Issue key\",\"issue.reporter.name\":\"Issue reporter\",\"issue.resolution\":\"Issue resolution\",\"request.url\":\"Request URL\",\"request.status\":\"Request status\"}}";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-help-links.help-links"]="{\"help\":{\"email.settings\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"managing.queues\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+queues+for+your+team\",\"email.setup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"request.settings.help.bubble\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\",\"email.settings.suitablerequest\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email#Receivingrequestsbyemail-suitablerequest\",\"sla.import.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Importing+SLAs\",\"documentation.home\":\"https://docs.atlassian.com/jira/jsd-docs-039/JIRA+Service+Desk+Documentation\",\"default\":\"https://docs.atlassian.com/jira/jsd-docs-039/\",\"create.space.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base#serving-customers-with-a-knowledge-base-createpermission\",\"email.settings.troubleshooting\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+the+email+channel\",\"admin.notifications.config\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+service+desk+notifications\",\"troubleshoot.requesttype\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+request+types\",\"approvals.configuration\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+JIRA+Service+Desk+approvals\",\"setting.up.reports\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+service+desk+reports\",\"public.signup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+public+signup\",\"knowledge.base\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base\",\"resolve.permission.scheme.errors\":\"https://docs.atlassian.com/jira/jsd-docs-039/Resolving+permission+scheme+errors\",\"getting.started\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+with+JIRA+Service+Desk\",\"getting.started.agent\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+for+service+desk+agents\",\"invite.customers\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\"},\"kb\":{\"default\":\"https://confluence.atlassian.com/display/SDKB/\",\"troubleshooting.user.management.issues\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\",\"legacytransition\":\"https://confluence.atlassian.com/display/SDKB/Replacing+legacy+automatic+transitions+with+automation+rules\",\"umtroubleshoot\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\"}}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-base-url.base-url"]="\"https://issues.apache.org/jira\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"5079796c6c8bb2\"";
WRM._unparsedData["project-id"]="12310230";
WRM._unparsedData["project-key"]="\"SOLR\"";
WRM._unparsedData["project-name"]="\"Solr\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310230";
WRM._unparsedData["projectKey"]="\"SOLR\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/1a6b21131945f6f49ff48336b49ca3fe-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/d8484c9183f546511a8e336a8779bcd9-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d3b35d835f8f46fc3b53bb4db7f85158-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/71d42e74136d842a3ef4d5d136484843-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/95a4826c265852f4904f1e0e7300df68-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/944bb39eced1b35cfc7194aa02eb5a5a/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/5a8f0f8b8aa8f96a4f0f7e9e248d62f3-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="SOLR-104"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[SOLR-104] Update Plugins - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[SOLR-104] Update Plugins - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/SOLR" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-104">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310230" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Solr'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310230&amp;avatarId=22151"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/SOLR">Solr</a></li>
                 <li><a class="issue-link" data-issue-key="SOLR-104" href="/jira/browse/SOLR-104" id="key-val" rel="12360483">SOLR-104</a></li>
                </ol>
                <h1 id="summary-val">Update Plugins</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-104"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/SOLR-104/SOLR-104.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/SOLR-104/SOLR-104.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/SOLR-104/SOLR-104.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/SOLR-104/SOLR-104.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" title="Improvement - An improvement or enhancement to an existing feature or task." width="16"> Improvement </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="1.2 ">1.2</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+1.2" title="1.2 ">1.2</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+component+%3D+%22update%22" title="update Indexing and updating the search collection">update</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12360483-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>The plugin framework should work for 'update' actions in addition to 'search' actions.</p> 
                  <p>For more discussion on this, see:<br> <a href="http://www.nabble.com/Re%3A-Handling-disparate-data-sources-in-Solr-tf2918621.html#a8305828" class="external-link" rel="nofollow">http://www.nabble.com/Re%3A-Handling-disparate-data-sources-in-Solr-tf2918621.html#a8305828</a></p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/SOLR-104?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/SOLR-104?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/SOLR-104?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/SOLR-104?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12349320" data-issue-id="12360483" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12349320/commons-fileupload-20070107.jar" draggable="true" data-downloadurl="application/java-archive:commons-fileupload-20070107.jar:https://issues.apache.org/jira/secure/attachment/12349320/commons-fileupload-20070107.jar"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12349320/commons-fileupload-20070107.jar" title="Latest  20/Jan/07 19:17 - Ryan McKinley" draggable="true" data-downloadurl="application/java-archive:commons-fileupload-20070107.jar:https://issues.apache.org/jira/secure/attachment/12349320/commons-fileupload-20070107.jar">commons-fileupload-20070107.jar</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-01-20T19:17:27.535Z">20/Jan/07 19:17</time>
                   </dd>
                   <dd class="attachment-size">
                    49 kB
                   </dd>
                   <dd class="attachment-author">
                    Ryan McKinley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12349321" data-issue-id="12360483" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12349321/commons-io-1.2.jar" draggable="true" data-downloadurl="application/java-archive:commons-io-1.2.jar:https://issues.apache.org/jira/secure/attachment/12349321/commons-io-1.2.jar"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12349321/commons-io-1.2.jar" title="Latest  20/Jan/07 19:17 - Ryan McKinley" draggable="true" data-downloadurl="application/java-archive:commons-io-1.2.jar:https://issues.apache.org/jira/secure/attachment/12349321/commons-io-1.2.jar">commons-io-1.2.jar</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-01-20T19:17:46.306Z">20/Jan/07 19:17</time>
                   </dd>
                   <dd class="attachment-size">
                    64 kB
                   </dd>
                   <dd class="attachment-author">
                    Ryan McKinley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12349676" data-issue-id="12360483" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12349676/DispatchFilter.patch" draggable="true" data-downloadurl="text/x-patch:DispatchFilter.patch:https://issues.apache.org/jira/secure/attachment/12349676/DispatchFilter.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12349676/DispatchFilter.patch" title="Latest  26/Jan/07 11:17 - Ryan McKinley" draggable="true" data-downloadurl="text/x-patch:DispatchFilter.patch:https://issues.apache.org/jira/secure/attachment/12349676/DispatchFilter.patch">DispatchFilter.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-01-26T11:17:06.484Z">26/Jan/07 11:17</time>
                   </dd>
                   <dd class="attachment-size">
                    95 kB
                   </dd>
                   <dd class="attachment-author">
                    Ryan McKinley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12349491" data-issue-id="12360483" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12349491/DispatchFilter.patch" draggable="true" data-downloadurl="text/x-patch:DispatchFilter.patch:https://issues.apache.org/jira/secure/attachment/12349491/DispatchFilter.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12349491/DispatchFilter.patch" title=" 24/Jan/07 07:30 - Ryan McKinley" draggable="true" data-downloadurl="text/x-patch:DispatchFilter.patch:https://issues.apache.org/jira/secure/attachment/12349491/DispatchFilter.patch">DispatchFilter.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-01-24T07:30:28.793Z">24/Jan/07 07:30</time>
                   </dd>
                   <dd class="attachment-size">
                    95 kB
                   </dd>
                   <dd class="attachment-author">
                    Ryan McKinley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12349345" data-issue-id="12360483" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12349345/DispatchFilter.patch" draggable="true" data-downloadurl="text/x-patch:DispatchFilter.patch:https://issues.apache.org/jira/secure/attachment/12349345/DispatchFilter.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12349345/DispatchFilter.patch" title=" 21/Jan/07 21:08 - Ryan McKinley" draggable="true" data-downloadurl="text/x-patch:DispatchFilter.patch:https://issues.apache.org/jira/secure/attachment/12349345/DispatchFilter.patch">DispatchFilter.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-01-21T21:08:30.756Z">21/Jan/07 21:08</time>
                   </dd>
                   <dd class="attachment-size">
                    90 kB
                   </dd>
                   <dd class="attachment-author">
                    Ryan McKinley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12349332" data-issue-id="12360483" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12349332/DispatchFilter.patch" draggable="true" data-downloadurl="text/x-patch:DispatchFilter.patch:https://issues.apache.org/jira/secure/attachment/12349332/DispatchFilter.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12349332/DispatchFilter.patch" title=" 21/Jan/07 10:27 - Ryan McKinley" draggable="true" data-downloadurl="text/x-patch:DispatchFilter.patch:https://issues.apache.org/jira/secure/attachment/12349332/DispatchFilter.patch">DispatchFilter.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-01-21T10:27:32.601Z">21/Jan/07 10:27</time>
                   </dd>
                   <dd class="attachment-size">
                    62 kB
                   </dd>
                   <dd class="attachment-author">
                    Ryan McKinley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12349322" data-issue-id="12360483" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12349322/DispatchFilter.patch" draggable="true" data-downloadurl="text/x-patch:DispatchFilter.patch:https://issues.apache.org/jira/secure/attachment/12349322/DispatchFilter.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12349322/DispatchFilter.patch" title=" 20/Jan/07 19:18 - Ryan McKinley" draggable="true" data-downloadurl="text/x-patch:DispatchFilter.patch:https://issues.apache.org/jira/secure/attachment/12349322/DispatchFilter.patch">DispatchFilter.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-01-20T19:18:17.286Z">20/Jan/07 19:18</time>
                   </dd>
                   <dd class="attachment-size">
                    62 kB
                   </dd>
                   <dd class="attachment-author">
                    Ryan McKinley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12349115" data-issue-id="12360483" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12349115/DispatchFilter.patch" draggable="true" data-downloadurl="text/plain:DispatchFilter.patch:https://issues.apache.org/jira/secure/attachment/12349115/DispatchFilter.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12349115/DispatchFilter.patch" title=" 17/Jan/07 21:15 - Ryan McKinley" draggable="true" data-downloadurl="text/plain:DispatchFilter.patch:https://issues.apache.org/jira/secure/attachment/12349115/DispatchFilter.patch">DispatchFilter.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-01-17T21:15:45.892Z">17/Jan/07 21:15</time>
                   </dd>
                   <dd class="attachment-size">
                    41 kB
                   </dd>
                   <dd class="attachment-author">
                    Ryan McKinley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12349111" data-issue-id="12360483" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12349111/DispatchFilter.patch" draggable="true" data-downloadurl="text/plain:DispatchFilter.patch:https://issues.apache.org/jira/secure/attachment/12349111/DispatchFilter.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12349111/DispatchFilter.patch" title=" 17/Jan/07 20:00 - Ryan McKinley" draggable="true" data-downloadurl="text/plain:DispatchFilter.patch:https://issues.apache.org/jira/secure/attachment/12349111/DispatchFilter.patch">DispatchFilter.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-01-17T20:00:52.133Z">17/Jan/07 20:00</time>
                   </dd>
                   <dd class="attachment-size">
                    43 kB
                   </dd>
                   <dd class="attachment-author">
                    Ryan McKinley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12348912" data-issue-id="12360483" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12348912/HandlerRefactoring.DRAFT.patch" draggable="true" data-downloadurl="text/plain:HandlerRefactoring.DRAFT.patch:https://issues.apache.org/jira/secure/attachment/12348912/HandlerRefactoring.DRAFT.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12348912/HandlerRefactoring.DRAFT.patch" title="Latest  14/Jan/07 03:38 - Ryan McKinley" draggable="true" data-downloadurl="text/plain:HandlerRefactoring.DRAFT.patch:https://issues.apache.org/jira/secure/attachment/12348912/HandlerRefactoring.DRAFT.patch">HandlerRefactoring.DRAFT.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-01-14T03:38:24.520Z">14/Jan/07 03:38</time>
                   </dd>
                   <dd class="attachment-size">
                    260 kB
                   </dd>
                   <dd class="attachment-author">
                    Ryan McKinley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12348910" data-issue-id="12360483" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12348910/HandlerRefactoring.DRAFT.patch" draggable="true" data-downloadurl="text/plain:HandlerRefactoring.DRAFT.patch:https://issues.apache.org/jira/secure/attachment/12348910/HandlerRefactoring.DRAFT.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12348910/HandlerRefactoring.DRAFT.patch" title=" 14/Jan/07 02:39 - Ryan McKinley" draggable="true" data-downloadurl="text/plain:HandlerRefactoring.DRAFT.patch:https://issues.apache.org/jira/secure/attachment/12348910/HandlerRefactoring.DRAFT.patch">HandlerRefactoring.DRAFT.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-01-14T02:39:45.697Z">14/Jan/07 02:39</time>
                   </dd>
                   <dd class="attachment-size">
                    127 kB
                   </dd>
                   <dd class="attachment-author">
                    Ryan McKinley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12348911" data-issue-id="12360483" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12348911/HandlerRefactoring.DRAFT.zip" draggable="true" data-downloadurl="application/zip:HandlerRefactoring.DRAFT.zip:https://issues.apache.org/jira/secure/attachment/12348911/HandlerRefactoring.DRAFT.zip"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-zip" title="Zip Archive"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12348911/HandlerRefactoring.DRAFT.zip" title="Latest  14/Jan/07 02:42 - Ryan McKinley" draggable="true" data-downloadurl="application/zip:HandlerRefactoring.DRAFT.zip:https://issues.apache.org/jira/secure/attachment/12348911/HandlerRefactoring.DRAFT.zip">HandlerRefactoring.DRAFT.zip</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-01-14T02:42:39.527Z">14/Jan/07 02:42</time>
                   </dd>
                   <dd class="attachment-size">
                    23 kB
                   </dd>
                   <dd class="attachment-author">
                    Ryan McKinley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12348925" data-issue-id="12360483" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12348925/HandlerRefactoring-DRAFT-SRC.zip" draggable="true" data-downloadurl="application/zip:HandlerRefactoring-DRAFT-SRC.zip:https://issues.apache.org/jira/secure/attachment/12348925/HandlerRefactoring-DRAFT-SRC.zip"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-zip" title="Zip Archive"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12348925/HandlerRefactoring-DRAFT-SRC.zip" title="Latest  14/Jan/07 22:45 - Ryan McKinley" draggable="true" data-downloadurl="application/zip:HandlerRefactoring-DRAFT-SRC.zip:https://issues.apache.org/jira/secure/attachment/12348925/HandlerRefactoring-DRAFT-SRC.zip">HandlerRefactoring-DRAFT-SRC.zip</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-01-14T22:45:31.119Z">14/Jan/07 22:45</time>
                   </dd>
                   <dd class="attachment-size">
                    749 kB
                   </dd>
                   <dd class="attachment-author">
                    Ryan McKinley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12348913" data-issue-id="12360483" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12348913/HandlerRefactoring-DRAFT-SRC.zip" draggable="true" data-downloadurl="application/zip:HandlerRefactoring-DRAFT-SRC.zip:https://issues.apache.org/jira/secure/attachment/12348913/HandlerRefactoring-DRAFT-SRC.zip"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-zip" title="Zip Archive"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12348913/HandlerRefactoring-DRAFT-SRC.zip" title=" 14/Jan/07 04:00 - Ryan McKinley" draggable="true" data-downloadurl="application/zip:HandlerRefactoring-DRAFT-SRC.zip:https://issues.apache.org/jira/secure/attachment/12348913/HandlerRefactoring-DRAFT-SRC.zip">HandlerRefactoring-DRAFT-SRC.zip</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-01-14T04:00:23.358Z">14/Jan/07 04:00</time>
                   </dd>
                   <dd class="attachment-size">
                    370 kB
                   </dd>
                   <dd class="attachment-author">
                    Ryan McKinley
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="blocks">
                   blocks
                  </dt> 
                  <dd id="internal-12360482_10032"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="SOLR-103: SQL Upload Plugin"> <a href="/jira/browse/SOLR-103" data-issue-key="SOLR-103" class="issue-link link-title resolution">SOLR-103</a> <span class="link-summary">SQL Upload Plugin</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Resolved</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.</span>">Resolved</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="incorporates">
                   incorporates
                  </dt> 
                  <dd id="internal-12360581_12310010"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="SOLR-110: Factor out common code in our SolrRequestHandler classes"> <a href="/jira/browse/SOLR-110" data-issue-key="SOLR-110" class="issue-link link-title resolution">SOLR-110</a> <span class="link-summary">Factor out common code in our SolrRequestHandler classes</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Resolved</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.</span>">Resolved</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12354480_12310010"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="SOLR-61: move XML update parsing out of SolrCore"> <a href="/jira/browse/SOLR-61" data-issue-key="SOLR-61" class="issue-link link-title resolution">SOLR-61</a> <span class="link-summary">move XML update parsing out of SolrCore</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/minor.svg" width="16" height="16" title="Minor - Minor loss of function, or other problem where easy workaround is present." alt="Minor - Minor loss of function, or other problem where easy workaround is present."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Resolved</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.</span>">Resolved</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="is related to">
                   is related to
                  </dt> 
                  <dd id="internal-12360581_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="SOLR-110: Factor out common code in our SolrRequestHandler classes"> <a href="/jira/browse/SOLR-110" data-issue-key="SOLR-110" class="issue-link link-title resolution">SOLR-110</a> <span class="link-summary">Factor out common code in our SolrRequestHandler classes</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Resolved</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.</span>">Resolved</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="relates to">
                   relates to
                  </dt> 
                  <dd id="internal-12358618_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype" width="16" height="16" title="New Feature - A new feature of the product, which has yet to be developed." alt="New Feature - A new feature of the product, which has yet to be developed."> <span title="SOLR-85: [PATCH] Add update form to the admin screen"> <a href="/jira/browse/SOLR-85" data-issue-key="SOLR-85" class="issue-link link-title resolution">SOLR-85</a> <span class="link-summary">[PATCH] Add update form to the admin screen</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Resolved</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.</span>">Resolved</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12354850_10030" class="
                                                collapsed-link                    "> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype" width="16" height="16" title="New Feature - A new feature of the product, which has yet to be developed." alt="New Feature - A new feature of the product, which has yet to be developed."> <span title="SOLR-66: CSV data loader"> <a href="/jira/browse/SOLR-66" data-issue-key="SOLR-66" class="issue-link link-title resolution">SOLR-66</a> <span class="link-summary">CSV data loader</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <div id="show-more-links"> 
                  <button class="aui-button aui-button-link" id="show-more-links-link">Show 1 more links</button> 
                  <span>(1 relates to)</span> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_hossman" rel="hossman" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Hoss Man&quot;,&quot;emailAddress&quot;:&quot;hossman_apachejira@fucit.org&quot;,&quot;username&quot;:&quot;hossman&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="hossman"></span></span> Hoss Man </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_ryantxu" rel="ryantxu" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Ryan McKinley&quot;,&quot;emailAddress&quot;:&quot;ryantxu@gmail.com&quot;,&quot;username&quot;:&quot;ryantxu&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="ryantxu"></span></span> Ryan McKinley </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">0</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="14/Jan/07 02:33"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2007-01-14T02:33:58+0000">14/Jan/07 02:33</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="10/May/13 10:40"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2013-05-10T10:40:06+0000">10/May/13 10:40</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="29/Jan/07 20:38"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2007-01-29T20:38:02+0000">29/Jan/07 20:38</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for n/a, Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-104?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-104?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-104?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-104?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-104?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-104?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-104?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-104?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/SOLR-104?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-104?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-104?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/SOLR-104?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12464557\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12464557&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12464557\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12464557_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12464557_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jan\\/07 03:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-14T03:12:23+0000\'\u003e14\\/Jan\\/07 03:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI tried my hand at refactoring solr to have a more flexible plugin framework.  \u003c\\/p\u003e\\n\\n\u003cp\u003eTo apply this patch, you will need to:\u003cbr\\/\u003e\\n1) apply: HandlerRefactoring.DRAFT.patch\u003cbr\\/\u003e\\n2) download HandlerRefactoring.DRAFT.zip and extract the contents to:\u003cbr\\/\u003e\\n    \\\\solr\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\handler\u003c\\/p\u003e\\n\\n\u003cp\u003e(svn patches don\' t let you add new directories!)\u003c\\/p\u003e\\n\\n\u003cp\u003eAll tests pass, and \u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/select\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/select\\/\u003c\\/a\u003e &amp; \u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/update\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/update\u003c\\/a\u003e point to the same servlets as before and \u003cb\u003eshould\u003c\\/b\u003e behave exactly as they did before.\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eI changed the RequestHandlers framework to map \\\"action\\\" &gt; \\\"name\\\" &gt; handler, rather then just \\\"name\\\" &gt; handler\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eI added a filter (SolrRequestFilter.java) that gets applied to every request and checks if the path is a registered \\\"action\\\".  If it is, it will be handled by the RequestHander otherwise it is passed down the filter chain.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eI refactored \'SolrParams\' to handles the general case, not only query params.  I moved the specific params to o.a.s.handler.search.QueryParams.  I deleted a few deprecated parameter options: it just got too messy to refactor depricated things.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eI moved the \'query\' handlers into org.apache.solr.handler.search.*  In general, handlers are in a package with the name of their action.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eTODO:\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eThe generic SolrRequest must somehow encapsulate the posted stream\u003c\\/li\u003e\\n\\t\u003cli\u003eAdd cookies, remote host, remote user to the SolrRequest?  (standard requests won\'t use them, but custom handlers may have a good use for them)\u003c\\/li\u003e\\n\\t\u003cli\u003eand much much more!\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003e- - - - - - -\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eUsage: \u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/$\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/$\u003c\\/a\u003e{action}\\/${handler}?args\u003c\\/p\u003e\\n\\n\u003cp\u003eIf no handler is specified, it will use the default handler for that action.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eCurrent: (still works)\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/select\\/?q=solr\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/select\\/?q=solr\u003c\\/a\u003e  (current style)\u003c\\/p\u003e\\n\\n\u003cp\u003eNew: (should be exact same output)\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/search\\/?q=solr\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/search\\/?q=solr\u003c\\/a\u003e\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/search\\/standard\\/?q=solr\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/search\\/standard\\/?q=solr\u003c\\/a\u003e\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/search\\/dismax\\/?q=solr\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/search\\/dismax\\/?q=solr\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/update2\\/commit\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/update2\\/commit\u003c\\/a\u003e\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/update2\\/optimize\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/update2\\/optimize\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003enote: I am using \'search\' and \'update2\' so that the old URL still works and points to what people are used to.\u003c\\/p\u003e\\n\\n\u003cp\u003eDocument adding stubs:\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/add\\/xml\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/add\\/xml\\/\u003c\\/a\u003e\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/add\\/csv\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/add\\/csv\\/\u003c\\/a\u003e\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/add\\/sql\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/add\\/sql\\/\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eLet me know what you think!\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12464557_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12464557_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jan\\/07 03:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-14T03:12:23+0000\'\u003e14\\/Jan\\/07 03:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I tried my hand at refactoring solr to have a more flexible plugin framework.   \\n\\n To apply this patch, you will need to: \\n1) apply: HandlerRefactoring.DRAFT.patch \\n2) download HandlerRefactoring.DRAFT.zip and extract the contents to: \\n    \\\\solr\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\handler \\n\\n (svn patches don\' t let you add new directories!) \\n\\n All tests pass, and  http:\\/\\/localhost:8983\\/solr\\/select\\/  &amp;  http:\\/\\/localhost:8983\\/solr\\/update  point to the same servlets as before and  should  behave exactly as they did before. \\n\\n \\n\\t I changed the RequestHandlers framework to map \\\"action\\\" &gt; \\\"name\\\" &gt; handler, rather then just \\\"name\\\" &gt; handler \\n \\n\\n\\n \\n\\t I added a filter (SolrRequestFilter.java) that gets applied to every request and checks if the path is a registered \\\"action\\\".  If it is, it will be handled by the RequestHander otherwise it is passed down the filter chain. \\n \\n\\n\\n \\n\\t I refactored \'SolrParams\' to handles the general case, not only query params.  I moved the specific params to o.a.s.handler.search.QueryParams.  I deleted a few deprecated parameter options: it just got too messy to refactor depricated things. \\n \\n\\n\\n \\n\\t I moved the \'query\' handlers into org.apache.solr.handler.search.*  In general, handlers are in a package with the name of their action. \\n \\n\\n\\n TODO: \\n \\n\\t The generic SolrRequest must somehow encapsulate the posted stream \\n\\t Add cookies, remote host, remote user to the SolrRequest?  (standard requests won\'t use them, but custom handlers may have a good use for them) \\n\\t and much much more! \\n \\n\\n\\n \\n\\t - - - - - - - \\n \\n\\n\\n Usage:  \\n http:\\/\\/localhost:8983\\/solr\\/$ {action}\\/${handler}?args \\n\\n If no handler is specified, it will use the default handler for that action. \\n\\n\\n Current: (still works) \\n http:\\/\\/localhost:8983\\/solr\\/select\\/?q=solr   (current style) \\n\\n New: (should be exact same output) \\n http:\\/\\/localhost:8983\\/solr\\/search\\/?q=solr  \\n http:\\/\\/localhost:8983\\/solr\\/search\\/standard\\/?q=solr  \\n http:\\/\\/localhost:8983\\/solr\\/search\\/dismax\\/?q=solr  \\n\\n  http:\\/\\/localhost:8983\\/solr\\/update2\\/commit  \\n http:\\/\\/localhost:8983\\/solr\\/update2\\/optimize  \\n\\n note: I am using \'search\' and \'update2\' so that the old URL still works and points to what people are used to. \\n\\n Document adding stubs: \\n http:\\/\\/localhost:8983\\/solr\\/add\\/xml\\/  \\n http:\\/\\/localhost:8983\\/solr\\/add\\/csv\\/  \\n http:\\/\\/localhost:8983\\/solr\\/add\\/sql\\/  \\n\\n\\n Let me know what you think! \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12464559\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12464559&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12464559\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12464559_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12464559_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jan\\/07 04:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-14T04:03:39+0000\'\u003e14\\/Jan\\/07 04:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI just uploaded: HandlerRefactoring-DRAFT-SRC.zip.  It is not a patch, but it will be easier to integrate with \\/trunk.\u003c\\/p\u003e\\n\\n\u003cp\u003e1) Extract the zip files\u003cbr\\/\u003e\\n2) Copy them into your solr directory.  Overwrite all files (svn will give you diff)\u003cbr\\/\u003e\\n3) delete the following files:  (they have been renamed or moved)\u003c\\/p\u003e\\n\\n\u003cp\u003esrc\\/java\\/org\\/apache\\/solr\\/request\\/DisMaxRequestHandler.java\u003cbr\\/\u003e\\nsrc\\/java\\/org\\/apache\\/solr\\/request\\/LocalSolrQueryRequest.java\u003cbr\\/\u003e\\nsrc\\/java\\/org\\/apache\\/solr\\/request\\/SolrQueryRequest.java\u003cbr\\/\u003e\\nsrc\\/java\\/org\\/apache\\/solr\\/request\\/SolrQueryRequestBase.java\u003cbr\\/\u003e\\nsrc\\/java\\/org\\/apache\\/solr\\/request\\/SolrRequestHandler.java\u003cbr\\/\u003e\\nsrc\\/java\\/org\\/apache\\/solr\\/request\\/StandardRequestHandler.java\u003cbr\\/\u003e\\nsrc\\/java\\/org\\/apache\\/solr\\/util\\/CommonParams.java\u003cbr\\/\u003e\\nsrc\\/java\\/org\\/apache\\/solr\\/util\\/DisMaxParams.java\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12464559_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12464559_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jan\\/07 04:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-14T04:03:39+0000\'\u003e14\\/Jan\\/07 04:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I just uploaded: HandlerRefactoring-DRAFT-SRC.zip.  It is not a patch, but it will be easier to integrate with \\/trunk. \\n\\n 1) Extract the zip files \\n2) Copy them into your solr directory.  Overwrite all files (svn will give you diff) \\n3) delete the following files:  (they have been renamed or moved) \\n\\n src\\/java\\/org\\/apache\\/solr\\/request\\/DisMaxRequestHandler.java \\nsrc\\/java\\/org\\/apache\\/solr\\/request\\/LocalSolrQueryRequest.java \\nsrc\\/java\\/org\\/apache\\/solr\\/request\\/SolrQueryRequest.java \\nsrc\\/java\\/org\\/apache\\/solr\\/request\\/SolrQueryRequestBase.java \\nsrc\\/java\\/org\\/apache\\/solr\\/request\\/SolrRequestHandler.java \\nsrc\\/java\\/org\\/apache\\/solr\\/request\\/StandardRequestHandler.java \\nsrc\\/java\\/org\\/apache\\/solr\\/util\\/CommonParams.java \\nsrc\\/java\\/org\\/apache\\/solr\\/util\\/DisMaxParams.java \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12464640\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12464640&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12464640\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12464640_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12464640_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jan\\/07 23:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-14T23:26:31+0000\'\u003e14\\/Jan\\/07 23:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI just upload a new version of HandlerRefactoring-DRAFT-SRC.zip\u003c\\/p\u003e\\n\\n\u003cp\u003eIn addition to the 8 files above, also delete:\u003cbr\\/\u003e\\nsrc\\/java\\/org\\/apache\\/solr\\/request\\/SolrQueryResponse.java\u003cbr\\/\u003e\\nsrc\\/webapp\\/src\\/org\\/apache\\/solr\\/servlet\\/SolrServlet.java\u003cbr\\/\u003e\\nsrc\\/webapp\\/src\\/org\\/apache\\/solr\\/servlet\\/SolrUpdateServlet.java\u003c\\/p\u003e\\n\\n\u003cp\u003eThere is also a clean copy on:\u003cbr\\/\u003e\\n  \u003ca href=\\\"http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/\u003c\\/a\u003e\u003cbr\\/\u003e\\nThis should be easier to install - or look at (without having to install)\u003c\\/p\u003e\\n\\n\u003cp\u003eThis version converts everything to use the new framework rather then keeping \\/select and \\/update on the old one.  It also includes a draft proposal on how to deal with deal with GET vs POST body vs multipart content.\u003c\\/p\u003e\\n\\n\u003cp\u003eIt passes all the tests and seems to work exactly as before (with a few exceptions)\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003e\\/update content is returned with a ResponseWriter\u003c\\/li\u003e\\n\\t\u003cli\u003e\u003cspan class=\\\"error\\\"\u003e&#91;my-BUG&#93;\u003c\\/span\u003e I am unable to get some posted content to read its stream properly.  I had to modify:\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/example\\/exampledocs\\/post.sh\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/example\\/exampledocs\\/post.sh\u003c\\/a\u003e\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eto call:\u003cbr\\/\u003e\\n curl $URL --data-binary \'&lt;commit\\/&gt;\' -H \'Content-type:text\\/xml;\' \u003cbr\\/\u003e\\nrather then just:\u003cbr\\/\u003e\\n curl $URL --data-binary \'&lt;commit\\/&gt;\'\u003c\\/p\u003e\\n\\n\u003cp\u003e(any ideas?)\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003e- - - - - - -\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eI define three basic types of request handlers in: \u003ca href=\\\"http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/\u003c\\/a\u003e\u003cbr\\/\u003e\\n1) standard.  This gets everything from parameters (get or post) \u003cbr\\/\u003e\\n2) posted.  This gets a reader from the posted body:\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/PostedRequestHandler.java\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/PostedRequestHandler.java\u003c\\/a\u003e\u003cbr\\/\u003e\\n3) multipart.  This gets an iterator over each file item using commons-upload streaming API\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/jakarta.apache.org\\/commons\\/fileupload\\/streaming.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/jakarta.apache.org\\/commons\\/fileupload\\/streaming.html\u003c\\/a\u003e\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/MultipartRequestHandler.java\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/MultipartRequestHandler.java\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eI \u003cb\u003ethink\u003c\\/b\u003e this takes care of every case...  is anything missing?\u003c\\/p\u003e\\n\\n\u003cp\u003eThe \u003ca href=\\\"http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/webapp\\/src\\/org\\/apache\\/solr\\/servlet\\/SolrRequestFilter.java RequestFilter\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/webapp\\/src\\/org\\/apache\\/solr\\/servlet\\/SolrRequestFilter.java RequestFilter\u003c\\/a\u003e manages setting the reader or iterator for the proper handlers.\u003c\\/p\u003e\\n\\n\u003cp\u003eWhen you run the example, i added the page \u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/up.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/up.html\u003c\\/a\u003e that should help you see a little of it in action.  \u003c\\/p\u003e\\n\\n\u003cp\u003eI added an example for each type:\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/add\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/add\\/\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003e- -\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eThis added:\u003cbr\\/\u003e\\ncommons-io-1.2.jar\u003cbr\\/\u003e\\nmysql-connector-java-5.0.4.jar\u003cbr\\/\u003e\\ncommons-fileupload-20070107.jar\u003c\\/p\u003e\\n\\n\u003cp\u003eto the library.  If we want to get rid of commons-io, I am only using IOUtils.java\u003c\\/p\u003e\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12464640_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12464640_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jan\\/07 23:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-14T23:26:31+0000\'\u003e14\\/Jan\\/07 23:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I just upload a new version of HandlerRefactoring-DRAFT-SRC.zip \\n\\n In addition to the 8 files above, also delete: \\nsrc\\/java\\/org\\/apache\\/solr\\/request\\/SolrQueryResponse.java \\nsrc\\/webapp\\/src\\/org\\/apache\\/solr\\/servlet\\/SolrServlet.java \\nsrc\\/webapp\\/src\\/org\\/apache\\/solr\\/servlet\\/SolrUpdateServlet.java \\n\\n There is also a clean copy on: \\n   http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/  \\nThis should be easier to install - or look at (without having to install) \\n\\n This version converts everything to use the new framework rather then keeping \\/select and \\/update on the old one.  It also includes a draft proposal on how to deal with deal with GET vs POST body vs multipart content. \\n\\n It passes all the tests and seems to work exactly as before (with a few exceptions) \\n \\n\\t \\/update content is returned with a ResponseWriter \\n\\t  &#91;my-BUG&#93;  I am unable to get some posted content to read its stream properly.  I had to modify: \\n http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/example\\/exampledocs\\/post.sh  \\n \\n\\n\\n to call: \\n curl $URL --data-binary \'&lt;commit\\/&gt;\' -H \'Content-type:text\\/xml;\'  \\nrather then just: \\n curl $URL --data-binary \'&lt;commit\\/&gt;\' \\n\\n (any ideas?) \\n\\n \\n\\t - - - - - - - \\n \\n\\n\\n I define three basic types of request handlers in:  http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/  \\n1) standard.  This gets everything from parameters (get or post)  \\n2) posted.  This gets a reader from the posted body: \\n http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/PostedRequestHandler.java  \\n3) multipart.  This gets an iterator over each file item using commons-upload streaming API \\n http:\\/\\/jakarta.apache.org\\/commons\\/fileupload\\/streaming.html  \\n http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/MultipartRequestHandler.java  \\n\\n I  think  this takes care of every case...  is anything missing? \\n\\n The  http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/webapp\\/src\\/org\\/apache\\/solr\\/servlet\\/SolrRequestFilter.java RequestFilter  manages setting the reader or iterator for the proper handlers. \\n\\n When you run the example, i added the page  http:\\/\\/localhost:8983\\/solr\\/up.html  that should help you see a little of it in action.   \\n\\n I added an example for each type: \\n http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/add\\/  \\n\\n \\n\\t - - \\n \\n\\n\\n This added: \\ncommons-io-1.2.jar \\nmysql-connector-java-5.0.4.jar \\ncommons-fileupload-20070107.jar \\n\\n to the library.  If we want to get rid of commons-io, I am only using IOUtils.java \\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12464653\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12464653&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12464653\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"skeptikos\\\" id=\\\"commentauthor_12464653_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=skeptikos\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"skeptikos\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J.J. Larrea\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12464653_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jan\\/07 04:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-15T04:47:46+0000\'\u003e15\\/Jan\\/07 04:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think this is a fantastic effort, so please take my comments and suggestions for improvement below in the context of my appreciation you took the time to wade deeply into the SOLR request-handling code looking for places to improve it.  If the request structure is cleaned up along these lines it will make it much simpler for people to develop and contribute alternate request handlers (both update and query varieties) and further SOLRs standing as an open-source community-driven project.\u003c\\/p\u003e\\n\\n\u003cp\u003e1. I really like your idea of using the URL suffix to specify the handler.  But it looks like you have required this to be a fixed 2-level hierarchy, with URLs of the form\u003c\\/p\u003e\\n\\n\u003cp\u003e    http:\\/\\/&lt;host&gt;:&lt;port&gt;\\/&lt;solr-root&gt;\\/&lt;action&gt;\\/&lt;handler&gt;\u003c\\/p\u003e\\n\\n\u003cp\u003ewhich are looked up in a handler table keyed by &lt;action&gt; and then &lt;handler&gt;. For example search\\/standard looks for a &lt;requestHandler action=\\\"search\\\" name=\\\"standard\\\"...&gt;, loads the indicated handler class, and associates it with the config.\u003c\\/p\u003e\\n\\n\u003cp\u003eBut this hierarchy seems a little overdetermined and the implementation overcomplex.  It could be argued that one would want &lt;handler&gt;\\/&lt;action&gt;, for the &lt;handler&gt; alone to resolve to a handler class, and the handler class to be responsible for deciding how to act on the &lt;action&gt; part... but any hierarchical arrangement that makes perfect sense to one person can seem wrong to another. And in your implementation I see no actual action taken by the &lt;action&gt; argument other than selection of a per-&lt;action&gt; default &lt;handler&gt;, and that seems more complexity than it\'s worth; there are easier ways.\u003c\\/p\u003e\\n\\n\u003cp\u003eI would suggest the simpler approach of simply taking the entire path after &lt;solr-root&gt; to be a handler configuration name,  without conforming it to any fixed hierarchy, e.g. a developer could set up\u003c\\/p\u003e\\n\\n\u003cp\u003e\\t&lt;requestHandler name=\\\"search\\/products\\/bysku\\\" class=\\\"...\\\"&gt;...&lt;\\/&gt;\u003cbr\\/\u003e\\n\\t&lt;requestHandler name=\\\"search\\/products\\/byname\\\" class=\\\"...\\\"&gt;...&lt;\\/&gt;\u003cbr\\/\u003e\\n\\t&lt;requestHandler name=\\\"search\\/companies\\\" class=\\\"...\\\"&gt;...&lt;\\/&gt;\u003cbr\\/\u003e\\n\\t&lt;requestHandler name=\\\"index\\/csv\\\" class=\\\"...\\\"&gt;...&lt;\\/&gt;\u003c\\/p\u003e\\n\\n\u003cp\u003eIn that way establishing a command\\/subcommand hierarchy is entirely up to the user\'s solrconfig.xml setup, and there is no imposed logic as to whether the different behavior between the 3 search examples is achieved through different config of the same handler class, different handler classes, or both.\u003c\\/p\u003e\\n\\n\u003cp\u003eAs for default actions, there is no need for special code, they can entirely be defined in solrconfig.  For example, if a developer sets up a \\/search\\/xxx space as above, the response to a client request \\/search without further qualification is entirely up to what is defined in solrconfig.xml:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eIf there is no request handler defined under name=\\\"search\\\" SOLR would return a standard \\\"No handler found\\\" message\u003c\\/li\u003e\\n\\t\u003cli\u003eIf it has a query request handler under that name (e.g. with name=\\\"search\\\" class=\\\"solr.StandardRequestHandler\\\") it would get to handle less-qualified requests with developer-defined defaults.\u003c\\/li\u003e\\n\\t\u003cli\u003eIt could be defined to explicitly invoke your UnavailableRequestHandler &#8211; a great idea which should be extended so the error code and error message could be custom-configured with handler config params.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eThus I think this free-form hierarchy would achieve greater simplicity and greater flexibility at the same time.\u003c\\/p\u003e\\n\\n\u003cp\u003e2. What would make this even more powerful would be the ability to \\\"subclass\\\" (meaning refine and\\/or extend) request handler configs: If the requestHandler element allowed an attribute extends=\\\"&lt;another-requesthandler-name&gt;\\\" and chained the SolrParams, then one could do something like:\u003c\\/p\u003e\\n\\n\u003cp\u003e  &lt;requestHandler name=\\\"search\\/products\\/all\\\" class=\\\"solr.DisMaxRequestHandler\\\" &gt;\u003cbr\\/\u003e\\n    &lt;lst name=\\\"defaults\\\"&gt;\u003cbr\\/\u003e\\n     &lt;float name=\\\"tie\\\"&gt;0.01&lt;\\/float&gt;\u003cbr\\/\u003e\\n     &lt;str name=\\\"qf\\\"&gt;\u003cbr\\/\u003e\\n        text^0.5 features^1.0 name^1.2 sku^1.5 id^10.0 manu^1.1 cat^1.4\u003cbr\\/\u003e\\n     &lt;\\/str&gt;\u003cbr\\/\u003e\\n     ... much more, per the \\\"dismax\\\" example in the sample solrconfig.xml ...\u003cbr\\/\u003e\\n  &lt;\\/requestHandler&gt;\u003c\\/p\u003e\\n\\n\u003cp\u003e  ... and replacing the \\\"partitioned\\\" example ...\u003cbr\\/\u003e\\n  &lt;requestHandler name=\\\"search\\/products\\/instock\\\" extends=\\\"search\\/products\\/all\\\" &gt;\u003cbr\\/\u003e\\n    &lt;lst name=\\\"appends\\\"&gt;\u003cbr\\/\u003e\\n      &lt;str name=\\\"fq\\\"&gt;inStock:true&lt;\\/str&gt;\u003cbr\\/\u003e\\n    &lt;\\/lst&gt;\u003cbr\\/\u003e\\n  &lt;\\/requestHandler&gt;\u003c\\/p\u003e\\n\\n\u003cp\u003eOne could even allow the extending requestHandler to set a different handler class, in the case where the difference in behavior requires a different handler implementation but can share all or part of the params.\u003c\\/p\u003e\\n\\n\u003cp\u003e3. Structuring the code and action under \\/add is conceptually limiting because update-style request plugins such as SQL-based or CSV-based (and certainly XML-based) should still be able to add, replace, and delete, either based on internal logic or external command.\u003c\\/p\u003e\\n\\n\u003cp\u003eYour code suggests further refactoring improvements along those lines.  For example, in your SQLUpdateHandler example you call:\u003c\\/p\u003e\\n\\n\u003cp\u003e    AddUpdateCommand cmd = UpdateUtils.getAddUpdateCommandFromParams( params );\u003c\\/p\u003e\\n\\n\u003cp\u003eand then for each assembled Document\u003c\\/p\u003e\\n\\n\u003cp\u003e    cmd.doc = docmap.toDocument( schema );\u003cbr\\/\u003e\\n    UpdateUtils.addDoc( cmd );\u003cbr\\/\u003e\\n\\t\u003cspan class=\\\"error\\\"\u003e&#91;which does SolrCore.getSolrCore().getUpdateHandler().addDoc( cmd );&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n    addedDocumentCount++;\u003c\\/p\u003e\\n\\n\u003cp\u003eLets say:\u003c\\/p\u003e\\n\\n\u003cp\u003e  A. We standardized on action=... as a way to define an action in a param\u003c\\/p\u003e\\n\\n\u003cp\u003e  B. A new method UpdateUtils.getUpdateCommandFromParams( params ) would use the action= param to decide which xxxUpdateCommand class to instantiate &#8211; though this might be better placed as a static class method getCommandFromParams defined in UpdateCommand itself.\u003c\\/p\u003e\\n\\n\u003cp\u003e(Perhaps once it decodes the action param it could call another UpdateCommand static method getCommandFromString( name ), which would centralize the instantiation logic, and provide a pathway for it it to evolve into a name-&gt;class soft mapping should extensibility to other commands ever be desired.)\u003c\\/p\u003e\\n\\n\u003cp\u003e  C. Responsibility for initializing each update command from params would be the responsibility of the xxxUpdateCommand itself, e.g. base class UpdateCommand would define an abstract initializeFromParams( params ) which each subclass would implement.\u003c\\/p\u003e\\n\\n\u003cp\u003e  D. Responsibility for executing each update command would also lay with the xxxUpdateCommand via an abstract execute() method, which for AddUpdateCommand would be:\u003c\\/p\u003e\\n\\n\u003cp\u003e    SolrCore.getSolrCore().getUpdateHandler().addDoc( this );\u003c\\/p\u003e\\n\\n\u003cp\u003e(It could be argued that some of the various UpdateHandler functionality should migrate to the xxxUpdateCommands themselves, but that\'s another discussion)\u003c\\/p\u003e\\n\\n\u003cp\u003e  E. The DeleteUpdateCommand could allow the target record to be defined by setting a Document, and using the schema keyfield definition to extract the ID.  The logic could be encapsulated in DeleteUpdateCommand.execute() itself, extracting the keyfield value from the Document and setting it in its own id field before calling getUpdateHandler().delete( cmd ). Or if setters were defined for the internal fields, setDocument(doc) could call setId(id) and not need to keep a reference to the document.  In either case the existing UpdateHandlers don\'t even need to know about this new modality.\u003c\\/p\u003e\\n\\n\u003cp\u003eThen SQLUpdateHandler or CSVUpdateHandler or whatever (which should really be called xxxRequestHandler since UpdateHandler is quite another beast) would be agnostic as to whether they are doing adds or deletes of the selected rows; they could just ask for an UpdateCommand implementation, and in a loop set the constructed Document, and call updateCommand.execute().  While it would be most efficient if for deletes the query or data file only specified a single keyfield column, there is no harm in creating Documents with many more fields and simply ignoring all but the keyfield.\u003c\\/p\u003e\\n\\n\u003cp\u003eEither way one could set up an explicit deletion-only CSV handler:\u003c\\/p\u003e\\n\\n\u003cp\u003e    &lt;!-- Could be csv\\/delete, delete\\/csv, product\\/delete, or whatever --&gt;\u003cbr\\/\u003e\\n    &lt;requestHandler name=\\\"csv\\/delete\\\" class=\\\"solr.CSVUpdateHandler\\\"&gt;\u003cbr\\/\u003e\\n        &lt;lst name=\\\"invariants\\\"&gt;\u003cbr\\/\u003e\\n            &lt;str name=\\\"action\\\"&gt;delete&lt;\\/str&gt;\u003cbr\\/\u003e\\n\\t&lt;\\/lst&gt;\u003cbr\\/\u003e\\n    &lt;\\/requestHandler&gt;\u003c\\/p\u003e\\n\\n\u003cp\u003eor more flexibly allow the parameter to be passed in a URL query param:\u003c\\/p\u003e\\n\\n\u003cp\u003e    \\/&lt;solr-root&gt;\\/update\\/product?action=delete&amp;...\u003c\\/p\u003e\\n\\n\u003cp\u003e4. Similarly with this structure your CommitHandler and OptimizeHandler classes can be replaced with a simple CommandHandler which is defined in solrconfig; it could even handle deletion by ID or query:\u003c\\/p\u003e\\n\\n\u003cp\u003e    &lt;requestHandler name=\\\"commit-and-flush\\\" class=\\\"solr.CommandHandler\\\"&gt;\u003cbr\\/\u003e\\n        &lt;lst name=\\\"invariants\\\"&gt;\u003cbr\\/\u003e\\n            &lt;str name=\\\"action\\\"&gt;commit&lt;\\/str&gt;\u003cbr\\/\u003e\\n            &lt;str name=\\\"waitFlush\\\"&gt;true&lt;\\/str&gt; \u003cbr\\/\u003e\\n\\t&lt;\\/lst&gt;\u003cbr\\/\u003e\\n        &lt;lst name=\\\"defaults\\\"&gt;\u003cbr\\/\u003e\\n            &lt;str name=\\\"waitSearcher\\\"&gt;false&lt;\\/str&gt;\u003cbr\\/\u003e\\n\\t&lt;\\/lst&gt;\u003cbr\\/\u003e\\n    &lt;\\/requestHandler&gt;\u003c\\/p\u003e\\n\\n\u003cp\u003e5. Of course a RequestHandler could be non-command-agnostic as well, for example the XML update parsing code now in SolrCore.update() could be recast as a RequestHandler which reads the &lt;add&gt;, &lt;delete&gt;, &lt;commit&gt;, &lt;optimize&gt; tags and decides itself which type of UpdateCommand(s) to instantiate (using UpdateCommand.getCommandFromString as described above).\u003c\\/p\u003e\\n\\n\u003cp\u003eBut it could be made more agnostic and simpler still, for example by parsing the action and parameters from XML into a SolrParams and calling getCommandFromParams as described above.  That would forge a path for other non-XML command-stream-based  update handlers by leaving only XML parsing logic in the XML update RequestHandler &#8211; all the rest of the logic would be in UpdateCommand, the UpdateCommand implementations, and UpdateHandler.\u003c\\/p\u003e\\n\\n\u003cp\u003eAnyway, those are some ideas, for what they\'re worth.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"skeptikos\\\" id=\\\"commentauthor_12464653_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=skeptikos\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"skeptikos\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J.J. Larrea\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12464653_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jan\\/07 04:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-15T04:47:46+0000\'\u003e15\\/Jan\\/07 04:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I think this is a fantastic effort, so please take my comments and suggestions for improvement below in the context of my appreciation you took the time to wade deeply into the SOLR request-handling code looking for places to improve it.  If the request structure is cleaned up along these lines it will make it much simpler for people to develop and contribute alternate request handlers (both update and query varieties) and further SOLRs standing as an open-source community-driven project. \\n\\n 1. I really like your idea of using the URL suffix to specify the handler.  But it looks like you have required this to be a fixed 2-level hierarchy, with URLs of the form \\n\\n     http:\\/\\/&lt;host&gt;:&lt;port&gt;\\/&lt;solr-root&gt;\\/&lt;action&gt;\\/&lt;handler&gt; \\n\\n which are looked up in a handler table keyed by &lt;action&gt; and then &lt;handler&gt;. For example search\\/standard looks for a &lt;requestHandler action=\\\"search\\\" name=\\\"standard\\\"...&gt;, loads the indicated handler class, and associates it with the config. \\n\\n But this hierarchy seems a little overdetermined and the implementation overcomplex.  It could be argued that one would want &lt;handler&gt;\\/&lt;action&gt;, for the &lt;handler&gt; alone to resolve to a handler class, and the handler class to be responsible for deciding how to act on the &lt;action&gt; part... but any hierarchical arrangement that makes perfect sense to one person can seem wrong to another. And in your implementation I see no actual action taken by the &lt;action&gt; argument other than selection of a per-&lt;action&gt; default &lt;handler&gt;, and that seems more complexity than it\'s worth; there are easier ways. \\n\\n I would suggest the simpler approach of simply taking the entire path after &lt;solr-root&gt; to be a handler configuration name,  without conforming it to any fixed hierarchy, e.g. a developer could set up \\n\\n \\t&lt;requestHandler name=\\\"search\\/products\\/bysku\\\" class=\\\"...\\\"&gt;...&lt;\\/&gt; \\n\\t&lt;requestHandler name=\\\"search\\/products\\/byname\\\" class=\\\"...\\\"&gt;...&lt;\\/&gt; \\n\\t&lt;requestHandler name=\\\"search\\/companies\\\" class=\\\"...\\\"&gt;...&lt;\\/&gt; \\n\\t&lt;requestHandler name=\\\"index\\/csv\\\" class=\\\"...\\\"&gt;...&lt;\\/&gt; \\n\\n In that way establishing a command\\/subcommand hierarchy is entirely up to the user\'s solrconfig.xml setup, and there is no imposed logic as to whether the different behavior between the 3 search examples is achieved through different config of the same handler class, different handler classes, or both. \\n\\n As for default actions, there is no need for special code, they can entirely be defined in solrconfig.  For example, if a developer sets up a \\/search\\/xxx space as above, the response to a client request \\/search without further qualification is entirely up to what is defined in solrconfig.xml: \\n \\n\\t If there is no request handler defined under name=\\\"search\\\" SOLR would return a standard \\\"No handler found\\\" message \\n\\t If it has a query request handler under that name (e.g. with name=\\\"search\\\" class=\\\"solr.StandardRequestHandler\\\") it would get to handle less-qualified requests with developer-defined defaults. \\n\\t It could be defined to explicitly invoke your UnavailableRequestHandler &#8211; a great idea which should be extended so the error code and error message could be custom-configured with handler config params. \\n \\n\\n\\n Thus I think this free-form hierarchy would achieve greater simplicity and greater flexibility at the same time. \\n\\n 2. What would make this even more powerful would be the ability to \\\"subclass\\\" (meaning refine and\\/or extend) request handler configs: If the requestHandler element allowed an attribute extends=\\\"&lt;another-requesthandler-name&gt;\\\" and chained the SolrParams, then one could do something like: \\n\\n   &lt;requestHandler name=\\\"search\\/products\\/all\\\" class=\\\"solr.DisMaxRequestHandler\\\" &gt; \\n    &lt;lst name=\\\"defaults\\\"&gt; \\n     &lt;float name=\\\"tie\\\"&gt;0.01&lt;\\/float&gt; \\n     &lt;str name=\\\"qf\\\"&gt; \\n        text^0.5 features^1.0 name^1.2 sku^1.5 id^10.0 manu^1.1 cat^1.4 \\n     &lt;\\/str&gt; \\n     ... much more, per the \\\"dismax\\\" example in the sample solrconfig.xml ... \\n  &lt;\\/requestHandler&gt; \\n\\n   ... and replacing the \\\"partitioned\\\" example ... \\n  &lt;requestHandler name=\\\"search\\/products\\/instock\\\" extends=\\\"search\\/products\\/all\\\" &gt; \\n    &lt;lst name=\\\"appends\\\"&gt; \\n      &lt;str name=\\\"fq\\\"&gt;inStock:true&lt;\\/str&gt; \\n    &lt;\\/lst&gt; \\n  &lt;\\/requestHandler&gt; \\n\\n One could even allow the extending requestHandler to set a different handler class, in the case where the difference in behavior requires a different handler implementation but can share all or part of the params. \\n\\n 3. Structuring the code and action under \\/add is conceptually limiting because update-style request plugins such as SQL-based or CSV-based (and certainly XML-based) should still be able to add, replace, and delete, either based on internal logic or external command. \\n\\n Your code suggests further refactoring improvements along those lines.  For example, in your SQLUpdateHandler example you call: \\n\\n     AddUpdateCommand cmd = UpdateUtils.getAddUpdateCommandFromParams( params ); \\n\\n and then for each assembled Document \\n\\n     cmd.doc = docmap.toDocument( schema ); \\n    UpdateUtils.addDoc( cmd ); \\n\\t &#91;which does SolrCore.getSolrCore().getUpdateHandler().addDoc( cmd );&#93;  \\n    addedDocumentCount++; \\n\\n Lets say: \\n\\n   A. We standardized on action=... as a way to define an action in a param \\n\\n   B. A new method UpdateUtils.getUpdateCommandFromParams( params ) would use the action= param to decide which xxxUpdateCommand class to instantiate &#8211; though this might be better placed as a static class method getCommandFromParams defined in UpdateCommand itself. \\n\\n (Perhaps once it decodes the action param it could call another UpdateCommand static method getCommandFromString( name ), which would centralize the instantiation logic, and provide a pathway for it it to evolve into a name-&gt;class soft mapping should extensibility to other commands ever be desired.) \\n\\n   C. Responsibility for initializing each update command from params would be the responsibility of the xxxUpdateCommand itself, e.g. base class UpdateCommand would define an abstract initializeFromParams( params ) which each subclass would implement. \\n\\n   D. Responsibility for executing each update command would also lay with the xxxUpdateCommand via an abstract execute() method, which for AddUpdateCommand would be: \\n\\n     SolrCore.getSolrCore().getUpdateHandler().addDoc( this ); \\n\\n (It could be argued that some of the various UpdateHandler functionality should migrate to the xxxUpdateCommands themselves, but that\'s another discussion) \\n\\n   E. The DeleteUpdateCommand could allow the target record to be defined by setting a Document, and using the schema keyfield definition to extract the ID.  The logic could be encapsulated in DeleteUpdateCommand.execute() itself, extracting the keyfield value from the Document and setting it in its own id field before calling getUpdateHandler().delete( cmd ). Or if setters were defined for the internal fields, setDocument(doc) could call setId(id) and not need to keep a reference to the document.  In either case the existing UpdateHandlers don\'t even need to know about this new modality. \\n\\n Then SQLUpdateHandler or CSVUpdateHandler or whatever (which should really be called xxxRequestHandler since UpdateHandler is quite another beast) would be agnostic as to whether they are doing adds or deletes of the selected rows; they could just ask for an UpdateCommand implementation, and in a loop set the constructed Document, and call updateCommand.execute().  While it would be most efficient if for deletes the query or data file only specified a single keyfield column, there is no harm in creating Documents with many more fields and simply ignoring all but the keyfield. \\n\\n Either way one could set up an explicit deletion-only CSV handler: \\n\\n     &lt;!-- Could be csv\\/delete, delete\\/csv, product\\/delete, or whatever --&gt; \\n    &lt;requestHandler name=\\\"csv\\/delete\\\" class=\\\"solr.CSVUpdateHandler\\\"&gt; \\n        &lt;lst name=\\\"invariants\\\"&gt; \\n            &lt;str name=\\\"action\\\"&gt;delete&lt;\\/str&gt; \\n\\t&lt;\\/lst&gt; \\n    &lt;\\/requestHandler&gt; \\n\\n or more flexibly allow the parameter to be passed in a URL query param: \\n\\n     \\/&lt;solr-root&gt;\\/update\\/product?action=delete&amp;... \\n\\n 4. Similarly with this structure your CommitHandler and OptimizeHandler classes can be replaced with a simple CommandHandler which is defined in solrconfig; it could even handle deletion by ID or query: \\n\\n     &lt;requestHandler name=\\\"commit-and-flush\\\" class=\\\"solr.CommandHandler\\\"&gt; \\n        &lt;lst name=\\\"invariants\\\"&gt; \\n            &lt;str name=\\\"action\\\"&gt;commit&lt;\\/str&gt; \\n            &lt;str name=\\\"waitFlush\\\"&gt;true&lt;\\/str&gt;  \\n\\t&lt;\\/lst&gt; \\n        &lt;lst name=\\\"defaults\\\"&gt; \\n            &lt;str name=\\\"waitSearcher\\\"&gt;false&lt;\\/str&gt; \\n\\t&lt;\\/lst&gt; \\n    &lt;\\/requestHandler&gt; \\n\\n 5. Of course a RequestHandler could be non-command-agnostic as well, for example the XML update parsing code now in SolrCore.update() could be recast as a RequestHandler which reads the &lt;add&gt;, &lt;delete&gt;, &lt;commit&gt;, &lt;optimize&gt; tags and decides itself which type of UpdateCommand(s) to instantiate (using UpdateCommand.getCommandFromString as described above). \\n\\n But it could be made more agnostic and simpler still, for example by parsing the action and parameters from XML into a SolrParams and calling getCommandFromParams as described above.  That would forge a path for other non-XML command-stream-based  update handlers by leaving only XML parsing logic in the XML update RequestHandler &#8211; all the rest of the logic would be in UpdateCommand, the UpdateCommand implementations, and UpdateHandler. \\n\\n Anyway, those are some ideas, for what they\'re worth.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12464654\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12464654&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12464654\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"skeptikos\\\" id=\\\"commentauthor_12464654_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=skeptikos\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"skeptikos\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J.J. Larrea\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12464654_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jan\\/07 05:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-15T05:01:31+0000\'\u003e15\\/Jan\\/07 05:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e6. I may be going a little crazy with this soft-configuration concept, but thinking about how to support the legacy\u003c\\/p\u003e\\n\\n\u003cp\u003e    \\/select?qt=faceted...\u003c\\/p\u003e\\n\\n\u003cp\u003eformat leads me to think there could be a trivial (3-line handleRequestBody) NamedRequestHandler which uses one parameter to provide the name of another parameter which names another requestHandler definition which it would then invoke.  With that,\u003c\\/p\u003e\\n\\n\u003cp\u003e\\t&lt;requestHandler name=\\\"select\\\" class=\\\"solr. NamedRequestHandler\\\"&gt;\u003cbr\\/\u003e\\n\\t    &lt;lst name=\\\"invariants\\\"&gt;\u003cbr\\/\u003e\\n\\t\\t&lt;str name=\\\"handlerNameParameter\\\"&gt;qt&lt;\\/str&gt;\u003cbr\\/\u003e\\n\\t    &lt;\\/lst&gt;\u003cbr\\/\u003e\\n\\t    &lt;lst name=\\\"defaults\\\"&gt;\u003cbr\\/\u003e\\n\\t\\t&lt;str name=\\\"qt\\\"&gt;standard&lt;\\/str&gt;\u003cbr\\/\u003e\\n\\t    &lt;\\/lst&gt;\u003cbr\\/\u003e\\n\\t&lt;\\/requestHandler&gt;\u003c\\/p\u003e\\n\\n\u003cp\u003ewould allow \\/select?qt=dismax... to be soft-implemented; a developer who had no use for the non-URL-path selectors could strip it out, another developer who wanted to use a different parameter to set the handler could define it that way.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"skeptikos\\\" id=\\\"commentauthor_12464654_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=skeptikos\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"skeptikos\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J.J. Larrea\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12464654_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jan\\/07 05:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-15T05:01:31+0000\'\u003e15\\/Jan\\/07 05:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    6. I may be going a little crazy with this soft-configuration concept, but thinking about how to support the legacy \\n\\n     \\/select?qt=faceted... \\n\\n format leads me to think there could be a trivial (3-line handleRequestBody) NamedRequestHandler which uses one parameter to provide the name of another parameter which names another requestHandler definition which it would then invoke.  With that, \\n\\n \\t&lt;requestHandler name=\\\"select\\\" class=\\\"solr. NamedRequestHandler\\\"&gt; \\n\\t    &lt;lst name=\\\"invariants\\\"&gt; \\n\\t\\t&lt;str name=\\\"handlerNameParameter\\\"&gt;qt&lt;\\/str&gt; \\n\\t    &lt;\\/lst&gt; \\n\\t    &lt;lst name=\\\"defaults\\\"&gt; \\n\\t\\t&lt;str name=\\\"qt\\\"&gt;standard&lt;\\/str&gt; \\n\\t    &lt;\\/lst&gt; \\n\\t&lt;\\/requestHandler&gt; \\n\\n would allow \\/select?qt=dismax... to be soft-implemented; a developer who had no use for the non-URL-path selectors could strip it out, another developer who wanted to use a different parameter to set the handler could define it that way.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12464655\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12464655&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12464655\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12464655_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12464655_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jan\\/07 05:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-15T05:07:24+0000\'\u003e15\\/Jan\\/07 05:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI haven\'t had a chance to look at all this stuff yet, but we should take care to not try and implement too much.\u003cbr\\/\u003e\\nIn some cases the right \\\"plugin\\\" mechanism might be the servlet spec and web.xml (made me think of it when I saw the \\\"cookies\\\" comment \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12464655_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12464655_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jan\\/07 05:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-15T05:07:24+0000\'\u003e15\\/Jan\\/07 05:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I haven\'t had a chance to look at all this stuff yet, but we should take care to not try and implement too much. \\nIn some cases the right \\\"plugin\\\" mechanism might be the servlet spec and web.xml (made me think of it when I saw the \\\"cookies\\\" comment                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12464667\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12464667&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12464667\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12464667_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12464667_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jan\\/07 07:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-15T07:05:27+0000\'\u003e15\\/Jan\\/07 07:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI agree with points J.J\'s points 1-6.  thanks\u003c\\/p\u003e\\n\\n\u003cp\u003eIf one were to look at only one thing, the stuff i to look at woud be how Handlers get their parameters and content streams. \u003c\\/p\u003e\\n\\n\u003cp\u003efrom my previous post:\u003c\\/p\u003e\\n\\n\u003cp\u003eI define three basic types of request handlers in: \u003ca href=\\\"http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/\u003c\\/a\u003e\u003cbr\\/\u003e\\n1) standard. This gets everything from parameters (get or post)\u003cbr\\/\u003e\\n2) posted. This gets a reader from the posted body:\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/PostedRequestHandler.java\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/PostedRequestHandler.java\u003c\\/a\u003e\u003cbr\\/\u003e\\n3) multipart. This gets an iterator over each file item using commons-upload streaming API\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/jakarta.apache.org\\/commons\\/fileupload\\/streaming.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/jakarta.apache.org\\/commons\\/fileupload\\/streaming.html\u003c\\/a\u003e\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/MultipartRequestHandler.java\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/MultipartRequestHandler.java\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eand: \u003ca href=\\\"http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/webapp\\/src\\/org\\/apache\\/solr\\/servlet\\/SolrRequestFilter.java\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/webapp\\/src\\/org\\/apache\\/solr\\/servlet\\/SolrRequestFilter.java\u003c\\/a\u003e  fills them up.  \u003c\\/p\u003e\\n\\n\u003cp\u003eIt currently uses instanceof... any other ideas?  \u003c\\/p\u003e\\n\\n\\n\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12464667_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12464667_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jan\\/07 07:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-15T07:05:27+0000\'\u003e15\\/Jan\\/07 07:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I agree with points J.J\'s points 1-6.  thanks \\n\\n If one were to look at only one thing, the stuff i to look at woud be how Handlers get their parameters and content streams.  \\n\\n from my previous post: \\n\\n I define three basic types of request handlers in:  http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/  \\n1) standard. This gets everything from parameters (get or post) \\n2) posted. This gets a reader from the posted body: \\n http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/PostedRequestHandler.java  \\n3) multipart. This gets an iterator over each file item using commons-upload streaming API \\n http:\\/\\/jakarta.apache.org\\/commons\\/fileupload\\/streaming.html  \\n http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/MultipartRequestHandler.java  \\n\\n and:  http:\\/\\/svn.lapnap.net\\/solr\\/handler-draft\\/solr\\/src\\/webapp\\/src\\/org\\/apache\\/solr\\/servlet\\/SolrRequestFilter.java   fills them up.   \\n\\n It currently uses instanceof... any other ideas?   \\n\\n\\n\\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12465538\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12465538&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12465538\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12465538_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12465538_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jan\\/07 20:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-17T20:13:26+0000\'\u003e17\\/Jan\\/07 20:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI attached \'DispatchFilter.patch\'  This extracts some stuff from my previous (monstrous) refactoring that will be useful.  I did not refactor anything, but I did:\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eAdded SolrRequestParser interface\u003c\\/li\u003e\\n\\t\u003cli\u003eAdded ContentStream interface\u003c\\/li\u003e\\n\\t\u003cli\u003eExtracted common handler code into RequestHandlerBase.\u003c\\/li\u003e\\n\\t\u003cli\u003eAdded \'getRequestParser() to Handler interface.  The RequestHandlerBase would return a Parser from the \'invariant\' \'rp\'\u003c\\/li\u003e\\n\\t\u003cli\u003emodified StandardRequest\\/DisMaxRequest to use the HandlerBase\u003c\\/li\u003e\\n\\t\u003cli\u003eAdded Iterable&lt;ContentStream&gt; getContentStreams() to SolrQueryRequest\u003c\\/li\u003e\\n\\t\u003cli\u003eAdded UpdateHandlerRequest that acts as \\/update  The only difference is the returned format\u003c\\/li\u003e\\n\\t\u003cli\u003eReplaced SolrServelt and UpdateServlet with SolrRequestFilter.  This now dispatches all requests\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eWith the example solrconfig.xml, you can run queries like:\u003cbr\\/\u003e\\n \u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/select\\/?q=solr\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/select\\/?q=solr\u003c\\/a\u003e\u003cbr\\/\u003e\\n \u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/standard?q=solr\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/standard?q=solr\u003c\\/a\u003e\u003cbr\\/\u003e\\n \u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/dismax?q=solr\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/dismax?q=solr\u003c\\/a\u003e\u003cbr\\/\u003e\\n \u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/dismax?q=solr\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/dismax?q=solr\u003c\\/a\u003e\u003cbr\\/\u003e\\n \u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/instock?q=solr\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/instock?q=solr\u003c\\/a\u003e\u003cbr\\/\u003e\\n \u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/update\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/update\u003c\\/a\u003e \u003c\\/p\u003e\\n\\n\\n\u003cp\u003eTODO: \u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eactually build the RequestParser registry.  currently everything returns StandardRequestParser\u003c\\/li\u003e\\n\\t\u003cli\u003ehandle multipart requests in StandardRequestParser\u003c\\/li\u003e\\n\\t\u003cli\u003emove update( reader, writer ) out of SolrCore into UpdateRequestHandler\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003e- - - - -\u003cbr\\/\u003e\\nSVN NOTE: \u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003ewhen i tested this patch, I got strange results for the files it added.  Specifically, new files are repeated twice.\u003c\\/p\u003e\\n\\n\u003cp\u003esrc\\\\java\\\\org\\\\apache\\\\solr\\\\handler\\\\UpdateRequestHandler.java\u003cbr\\/\u003e\\n package org.apache.solr.handler;\u003cbr\\/\u003e\\n public class UpdateRequestHandler()\u003c\\/p\u003e\\n {\\n   ...\\n }\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n package org.apache.solr.handler;\u003cbr\\/\u003e\\n public class UpdateRequestHandler()\u003cbr\\/\u003e\\n {   ... }\\n\\n\u003cp\u003eDelete the second copy of the class it it will compile ok.\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003e- - - - -\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eIs it possible to delete previous file attachments?  I don\'t think  HandlerRefactoring.DRAFT.* is useful for anyone to see anymore.\u003c\\/p\u003e\\n\\n\u003cp\u003eryan\u003c\\/p\u003e\\n\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12465538_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12465538_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jan\\/07 20:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-17T20:13:26+0000\'\u003e17\\/Jan\\/07 20:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I attached \'DispatchFilter.patch\'  This extracts some stuff from my previous (monstrous) refactoring that will be useful.  I did not refactor anything, but I did: \\n\\n \\n\\t Added SolrRequestParser interface \\n\\t Added ContentStream interface \\n\\t Extracted common handler code into RequestHandlerBase. \\n\\t Added \'getRequestParser() to Handler interface.  The RequestHandlerBase would return a Parser from the \'invariant\' \'rp\' \\n\\t modified StandardRequest\\/DisMaxRequest to use the HandlerBase \\n\\t Added Iterable&lt;ContentStream&gt; getContentStreams() to SolrQueryRequest \\n\\t Added UpdateHandlerRequest that acts as \\/update  The only difference is the returned format \\n\\t Replaced SolrServelt and UpdateServlet with SolrRequestFilter.  This now dispatches all requests \\n \\n\\n\\n With the example solrconfig.xml, you can run queries like: \\n  http:\\/\\/localhost:8983\\/solr\\/select\\/?q=solr  \\n  http:\\/\\/localhost:8983\\/solr\\/standard?q=solr  \\n  http:\\/\\/localhost:8983\\/solr\\/dismax?q=solr  \\n  http:\\/\\/localhost:8983\\/solr\\/dismax?q=solr  \\n  http:\\/\\/localhost:8983\\/solr\\/instock?q=solr  \\n  http:\\/\\/localhost:8983\\/solr\\/update   \\n\\n\\n TODO:  \\n \\n\\t actually build the RequestParser registry.  currently everything returns StandardRequestParser \\n\\t handle multipart requests in StandardRequestParser \\n\\t move update( reader, writer ) out of SolrCore into UpdateRequestHandler \\n \\n\\n\\n\\n \\n\\t - - - - - \\nSVN NOTE:  \\n \\n\\n\\n when i tested this patch, I got strange results for the files it added.  Specifically, new files are repeated twice. \\n\\n src\\\\java\\\\org\\\\apache\\\\solr\\\\handler\\\\UpdateRequestHandler.java \\n package org.apache.solr.handler; \\n public class UpdateRequestHandler() \\n {\\n   ...\\n } \\n \\n package org.apache.solr.handler; \\n public class UpdateRequestHandler() \\n {   ... }\\n\\n Delete the second copy of the class it it will compile ok. \\n\\n \\n\\t - - - - - \\n \\n\\n\\n Is it possible to delete previous file attachments?  I don\'t think  HandlerRefactoring.DRAFT.* is useful for anyone to see anymore. \\n\\n ryan \\n\\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12465563\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12465563&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12465563\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12465563_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12465563_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jan\\/07 21:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-17T21:18:05+0000\'\u003e17\\/Jan\\/07 21:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eremoved getRequestParser() from Handler interface.\u003c\\/p\u003e\\n\\n\u003cp\u003eusing \':\' in the URL to specify the request parser.\u003c\\/p\u003e\\n\\n\u003cp\u003e \u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/standard:requestparser?q=video\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/standard:requestparser?q=video\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eNOTE:  it still uses a defalt request parser.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12465563_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12465563_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jan\\/07 21:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-17T21:18:05+0000\'\u003e17\\/Jan\\/07 21:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    removed getRequestParser() from Handler interface. \\n\\n using \':\' in the URL to specify the request parser. \\n\\n   http:\\/\\/localhost:8983\\/solr\\/standard:requestparser?q=video  \\n\\n NOTE:  it still uses a defalt request parser.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12466273\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12466273&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12466273\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12466273_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12466273_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Jan\\/07 19:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-20T19:44:24+0000\'\u003e20\\/Jan\\/07 19:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI just updated DispatchFilter.path to implement most of our discussion on solr-dev\u003c\\/p\u003e\\n\\n\u003cp\u003eThe implemented URL structure is:\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/$\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/$\u003c\\/a\u003e{host}:${port}\\/${context}\\/${path\\/defined\\/in\\/solrconfig.xml}:${optional\\/path\\/for\\/handler}?${params}\u003c\\/p\u003e\\n\\n\u003cp\u003e(If there needs to be a constant between ${context}  and  ${path} I am ok with it, but i don\'t think its necessary.)\u003c\\/p\u003e\\n\\n\u003cp\u003eIf you get this running, check:\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/test.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/test.html\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eThis is a test page that shows the various methods to get streamed content into the handler\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003ewith param stream.URL - puts the content of remote url into stream\u003c\\/li\u003e\\n\\t\u003cli\u003ewith stream.BODY - puts the content of the parameter into a stream\u003c\\/li\u003e\\n\\t\u003cli\u003emultipart upload.  put the fields into SolrParams and the Files into streams\u003c\\/li\u003e\\n\\t\u003cli\u003ePOST with no query string.  - uses the fields to fill SolrParams\u003c\\/li\u003e\\n\\t\u003cli\u003ePOST with query string.  - uses the post body as the ContentStream, fills SolrParams from the query string\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eI think this covers all the normal cases.  If you can think of others, let me know.  I believe things that would iterate over a huge collection of streams should be implemented as a RequestHandler, not as the RequestBuilder\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003e- - - - - - - - - -\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eThings to note:\u003c\\/p\u003e\\n\\n\u003cp\u003e1) \\/select and \\/update are handled with their same old servlets.  They have just been refactored to LegacyUpdateServlet etc.  I \u003cb\u003ethink\u003c\\/b\u003e the example solrconfig.xml should map \\/update to the new framework, not the old one.  This would get people who start using solr to use the new framework, but still work for people who don\'t map \\/update in their solrconfig.xml.  This would also require we change the included \'post.sh\' to use: URL=\u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/update?stream\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/update?stream\u003c\\/a\u003e  (so the content is read as a stream)\u003c\\/p\u003e\\n\\n\u003cp\u003e2) Even when \\/update is mapped to the legacy servlet, you can map subfolders to the new one.  I included \\/update\\/commit in this patch\u003c\\/p\u003e\\n\\n\u003cp\u003e3) Configuration?  Where should we configure enable\\/disable streams?  max file upload size?  upload temp directory?  I REALLY think its a bad idea to enable stream.URL by default.  Although the model is that solr sits in a private network, we know that is not always the case.  It may also be good to configure a required user role to be able to stream.  for example, stream.URL requires isUserInRole( \'admin\' );\u003c\\/p\u003e\\n\\n\u003cp\u003e4) Sending context to handlers.  Some handlers will want\\/need additional information about the request (headers,user,remote host,path, etc).  In this patch, I add \'path\' to all requests.  There should be a way for the handler to say what information it needs\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eryan\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12466273_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12466273_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Jan\\/07 19:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-20T19:44:24+0000\'\u003e20\\/Jan\\/07 19:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I just updated DispatchFilter.path to implement most of our discussion on solr-dev \\n\\n The implemented URL structure is: \\n http:\\/\\/$ {host}:${port}\\/${context}\\/${path\\/defined\\/in\\/solrconfig.xml}:${optional\\/path\\/for\\/handler}?${params} \\n\\n (If there needs to be a constant between ${context}  and  ${path} I am ok with it, but i don\'t think its necessary.) \\n\\n If you get this running, check: \\n http:\\/\\/localhost:8983\\/solr\\/test.html  \\n\\n This is a test page that shows the various methods to get streamed content into the handler \\n \\n\\t with param stream.URL - puts the content of remote url into stream \\n\\t with stream.BODY - puts the content of the parameter into a stream \\n\\t multipart upload.  put the fields into SolrParams and the Files into streams \\n\\t POST with no query string.  - uses the fields to fill SolrParams \\n\\t POST with query string.  - uses the post body as the ContentStream, fills SolrParams from the query string \\n \\n\\n\\n I think this covers all the normal cases.  If you can think of others, let me know.  I believe things that would iterate over a huge collection of streams should be implemented as a RequestHandler, not as the RequestBuilder \\n\\n \\n\\t - - - - - - - - - - \\n \\n\\n\\n Things to note: \\n\\n 1) \\/select and \\/update are handled with their same old servlets.  They have just been refactored to LegacyUpdateServlet etc.  I  think  the example solrconfig.xml should map \\/update to the new framework, not the old one.  This would get people who start using solr to use the new framework, but still work for people who don\'t map \\/update in their solrconfig.xml.  This would also require we change the included \'post.sh\' to use: URL= http:\\/\\/localhost:8983\\/solr\\/update?stream   (so the content is read as a stream) \\n\\n 2) Even when \\/update is mapped to the legacy servlet, you can map subfolders to the new one.  I included \\/update\\/commit in this patch \\n\\n 3) Configuration?  Where should we configure enable\\/disable streams?  max file upload size?  upload temp directory?  I REALLY think its a bad idea to enable stream.URL by default.  Although the model is that solr sits in a private network, we know that is not always the case.  It may also be good to configure a required user role to be able to stream.  for example, stream.URL requires isUserInRole( \'admin\' ); \\n\\n 4) Sending context to handlers.  Some handlers will want\\/need additional information about the request (headers,user,remote host,path, etc).  In this patch, I add \'path\' to all requests.  There should be a way for the handler to say what information it needs \\n\\n\\n ryan              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12466277\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12466277&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12466277\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12466277_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12466277_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Jan\\/07 20:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-20T20:34:32+0000\'\u003e20\\/Jan\\/07 20:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\\n\u003cp\u003eI just thought of something that will make Hoss\' blod curl!  I KNOW it\u003cbr\\/\u003e\\nis a bad idea for things within solr-core, but it would be the\u003cbr\\/\u003e\\ncleanest\\/cheapest way to expose the unknown things a potential\u003cbr\\/\u003e\\nRequestHandler would want from the HttpServletRequest without changing\u003cbr\\/\u003e\\nthe existing API.  It goes like this:\u003c\\/p\u003e\\n\\n\u003cp\u003e  SolrRequest solrReq = (build the solr request)\u003cbr\\/\u003e\\n  solrReq.getContent().put( \\\"HttpServletRequest\\\", req );\u003c\\/p\u003e\\n\\n\u003cp\u003eIt would never be used by anything in core.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe alternative I see is to give each handler some mechanism to tell\u003cbr\\/\u003e\\nthe RequestBuilder what attributes it needs set, then have the\u003cbr\\/\u003e\\nRequestBuilder put those attributes in the context or solr params.  In\u003cbr\\/\u003e\\nmy opinion, that is a lot of overhead to do stuff that clearly falls\u003cbr\\/\u003e\\noutside of what solr-core should be doing.\u003c\\/p\u003e\\n\\n\u003cp\u003eryan\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12466277_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12466277_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Jan\\/07 20:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-20T20:34:32+0000\'\u003e20\\/Jan\\/07 20:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                   \\n I just thought of something that will make Hoss\' blod curl!  I KNOW it \\nis a bad idea for things within solr-core, but it would be the \\ncleanest\\/cheapest way to expose the unknown things a potential \\nRequestHandler would want from the HttpServletRequest without changing \\nthe existing API.  It goes like this: \\n\\n   SolrRequest solrReq = (build the solr request) \\n  solrReq.getContent().put( \\\"HttpServletRequest\\\", req ); \\n\\n It would never be used by anything in core. \\n\\n The alternative I see is to give each handler some mechanism to tell \\nthe RequestBuilder what attributes it needs set, then have the \\nRequestBuilder put those attributes in the context or solr params.  In \\nmy opinion, that is a lot of overhead to do stuff that clearly falls \\noutside of what solr-core should be doing. \\n\\n ryan              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12466356\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12466356&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12466356\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12466356_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12466356_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/07 21:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-21T21:40:37+0000\'\u003e21\\/Jan\\/07 21:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ethis can replace the special servlet for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-85\\\" title=\\\"[PATCH] Add update form to the admin screen\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-85\\\"\u003e\u003cdel\u003eSOLR-85\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12466356_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12466356_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/07 21:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-21T21:40:37+0000\'\u003e21\\/Jan\\/07 21:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    this can replace the special servlet for   SOLR-85                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12466357\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12466357&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12466357\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12466357_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12466357_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/07 21:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-21T21:41:19+0000\'\u003e21\\/Jan\\/07 21:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ecan be implemented with RequestHandler with ContentStreams\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12466357_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12466357_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/07 21:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-21T21:41:19+0000\'\u003e21\\/Jan\\/07 21:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    can be implemented with RequestHandler with ContentStreams              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12466358\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12466358&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12466358\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12466358_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12466358_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/07 21:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-21T21:42:09+0000\'\u003e21\\/Jan\\/07 21:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ecould be implemented with ContentStreams\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12466358_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12466358_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/07 21:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-21T21:42:09+0000\'\u003e21\\/Jan\\/07 21:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    could be implemented with ContentStreams              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12466359\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12466359&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12466359\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12466359_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12466359_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/07 21:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-21T21:47:47+0000\'\u003e21\\/Jan\\/07 21:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ethis extracts the common things into RequestHandlerBase\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12466359_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12466359_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/07 21:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-21T21:47:47+0000\'\u003e21\\/Jan\\/07 21:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    this extracts the common things into RequestHandlerBase              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12466912\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12466912&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12466912\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12466912_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12466912_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jan\\/07 05:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-24T05:58:11+0000\'\u003e24\\/Jan\\/07 05:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFinally got a chance to review this... it\'s really great stuff Ryan!\u003c\\/p\u003e\\n\\n\u003cp\u003eRandom questions:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eWhat\'s the funny chars at the start of web.xml?\u003c\\/li\u003e\\n\\t\u003cli\u003eWhy is there a 2MB upload limit, and why does it only apply to multi-part uploads?  I think I\'m missing some background in this area...\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eI\'m not going to try and pick out little bugs or suggest little changes to a patch of this scope and size...\u003cbr\\/\u003e\\nI think we should have more frequent Solr releases, and that the Solr trunk  can have APIs change from one day to the next w\\/o having to maintaining back-compatibility.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo since we agree on the direction, I think this patch should be committed and we should work from there.\u003cbr\\/\u003e\\nI\'d like to hear from hoss though, since he was following along more than I was, esp at the start of that marathon thread.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12466912_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12466912_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jan\\/07 05:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-24T05:58:11+0000\'\u003e24\\/Jan\\/07 05:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Finally got a chance to review this... it\'s really great stuff Ryan! \\n\\n Random questions: \\n \\n\\t What\'s the funny chars at the start of web.xml? \\n\\t Why is there a 2MB upload limit, and why does it only apply to multi-part uploads?  I think I\'m missing some background in this area... \\n \\n\\n\\n I\'m not going to try and pick out little bugs or suggest little changes to a patch of this scope and size... \\nI think we should have more frequent Solr releases, and that the Solr trunk  can have APIs change from one day to the next w\\/o having to maintaining back-compatibility. \\n\\n So since we agree on the direction, I think this patch should be committed and we should work from there. \\nI\'d like to hear from hoss though, since he was following along more than I was, esp at the start of that marathon thread.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12466913\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12466913&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12466913\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12466913_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12466913_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jan\\/07 06:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-24T06:01:21+0000\'\u003e24\\/Jan\\/07 06:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOh, and where possible, it would be nice to have some unit tests.\u003cbr\\/\u003e\\nServlet related stuff is probably too hard, but things like stream.body should be easy.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12466913_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12466913_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jan\\/07 06:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-24T06:01:21+0000\'\u003e24\\/Jan\\/07 06:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Oh, and where possible, it would be nice to have some unit tests. \\nServlet related stuff is probably too hard, but things like stream.body should be easy.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12466914\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12466914&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12466914\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12466914_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12466914_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jan\\/07 06:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-24T06:02:54+0000\'\u003e24\\/Jan\\/07 06:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIf there are funny chars at the start of web.xml, it was an SVN error.\u003c\\/p\u003e\\n\\n\u003cp\u003ethe 2MB limit is set in solrconfig.xml\u003c\\/p\u003e\\n\\n\u003cp\u003e  &lt;requestParsers enableRemoteStreaming=\\\"true\\\" multipartUploadLimitInKB=\\\"2048\\\" \\/&gt;\u003c\\/p\u003e\\n\\n\u003cp\u003emaybe 2MB is too small as the default, but i figured it shoudl be configurable.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12466914_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12466914_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jan\\/07 06:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-24T06:02:54+0000\'\u003e24\\/Jan\\/07 06:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    If there are funny chars at the start of web.xml, it was an SVN error. \\n\\n the 2MB limit is set in solrconfig.xml \\n\\n   &lt;requestParsers enableRemoteStreaming=\\\"true\\\" multipartUploadLimitInKB=\\\"2048\\\" \\/&gt; \\n\\n maybe 2MB is too small as the default, but i figured it shoudl be configurable. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12466928\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12466928&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12466928\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12466928_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12466928_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jan\\/07 07:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-24T07:30:28+0000\'\u003e24\\/Jan\\/07 07:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis is minor changes to the previous filter it \u003c\\/p\u003e\\n\\n\u003cp\u003e1. Adds unit tests for stream.BODY and stream.URL\u003cbr\\/\u003e\\n2. uses different init logic for HandlerBase and DisMax (legacy stuff)\u003cbr\\/\u003e\\n3. Adds Size() to the content stream.  filled up if we know it otherwise not.\u003cbr\\/\u003e\\n4. A few comments here and there...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12466928_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12466928_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jan\\/07 07:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-24T07:30:28+0000\'\u003e24\\/Jan\\/07 07:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This is minor changes to the previous filter it  \\n\\n 1. Adds unit tests for stream.BODY and stream.URL \\n2. uses different init logic for HandlerBase and DisMax (legacy stuff) \\n3. Adds Size() to the content stream.  filled up if we know it otherwise not. \\n4. A few comments here and there...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12467305\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12467305&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12467305\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_12467305_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12467305_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/07 09:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-25T09:35:22+0000\'\u003e25\\/Jan\\/07 09:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWoot! ... i think we\'re really close to comiting this. \u003c\\/p\u003e\\n\\n\u003cp\u003eI made a hodgepodge list of comments as i read through everything, and then tried to organize them.  I agree with yonik that we should feel free to commit new functionality without being afraid of needing to change the api of that functionality befor the next release, but i\'m not 100% comfortable with how backwards compatible this patch is for the existing \\/select and \\/update URLs ... this may just be an issue of me being paranoid (and tired) but there\'s at least one code path difference.\u003c\\/p\u003e\\n\\n\u003cp\u003eAnyway, here are my notes...\u003c\\/p\u003e\\n\\n\\n\\n\\n\\n\u003cp\u003eComments regarding backwards compatibility of the patch...\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eSolrCore.update(Reader,Writer) was a public method that\'s been\u003cbr\\/\u003e\\n   removed ... this is probably fine, just pointing it out for the \u003cbr\\/\u003e\\n   record.\u003c\\/li\u003e\\n\\t\u003cli\u003eSolrUpdateServlet used HttpServletRequest.getReader, the new\u003cbr\\/\u003e\\n   UpdateRequestHandler uses an InputStreamReader arround\u003cbr\\/\u003e\\n   HttpServletRequest.getInputStream() ... this seems bad for legacy\u003cbr\\/\u003e\\n   update support from a char encoding standpoint.\u003c\\/li\u003e\\n\\t\u003cli\u003eWhile i think it\'s important to refactor the XML Update\u003cbr\\/\u003e\\n   parsing out of SolrCore - I\'m still not clear what is gained by \u003cbr\\/\u003e\\n   eliminating SolrServlet and SolrUpdate.  The big advantage of\u003cbr\\/\u003e\\n   the new dispatcher being a Filter is that it can pass requests on\u003cbr\\/\u003e\\n   that it doesn\'t want to deal with, so why not leave the existing\u003cbr\\/\u003e\\n   servlets arround with only the minimum neccessary changes...\u003c\\/li\u003e\\n\\t\u003cli\u003emove SolrCore\'s init to Dispatcher\u003c\\/li\u003e\\n\\t\u003cli\u003euse 3 arg core.execute in SolrServlet\u003c\\/li\u003e\\n\\t\u003cli\u003ehave SolrUpdateServlet call UpdateRequestHandler.update(Reader)\u003cbr\\/\u003e\\n      and generate the legacy response XML\u003cbr\\/\u003e\\n   ...in order to reduce the possibility of an introducing bugs\u003cbr\\/\u003e\\n   (particularly since the existing Servlets are the one area where we\u003cbr\\/\u003e\\n   don\'t have \u003cb\u003eany\u003c\\/b\u003e unit tests)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eComments regarding functionality that i think we \u003cb\u003emay\u003c\\/b\u003e want to address\u003cbr\\/\u003e\\nbefore commiting (but i won\'t fight over if i\'m the only one that cares)...\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eUpdateRequestHandler should probably renamed XmlUpdateRequestHandler\u003cbr\\/\u003e\\n   (particularly since i expect Yonik to commit a\u003cbr\\/\u003e\\n   CsvUpdateRequestHandler real soon now) \u003c\\/li\u003e\\n\\t\u003cli\u003eStandardRequestParser can\'t assume that a POST which isn\'t\u003cbr\\/\u003e\\n   multipart\\/* should be handled by a RawRequestParser ... if the\u003cbr\\/\u003e\\n   content type is \\\"application\\/x-www-form-urlencoded\\\" then\u003cbr\\/\u003e\\n   SimpleRequestParser should be used (so all params from query string\u003cbr\\/\u003e\\n   and body are included)\u003c\\/li\u003e\\n\\t\u003cli\u003eWhat should the expectations of\u003cbr\\/\u003e\\n   ContentStream.getInputStream().close() be? Should the Dispatcher\u003cbr\\/\u003e\\n   iterate over any Iterable streams when writing the output and try\u003cbr\\/\u003e\\n   to close them, ignoring any Exceptions?\u003c\\/li\u003e\\n\\t\u003cli\u003eI\'m really not fond of having SolrParams.STREAM_TYPE. Can we please,\u003cbr\\/\u003e\\n   please leave it out for now and rely on on content-type detection?\u003cbr\\/\u003e\\n   We can add it back in if\\/when we make RequestParser a public\u003cbr\\/\u003e\\n   interface and let people register them in solrconfig.\u003c\\/li\u003e\\n\\t\u003cli\u003eI really don\'t think we want to open the pandoras box of putting\u003cbr\\/\u003e\\n   the HttpServletRequest in the SolrQueryRequest ... i\'d hate to put\u003cbr\\/\u003e\\n   that in and then have to support it forever.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eThings in the current patch that aren\'t strictly neccessary\u003cbr\\/\u003e\\nfor the current issue and can (should?) be commited seperately...\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eare we definitely deprecating SolrQueryResponse.getException ?\u003c\\/li\u003e\\n\\t\u003cli\u003eStandardRequestHandler and DisMaxRequestHandler have only been\u003cbr\\/\u003e\\n   changed to subclass the new base class.\u003c\\/li\u003e\\n\\t\u003cli\u003eonly whitespace changes in SolrRequestHandler.java\u003c\\/li\u003e\\n\\t\u003cli\u003eSolrServletRequest has only imports rearranged\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eThings which definitely shouldn\'t block up the patch, but should go on\u003cbr\\/\u003e\\na short term todo list...\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003esee backwards compatibility comment about (Xml)UpdateRequestHandler\u003cbr\\/\u003e\\n   using InputStreamReader without specifying a charset ... in general\u003cbr\\/\u003e\\n   the handler should look at the ContentStream\'s content type to determine\u003cbr\\/\u003e\\n   the encoding of the InputStream (and probably default to UTF-8)\u003c\\/li\u003e\\n\\t\u003cli\u003eneed to work out what kind of NamedList should be returned by\u003cbr\\/\u003e\\n   (Xml)UpdateRequestHandler.update(Reader)\u003c\\/li\u003e\\n\\t\u003cli\u003esome of the new files are missing the Apache boilerplate.\u003c\\/li\u003e\\n\\t\u003cli\u003ea use case we talked about that still isn\'t covered is opening local\u003cbr\\/\u003e\\n   files as a stream ... this should be easy to add later right along \u003cbr\\/\u003e\\n   side STREAM_URL.\u003c\\/li\u003e\\n\\t\u003cli\u003ewe should fill in the getURL methods for DisMax\\/Standard to point at wiki\u003c\\/li\u003e\\n\\t\u003cli\u003eCommitRequestHandler should use UpdateParams.OPTIMIZE\u003c\\/li\u003e\\n\\t\u003cli\u003ethe init semantics for (Xml)UpdateRequestHandler are odd: as a\u003cbr\\/\u003e\\n   RequestHandler it\'s garunteed that init(NamedList) will be called, but\u003cbr\\/\u003e\\n   instead it uses it\'s own private init() that\'s called lazily.\u003c\\/li\u003e\\n\\t\u003cli\u003eDumpRequestHandler should dump ContentStream.getSize().\u003c\\/li\u003e\\n\\t\u003cli\u003edoFilter should call parsers.parse( path, req ) as soon as it has\u003cbr\\/\u003e\\n   the path, and then delegate to a helper method that doesn\'t have \u003cbr\\/\u003e\\n   access to the HttpServletRequest ... this reduces both the\u003cbr\\/\u003e\\n   complexity of the method, and the likelyhood of \u003cbr\\/\u003e\\n   someone inadvertently introducing an error (mangling the POST body)\u003cbr\\/\u003e\\n   when making future changes in the long deep method.  \u003cbr\\/\u003e\\n   The one thing to watch out for is forcing POST in legacy\u003cbr\\/\u003e\\n   update. (assuming legacy update stays in the Filter) \u003c\\/li\u003e\\n\\t\u003cli\u003eSTREAM_URL based ContentStreams can have a meaningful getSize()\u003cbr\\/\u003e\\n   and getContentType() if we use openConnection instead of openStream.\u003c\\/li\u003e\\n\\t\u003cli\u003eSTREAM_BODY based ContentStreams can get their size from the char[]\u003c\\/li\u003e\\n\\t\u003cli\u003eit\'s not clear to me why the interface for SolrRequestParser is...\u003cbr\\/\u003e\\n     public SolrParams parseParamsAndFillStreams(\u003cbr\\/\u003e\\n       final HttpServletRequest, ArrayList&lt;ContentStream&gt;)\u003cbr\\/\u003e\\n   ...instead of just...\u003cbr\\/\u003e\\n     public SolrQueryRequest(final HttpServletRequest)\u003cbr\\/\u003e\\n   ...with the param parsing loops in\u003cbr\\/\u003e\\n   SolrRequestParsers.buildRequestFrom \u003cbr\\/\u003e\\n   in static utility methods (in case a RequestParser doesn\'t want to\u003cbr\\/\u003e\\n   support STREAM_URL or STREAM_BODY)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_12467305_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12467305_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/07 09:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-25T09:35:22+0000\'\u003e25\\/Jan\\/07 09:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Woot! ... i think we\'re really close to comiting this.  \\n\\n I made a hodgepodge list of comments as i read through everything, and then tried to organize them.  I agree with yonik that we should feel free to commit new functionality without being afraid of needing to change the api of that functionality befor the next release, but i\'m not 100% comfortable with how backwards compatible this patch is for the existing \\/select and \\/update URLs ... this may just be an issue of me being paranoid (and tired) but there\'s at least one code path difference. \\n\\n Anyway, here are my notes... \\n\\n\\n\\n\\n\\n Comments regarding backwards compatibility of the patch... \\n\\n \\n\\t SolrCore.update(Reader,Writer) was a public method that\'s been \\n   removed ... this is probably fine, just pointing it out for the  \\n   record. \\n\\t SolrUpdateServlet used HttpServletRequest.getReader, the new \\n   UpdateRequestHandler uses an InputStreamReader arround \\n   HttpServletRequest.getInputStream() ... this seems bad for legacy \\n   update support from a char encoding standpoint. \\n\\t While i think it\'s important to refactor the XML Update \\n   parsing out of SolrCore - I\'m still not clear what is gained by  \\n   eliminating SolrServlet and SolrUpdate.  The big advantage of \\n   the new dispatcher being a Filter is that it can pass requests on \\n   that it doesn\'t want to deal with, so why not leave the existing \\n   servlets arround with only the minimum neccessary changes... \\n\\t move SolrCore\'s init to Dispatcher \\n\\t use 3 arg core.execute in SolrServlet \\n\\t have SolrUpdateServlet call UpdateRequestHandler.update(Reader) \\n      and generate the legacy response XML \\n   ...in order to reduce the possibility of an introducing bugs \\n   (particularly since the existing Servlets are the one area where we \\n   don\'t have  any  unit tests) \\n \\n\\n\\n Comments regarding functionality that i think we  may  want to address \\nbefore commiting (but i won\'t fight over if i\'m the only one that cares)... \\n\\n \\n\\t UpdateRequestHandler should probably renamed XmlUpdateRequestHandler \\n   (particularly since i expect Yonik to commit a \\n   CsvUpdateRequestHandler real soon now)  \\n\\t StandardRequestParser can\'t assume that a POST which isn\'t \\n   multipart\\/* should be handled by a RawRequestParser ... if the \\n   content type is \\\"application\\/x-www-form-urlencoded\\\" then \\n   SimpleRequestParser should be used (so all params from query string \\n   and body are included) \\n\\t What should the expectations of \\n   ContentStream.getInputStream().close() be? Should the Dispatcher \\n   iterate over any Iterable streams when writing the output and try \\n   to close them, ignoring any Exceptions? \\n\\t I\'m really not fond of having SolrParams.STREAM_TYPE. Can we please, \\n   please leave it out for now and rely on on content-type detection? \\n   We can add it back in if\\/when we make RequestParser a public \\n   interface and let people register them in solrconfig. \\n\\t I really don\'t think we want to open the pandoras box of putting \\n   the HttpServletRequest in the SolrQueryRequest ... i\'d hate to put \\n   that in and then have to support it forever. \\n \\n\\n\\n Things in the current patch that aren\'t strictly neccessary \\nfor the current issue and can (should?) be commited seperately... \\n\\n \\n\\t are we definitely deprecating SolrQueryResponse.getException ? \\n\\t StandardRequestHandler and DisMaxRequestHandler have only been \\n   changed to subclass the new base class. \\n\\t only whitespace changes in SolrRequestHandler.java \\n\\t SolrServletRequest has only imports rearranged \\n \\n\\n\\n Things which definitely shouldn\'t block up the patch, but should go on \\na short term todo list... \\n\\n \\n\\t see backwards compatibility comment about (Xml)UpdateRequestHandler \\n   using InputStreamReader without specifying a charset ... in general \\n   the handler should look at the ContentStream\'s content type to determine \\n   the encoding of the InputStream (and probably default to UTF-8) \\n\\t need to work out what kind of NamedList should be returned by \\n   (Xml)UpdateRequestHandler.update(Reader) \\n\\t some of the new files are missing the Apache boilerplate. \\n\\t a use case we talked about that still isn\'t covered is opening local \\n   files as a stream ... this should be easy to add later right along  \\n   side STREAM_URL. \\n\\t we should fill in the getURL methods for DisMax\\/Standard to point at wiki \\n\\t CommitRequestHandler should use UpdateParams.OPTIMIZE \\n\\t the init semantics for (Xml)UpdateRequestHandler are odd: as a \\n   RequestHandler it\'s garunteed that init(NamedList) will be called, but \\n   instead it uses it\'s own private init() that\'s called lazily. \\n\\t DumpRequestHandler should dump ContentStream.getSize(). \\n\\t doFilter should call parsers.parse( path, req ) as soon as it has \\n   the path, and then delegate to a helper method that doesn\'t have  \\n   access to the HttpServletRequest ... this reduces both the \\n   complexity of the method, and the likelyhood of  \\n   someone inadvertently introducing an error (mangling the POST body) \\n   when making future changes in the long deep method.   \\n   The one thing to watch out for is forcing POST in legacy \\n   update. (assuming legacy update stays in the Filter)  \\n\\t STREAM_URL based ContentStreams can have a meaningful getSize() \\n   and getContentType() if we use openConnection instead of openStream. \\n\\t STREAM_BODY based ContentStreams can get their size from the char[] \\n\\t it\'s not clear to me why the interface for SolrRequestParser is... \\n     public SolrParams parseParamsAndFillStreams( \\n       final HttpServletRequest, ArrayList&lt;ContentStream&gt;) \\n   ...instead of just... \\n     public SolrQueryRequest(final HttpServletRequest) \\n   ...with the param parsing loops in \\n   SolrRequestParsers.buildRequestFrom  \\n   in static utility methods (in case a RequestParser doesn\'t want to \\n   support STREAM_URL or STREAM_BODY) \\n \\n\\n\\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12467330\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12467330&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12467330\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12467330_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12467330_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/07 11:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-25T11:10:49+0000\'\u003e25\\/Jan\\/07 11:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\\n\u003cp\u003eThanks for going through this!\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ll comment on points i have answers or questions.  The rest will go\u003cbr\\/\u003e\\non the TODO list.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eOk, so we should make sure to put the charset into\u003cbr\\/\u003e\\nContentStream.getContentType() and open the Reader with:\u003c\\/p\u003e\\n\\n\u003cp\u003e  String charset = getCharset( stream.getContentType() );\u003cbr\\/\u003e\\n  new InputStreamReader( stream.getStream(),  charset );\u003c\\/p\u003e\\n\\n\\n\\n\u003cp\u003eSounds reasonable.  I took them out because (at the time) it seemed\u003cbr\\/\u003e\\nclearer and has less duplicated code.\u003c\\/p\u003e\\n\\n\\n\\n\u003cp\u003eyes.  At some point it would also be good to make a stronger name\u003cbr\\/\u003e\\ndistinction between UpdateHandler (the thing that handles the nity\u003cbr\\/\u003e\\ngritty lucene indexing) and the UpdateRequestHandler &#8211; but lets save\u003cbr\\/\u003e\\nthat for another day!\u003c\\/p\u003e\\n\\n\\n\\n\u003cp\u003eAs written, the StandardRequestParser:\u003cbr\\/\u003e\\n1) checks if multipart\u003cbr\\/\u003e\\n2) checks if it has parameters in the URL (?xxx=yyy)\u003cbr\\/\u003e\\n  if it has parameters (?xxx=yyy) then use the RawRequestParser\u003cbr\\/\u003e\\n  otherwise it pulls parameters from the map. (SimpleRequestParser)\u003c\\/p\u003e\\n\\n\u003cp\u003eTo trigger raw request reading you \u003cb\u003emust\u003c\\/b\u003e have a parameter on the URL.\u003cbr\\/\u003e\\n This was my design in response to Yonik\'s observation that curl puts\u003cbr\\/\u003e\\n\\\"application\\/x-www-form-urlencoded\\\" in the header even if it is not\u003cbr\\/\u003e\\nform-urlencoded encoded.\u003c\\/p\u003e\\n\\n\u003cp\u003eAs written, it does not rely on clients putting accurate headers\u003cbr\\/\u003e\\n(except for multipart) - it relies on a URL convention.\u003c\\/p\u003e\\n\\n\\n\\n\u003cp\u003eI only put it in there to make you happy!  I\'ll take it out and we can\u003cbr\\/\u003e\\ndeal with it later if necessary.\u003c\\/p\u003e\\n\\n\\n\\n\u003cp\u003eI didn\'t think i could get that past you!  I\'ll take it out and save\u003cbr\\/\u003e\\nthe pleeding for another time.\u003c\\/p\u003e\\n\\n\\n\\n\u003cp\u003efor a local file, you can use stream.url=\u003ca href=\\\"file:\\/\\/\\/C:\\/pathtofile.txt\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003efile:\\/\\/\\/C:\\/pathtofile.txt\u003c\\/a\u003e,\u003cbr\\/\u003e\\nfor remote ones, you use stream.url=\u003ca href=\\\"http:\\/\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/\u003c\\/a\u003e...\u003c\\/p\u003e\\n\\n\u003cp\u003eWe should have a good notice in the config warning people to have some\u003cbr\\/\u003e\\nsecurity running before enabling streaming.\u003c\\/p\u003e\\n\\n\\n\\n\u003cp\u003eI had implemented it the normal way, BUT it broke many tests (since\u003cbr\\/\u003e\\nthey never call init).   The better solution is to make sure the tests\u003cbr\\/\u003e\\ncall init a standard way, but that got me into editing many files I\u003cbr\\/\u003e\\ndon\'t quite understand, so i opted for lazy init.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eThat sounds fine.  Since it is a tenative private interface, i was not\u003cbr\\/\u003e\\ntoo worried about it.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12467330_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12467330_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/07 11:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-25T11:10:49+0000\'\u003e25\\/Jan\\/07 11:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                   \\n Thanks for going through this! \\n\\n I\'ll comment on points i have answers or questions.  The rest will go \\non the TODO list. \\n\\n\\n Ok, so we should make sure to put the charset into \\nContentStream.getContentType() and open the Reader with: \\n\\n   String charset = getCharset( stream.getContentType() ); \\n  new InputStreamReader( stream.getStream(),  charset ); \\n\\n\\n\\n Sounds reasonable.  I took them out because (at the time) it seemed \\nclearer and has less duplicated code. \\n\\n\\n\\n yes.  At some point it would also be good to make a stronger name \\ndistinction between UpdateHandler (the thing that handles the nity \\ngritty lucene indexing) and the UpdateRequestHandler &#8211; but lets save \\nthat for another day! \\n\\n\\n\\n As written, the StandardRequestParser: \\n1) checks if multipart \\n2) checks if it has parameters in the URL (?xxx=yyy) \\n  if it has parameters (?xxx=yyy) then use the RawRequestParser \\n  otherwise it pulls parameters from the map. (SimpleRequestParser) \\n\\n To trigger raw request reading you  must  have a parameter on the URL. \\n This was my design in response to Yonik\'s observation that curl puts \\n\\\"application\\/x-www-form-urlencoded\\\" in the header even if it is not \\nform-urlencoded encoded. \\n\\n As written, it does not rely on clients putting accurate headers \\n(except for multipart) - it relies on a URL convention. \\n\\n\\n\\n I only put it in there to make you happy!  I\'ll take it out and we can \\ndeal with it later if necessary. \\n\\n\\n\\n I didn\'t think i could get that past you!  I\'ll take it out and save \\nthe pleeding for another time. \\n\\n\\n\\n for a local file, you can use stream.url= file:\\/\\/\\/C:\\/pathtofile.txt , \\nfor remote ones, you use stream.url= http:\\/\\/ ... \\n\\n We should have a good notice in the config warning people to have some \\nsecurity running before enabling streaming. \\n\\n\\n\\n I had implemented it the normal way, BUT it broke many tests (since \\nthey never call init).   The better solution is to make sure the tests \\ncall init a standard way, but that got me into editing many files I \\ndon\'t quite understand, so i opted for lazy init. \\n\\n\\n That sounds fine.  Since it is a tenative private interface, i was not \\ntoo worried about it.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12467755\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12467755&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12467755\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12467755_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12467755_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jan\\/07 08:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-26T08:29:57+0000\'\u003e26\\/Jan\\/07 08:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\\n\u003cp\u003eHymm, this is awkward.  I\'m not quite sure what happened.  But this is what I thought I sent.  (I apologize that you already took the time to try to decipher it).  I\'ll include the original, for clarification\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003e- - - - - -\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e&gt;\u003cbr\\/\u003e\\n&gt; Woot! ... i think we\'re really close to comiting this.\u003cbr\\/\u003e\\n&gt;\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks for going through this!\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ll comment on points i have answers or questions.  The rest will go\u003cbr\\/\u003e\\non the TODO list.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;  - SolrUpdateServlet used HttpServletRequest.getReader, the new\u003cbr\\/\u003e\\n&gt;    UpdateRequestHandler uses an InputStreamReader arround\u003cbr\\/\u003e\\n&gt;    HttpServletRequest.getInputStream() ... this seems bad for legacy\u003cbr\\/\u003e\\n&gt;    update support from a char encoding standpoint.\u003c\\/p\u003e\\n\\n\u003cp\u003eOk, so we should make sure to put the charset into\u003cbr\\/\u003e\\nContentStream.getContentType() and open the Reader with:\u003c\\/p\u003e\\n\\n\u003cp\u003e String charset = getCharset( stream.getContentType() );\u003cbr\\/\u003e\\n new InputStreamReader( stream.getStream(),  charset );\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e&gt;  - While i think it\'s important to refactor the XML Update\u003cbr\\/\u003e\\n&gt;    parsing out of SolrCore - I\'m still not clear what is gained by\u003cbr\\/\u003e\\n&gt;    eliminating SolrServlet and SolrUpdate.  The big advantage of\u003cbr\\/\u003e\\n&gt;    the new dispatcher being a Filter is that it can pass requests on\u003cbr\\/\u003e\\n&gt;    that it doesn\'t want to deal with, so why not leave the existing\u003cbr\\/\u003e\\n&gt;    servlets arround with only the minimum neccessary changes...\u003c\\/p\u003e\\n\\n\u003cp\u003eSounds reasonable.  I took them out because (at the time) it seemed\u003cbr\\/\u003e\\nclearer and has less duplicated code.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e&gt; Comments regarding functionality that i think we \u003cb\u003emay\u003c\\/b\u003e want to address\u003cbr\\/\u003e\\n&gt; before commiting (but i won\'t fight over if i\'m the only one that cares)...\u003cbr\\/\u003e\\n&gt;\u003cbr\\/\u003e\\n&gt;  - UpdateRequestHandler should probably renamed XmlUpdateRequestHandler\u003cbr\\/\u003e\\n&gt;    (particularly since i expect Yonik to commit a\u003cbr\\/\u003e\\n&gt;    CsvUpdateRequestHandler real soon now)\u003c\\/p\u003e\\n\\n\u003cp\u003eyes.  At some point it would also be good to make a stronger name\u003cbr\\/\u003e\\ndistinction between UpdateHandler (the thing that handles the nity\u003cbr\\/\u003e\\ngritty lucene indexing) and the UpdateRequestHandler &#8211; but lets save\u003cbr\\/\u003e\\nthat for another day!\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e&gt;  - StandardRequestParser can\'t assume that a POST which isn\'t\u003cbr\\/\u003e\\n&gt;    multipart\\/* should be handled by a RawRequestParser ... if the\u003cbr\\/\u003e\\n&gt;    content type is \\\"application\\/x-www-form-urlencoded\\\" then\u003cbr\\/\u003e\\n&gt;    SimpleRequestParser should be used (so all params from query string\u003cbr\\/\u003e\\n&gt;    and body are included)\u003c\\/p\u003e\\n\\n\u003cp\u003eAs written, the StandardRequestParser:\u003cbr\\/\u003e\\n1) checks if multipart\u003cbr\\/\u003e\\n2) checks if it has parameters in the URL (?xxx=yyy)\u003cbr\\/\u003e\\n if it has parameters (?xxx=yyy) then use the RawRequestParser\u003cbr\\/\u003e\\n otherwise it pulls parameters from the map. (SimpleRequestParser)\u003c\\/p\u003e\\n\\n\u003cp\u003eTo trigger raw request reading you \u003cb\u003emust\u003c\\/b\u003e have a parameter on the URL.\u003cbr\\/\u003e\\n This was my design in response to Yonik\'s observation that curl puts\u003cbr\\/\u003e\\n\\\"application\\/x-www-form-urlencoded\\\" in the header even if it is not\u003cbr\\/\u003e\\nform-urlencoded encoded.\u003c\\/p\u003e\\n\\n\u003cp\u003eAs written, it does not rely on clients putting accurate headers\u003cbr\\/\u003e\\n(except for multipart) - it relies on a URL convention.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e&gt;  - I\'m really not fond of having SolrParams.STREAM_TYPE. Can we please,\u003cbr\\/\u003e\\n&gt;    please leave it out for now and rely on on content-type detection?\u003cbr\\/\u003e\\n&gt;    We can add it back in if\\/when we make RequestParser a public\u003cbr\\/\u003e\\n&gt;    interface and let people register them in solrconfig.\u003c\\/p\u003e\\n\\n\u003cp\u003eI only put it in there to make you happy!  I\'ll take it out and we can\u003cbr\\/\u003e\\ndeal with it later if necessary.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e&gt;  - I really don\'t think we want to open the pandoras box of putting\u003cbr\\/\u003e\\n&gt;    the HttpServletRequest in the SolrQueryRequest ... i\'d hate to put\u003cbr\\/\u003e\\n&gt;    that in and then have to support it forever.\u003c\\/p\u003e\\n\\n\u003cp\u003eI didn\'t think i could get that past you!  I\'ll take it out and save\u003cbr\\/\u003e\\nthe pleading for another time.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e&gt;  - a use case we talked about that still isn\'t covered is opening local\u003cbr\\/\u003e\\n&gt;    files as a stream ... this should be easy to add later right along\u003cbr\\/\u003e\\n&gt;    side STREAM_URL.\u003c\\/p\u003e\\n\\n\u003cp\u003efor a local file, you can use stream.url=\u003ca href=\\\"file:\\/\\/\\/C:\\/pathtofile.txt\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003efile:\\/\\/\\/C:\\/pathtofile.txt\u003c\\/a\u003e,\u003cbr\\/\u003e\\nfor remote ones, you use stream.url=\u003ca href=\\\"http:\\/\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/\u003c\\/a\u003e...\u003c\\/p\u003e\\n\\n\u003cp\u003eWe should have a good notice in the config warning people to have some\u003cbr\\/\u003e\\nsecurity running before enabling streaming.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e&gt;  - the init semantics for (Xml)UpdateRequestHandler are odd: as a\u003cbr\\/\u003e\\n&gt;    RequestHandler it\'s garunteed that init(NamedList) will be called, but\u003cbr\\/\u003e\\n&gt;    instead it uses it\'s own private init() that\'s called lazily.\u003c\\/p\u003e\\n\\n\u003cp\u003eI had implemented it the normal way, BUT it broke many tests (since\u003cbr\\/\u003e\\nthey never call init).   The better solution is to make sure the tests\u003cbr\\/\u003e\\ncall init a standard way, but that got me into editing many files I\u003cbr\\/\u003e\\ndon\'t quite understand, so i opted for lazy init.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;  - it\'s not clear to me why the interface for SolrRequestParser is...\u003cbr\\/\u003e\\n&gt;      public SolrParams parseParamsAndFillStreams(\u003cbr\\/\u003e\\n&gt;        final HttpServletRequest, ArrayList&lt;ContentStream&gt;)\u003cbr\\/\u003e\\n&gt;    ...instead of just...\u003cbr\\/\u003e\\n&gt;      public SolrQueryRequest(final HttpServletRequest)\u003cbr\\/\u003e\\n&gt;    ...with the param parsing loops in\u003cbr\\/\u003e\\n&gt;    SolrRequestParsers.buildRequestFrom\u003cbr\\/\u003e\\n&gt;    in static utility methods (in case a RequestParser doesn\'t want to\u003cbr\\/\u003e\\n&gt;    support STREAM_URL or STREAM_BODY)\u003cbr\\/\u003e\\n&gt;\u003c\\/p\u003e\\n\\n\u003cp\u003eThat sounds fine.  Since it is a tentative private interface, i was not\u003cbr\\/\u003e\\ntoo worried about it.\u003c\\/p\u003e\\n\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12467755_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12467755_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jan\\/07 08:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-26T08:29:57+0000\'\u003e26\\/Jan\\/07 08:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                   \\n Hymm, this is awkward.  I\'m not quite sure what happened.  But this is what I thought I sent.  (I apologize that you already took the time to try to decipher it).  I\'ll include the original, for clarification \\n\\n \\n\\t - - - - - - \\n \\n\\n\\n &gt; \\n&gt; Woot! ... i think we\'re really close to comiting this. \\n&gt; \\n\\n Thanks for going through this! \\n\\n I\'ll comment on points i have answers or questions.  The rest will go \\non the TODO list. \\n\\n &gt;  - SolrUpdateServlet used HttpServletRequest.getReader, the new \\n&gt;    UpdateRequestHandler uses an InputStreamReader arround \\n&gt;    HttpServletRequest.getInputStream() ... this seems bad for legacy \\n&gt;    update support from a char encoding standpoint. \\n\\n Ok, so we should make sure to put the charset into \\nContentStream.getContentType() and open the Reader with: \\n\\n  String charset = getCharset( stream.getContentType() ); \\n new InputStreamReader( stream.getStream(),  charset ); \\n\\n\\n &gt;  - While i think it\'s important to refactor the XML Update \\n&gt;    parsing out of SolrCore - I\'m still not clear what is gained by \\n&gt;    eliminating SolrServlet and SolrUpdate.  The big advantage of \\n&gt;    the new dispatcher being a Filter is that it can pass requests on \\n&gt;    that it doesn\'t want to deal with, so why not leave the existing \\n&gt;    servlets arround with only the minimum neccessary changes... \\n\\n Sounds reasonable.  I took them out because (at the time) it seemed \\nclearer and has less duplicated code. \\n\\n\\n &gt; Comments regarding functionality that i think we  may  want to address \\n&gt; before commiting (but i won\'t fight over if i\'m the only one that cares)... \\n&gt; \\n&gt;  - UpdateRequestHandler should probably renamed XmlUpdateRequestHandler \\n&gt;    (particularly since i expect Yonik to commit a \\n&gt;    CsvUpdateRequestHandler real soon now) \\n\\n yes.  At some point it would also be good to make a stronger name \\ndistinction between UpdateHandler (the thing that handles the nity \\ngritty lucene indexing) and the UpdateRequestHandler &#8211; but lets save \\nthat for another day! \\n\\n\\n &gt;  - StandardRequestParser can\'t assume that a POST which isn\'t \\n&gt;    multipart\\/* should be handled by a RawRequestParser ... if the \\n&gt;    content type is \\\"application\\/x-www-form-urlencoded\\\" then \\n&gt;    SimpleRequestParser should be used (so all params from query string \\n&gt;    and body are included) \\n\\n As written, the StandardRequestParser: \\n1) checks if multipart \\n2) checks if it has parameters in the URL (?xxx=yyy) \\n if it has parameters (?xxx=yyy) then use the RawRequestParser \\n otherwise it pulls parameters from the map. (SimpleRequestParser) \\n\\n To trigger raw request reading you  must  have a parameter on the URL. \\n This was my design in response to Yonik\'s observation that curl puts \\n\\\"application\\/x-www-form-urlencoded\\\" in the header even if it is not \\nform-urlencoded encoded. \\n\\n As written, it does not rely on clients putting accurate headers \\n(except for multipart) - it relies on a URL convention. \\n\\n\\n &gt;  - I\'m really not fond of having SolrParams.STREAM_TYPE. Can we please, \\n&gt;    please leave it out for now and rely on on content-type detection? \\n&gt;    We can add it back in if\\/when we make RequestParser a public \\n&gt;    interface and let people register them in solrconfig. \\n\\n I only put it in there to make you happy!  I\'ll take it out and we can \\ndeal with it later if necessary. \\n\\n\\n &gt;  - I really don\'t think we want to open the pandoras box of putting \\n&gt;    the HttpServletRequest in the SolrQueryRequest ... i\'d hate to put \\n&gt;    that in and then have to support it forever. \\n\\n I didn\'t think i could get that past you!  I\'ll take it out and save \\nthe pleading for another time. \\n\\n\\n &gt;  - a use case we talked about that still isn\'t covered is opening local \\n&gt;    files as a stream ... this should be easy to add later right along \\n&gt;    side STREAM_URL. \\n\\n for a local file, you can use stream.url= file:\\/\\/\\/C:\\/pathtofile.txt , \\nfor remote ones, you use stream.url= http:\\/\\/ ... \\n\\n We should have a good notice in the config warning people to have some \\nsecurity running before enabling streaming. \\n\\n\\n &gt;  - the init semantics for (Xml)UpdateRequestHandler are odd: as a \\n&gt;    RequestHandler it\'s garunteed that init(NamedList) will be called, but \\n&gt;    instead it uses it\'s own private init() that\'s called lazily. \\n\\n I had implemented it the normal way, BUT it broke many tests (since \\nthey never call init).   The better solution is to make sure the tests \\ncall init a standard way, but that got me into editing many files I \\ndon\'t quite understand, so i opted for lazy init. \\n\\n &gt;  - it\'s not clear to me why the interface for SolrRequestParser is... \\n&gt;      public SolrParams parseParamsAndFillStreams( \\n&gt;        final HttpServletRequest, ArrayList&lt;ContentStream&gt;) \\n&gt;    ...instead of just... \\n&gt;      public SolrQueryRequest(final HttpServletRequest) \\n&gt;    ...with the param parsing loops in \\n&gt;    SolrRequestParsers.buildRequestFrom \\n&gt;    in static utility methods (in case a RequestParser doesn\'t want to \\n&gt;    support STREAM_URL or STREAM_BODY) \\n&gt; \\n\\n That sounds fine.  Since it is a tentative private interface, i was not \\ntoo worried about it. \\n\\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12467787\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12467787&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12467787\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12467787_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12467787_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jan\\/07 11:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-26T11:23:57+0000\'\u003e26\\/Jan\\/07 11:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\\n\u003cp\u003eOk, I just uploaded (hopefully) a final version.  It takes care of (most) everything you suggest.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e&gt;  - SolrUpdateServlet used HttpServletRequest.getReader, the new\u003cbr\\/\u003e\\n&gt;    UpdateRequestHandler uses an InputStreamReader arround\u003cbr\\/\u003e\\n&gt;    HttpServletRequest.getInputStream() ... this seems bad for legacy\u003cbr\\/\u003e\\n&gt;    update support from a char encoding standpoint.\u003c\\/p\u003e\\n\\n\u003cp\u003eCan you check: XmlUpdateRequestHandler.handleRequestBody();\u003c\\/p\u003e\\n\\n\u003cp\u003eI added a check for charset, but am not totally confident in the method.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e&gt;  - StandardRequestParser can\'t assume that a POST which isn\'t\u003cbr\\/\u003e\\n&gt;    multipart\\/* should be handled by a RawRequestParser ... if the\u003cbr\\/\u003e\\n&gt;    content type is \\\"application\\/x-www-form-urlencoded\\\" then\u003cbr\\/\u003e\\n&gt;    SimpleRequestParser should be used (so all params from query string\u003cbr\\/\u003e\\n&gt;    and body are included)\u003c\\/p\u003e\\n\\n\u003cp\u003edone.  \u003c\\/p\u003e\\n\\n\\n\u003cp\u003e&gt;  - What should the expectations of\u003cbr\\/\u003e\\n&gt;    ContentStream.getInputStream().close() be? Should the Dispatcher\u003cbr\\/\u003e\\n&gt;    iterate over any Iterable streams when writing the output and try\u003cbr\\/\u003e\\n&gt;    to close them, ignoring any Exceptions?\u003c\\/p\u003e\\n\\n\u003cp\u003eEach handler is responsible to make sure they are closed.  Since it is an Iterable&lt;ContentStream&gt; - I don\'t think it is OK to iterate a \u003cb\u003esecond\u003c\\/b\u003e time.  If we make it a Collection&lt;&gt; then that would be a reasonable behavior.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e&gt; \u003cbr\\/\u003e\\n&gt; Things in the current patch that aren\'t strictly neccessary\u003cbr\\/\u003e\\n&gt; for the current issue and can (should?) be commited seperately...\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt;  - are we definitely deprecating SolrQueryResponse.getException ?\u003c\\/p\u003e\\n\\n\u003cp\u003eI took it out. we can commit it separately.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;  - StandardRequestHandler and DisMaxRequestHandler have only been\u003cbr\\/\u003e\\n&gt;    changed to subclass the new base class.\u003c\\/p\u003e\\n\\n\u003cp\u003eI left it in.  You can ignore changes to StandardRequestHandler and DisMax if that makes more sense.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e&gt;  - doFilter should call parsers.parse( path, req ) as soon as it has \u003cbr\\/\u003e\\n&gt;    the path, and then delegate to a helper method that doesn\'t have \u003cbr\\/\u003e\\n&gt;    access to the HttpServletRequest ... this reduces both the\u003cbr\\/\u003e\\n&gt;    complexity of the method, and the likelyhood of \u003cbr\\/\u003e\\n&gt;    someone inadvertently introducing an error (mangling the POST body)\u003cbr\\/\u003e\\n&gt;    when making future changes in the long deep method.  \u003cbr\\/\u003e\\n&gt;    The one thing to watch out for is forcing POST in legacy\u003cbr\\/\u003e\\n&gt;    update. (assuming legacy update stays in the Filter) \u003c\\/p\u003e\\n\\n\u003cp\u003eI removed the legacy handling from SolrDispatchFilter - this simplifies it greatly, so i\'m not sure if you still think this is necessary.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e&gt;  - it\'s not clear to me why the interface for SolrRequestParser is...\u003cbr\\/\u003e\\n&gt;      public SolrParams parseParamsAndFillStreams(\u003cbr\\/\u003e\\n&gt;        final HttpServletRequest, ArrayList&lt;ContentStream&gt;)\u003cbr\\/\u003e\\n&gt;    ...instead of just...\u003cbr\\/\u003e\\n&gt;      public SolrQueryRequest(final HttpServletRequest)\u003cbr\\/\u003e\\n&gt;    ...with the param parsing loops in\u003cbr\\/\u003e\\n&gt;    SolrRequestParsers.buildRequestFrom \u003cbr\\/\u003e\\n&gt;    in static utility methods (in case a RequestParser doesn\'t want to\u003cbr\\/\u003e\\n&gt;    support STREAM_URL or STREAM_BODY)\u003cbr\\/\u003e\\n&gt; \u003c\\/p\u003e\\n\\n\u003cp\u003eI left it as is for now.  Since it is a private interface, we should feel free to clean it up \\/ change it as we see fit.  But now I go to sleep!\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12467787_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12467787_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jan\\/07 11:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-26T11:23:57+0000\'\u003e26\\/Jan\\/07 11:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                   \\n Ok, I just uploaded (hopefully) a final version.  It takes care of (most) everything you suggest. \\n\\n\\n &gt;  - SolrUpdateServlet used HttpServletRequest.getReader, the new \\n&gt;    UpdateRequestHandler uses an InputStreamReader arround \\n&gt;    HttpServletRequest.getInputStream() ... this seems bad for legacy \\n&gt;    update support from a char encoding standpoint. \\n\\n Can you check: XmlUpdateRequestHandler.handleRequestBody(); \\n\\n I added a check for charset, but am not totally confident in the method. \\n\\n\\n &gt;  - StandardRequestParser can\'t assume that a POST which isn\'t \\n&gt;    multipart\\/* should be handled by a RawRequestParser ... if the \\n&gt;    content type is \\\"application\\/x-www-form-urlencoded\\\" then \\n&gt;    SimpleRequestParser should be used (so all params from query string \\n&gt;    and body are included) \\n\\n done.   \\n\\n\\n &gt;  - What should the expectations of \\n&gt;    ContentStream.getInputStream().close() be? Should the Dispatcher \\n&gt;    iterate over any Iterable streams when writing the output and try \\n&gt;    to close them, ignoring any Exceptions? \\n\\n Each handler is responsible to make sure they are closed.  Since it is an Iterable&lt;ContentStream&gt; - I don\'t think it is OK to iterate a  second  time.  If we make it a Collection&lt;&gt; then that would be a reasonable behavior. \\n\\n\\n &gt;  \\n&gt; Things in the current patch that aren\'t strictly neccessary \\n&gt; for the current issue and can (should?) be commited seperately... \\n&gt;  \\n&gt;  - are we definitely deprecating SolrQueryResponse.getException ? \\n\\n I took it out. we can commit it separately. \\n\\n &gt;  - StandardRequestHandler and DisMaxRequestHandler have only been \\n&gt;    changed to subclass the new base class. \\n\\n I left it in.  You can ignore changes to StandardRequestHandler and DisMax if that makes more sense. \\n\\n\\n &gt;  - doFilter should call parsers.parse( path, req ) as soon as it has  \\n&gt;    the path, and then delegate to a helper method that doesn\'t have  \\n&gt;    access to the HttpServletRequest ... this reduces both the \\n&gt;    complexity of the method, and the likelyhood of  \\n&gt;    someone inadvertently introducing an error (mangling the POST body) \\n&gt;    when making future changes in the long deep method.   \\n&gt;    The one thing to watch out for is forcing POST in legacy \\n&gt;    update. (assuming legacy update stays in the Filter)  \\n\\n I removed the legacy handling from SolrDispatchFilter - this simplifies it greatly, so i\'m not sure if you still think this is necessary. \\n\\n\\n &gt;  - it\'s not clear to me why the interface for SolrRequestParser is... \\n&gt;      public SolrParams parseParamsAndFillStreams( \\n&gt;        final HttpServletRequest, ArrayList&lt;ContentStream&gt;) \\n&gt;    ...instead of just... \\n&gt;      public SolrQueryRequest(final HttpServletRequest) \\n&gt;    ...with the param parsing loops in \\n&gt;    SolrRequestParsers.buildRequestFrom  \\n&gt;    in static utility methods (in case a RequestParser doesn\'t want to \\n&gt;    support STREAM_URL or STREAM_BODY) \\n&gt;  \\n\\n I left it as is for now.  Since it is a private interface, we should feel free to clean it up \\/ change it as we see fit.  But now I go to sleep! \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12468403\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12468403&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12468403\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_12468403_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12468403_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jan\\/07 20:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-29T20:38:02+0000\'\u003e29\\/Jan\\/07 20:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eKick Ass!\u003c\\/p\u003e\\n\\n\u003cp\u003eRyan, Everything looks great ... I\'ve commited a minor variation on your latest patch.\u003c\\/p\u003e\\n\\n\u003cp\u003eModifications I made to your patch before commiting...\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eRemoved an empty handleRequest method from SolrDispatchFilter\u003c\\/li\u003e\\n\\t\u003cli\u003ecleaned up some funky chars in web.xml\u003c\\/li\u003e\\n\\t\u003cli\u003emoved LICENSE info to top of all new files (before package declaration)\u003c\\/li\u003e\\n\\t\u003cli\u003erefactored some duplicate code from SolrUpdateServlet and TestHarness\u003cbr\\/\u003e\\n   into XmlUpdateRequestHandler.doLegacyUpdate\u003c\\/li\u003e\\n\\t\u003cli\u003edid not commit test.html\u003c\\/li\u003e\\n\\t\u003cli\u003eI also set svn:keywords on all of your new RequestHandlers, as well\u003cbr\\/\u003e\\n   as the DisMaxRequestHandler (aparently it had never been set there,\u003cbr\\/\u003e\\n   so the keywords weren\'t getting replaced properly)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e(The charset detection from content-type seems good enough for now ... there\'s some more crazy stuff that can be done diferentiating between text\\/xml and application\\/xml and inspecting the InputStream itself for specific indicator bytes &#8211;  but that can be dealt with in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-96\\\" title=\\\"Solr should support alternate charsets for XML update messages\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-96\\\"\u003e\u003cdel\u003eSOLR-96\u003c\\/del\u003e\u003c\\/a\u003e).\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks for putting in all of this work, and sticking with it through my (most likely extremely paranoid) critical comments ... what you\'ve done is really going to help catapult Solr\'s flexibility.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_12468403_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12468403_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jan\\/07 20:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-29T20:38:02+0000\'\u003e29\\/Jan\\/07 20:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Kick Ass! \\n\\n Ryan, Everything looks great ... I\'ve commited a minor variation on your latest patch. \\n\\n Modifications I made to your patch before commiting... \\n \\n\\t Removed an empty handleRequest method from SolrDispatchFilter \\n\\t cleaned up some funky chars in web.xml \\n\\t moved LICENSE info to top of all new files (before package declaration) \\n\\t refactored some duplicate code from SolrUpdateServlet and TestHarness \\n   into XmlUpdateRequestHandler.doLegacyUpdate \\n\\t did not commit test.html \\n\\t I also set svn:keywords on all of your new RequestHandlers, as well \\n   as the DisMaxRequestHandler (aparently it had never been set there, \\n   so the keywords weren\'t getting replaced properly) \\n \\n\\n\\n (The charset detection from content-type seems good enough for now ... there\'s some more crazy stuff that can be done diferentiating between text\\/xml and application\\/xml and inspecting the InputStream itself for specific indicator bytes &#8211;  but that can be dealt with in   SOLR-96  ). \\n\\n Thanks for putting in all of this work, and sticking with it through my (most likely extremely paranoid) critical comments ... what you\'ve done is really going to help catapult Solr\'s flexibility. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12468406\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-104?focusedCommentId=12468406&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12468406\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12468406_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12468406_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jan\\/07 20:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-29T20:53:14+0000\'\u003e29\\/Jan\\/07 20:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Hoss!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ryantxu\\\" id=\\\"commentauthor_12468406_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ryantxu\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ryantxu\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ryan McKinley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12468406_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jan\\/07 20:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-01-29T20:53:14+0000\'\u003e29\\/Jan\\/07 20:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks Hoss!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310230";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310230&amp;avatarId=22151\\\" alt=\\\"Solr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\"\u003eSolr\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1516207244022"> 
    <input type="hidden" title="jira.request.server.time" value="603"> 
    <input type="hidden" title="jira.request.id" value="1000x7876437x7"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="9"> 
    <input type="hidden" title="db.reads.time.in.ms" value="58"> 
    <input type="hidden" title="db.conns.time.in.ms" value="71"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 1000x7876437x7
	          REQUEST TIMESTAMP : [17/Jan/2018:16:40:44 +0000]
	               REQUEST TIME : 0.6030
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 9

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=30, elapsedTotal=58158067, elapsedMin=561591, elapsedMax=23276501, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=34, elapsedTotal=71015597, elapsedMin=479209, elapsedMax=23361413, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>