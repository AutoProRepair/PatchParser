<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|0f2c0ac78866fc44470e257a6d4d1fbc0215abeb|lout"> 
  <link rel="shortcut icon" href="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"sd.customer.profile.multi.languages\":true,\"sd.customer.portal.transitions\":true,\"sd.customer.portal.transitions.config\":true,\"sd.custom.email.stripping.rules\":false,\"sd.sla.lucene.issue.id.callback.performance\":true,\"sd.new.settings.sidebar.location\":true,\"sd.workload.report.paginator\":true,\"sd.experimental.portal.search.algorithm.default.1\":false,\"sd.customer.portal.help.center.agent.announcement\":true,\"sd.sla.improved.rendering\":false,\"sd.experimental.portal.search.algorithm.default.2\":false,\"sd.customer.feedback.validate.reporter.on.token\":true,\"sd.custom.email.notifications.utf8.csat.star\":true,\"sd.who.create.customers.by.email.setting\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.renderer.consider.variable.format\":true,\"sd.stats.event.tracking\":true,\"sd.password.helper.dialog\":true,\"sd.canned.responses\":false,\"sd.portal.help.center.customer.signup.secondary.email\":true,\"sd.custom.email.notifications.manage.language\":true,\"sd.use.search.by.permissions\":true,\"sd.slavalue.record.updated.date\":false,\"sd.report.custom.date.range\":false,\"sd.kb.article.helpfulness.report\":false,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"sd.custom.email.notifications.styling\":true,\"sd.workinghours.new.page.bulldog.1\":false,\"sd.customer.portal.two.step.login\":false,\"sd.automation.psmq.async.executor\":true,\"sd.customer.org.list.page.lazy.search\":true,\"sd.approval.requested.when.handler\":true,\"sd.request.type.field.rest.api.filtering.bugfix\":true,\"sd.automation.then.action.auto.answer.approval\":true,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"sla.will.only.be.paused.if.they.are.already.started\":true,\"sd.kb.comment.share.stats.collection\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"sd.customer.orgs.group.participants\":true,\"sd.portal.help.center.customer.signup\":true,\"sd.sla.agent.jql.security.restricted\":true,\"sd.test.feature.flag.x\":true,\"sd.test.feature.flag.y\":false,\"sd.cluster.safe.mail.channel.shutdown\":true,\"sd.email.channel.folders\":false,\"sd.email.analytics.open\":false,\"sd.kb.project.creation.create.link.space\":true,\"sd.workinghours.new.page\":false,\"sd.confluence.anonymous.permission.fix\":true,\"com.atlassian.jira.issuetable.draggable\":true,\"sd.customer.portal.project.agent.announcement\":true,\"sd.automation.audit.log\":true,\"jira.jql.suggestrecentfields\":false,\"sd.canned.responses.check.index.startup\":false,\"sd.new.project.templates\":true,\"sd.custom.email.notifications.custom.rules.simple.ui\":false,\"sd.custom.email.notifications.cut.over\":true,\"sd.dismiss.all.misconfiguration.warnings.setting\":true,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"sd.sla.configurations.export\":true,\"sd.canned.responses.variable.substitution\":true,\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"sd.customer.portal.prioties.per.project.fix\":true,\"jira.instrumentation.laas\":false,\"sd.kb.self.service.report\":false,\"sla.improved.request.handling\":true,\"sd.no.schedule.async.upgrade.tasks\":true,\"sd.kb.primary.nav\":true,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"sd.kb.issueview.panel.phase2\":true,\"sd.email.outsider.comments\":true,\"jira.create.linked.issue\":true,\"sd.kb.issueview.panel\":true,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"sd.approvals.light.weight\":false,\"sd.automation.then.webhook\":true,\"sd.respect.inline.edit.issue.off\":true,\"jira.jql.smartautoselectfirst\":false,\"sd.global.portal.search.atlassian.only.tracking\":false,\"sd.automation.if.condition.comment.primary.action\":true,\"jira.priorities.per.project\":true,\"sd.inline.noformat.renderer\":true,\"sd.customer.request.type.create.edit.screens\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/png,image/vnd.wap.wbmp,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["com.atlassian.servicedesk.servicedesk-canned-responses-plugin:canned-responses-data-provider.data"]="{\"substitutionVariables\":{\"issue.summary\":\"Issue summary\",\"issue.description\":\"Issue description\",\"issue.key\":\"Issue key\",\"issue.reporter.name\":\"Issue reporter\",\"issue.resolution\":\"Issue resolution\",\"request.url\":\"Request URL\",\"request.status\":\"Request status\"}}";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-help-links.help-links"]="{\"help\":{\"email.settings\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"managing.queues\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+queues+for+your+team\",\"email.setup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"request.settings.help.bubble\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\",\"email.settings.suitablerequest\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email#Receivingrequestsbyemail-suitablerequest\",\"sla.import.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Importing+SLAs\",\"documentation.home\":\"https://docs.atlassian.com/jira/jsd-docs-039/JIRA+Service+Desk+Documentation\",\"default\":\"https://docs.atlassian.com/jira/jsd-docs-039/\",\"create.space.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base#serving-customers-with-a-knowledge-base-createpermission\",\"email.settings.troubleshooting\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+the+email+channel\",\"admin.notifications.config\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+service+desk+notifications\",\"troubleshoot.requesttype\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+request+types\",\"approvals.configuration\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+JIRA+Service+Desk+approvals\",\"setting.up.reports\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+service+desk+reports\",\"public.signup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+public+signup\",\"knowledge.base\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base\",\"resolve.permission.scheme.errors\":\"https://docs.atlassian.com/jira/jsd-docs-039/Resolving+permission+scheme+errors\",\"getting.started\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+with+JIRA+Service+Desk\",\"getting.started.agent\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+for+service+desk+agents\",\"invite.customers\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\"},\"kb\":{\"default\":\"https://confluence.atlassian.com/display/SDKB/\",\"troubleshooting.user.management.issues\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\",\"legacytransition\":\"https://confluence.atlassian.com/display/SDKB/Replacing+legacy+automatic+transitions+with+automation+rules\",\"umtroubleshoot\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\"}}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-base-url.base-url"]="\"https://issues.apache.org/jira\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"6eac7e6ced54a5\"";
WRM._unparsedData["project-id"]="12310110";
WRM._unparsedData["project-key"]="\"LUCENE\"";
WRM._unparsedData["project-name"]="\"Lucene - Core\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310110";
WRM._unparsedData["projectKey"]="\"LUCENE\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/1a6b21131945f6f49ff48336b49ca3fe-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/d8484c9183f546511a8e336a8779bcd9-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d3b35d835f8f46fc3b53bb4db7f85158-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/71d42e74136d842a3ef4d5d136484843-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/95a4826c265852f4904f1e0e7300df68-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/944bb39eced1b35cfc7194aa02eb5a5a/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/5a8f0f8b8aa8f96a4f0f7e9e248d62f3-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="LUCENE-855"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[LUCENE-855] MemoryCachedRangeFilter to boost performance of Range queries - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[LUCENE-855] MemoryCachedRangeFilter to boost performance of Range queries - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/LUCENE" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FLUCENE-855">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310110" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Lucene - Core'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310110&amp;avatarId=10061"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/LUCENE">Lucene - Core</a></li>
                 <li><a class="issue-link" data-issue-key="LUCENE-855" href="/jira/browse/LUCENE-855" id="key-val" rel="12366423">LUCENE-855</a></li>
                </ol>
                <h1 id="summary-val">MemoryCachedRangeFilter to boost performance of Range queries</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FLUCENE-855"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/LUCENE-855/LUCENE-855.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/LUCENE-855/LUCENE-855.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/LUCENE-855/LUCENE-855.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/LUCENE-855/LUCENE-855.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" title="Improvement - An improvement or enhancement to an existing feature or task." width="16"> Improvement </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Duplicate </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="2.1 ">2.1</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> None </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+LUCENE+AND+component+%3D+%22core%2Fsearch%22" title="core/search issues with search code">core/search</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12366423-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
                <div id="customfieldmodule"> 
                 <div class="aui-tabs horizontal-tabs" id="customfield-tabs"> 
                  <div id="customfield-panel-1" class="tabs-pane active-pane"> 
                   <ul class="property-list"> 
                    <li id="rowForcustomfield_12310120" class="item"> 
                     <div class="wrap"> 
                      <strong title="Lucene Fields" class="name">Lucene Fields:</strong> 
                      <div id="customfield_12310120-val" class="value type-multicheckboxes" data-fieldtype="multicheckboxes" data-fieldtypecompletekey="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"> 
                       <div class="shorten" id="customfield_12310120-field"> 
                        <span>New</span>, 
                        <span>Patch Available</span> 
                       </div> 
                      </div> 
                     </div> </li> 
                   </ul> 
                  </div> 
                 </div>
                </div> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>Currently RangeFilter uses TermEnum and TermDocs to find documents that fall within the specified range. This requires iterating through every single term in the index and can get rather slow for large document sets.</p> 
                  <p>MemoryCachedRangeFilter reads all &lt;docId, value&gt; pairs of a given field, sorts by value, and stores in a SortedFieldCache. During bits(), binary searches are used to find the start and end indices of the lower and upper bound values. The BitSet is populated by all the docId values that fall in between the start and end indices.</p> 
                  <p>TestMemoryCachedRangeFilterPerformance creates a 100K RAMDirectory-backed index with random date values within a 5 year range. Executing bits() 1000 times on standard RangeQuery using random date intervals took 63904ms. Using MemoryCachedRangeFilter, it took 876ms. Performance increase is less dramatic when you have less unique terms in a field or using less number of documents.</p> 
                  <p>Currently MemoryCachedRangeFilter only works with numeric values (values are stored in a long[] array) but it can be easily changed to support Strings. A side "benefit" of storing the values are stored as longs, is that there's no longer the need to make the values lexographically comparable, i.e. padding numeric values with zeros.</p> 
                  <p>The downside of using MemoryCachedRangeFilter is there's a fairly significant memory requirement. So it's designed to be used in situations where range filter performance is critical and memory consumption is not an issue. The memory requirements are: (sizeof(int) + sizeof(long)) * numDocs. </p> 
                  <p>MemoryCachedRangeFilter also requires a warmup step which can take a while to run in large datasets (it took 40s to run on a 3M document corpus). Warmup can be called explicitly or is automatically called the first time MemoryCachedRangeFilter is applied using a given field.</p> 
                  <p>So in summery, MemoryCachedRangeFilter can be useful when:</p> 
                  <ul class="alternate" type="square"> 
                   <li>Performance is critical</li> 
                   <li>Memory is not an issue</li> 
                   <li>Field contains many unique numeric values</li> 
                   <li>Index contains large amount of documents</li> 
                  </ul> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/LUCENE-855?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/LUCENE-855?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/LUCENE-855?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/LUCENE-855?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12355388" data-issue-id="12366423" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12355388/contrib-filters.tar.gz" draggable="true" data-downloadurl="application/x-tar:contrib-filters.tar.gz:https://issues.apache.org/jira/secure/attachment/12355388/contrib-filters.tar.gz"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12355388/contrib-filters.tar.gz" title="Latest  12/Apr/07 02:18 - Andy Liu" draggable="true" data-downloadurl="application/x-tar:contrib-filters.tar.gz:https://issues.apache.org/jira/secure/attachment/12355388/contrib-filters.tar.gz">contrib-filters.tar.gz</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-04-12T02:18:47.968Z">12/Apr/07 02:18</time>
                   </dd>
                   <dd class="attachment-size">
                    342 kB
                   </dd>
                   <dd class="attachment-author">
                    Andy Liu
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12374701" data-issue-id="12366423" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12374701/FieldCacheRangeFilter_Lucene_2.3.0.patch" draggable="true" data-downloadurl="text/plain:FieldCacheRangeFilter_Lucene_2.3.0.patch:https://issues.apache.org/jira/secure/attachment/12374701/FieldCacheRangeFilter_Lucene_2.3.0.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12374701/FieldCacheRangeFilter_Lucene_2.3.0.patch" title="Latest  04/Feb/08 19:21 - Matt Ericson" draggable="true" data-downloadurl="text/plain:FieldCacheRangeFilter_Lucene_2.3.0.patch:https://issues.apache.org/jira/secure/attachment/12374701/FieldCacheRangeFilter_Lucene_2.3.0.patch">FieldCacheRangeFilter_Lucene_2.3.0.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-02-04T19:21:37.373Z">04/Feb/08 19:21</time>
                   </dd>
                   <dd class="attachment-size">
                    61 kB
                   </dd>
                   <dd class="attachment-author">
                    Matt Ericson
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12355571" data-issue-id="12366423" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12355571/FieldCacheRangeFilter.patch" draggable="true" data-downloadurl="text/plain:FieldCacheRangeFilter.patch:https://issues.apache.org/jira/secure/attachment/12355571/FieldCacheRangeFilter.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12355571/FieldCacheRangeFilter.patch" title="Latest  15/Apr/07 17:44 - Matt Ericson" draggable="true" data-downloadurl="text/plain:FieldCacheRangeFilter.patch:https://issues.apache.org/jira/secure/attachment/12355571/FieldCacheRangeFilter.patch">FieldCacheRangeFilter.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-04-15T17:44:52.551Z">15/Apr/07 17:44</time>
                   </dd>
                   <dd class="attachment-size">
                    56 kB
                   </dd>
                   <dd class="attachment-author">
                    Matt Ericson
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12355280" data-issue-id="12366423" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12355280/FieldCacheRangeFilter.patch" draggable="true" data-downloadurl="text/plain:FieldCacheRangeFilter.patch:https://issues.apache.org/jira/secure/attachment/12355280/FieldCacheRangeFilter.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12355280/FieldCacheRangeFilter.patch" title=" 10/Apr/07 20:52 - Matt Ericson" draggable="true" data-downloadurl="text/plain:FieldCacheRangeFilter.patch:https://issues.apache.org/jira/secure/attachment/12355280/FieldCacheRangeFilter.patch">FieldCacheRangeFilter.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-04-10T20:52:52.568Z">10/Apr/07 20:52</time>
                   </dd>
                   <dd class="attachment-size">
                    38 kB
                   </dd>
                   <dd class="attachment-author">
                    Matt Ericson
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12355264" data-issue-id="12366423" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12355264/FieldCacheRangeFilter.patch" draggable="true" data-downloadurl="text/plain:FieldCacheRangeFilter.patch:https://issues.apache.org/jira/secure/attachment/12355264/FieldCacheRangeFilter.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12355264/FieldCacheRangeFilter.patch" title=" 10/Apr/07 18:04 - Matt Ericson" draggable="true" data-downloadurl="text/plain:FieldCacheRangeFilter.patch:https://issues.apache.org/jira/secure/attachment/12355264/FieldCacheRangeFilter.patch">FieldCacheRangeFilter.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-04-10T18:04:21.603Z">10/Apr/07 18:04</time>
                   </dd>
                   <dd class="attachment-size">
                    37 kB
                   </dd>
                   <dd class="attachment-author">
                    Matt Ericson
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12355181" data-issue-id="12366423" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12355181/FieldCacheRangeFilter.patch" draggable="true" data-downloadurl="text/plain:FieldCacheRangeFilter.patch:https://issues.apache.org/jira/secure/attachment/12355181/FieldCacheRangeFilter.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12355181/FieldCacheRangeFilter.patch" title=" 09/Apr/07 16:47 - Matt Ericson" draggable="true" data-downloadurl="text/plain:FieldCacheRangeFilter.patch:https://issues.apache.org/jira/secure/attachment/12355181/FieldCacheRangeFilter.patch">FieldCacheRangeFilter.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-04-09T16:47:50.356Z">09/Apr/07 16:47</time>
                   </dd>
                   <dd class="attachment-size">
                    34 kB
                   </dd>
                   <dd class="attachment-author">
                    Matt Ericson
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12355138" data-issue-id="12366423" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12355138/FieldCacheRangeFilter.patch" draggable="true" data-downloadurl="text/plain:FieldCacheRangeFilter.patch:https://issues.apache.org/jira/secure/attachment/12355138/FieldCacheRangeFilter.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12355138/FieldCacheRangeFilter.patch" title=" 08/Apr/07 21:45 - Matt Ericson" draggable="true" data-downloadurl="text/plain:FieldCacheRangeFilter.patch:https://issues.apache.org/jira/secure/attachment/12355138/FieldCacheRangeFilter.patch">FieldCacheRangeFilter.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-04-08T21:45:14.764Z">08/Apr/07 21:45</time>
                   </dd>
                   <dd class="attachment-size">
                    33 kB
                   </dd>
                   <dd class="attachment-author">
                    Matt Ericson
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12355105" data-issue-id="12366423" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12355105/FieldCacheRangeFilter.patch" draggable="true" data-downloadurl="text/plain:FieldCacheRangeFilter.patch:https://issues.apache.org/jira/secure/attachment/12355105/FieldCacheRangeFilter.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12355105/FieldCacheRangeFilter.patch" title=" 06/Apr/07 20:53 - Matt Ericson" draggable="true" data-downloadurl="text/plain:FieldCacheRangeFilter.patch:https://issues.apache.org/jira/secure/attachment/12355105/FieldCacheRangeFilter.patch">FieldCacheRangeFilter.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-04-06T20:53:26.502Z">06/Apr/07 20:53</time>
                   </dd>
                   <dd class="attachment-size">
                    33 kB
                   </dd>
                   <dd class="attachment-author">
                    Matt Ericson
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12355077" data-issue-id="12366423" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12355077/MemoryCachedRangeFilter_1.4.patch" draggable="true" data-downloadurl="text/x-patch:MemoryCachedRangeFilter_1.4.patch:https://issues.apache.org/jira/secure/attachment/12355077/MemoryCachedRangeFilter_1.4.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12355077/MemoryCachedRangeFilter_1.4.patch" title="Latest  06/Apr/07 13:14 - Andy Liu" draggable="true" data-downloadurl="text/x-patch:MemoryCachedRangeFilter_1.4.patch:https://issues.apache.org/jira/secure/attachment/12355077/MemoryCachedRangeFilter_1.4.patch">MemoryCachedRangeFilter_1.4.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-04-06T13:14:53.077Z">06/Apr/07 13:14</time>
                   </dd>
                   <dd class="attachment-size">
                    19 kB
                   </dd>
                   <dd class="attachment-author">
                    Andy Liu
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12354791" data-issue-id="12366423" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12354791/MemoryCachedRangeFilter.patch" draggable="true" data-downloadurl="text/x-patch:MemoryCachedRangeFilter.patch:https://issues.apache.org/jira/secure/attachment/12354791/MemoryCachedRangeFilter.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12354791/MemoryCachedRangeFilter.patch" title="Latest  02/Apr/07 21:53 - Andy Liu" draggable="true" data-downloadurl="text/x-patch:MemoryCachedRangeFilter.patch:https://issues.apache.org/jira/secure/attachment/12354791/MemoryCachedRangeFilter.patch">MemoryCachedRangeFilter.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-04-02T21:53:43.543Z">02/Apr/07 21:53</time>
                   </dd>
                   <dd class="attachment-size">
                    19 kB
                   </dd>
                   <dd class="attachment-author">
                    Andy Liu
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12355262" data-issue-id="12366423" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12355262/TestRangeFilterPerformanceComparison.java" draggable="true" data-downloadurl="text/plain:TestRangeFilterPerformanceComparison.java:https://issues.apache.org/jira/secure/attachment/12355262/TestRangeFilterPerformanceComparison.java"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12355262/TestRangeFilterPerformanceComparison.java" title="Latest  10/Apr/07 18:00 - Matt Ericson" draggable="true" data-downloadurl="text/plain:TestRangeFilterPerformanceComparison.java:https://issues.apache.org/jira/secure/attachment/12355262/TestRangeFilterPerformanceComparison.java">TestRangeFilterPerformanceComparison.java</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-04-10T18:00:17.643Z">10/Apr/07 18:00</time>
                   </dd>
                   <dd class="attachment-size">
                    14 kB
                   </dd>
                   <dd class="attachment-author">
                    Matt Ericson
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12355183" data-issue-id="12366423" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12355183/TestRangeFilterPerformanceComparison.java" draggable="true" data-downloadurl="text/plain:TestRangeFilterPerformanceComparison.java:https://issues.apache.org/jira/secure/attachment/12355183/TestRangeFilterPerformanceComparison.java"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12355183/TestRangeFilterPerformanceComparison.java" title=" 09/Apr/07 18:37 - Andy Liu" draggable="true" data-downloadurl="text/plain:TestRangeFilterPerformanceComparison.java:https://issues.apache.org/jira/secure/attachment/12355183/TestRangeFilterPerformanceComparison.java">TestRangeFilterPerformanceComparison.java</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-04-09T18:37:46.081Z">09/Apr/07 18:37</time>
                   </dd>
                   <dd class="attachment-size">
                    10 kB
                   </dd>
                   <dd class="attachment-author">
                    Andy Liu
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10453"></span></span> Unassigned </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_andyliu1227" rel="andyliu1227" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Andy Liu&quot;,&quot;emailAddress&quot;:&quot;andyliu1227@gmail.com&quot;,&quot;username&quot;:&quot;andyliu1227&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="andyliu1227"></span></span> Andy Liu </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">1</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">2</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="02/Apr/07 21:52"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2007-04-02T21:52:15+0000">02/Apr/07 21:52</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="25/Jan/11 15:49"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2011-01-25T15:49:54+0000">25/Jan/11 15:49</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="25/Jan/11 15:49"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2011-01-25T15:49:54+0000">25/Jan/11 15:49</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for n/a, Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-855?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/LUCENE-855?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-855?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-855?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/LUCENE-855?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-855?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/LUCENE-855?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-855?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/LUCENE-855?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-855?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/LUCENE-855?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/LUCENE-855?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12486148\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12486148&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12486148\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyliu1227\\\" id=\\\"commentauthor_12486148_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyliu1227\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyliu1227\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andy Liu\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12486148_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Apr\\/07 21:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-02T21:53:43+0000\'\u003e02\\/Apr\\/07 21:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePatch produced from latest from SVN\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyliu1227\\\" id=\\\"commentauthor_12486148_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyliu1227\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyliu1227\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andy Liu\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12486148_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Apr\\/07 21:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-02T21:53:43+0000\'\u003e02\\/Apr\\/07 21:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Patch produced from latest from SVN              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12486758\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12486758&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12486758\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"otis\\\" id=\\\"commentauthor_12486758_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=otis\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"otis\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Otis Gospodnetic\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12486758_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Apr\\/07 20:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-04T20:11:13+0000\'\u003e04\\/Apr\\/07 20:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eA colleague of mine is working on something similar, but possibly more efficient (less sorting and binary searching).  He\'ll probably attach his patch to this issue.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"otis\\\" id=\\\"commentauthor_12486758_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=otis\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"otis\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Otis Gospodnetic\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12486758_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Apr\\/07 20:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-04T20:11:13+0000\'\u003e04\\/Apr\\/07 20:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    A colleague of mine is working on something similar, but possibly more efficient (less sorting and binary searching).  He\'ll probably attach his patch to this issue.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12486763\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12486763&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12486763\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12486763_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12486763_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Apr\\/07 20:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-04T20:22:54+0000\'\u003e04\\/Apr\\/07 20:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThere is also something from Mark Harwood:\u003cbr\\/\u003e\\n\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-798\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-798\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12486763_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12486763_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Apr\\/07 20:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-04T20:22:54+0000\'\u003e04\\/Apr\\/07 20:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    There is also something from Mark Harwood: \\n https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-798               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12486767\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12486767&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12486767\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyliu1227\\\" id=\\\"commentauthor_12486767_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyliu1227\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyliu1227\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andy Liu\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12486767_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Apr\\/07 20:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-04T20:48:50+0000\'\u003e04\\/Apr\\/07 20:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOtis, looking forward to your colleague\'s patch.\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-798\\\" title=\\\"Factory for RangeFilters that caches sections of ranges to reduce disk reads\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-798\\\"\u003e\u003cdel\u003eLUCENE-798\u003c\\/del\u003e\u003c\\/a\u003e caches RangeFilters so that if the same exact range is executed again, the cached RangeFilter is used.  However, the first time a range is encountered, you\'ll still have to calculate the RangeFilter, which can be slow.  I haven\'t looked at the patch, but I\'m sure \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-798\\\" title=\\\"Factory for RangeFilters that caches sections of ranges to reduce disk reads\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-798\\\"\u003e\u003cdel\u003eLUCENE-798\u003c\\/del\u003e\u003c\\/a\u003e can be used in conjunction with MemoryCachedRangeFilter to further boost performance for repeated range queries.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyliu1227\\\" id=\\\"commentauthor_12486767_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyliu1227\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyliu1227\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andy Liu\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12486767_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Apr\\/07 20:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-04T20:48:50+0000\'\u003e04\\/Apr\\/07 20:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Otis, looking forward to your colleague\'s patch. \\n\\n   LUCENE-798   caches RangeFilters so that if the same exact range is executed again, the cached RangeFilter is used.  However, the first time a range is encountered, you\'ll still have to calculate the RangeFilter, which can be slow.  I haven\'t looked at the patch, but I\'m sure   LUCENE-798   can be used in conjunction with MemoryCachedRangeFilter to further boost performance for repeated range queries.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12486788\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12486788&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12486788\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12486788_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12486788_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Apr\\/07 21:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-04T21:44:04+0000\'\u003e04\\/Apr\\/07 21:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt; \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-798\\\" title=\\\"Factory for RangeFilters that caches sections of ranges to reduce disk reads\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-798\\\"\u003e\u003cdel\u003eLUCENE-798\u003c\\/del\u003e\u003c\\/a\u003e caches RangeFilters so that if the same exact range is executed again \u003cspan class=\\\"error\\\"\u003e&#91;...&#93;\u003c\\/span\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eIt\'s not just the exact same range though... it can reuse parts of ranges AFAIK.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12486788_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12486788_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Apr\\/07 21:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-04T21:44:04+0000\'\u003e04\\/Apr\\/07 21:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt;   LUCENE-798   caches RangeFilters so that if the same exact range is executed again  &#91;...&#93;  \\n\\n It\'s not just the exact same range though... it can reuse parts of ranges AFAIK. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12486791\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12486791&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12486791\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyliu1227\\\" id=\\\"commentauthor_12486791_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyliu1227\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyliu1227\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andy Liu\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12486791_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Apr\\/07 22:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-04T22:00:31+0000\'\u003e04\\/Apr\\/07 22:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAh, you\'re right.  I didn\'t read closely enough!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyliu1227\\\" id=\\\"commentauthor_12486791_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyliu1227\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyliu1227\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andy Liu\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12486791_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Apr\\/07 22:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-04T22:00:31+0000\'\u003e04\\/Apr\\/07 22:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Ah, you\'re right.  I didn\'t read closely enough!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12487108\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12487108&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12487108\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12487108_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487108_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Apr\\/07 21:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-05T21:43:51+0000\'\u003e05\\/Apr\\/07 21:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI am almost done with my patch and I wanted to test it against this patch so see who has the faster version \u003cbr\\/\u003e\\nBut the MemoryCachedRangeFilter is written using Java 1.5\u003c\\/p\u003e\\n\\n\u003cp\u003eAnd as far as I know Lucene is still on java 1.4 \u003c\\/p\u003e\\n\\n\u003cp\u003eLines like \u003cbr\\/\u003e\\nprivate static WeakHashMap&lt;IndexReader, Map&lt;String,SortedFieldCache&gt;&gt; cache = new WeakHashMap&lt;IndexReader, Map&lt;String, SortedFieldCache&gt;&gt;();\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eWill not compile in java 1.4 Andy I would love to see who has the faster patch if you would convert your patch to use java 1.4 I would be happy to put them side by side\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12487108_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487108_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Apr\\/07 21:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-05T21:43:51+0000\'\u003e05\\/Apr\\/07 21:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I am almost done with my patch and I wanted to test it against this patch so see who has the faster version  \\nBut the MemoryCachedRangeFilter is written using Java 1.5 \\n\\n And as far as I know Lucene is still on java 1.4  \\n\\n Lines like  \\nprivate static WeakHashMap&lt;IndexReader, Map&lt;String,SortedFieldCache&gt;&gt; cache = new WeakHashMap&lt;IndexReader, Map&lt;String, SortedFieldCache&gt;&gt;(); \\n\\n\\n Will not compile in java 1.4 Andy I would love to see who has the faster patch if you would convert your patch to use java 1.4 I would be happy to put them side by side              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12487232\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12487232&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12487232\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyliu1227\\\" id=\\\"commentauthor_12487232_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyliu1227\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyliu1227\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andy Liu\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487232_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Apr\\/07 13:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-06T13:14:53+0000\'\u003e06\\/Apr\\/07 13:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s a patch that should compile in Java 1.4 .  It includes\u003c\\/p\u003e\\n\\n\u003cp\u003esrc\\/java\\/org\\/apache\\/lucene\\/search\\/MemoryCachedRangeFilter.java\u003cbr\\/\u003e\\nsrc\\/test\\/org\\/apache\\/lucene\\/search\\/TestMemoryCachedRangeFilter.java\u003cbr\\/\u003e\\nsrc\\/test\\/org\\/apache\\/lucene\\/search\\/TestMemoryCachedRangeFilterPerformance.java\u003c\\/p\u003e\\n\\n\u003cp\u003eYou can try using TestMemoryCachedRangeFilterPerformance to compare runtime speed numbers.  Let me know if you have any problem running these.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyliu1227\\\" id=\\\"commentauthor_12487232_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyliu1227\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyliu1227\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andy Liu\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487232_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Apr\\/07 13:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-06T13:14:53+0000\'\u003e06\\/Apr\\/07 13:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here\'s a patch that should compile in Java 1.4 .  It includes \\n\\n src\\/java\\/org\\/apache\\/lucene\\/search\\/MemoryCachedRangeFilter.java \\nsrc\\/test\\/org\\/apache\\/lucene\\/search\\/TestMemoryCachedRangeFilter.java \\nsrc\\/test\\/org\\/apache\\/lucene\\/search\\/TestMemoryCachedRangeFilterPerformance.java \\n\\n You can try using TestMemoryCachedRangeFilterPerformance to compare runtime speed numbers.  Let me know if you have any problem running these.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12487332\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12487332&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12487332\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12487332_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487332_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Apr\\/07 20:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-06T20:53:26+0000\'\u003e06\\/Apr\\/07 20:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere is my Version of a FieldCacheRangeFilter\u003c\\/p\u003e\\n\\n\u003cp\u003eI used different class names so both patch can be applied to lucene but they do almost the same thing so I do not think they both should be committed. \u003c\\/p\u003e\\n\\n\u003cp\u003eThis Filter uses the Field Cache to to get values out of the index and then creates BitSets that are proxies to the field cache.  So when you do a BitSet.get(int bitIndex) It will check the Field Cache \u003c\\/p\u003e\\n\\n\u003cp\u003eOne think to note is that since this is a proxy to the field cache it will not work with the current version of ChainedFilters.java (But I have a fix for that also) Since the Chained Filter will make a copy of the bit set and flip the bits. This bit set will not work. \u003c\\/p\u003e\\n\\n\u003cp\u003eThis version will use less memory since there is only 1 copy if the data and the BitSet is just a proxy it has no data in it. \u003c\\/p\u003e\\n\\n\u003cp\u003eI want to thank Andy as I have uses\\/ stolen all of your tests and modified them just a but so they work with my version. And since we have the same performance tests here are the numbers\u003c\\/p\u003e\\n\\n\u003cp\u003eUsing Andy\'s code \u003c\\/p\u003e\\n\\n\u003cp\u003e    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e ------------- Standard Output ---------------\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Start interval: Sun Apr 07 13:49:15 PDT 2002\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e End interval: Fri Apr 06 13:49:15 PDT 2007\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Creating RAMDirectory index...\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Reader opened with 100000 documents.  Creating RangeFilters...\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Standard RangeFilter finished in 58585ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e MemoryCachedRangeFilter inished in 825ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e ------------- ---------------- ---------------\u003c\\/p\u003e\\n\\n\u003cp\u003eUsing My code \u003c\\/p\u003e\\n\\n\u003cp\u003e    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e ------------- Standard Output ---------------\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Start interval: Sun Apr 07 13:40:52 PDT 2002\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e End interval: Fri Apr 06 13:40:52 PDT 2007\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Creating RAMDirectory index...\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Reader opened with 100000 documents.  Creating RangeFilters...\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Standard RangeFilter finished in 58528ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e FieldCacheRangeFilter inished in 30ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e ------------- ---------------- ---------------\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12487332_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487332_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Apr\\/07 20:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-06T20:53:26+0000\'\u003e06\\/Apr\\/07 20:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here is my Version of a FieldCacheRangeFilter \\n\\n I used different class names so both patch can be applied to lucene but they do almost the same thing so I do not think they both should be committed.  \\n\\n This Filter uses the Field Cache to to get values out of the index and then creates BitSets that are proxies to the field cache.  So when you do a BitSet.get(int bitIndex) It will check the Field Cache  \\n\\n One think to note is that since this is a proxy to the field cache it will not work with the current version of ChainedFilters.java (But I have a fix for that also) Since the Chained Filter will make a copy of the bit set and flip the bits. This bit set will not work.  \\n\\n This version will use less memory since there is only 1 copy if the data and the BitSet is just a proxy it has no data in it.  \\n\\n I want to thank Andy as I have uses\\/ stolen all of your tests and modified them just a but so they work with my version. And since we have the same performance tests here are the numbers \\n\\n Using Andy\'s code  \\n\\n      &#91;junit&#93;  ------------- Standard Output --------------- \\n     &#91;junit&#93;  Start interval: Sun Apr 07 13:49:15 PDT 2002 \\n     &#91;junit&#93;  End interval: Fri Apr 06 13:49:15 PDT 2007 \\n     &#91;junit&#93;  Creating RAMDirectory index... \\n     &#91;junit&#93;  Reader opened with 100000 documents.  Creating RangeFilters... \\n     &#91;junit&#93;  Standard RangeFilter finished in 58585ms \\n     &#91;junit&#93;  MemoryCachedRangeFilter inished in 825ms \\n     &#91;junit&#93;  ------------- ---------------- --------------- \\n\\n Using My code  \\n\\n      &#91;junit&#93;  ------------- Standard Output --------------- \\n     &#91;junit&#93;  Start interval: Sun Apr 07 13:40:52 PDT 2002 \\n     &#91;junit&#93;  End interval: Fri Apr 06 13:40:52 PDT 2007 \\n     &#91;junit&#93;  Creating RAMDirectory index... \\n     &#91;junit&#93;  Reader opened with 100000 documents.  Creating RangeFilters... \\n     &#91;junit&#93;  Standard RangeFilter finished in 58528ms \\n     &#91;junit&#93;  FieldCacheRangeFilter inished in 30ms \\n     &#91;junit&#93;  ------------- ---------------- ---------------              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12487378\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12487378&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12487378\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyliu1227\\\" id=\\\"commentauthor_12487378_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyliu1227\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyliu1227\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andy Liu\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487378_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Apr\\/07 03:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-07T03:24:13+0000\'\u003e07\\/Apr\\/07 03:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHey Matt,\u003c\\/p\u003e\\n\\n\u003cp\u003eThe way you implemented FieldCacheRangeFilter is very simple and clever!  Here\'s a couple comments:\u003c\\/p\u003e\\n\\n\u003cp\u003e1. My performance test that we both used is no longer valid, since FieldCacheRangeFilter.bits() only returns a wrapper around a BitSet.  The test only calls bits() .  Since you\'re wrapping BitSet, there\'s some overhead incurred when applying it to an actual search.  I reran the performance test applying the Filter to a search, and your implementation is still faster, although only slightly.\u003c\\/p\u003e\\n\\n\u003cp\u003e2. Your filter currently doesn\'t work with ConstantRangeQuery.  CRQ calls bits.nextSetBit() which fails in your wrapped BitSet implementation.  Your incomplete implementation of BitSet may cause problems elsewhere.\u003c\\/p\u003e\\n\\n\u003cp\u003eIf you can fix #2 I\'d vote for your implementation since it\'s cleaner and faster, although I might take another stab at trying to improve my implementation.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyliu1227\\\" id=\\\"commentauthor_12487378_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyliu1227\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyliu1227\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andy Liu\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487378_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Apr\\/07 03:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-07T03:24:13+0000\'\u003e07\\/Apr\\/07 03:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hey Matt, \\n\\n The way you implemented FieldCacheRangeFilter is very simple and clever!  Here\'s a couple comments: \\n\\n 1. My performance test that we both used is no longer valid, since FieldCacheRangeFilter.bits() only returns a wrapper around a BitSet.  The test only calls bits() .  Since you\'re wrapping BitSet, there\'s some overhead incurred when applying it to an actual search.  I reran the performance test applying the Filter to a search, and your implementation is still faster, although only slightly. \\n\\n 2. Your filter currently doesn\'t work with ConstantRangeQuery.  CRQ calls bits.nextSetBit() which fails in your wrapped BitSet implementation.  Your incomplete implementation of BitSet may cause problems elsewhere. \\n\\n If you can fix #2 I\'d vote for your implementation since it\'s cleaner and faster, although I might take another stab at trying to improve my implementation.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12487380\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12487380&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12487380\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12487380_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487380_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Apr\\/07 04:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-07T04:02:50+0000\'\u003e07\\/Apr\\/07 04:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI will be happy to fix #2 or a to try to fix #2 \u003c\\/p\u003e\\n\\n\u003cp\u003eThe test had the real work done out side the Timing \u003c\\/p\u003e\\n\\n\u003cp\u003eThe other thing I like about is is that there is less data saved in cache. Some of our indexes are 10 Gigs so every bite counts at least in my application. \u003c\\/p\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12487380_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487380_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Apr\\/07 04:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-07T04:02:50+0000\'\u003e07\\/Apr\\/07 04:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I will be happy to fix #2 or a to try to fix #2  \\n\\n The test had the real work done out side the Timing  \\n\\n The other thing I like about is is that there is less data saved in cache. Some of our indexes are 10 Gigs so every bite counts at least in my application.  \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12487460\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12487460&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12487460\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12487460_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487460_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Apr\\/07 21:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-08T21:45:14+0000\'\u003e08\\/Apr\\/07 21:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAndy was correct the 2 performance tests were bogus as they did not call get() from the bit sets. And my code does all of the work int the get() call.  I guess I should have looked a little closer at the tests before using it\u003c\\/p\u003e\\n\\n\u003cp\u003eI changes his tests and mine to call and IndexSearcher.search(q,filter) and actually do the search \u003cbr\\/\u003e\\nHere are the results \u003c\\/p\u003e\\n\\n\u003cp\u003eUsing the MemoryCachedRangeFilter\u003c\\/p\u003e\\n\\n\u003cp\u003e    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e ------------- Standard Output ---------------\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Start interval: Tue Apr 09 14:32:14 PDT 2002\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e End interval: Sun Apr 08 14:32:14 PDT 2007\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Creating RAMDirectory index...\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Reader opened with 100000 documents.  Creating RangeFilters...\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Standard RangeFilter finished in 57533ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e MemoryCachedRangeFilter inished in 905ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e ------------- ---------------- ---------------\u003c\\/p\u003e\\n\\n\u003cp\u003eUsing FieldCacheRangeFilter\u003c\\/p\u003e\\n\\n\u003cp\u003e    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e ------------- Standard Output ---------------\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Start interval: Tue Apr 09 14:30:29 PDT 2002\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e End interval: Sun Apr 08 14:30:29 PDT 2007\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Creating RAMDirectory index...\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Reader opened with 100000 documents.  Creating RangeFilters...\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Standard RangeFilter finished in 58822ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e FieldCacheRangeFilter inished in 102ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e ------------- ---------------- ---------------\u003c\\/p\u003e\\n\\n\u003cp\u003eThey are much closer this time \u003c\\/p\u003e\\n\\n\u003cp\u003eI have fixed my BitSets to allow a user to call nextClearBit or nextSetBit\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12487460_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487460_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Apr\\/07 21:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-08T21:45:14+0000\'\u003e08\\/Apr\\/07 21:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Andy was correct the 2 performance tests were bogus as they did not call get() from the bit sets. And my code does all of the work int the get() call.  I guess I should have looked a little closer at the tests before using it \\n\\n I changes his tests and mine to call and IndexSearcher.search(q,filter) and actually do the search  \\nHere are the results  \\n\\n Using the MemoryCachedRangeFilter \\n\\n      &#91;junit&#93;  ------------- Standard Output --------------- \\n     &#91;junit&#93;  Start interval: Tue Apr 09 14:32:14 PDT 2002 \\n     &#91;junit&#93;  End interval: Sun Apr 08 14:32:14 PDT 2007 \\n     &#91;junit&#93;  Creating RAMDirectory index... \\n     &#91;junit&#93;  Reader opened with 100000 documents.  Creating RangeFilters... \\n     &#91;junit&#93;  Standard RangeFilter finished in 57533ms \\n     &#91;junit&#93;  MemoryCachedRangeFilter inished in 905ms \\n     &#91;junit&#93;  ------------- ---------------- --------------- \\n\\n Using FieldCacheRangeFilter \\n\\n      &#91;junit&#93;  ------------- Standard Output --------------- \\n     &#91;junit&#93;  Start interval: Tue Apr 09 14:30:29 PDT 2002 \\n     &#91;junit&#93;  End interval: Sun Apr 08 14:30:29 PDT 2007 \\n     &#91;junit&#93;  Creating RAMDirectory index... \\n     &#91;junit&#93;  Reader opened with 100000 documents.  Creating RangeFilters... \\n     &#91;junit&#93;  Standard RangeFilter finished in 58822ms \\n     &#91;junit&#93;  FieldCacheRangeFilter inished in 102ms \\n     &#91;junit&#93;  ------------- ---------------- --------------- \\n\\n They are much closer this time  \\n\\n I have fixed my BitSets to allow a user to call nextClearBit or nextSetBit              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12487578\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12487578&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12487578\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12487578_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487578_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Apr\\/07 16:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-09T16:47:50+0000\'\u003e09\\/Apr\\/07 16:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis version will create a real BitSet() when cloned and will allow chained filter to work correctly \u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12487578_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487578_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Apr\\/07 16:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-09T16:47:50+0000\'\u003e09\\/Apr\\/07 16:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This version will create a real BitSet() when cloned and will allow chained filter to work correctly  \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12487587\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12487587&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12487587\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"otis\\\" id=\\\"commentauthor_12487587_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=otis\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"otis\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Otis Gospodnetic\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487587_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Apr\\/07 17:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-09T17:27:38+0000\'\u003e09\\/Apr\\/07 17:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOK.  I\'ll wait for the new performance numbers before committing.  Andy, if you see anything funky in Matt\'s patch or if you managed to make your version faster, let us know, please.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"otis\\\" id=\\\"commentauthor_12487587_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=otis\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"otis\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Otis Gospodnetic\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487587_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Apr\\/07 17:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-09T17:27:38+0000\'\u003e09\\/Apr\\/07 17:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    OK.  I\'ll wait for the new performance numbers before committing.  Andy, if you see anything funky in Matt\'s patch or if you managed to make your version faster, let us know, please.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12487590\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12487590&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12487590\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"otis\\\" id=\\\"commentauthor_12487590_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=otis\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"otis\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Otis Gospodnetic\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487590_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Apr\\/07 18:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-09T18:18:44+0000\'\u003e09\\/Apr\\/07 18:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eComments about the patch so far:\u003cbr\\/\u003e\\nCosmetics:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eYou don\'t want to refer to Andy\'s class in javadocs, as that class won\'t go in unless Andy makes it faster.\u003c\\/li\u003e\\n\\t\u003cli\u003eI see some incorrect (copy\\/paste error) javadocs and javadocs\\/comments with typos in both the test classes and non-test classes.\u003c\\/li\u003e\\n\\t\u003cli\u003ePlease configure your Lucene project in Eclipse to use 2 spaces instead of 4.  In general, once you get the code formatting settings right, it\'s a good practise to format your code with that setting before submitting a patch.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eTesting:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eYou can put the testPerformance() code from  TestFieldCacheRangeFilterPerformance  in the other unit test class you have there.\u003c\\/li\u003e\\n\\t\u003cli\u003eYour testPerformance() doesn\'t actually assert...() anything, just prints out numbers to stdout.  You can keep the printing, but it would be better to also do some asserts, so we can always test that the FCRangerFilter beats the vanilla RangeFilter without looking at the stdout.\u003c\\/li\u003e\\n\\t\u003cli\u003eYou may want to close that searcher in testPerformance() before opening a new one.  Probably won\'t make any difference, but still.\u003c\\/li\u003e\\n\\t\u003cli\u003eYou may also want to just close the searcher at the end of the method.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n\u003cp\u003eImpl:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eIn the inner FieldCacheBitSet class, I see:\u003cbr\\/\u003e\\n+        public boolean intersects(BitSet set)  {\u003cbr\\/\u003e\\n+            for (int i =0; i &lt; length; i++) \\n\u003cdiv class=\\\"error\\\"\u003e\u003cspan class=\\\"error\\\"\u003eUnknown macro: {+                if (get(i) &amp;&amp; set.get(i)) {\\n+                    return true;\\n+                }+            }\u003c\\/span\u003e \u003c\\/div\u003e\\n\u003cp\u003e+            return false;\u003cbr\\/\u003e\\n+        }\u003c\\/p\u003e\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eIs there room for a small optimization?  What if BitSets are not of equal size?  Wouldn\'t it make sense to loop through a smaller BitSet then?  Sorry if I\'m off, I hardly ever work with BitSets.\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eI see you made *_PARSERs in FCImpl public (were private).  Is that really needed?  Would ackage protected be enough?\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eMake sure ASL is in all test and non-test classes, I don\'t see it there now.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n\u003cp\u003eOverall, I like it - slick and elegant usage of FC!\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'d love to know what Hoss and other big Filter users think about this.  Solr makes a lof of use of (Range?)Filters, I believe.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"otis\\\" id=\\\"commentauthor_12487590_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=otis\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"otis\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Otis Gospodnetic\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487590_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Apr\\/07 18:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-09T18:18:44+0000\'\u003e09\\/Apr\\/07 18:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Comments about the patch so far: \\nCosmetics: \\n \\n\\t You don\'t want to refer to Andy\'s class in javadocs, as that class won\'t go in unless Andy makes it faster. \\n\\t I see some incorrect (copy\\/paste error) javadocs and javadocs\\/comments with typos in both the test classes and non-test classes. \\n\\t Please configure your Lucene project in Eclipse to use 2 spaces instead of 4.  In general, once you get the code formatting settings right, it\'s a good practise to format your code with that setting before submitting a patch. \\n \\n\\n\\n Testing: \\n \\n\\t You can put the testPerformance() code from  TestFieldCacheRangeFilterPerformance  in the other unit test class you have there. \\n\\t Your testPerformance() doesn\'t actually assert...() anything, just prints out numbers to stdout.  You can keep the printing, but it would be better to also do some asserts, so we can always test that the FCRangerFilter beats the vanilla RangeFilter without looking at the stdout. \\n\\t You may want to close that searcher in testPerformance() before opening a new one.  Probably won\'t make any difference, but still. \\n\\t You may also want to just close the searcher at the end of the method. \\n \\n\\n\\n\\n Impl: \\n \\n\\t In the inner FieldCacheBitSet class, I see: \\n+        public boolean intersects(BitSet set)  { \\n+            for (int i =0; i &lt; length; i++) \\n  Unknown macro: {+                if (get(i) &amp;&amp; set.get(i)) {\\n+                    return true;\\n+                }+            }   \\n +            return false; \\n+        }  \\n \\n\\n\\n Is there room for a small optimization?  What if BitSets are not of equal size?  Wouldn\'t it make sense to loop through a smaller BitSet then?  Sorry if I\'m off, I hardly ever work with BitSets. \\n\\n \\n\\t I see you made *_PARSERs in FCImpl public (were private).  Is that really needed?  Would ackage protected be enough? \\n \\n\\n\\n \\n\\t Make sure ASL is in all test and non-test classes, I don\'t see it there now. \\n \\n\\n\\n\\n Overall, I like it - slick and elegant usage of FC! \\n\\n I\'d love to know what Hoss and other big Filter users think about this.  Solr makes a lof of use of (Range?)Filters, I believe.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12487595\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12487595&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12487595\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyliu1227\\\" id=\\\"commentauthor_12487595_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyliu1227\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyliu1227\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andy Liu\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487595_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Apr\\/07 18:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-09T18:36:32+0000\'\u003e09\\/Apr\\/07 18:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIn your updated benchmark, you\'re combining the range filter with a term query that matches one document.  I don\'t believe that\'s the typical use case for a range filter.  Usually the user employs a range to filter a large document set.  \u003c\\/p\u003e\\n\\n\u003cp\u003eI created a different benchmark to compare standard range filter, MemoryCachedRangeFilter, and Matt\'s FieldCacheRangeFilter using MatchAllDocsQuery, ConstantScoreQuery, and TermQuery (matching one doc like the last benchmark).  Here are the results:\u003c\\/p\u003e\\n\\n\u003cp\u003eReader opened with 100000 documents.  Creating RangeFilters...\u003cbr\\/\u003e\\nRangeFilter w\\/MatchAllDocsQuery:\u003cbr\\/\u003e\\n========================\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eBits: 4421\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 5285\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eRangeFilter w\\/ConstantScoreQuery:\u003cbr\\/\u003e\\n========================\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eBits: 4200\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 8694\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eRangeFilter w\\/TermQuery:\u003cbr\\/\u003e\\n========================\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eBits: 4088\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 4133\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eMemoryCachedRangeFilter w\\/MatchAllDocsQuery:\u003cbr\\/\u003e\\n========================\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eBits: 80\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 1142\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eMemoryCachedRangeFilter w\\/ConstantScoreQuery:\u003cbr\\/\u003e\\n========================\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eBits: 79\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 482\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eMemoryCachedRangeFilter w\\/TermQuery:\u003cbr\\/\u003e\\n========================\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eBits: 73\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 95\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eFieldCacheRangeFilter w\\/MatchAllDocsQuery:\u003cbr\\/\u003e\\n========================\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eBits: 0\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 1146\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eFieldCacheRangeFilter w\\/ConstantScoreQuery:\u003cbr\\/\u003e\\n========================\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eBits: 1\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 356\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eFieldCacheRangeFilter w\\/TermQuery:\u003cbr\\/\u003e\\n========================\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eBits: 0\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 19\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eHere\'s some points:\u003c\\/p\u003e\\n\\n\u003cp\u003e1. When searching in a filter, bits() is called, so the search time includes bits() time.\u003cbr\\/\u003e\\n2. Matt\'s FieldCacheRangeFilter is faster for ConstantScoreQuery, although not by much.  Using MatchAllDocsQuery, they run neck-and-neck.  FCRF is much faster for TermQuery since MCRF has to create the BItSet for the range before the search is executed.\u003cbr\\/\u003e\\n3. I get less document hits when running FieldCacheRangeFilter with ConstantScoreQuery.  Matt, there may be a bug in getNextSetBit().  Not sure if this would affect the benchmark.\u003cbr\\/\u003e\\n4. I\'d be interested to see performance numbers when FieldCacheRangeFilter is used with ChainedFilter.  I suspect that MCRF would be faster in this case, since I\'m assuming that FCRF has to reconstruct a standard BitSet during clone().\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyliu1227\\\" id=\\\"commentauthor_12487595_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyliu1227\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyliu1227\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andy Liu\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487595_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Apr\\/07 18:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-09T18:36:32+0000\'\u003e09\\/Apr\\/07 18:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    In your updated benchmark, you\'re combining the range filter with a term query that matches one document.  I don\'t believe that\'s the typical use case for a range filter.  Usually the user employs a range to filter a large document set.   \\n\\n I created a different benchmark to compare standard range filter, MemoryCachedRangeFilter, and Matt\'s FieldCacheRangeFilter using MatchAllDocsQuery, ConstantScoreQuery, and TermQuery (matching one doc like the last benchmark).  Here are the results: \\n\\n Reader opened with 100000 documents.  Creating RangeFilters... \\nRangeFilter w\\/MatchAllDocsQuery: \\n======================== \\n \\n\\t Bits: 4421 \\n\\t Search: 5285 \\n \\n\\n\\n RangeFilter w\\/ConstantScoreQuery: \\n======================== \\n \\n\\t Bits: 4200 \\n\\t Search: 8694 \\n \\n\\n\\n RangeFilter w\\/TermQuery: \\n======================== \\n \\n\\t Bits: 4088 \\n\\t Search: 4133 \\n \\n\\n\\n MemoryCachedRangeFilter w\\/MatchAllDocsQuery: \\n======================== \\n \\n\\t Bits: 80 \\n\\t Search: 1142 \\n \\n\\n\\n MemoryCachedRangeFilter w\\/ConstantScoreQuery: \\n======================== \\n \\n\\t Bits: 79 \\n\\t Search: 482 \\n \\n\\n\\n MemoryCachedRangeFilter w\\/TermQuery: \\n======================== \\n \\n\\t Bits: 73 \\n\\t Search: 95 \\n \\n\\n\\n FieldCacheRangeFilter w\\/MatchAllDocsQuery: \\n======================== \\n \\n\\t Bits: 0 \\n\\t Search: 1146 \\n \\n\\n\\n FieldCacheRangeFilter w\\/ConstantScoreQuery: \\n======================== \\n \\n\\t Bits: 1 \\n\\t Search: 356 \\n \\n\\n\\n FieldCacheRangeFilter w\\/TermQuery: \\n======================== \\n \\n\\t Bits: 0 \\n\\t Search: 19 \\n \\n\\n\\n Here\'s some points: \\n\\n 1. When searching in a filter, bits() is called, so the search time includes bits() time. \\n2. Matt\'s FieldCacheRangeFilter is faster for ConstantScoreQuery, although not by much.  Using MatchAllDocsQuery, they run neck-and-neck.  FCRF is much faster for TermQuery since MCRF has to create the BItSet for the range before the search is executed. \\n3. I get less document hits when running FieldCacheRangeFilter with ConstantScoreQuery.  Matt, there may be a bug in getNextSetBit().  Not sure if this would affect the benchmark. \\n4. I\'d be interested to see performance numbers when FieldCacheRangeFilter is used with ChainedFilter.  I suspect that MCRF would be faster in this case, since I\'m assuming that FCRF has to reconstruct a standard BitSet during clone().              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12487596\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12487596&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12487596\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyliu1227\\\" id=\\\"commentauthor_12487596_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyliu1227\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyliu1227\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andy Liu\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487596_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Apr\\/07 18:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-09T18:37:46+0000\'\u003e09\\/Apr\\/07 18:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s my new benchmark.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyliu1227\\\" id=\\\"commentauthor_12487596_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyliu1227\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyliu1227\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andy Liu\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487596_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Apr\\/07 18:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-09T18:37:46+0000\'\u003e09\\/Apr\\/07 18:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here\'s my new benchmark.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12487850\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12487850&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12487850\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12487850_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487850_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Apr\\/07 18:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-10T18:00:21+0000\'\u003e10\\/Apr\\/07 18:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAndy thank you for that test \u003c\\/p\u003e\\n\\n\u003cp\u003eI took at Moved it to contrib\\/miscellaneous and added a few more tests including the Chained Filter test. Here is my version. Also I fixed a few bugs in my code that I will be attaching next .\u003c\\/p\u003e\\n\\n\u003cp\u003eI also reformatted my results I think they are a little easer to read. \u003cbr\\/\u003e\\nHere is what I get and your right if you use a MatchAllDocsQuery our 2 version of the code are about the same \u003c\\/p\u003e\\n\\n\u003cp\u003e    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e ------------- Standard Output ---------------\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Start interval: Thu Apr 11 10:55:02 PDT 2002\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e End interval: Tue Apr 10 10:55:02 PDT 2007\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Creating RAMDirectory index...\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Reader opened with 100000 documents.  Creating RangeFilters...\u003c\\/p\u003e\\n\\n\u003cp\u003e    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e TermQuery\u003c\\/p\u003e\\n\\n\u003cp\u003e    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e FieldCacheRangeFilter\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Total: 13ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Bits: 0ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Search: 9ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e MemoryCachedRangeFilter\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Total: 209ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Bits: 90ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Search: 115ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e RangeFilter\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Total: 12068ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Bits: 6009ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Search: 6051ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Chained FieldCacheRangeFilter\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Total: 15ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Bits: 1ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Search: 10ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Chained MemoryCachedRangeFilter\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Total: 177ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Bits: 83ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Search: 90ms\u003c\\/p\u003e\\n\\n\u003cp\u003e    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e ConstantScoreQuery\u003c\\/p\u003e\\n\\n\u003cp\u003e    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e FieldCacheRangeFilter\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Total: 480ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Bits: 1ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Search: 474ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e MemoryCachedRangeFilter\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Total: 757ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Bits: 90ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Search: 663ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e RangeFilter\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Total: 18749ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Bits: 6083ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Search: 12655ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Chained FieldCacheRangeFilter\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Total: 11ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Bits: 0ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Search: 8ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Chained MemoryCachedRangeFilter\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Total: 776ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Bits: 87ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Search: 682ms\u003c\\/p\u003e\\n\\n\u003cp\u003e    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e MatchAllDocsQuery\u003c\\/p\u003e\\n\\n\u003cp\u003e    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e FieldCacheRangeFilter\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Total: 1344ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Bits: 5ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Search: 1334ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e MemoryCachedRangeFilter\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Total: 1468ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Bits: 81ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Search: 1381ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e RangeFilter\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Total: 13360ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Bits: 6091ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Search: 7254ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Chained FieldCacheRangeFilter\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Total: 924ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Bits: 4ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Search: 916ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Chained MemoryCachedRangeFilter\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Total: 1507ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Bits: 84ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e   * Search: 1415ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e ------------- ---------------- ---------------\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12487850_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487850_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Apr\\/07 18:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-10T18:00:21+0000\'\u003e10\\/Apr\\/07 18:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Andy thank you for that test  \\n\\n I took at Moved it to contrib\\/miscellaneous and added a few more tests including the Chained Filter test. Here is my version. Also I fixed a few bugs in my code that I will be attaching next . \\n\\n I also reformatted my results I think they are a little easer to read.  \\nHere is what I get and your right if you use a MatchAllDocsQuery our 2 version of the code are about the same  \\n\\n      &#91;junit&#93;  ------------- Standard Output --------------- \\n     &#91;junit&#93;  Start interval: Thu Apr 11 10:55:02 PDT 2002 \\n     &#91;junit&#93;  End interval: Tue Apr 10 10:55:02 PDT 2007 \\n     &#91;junit&#93;  Creating RAMDirectory index... \\n     &#91;junit&#93;  Reader opened with 100000 documents.  Creating RangeFilters... \\n\\n      &#91;junit&#93;  TermQuery \\n\\n      &#91;junit&#93;  FieldCacheRangeFilter \\n     &#91;junit&#93;    * Total: 13ms \\n     &#91;junit&#93;    * Bits: 0ms \\n     &#91;junit&#93;    * Search: 9ms \\n     &#91;junit&#93;  MemoryCachedRangeFilter \\n     &#91;junit&#93;    * Total: 209ms \\n     &#91;junit&#93;    * Bits: 90ms \\n     &#91;junit&#93;    * Search: 115ms \\n     &#91;junit&#93;  RangeFilter \\n     &#91;junit&#93;    * Total: 12068ms \\n     &#91;junit&#93;    * Bits: 6009ms \\n     &#91;junit&#93;    * Search: 6051ms \\n     &#91;junit&#93;  Chained FieldCacheRangeFilter \\n     &#91;junit&#93;    * Total: 15ms \\n     &#91;junit&#93;    * Bits: 1ms \\n     &#91;junit&#93;    * Search: 10ms \\n     &#91;junit&#93;  Chained MemoryCachedRangeFilter \\n     &#91;junit&#93;    * Total: 177ms \\n     &#91;junit&#93;    * Bits: 83ms \\n     &#91;junit&#93;    * Search: 90ms \\n\\n      &#91;junit&#93;  ConstantScoreQuery \\n\\n      &#91;junit&#93;  FieldCacheRangeFilter \\n     &#91;junit&#93;    * Total: 480ms \\n     &#91;junit&#93;    * Bits: 1ms \\n     &#91;junit&#93;    * Search: 474ms \\n     &#91;junit&#93;  MemoryCachedRangeFilter \\n     &#91;junit&#93;    * Total: 757ms \\n     &#91;junit&#93;    * Bits: 90ms \\n     &#91;junit&#93;    * Search: 663ms \\n     &#91;junit&#93;  RangeFilter \\n     &#91;junit&#93;    * Total: 18749ms \\n     &#91;junit&#93;    * Bits: 6083ms \\n     &#91;junit&#93;    * Search: 12655ms \\n     &#91;junit&#93;  Chained FieldCacheRangeFilter \\n     &#91;junit&#93;    * Total: 11ms \\n     &#91;junit&#93;    * Bits: 0ms \\n     &#91;junit&#93;    * Search: 8ms \\n     &#91;junit&#93;  Chained MemoryCachedRangeFilter \\n     &#91;junit&#93;    * Total: 776ms \\n     &#91;junit&#93;    * Bits: 87ms \\n     &#91;junit&#93;    * Search: 682ms \\n\\n      &#91;junit&#93;  MatchAllDocsQuery \\n\\n      &#91;junit&#93;  FieldCacheRangeFilter \\n     &#91;junit&#93;    * Total: 1344ms \\n     &#91;junit&#93;    * Bits: 5ms \\n     &#91;junit&#93;    * Search: 1334ms \\n     &#91;junit&#93;  MemoryCachedRangeFilter \\n     &#91;junit&#93;    * Total: 1468ms \\n     &#91;junit&#93;    * Bits: 81ms \\n     &#91;junit&#93;    * Search: 1381ms \\n     &#91;junit&#93;  RangeFilter \\n     &#91;junit&#93;    * Total: 13360ms \\n     &#91;junit&#93;    * Bits: 6091ms \\n     &#91;junit&#93;    * Search: 7254ms \\n     &#91;junit&#93;  Chained FieldCacheRangeFilter \\n     &#91;junit&#93;    * Total: 924ms \\n     &#91;junit&#93;    * Bits: 4ms \\n     &#91;junit&#93;    * Search: 916ms \\n     &#91;junit&#93;  Chained MemoryCachedRangeFilter \\n     &#91;junit&#93;    * Total: 1507ms \\n     &#91;junit&#93;    * Bits: 84ms \\n     &#91;junit&#93;    * Search: 1415ms \\n     &#91;junit&#93;  ------------- ---------------- ---------------              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12487856\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12487856&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12487856\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12487856_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487856_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Apr\\/07 18:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-10T18:04:21+0000\'\u003e10\\/Apr\\/07 18:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFixed a bug with the BitSets nextSetBit\u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/information.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e and nextClearBit\u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/information.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e I wrote a test to verify that it returns the same values as a Normal BitSet . I dont use these functions if someone wants to verify my fix that would be great.\u003c\\/p\u003e\\n\\n\u003cp\u003eAdded the ASF to the top of each file \u003cbr\\/\u003e\\nAnd fixed all of Otis bugs\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12487856_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487856_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Apr\\/07 18:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-10T18:04:21+0000\'\u003e10\\/Apr\\/07 18:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Fixed a bug with the BitSets nextSetBit  and nextClearBit  I wrote a test to verify that it returns the same values as a Normal BitSet . I dont use these functions if someone wants to verify my fix that would be great. \\n\\n Added the ASF to the top of each file  \\nAnd fixed all of Otis bugs              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12487897\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12487897&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12487897\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyliu1227\\\" id=\\\"commentauthor_12487897_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyliu1227\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyliu1227\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andy Liu\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487897_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Apr\\/07 19:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-10T19:43:43+0000\'\u003e10\\/Apr\\/07 19:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHey Matt, I get this exception when running your newest FCRF with the performance test.  Can you check to see if you get this also?\u003c\\/p\u003e\\n\\n\u003cp\u003ejava.lang.ArrayIndexOutOfBoundsException: 100000\u003cbr\\/\u003e\\n\\tat org.apache.lucene.search.FieldCacheRangeFilter$5.get(FieldCacheRangeFilter.java:231)\u003cbr\\/\u003e\\n\\tat org.apache.lucene.search.IndexSearcher$1.collect(IndexSearcher.java:136)\u003cbr\\/\u003e\\n\\tat org.apache.lucene.search.Scorer.score(Scorer.java:49)\u003cbr\\/\u003e\\n\\tat org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:146)\u003cbr\\/\u003e\\n\\tat org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:113)\u003cbr\\/\u003e\\n\\tat org.apache.lucene.search.Hits.getMoreDocs(Hits.java:74)\u003cbr\\/\u003e\\n\\tat org.apache.lucene.search.Hits.&lt;init&gt;(Hits.java:53)\u003cbr\\/\u003e\\n\\tat org.apache.lucene.search.Searcher.search(Searcher.java:46)\u003cbr\\/\u003e\\n\\tat org.apache.lucene.misc.TestRangeFilterPerformanceComparison$Benchmark.go(TestRangeFilterPerformanceComparison.java:312)\u003cbr\\/\u003e\\n\\tat org.apache.lucene.misc.TestRangeFilterPerformanceComparison.testPerformance(TestRangeFilterPerformanceComparison.java:201)\u003cbr\\/\u003e\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\u003cbr\\/\u003e\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\u003cbr\\/\u003e\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\u003cbr\\/\u003e\\n\\tat java.lang.reflect.Method.invoke(Method.java:585)\u003cbr\\/\u003e\\n\\tat junit.framework.TestCase.runTest(TestCase.java:154)\u003cbr\\/\u003e\\n\\tat junit.framework.TestCase.runBare(TestCase.java:127)\u003cbr\\/\u003e\\n\\tat junit.framework.TestResult$1.protect(TestResult.java:106)\u003cbr\\/\u003e\\n\\tat junit.framework.TestResult.runProtected(TestResult.java:124)\u003cbr\\/\u003e\\n\\tat junit.framework.TestResult.run(TestResult.java:109)\u003cbr\\/\u003e\\n\\tat junit.framework.TestCase.run(TestCase.java:118)\u003cbr\\/\u003e\\n\\tat junit.framework.TestSuite.runTest(TestSuite.java:208)\u003cbr\\/\u003e\\n\\tat junit.framework.TestSuite.run(TestSuite.java:203)\u003cbr\\/\u003e\\n\\tat org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:128)\u003cbr\\/\u003e\\n\\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\u003cbr\\/\u003e\\n\\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460)\u003cbr\\/\u003e\\n\\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)\u003cbr\\/\u003e\\n\\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)\u003cbr\\/\u003e\\n\\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyliu1227\\\" id=\\\"commentauthor_12487897_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyliu1227\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyliu1227\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andy Liu\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487897_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Apr\\/07 19:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-10T19:43:43+0000\'\u003e10\\/Apr\\/07 19:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hey Matt, I get this exception when running your newest FCRF with the performance test.  Can you check to see if you get this also? \\n\\n java.lang.ArrayIndexOutOfBoundsException: 100000 \\n\\tat org.apache.lucene.search.FieldCacheRangeFilter$5.get(FieldCacheRangeFilter.java:231) \\n\\tat org.apache.lucene.search.IndexSearcher$1.collect(IndexSearcher.java:136) \\n\\tat org.apache.lucene.search.Scorer.score(Scorer.java:49) \\n\\tat org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:146) \\n\\tat org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:113) \\n\\tat org.apache.lucene.search.Hits.getMoreDocs(Hits.java:74) \\n\\tat org.apache.lucene.search.Hits.&lt;init&gt;(Hits.java:53) \\n\\tat org.apache.lucene.search.Searcher.search(Searcher.java:46) \\n\\tat org.apache.lucene.misc.TestRangeFilterPerformanceComparison$Benchmark.go(TestRangeFilterPerformanceComparison.java:312) \\n\\tat org.apache.lucene.misc.TestRangeFilterPerformanceComparison.testPerformance(TestRangeFilterPerformanceComparison.java:201) \\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) \\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) \\n\\tat java.lang.reflect.Method.invoke(Method.java:585) \\n\\tat junit.framework.TestCase.runTest(TestCase.java:154) \\n\\tat junit.framework.TestCase.runBare(TestCase.java:127) \\n\\tat junit.framework.TestResult$1.protect(TestResult.java:106) \\n\\tat junit.framework.TestResult.runProtected(TestResult.java:124) \\n\\tat junit.framework.TestResult.run(TestResult.java:109) \\n\\tat junit.framework.TestCase.run(TestCase.java:118) \\n\\tat junit.framework.TestSuite.runTest(TestSuite.java:208) \\n\\tat junit.framework.TestSuite.run(TestSuite.java:203) \\n\\tat org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:128) \\n\\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) \\n\\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460) \\n\\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673) \\n\\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386) \\n\\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196) \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12487914\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12487914&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12487914\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12487914_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487914_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Apr\\/07 20:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-10T20:52:52+0000\'\u003e10\\/Apr\\/07 20:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eLets try this again. \u003c\\/p\u003e\\n\\n\u003cp\u003eI am very sorry to everyone for the last patch. I had some trouble with my environment  not correctly re-building.\u003c\\/p\u003e\\n\\n\u003cp\u003eI have done ant clean before testing.\u003cbr\\/\u003e\\nAndy take a look at this patch and tell me what you think.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12487914_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487914_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Apr\\/07 20:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-10T20:52:52+0000\'\u003e10\\/Apr\\/07 20:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Lets try this again.  \\n\\n I am very sorry to everyone for the last patch. I had some trouble with my environment  not correctly re-building. \\n\\n I have done ant clean before testing. \\nAndy take a look at this patch and tell me what you think. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12487962\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12487962&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12487962\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_12487962_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487962_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Apr\\/07 00:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-11T00:28:15+0000\'\u003e11\\/Apr\\/07 00:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOn Mon, 9 Apr 2007, Otis Gospodnetic (JIRA) wrote:\u003c\\/p\u003e\\n\\n\u003cp\u003e: I\'d love to know what Hoss and other big Filter users think about this.\u003cbr\\/\u003e\\n: Solr makes a lof of use of (Range?)Filters, I believe.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis is one of those Jira issues that i didn\'t really have time to follow when it was first opened, and so the Jira emails have just been piling up waiting ofr me to read.\u003c\\/p\u003e\\n\\n\u003cp\u003eHere\'s the raw notes i took as i read through the patches...\u003c\\/p\u003e\\n\\n\u003cp\u003e----------------\u003cbr\\/\u003e\\nFieldCacheRangeFilter.patch  from 10\\/Apr\\/07 01:52 PM\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003ejavadoc cut\\/paste errors (FieldCache)\u003c\\/li\u003e\\n\\t\u003cli\u003eFieldCacheRangeFilter should work with simple strings\u003cbr\\/\u003e\\n   (using FieldCache.getStrings or FieldCache.getStringIndex)\u003cbr\\/\u003e\\n   just like regular RangeFilter\u003c\\/li\u003e\\n\\t\u003cli\u003eit feels like the various parser versions should be in\u003cbr\\/\u003e\\n   seperate subclasses (common abstract base class?)\u003c\\/li\u003e\\n\\t\u003cli\u003ewhy does clone need to construct a raw BitSet?  what exactly didn\'t\u003cbr\\/\u003e\\n   work about ChainedFilter without this?\u003cbr\\/\u003e\\n   (could cause other BitSet usage problems)\u003c\\/li\u003e\\n\\t\u003cli\u003eor\\/and\\/andNot\\/xor can all be implemented using convertToBitSet\u003c\\/li\u003e\\n\\t\u003cli\u003eneed FieldCacheBitSet methods: cardinality, get(int,int)\u003c\\/li\u003e\\n\\t\u003cli\u003eneed equals and hashCode methods in all new classes\u003c\\/li\u003e\\n\\t\u003cli\u003eFieldCacheBitSet.clear should be UnsuppOp\u003c\\/li\u003e\\n\\t\u003cli\u003econvertToBitSet can be cached.\u003c\\/li\u003e\\n\\t\u003cli\u003eFieldCacheBitSet should be abstract, requiring get(int) be implemented\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n\u003cp\u003eMemoryCachedRangeFilter_1.4.patch from 06\\/Apr\\/07 06:14 AM\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003e\\\"tuples\\\" should be initialized to fieldCache.length ... serious\u003cbr\\/\u003e\\n   ArrayList resizing going on there\u003cbr\\/\u003e\\n   (why is it an ArrayList, why not just Tules[] ?)\u003c\\/li\u003e\\n\\t\u003cli\u003edoesn\'t \\\"cache\\\" need synchronization? ... seems like the same\u003cbr\\/\u003e\\n   CreationPlaceholder pattern used in FieldCache might make sense here.\u003c\\/li\u003e\\n\\t\u003cli\u003ethis looks wrong...\u003cbr\\/\u003e\\n     } else if ( (!includeLower) &amp;&amp; (lowerIndex &gt;= 0) ) {\u003cbr\\/\u003e\\n   ...consider case where lower==5, includeLower==false, and all values\u003cbr\\/\u003e\\n   in index are 5, binary search could leave us in the middle of hte index,\u003cbr\\/\u003e\\n   so we still need for move forward to the end?\u003c\\/li\u003e\\n\\t\u003cli\u003editto above concern for finding upperIndex\u003c\\/li\u003e\\n\\t\u003cli\u003ewhat is pathological worst case for rewind\\/forward when \u003cb\u003elots\u003c\\/b\u003e of\u003cbr\\/\u003e\\n   duplicate values in index?  should another binarySearch be used?\u003c\\/li\u003e\\n\\t\u003cli\u003ea lot of code in MemoryCachedRangeFilter.bits for finding\u003cbr\\/\u003e\\n   lowerIndex\\/upperIndex would probably make more sense as methods in\u003cbr\\/\u003e\\n   SortedFieldCache\u003c\\/li\u003e\\n\\t\u003cli\u003eonly seems to handle longs, at a minimum should deal with arbitrary\u003cbr\\/\u003e\\n   strings, with optional add ons for longs\\/ints\\/etc...\u003c\\/li\u003e\\n\\t\u003cli\u003eI can\'t help but wonder how MemoryCachedRangeFilter would compare if it\u003cbr\\/\u003e\\n   used Solr\'s OpenBitSet (facaded to implement the BitSet API)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eTestRangeFilterPerformanceComparison.java   from 10\\/Apr\\/07\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eI can\'t help but wonder how RangeFilter would compare if it used Solr\'s\u003cbr\\/\u003e\\n   OpenBitSet (facaded to implement the BitSet API)\u003c\\/li\u003e\\n\\t\u003cli\u003eno test of includeLower==false or includeUpper==false\u003c\\/li\u003e\\n\\t\u003cli\u003ei don\'t think the ranges being compared are the same for RangeFilter as they\u003cbr\\/\u003e\\n   are for the other Filters ... note the use of DateTools when building the index, \u003cbr\\/\u003e\\n   vs straight string usage in RangeFilter, vs Long.parseLong in \u003cbr\\/\u003e\\n   MemoryCachedRangeFilter and FieldCacheRangeFilter\u003c\\/li\u003e\\n\\t\u003cli\u003eis it really a fair comparison to call MemoryCachedRangeFilter.warmup\u003cbr\\/\u003e\\n   or FieldCacheRangeFilter.bits outside of the timing code?\u003cbr\\/\u003e\\n   for indexes where the IndexReader is reopened periodicaly this may\u003cbr\\/\u003e\\n   be a significant number to be aware of.\u003cbr\\/\u003e\\n----------------\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eQuestions about the legitimacy of the testing aside...\u003c\\/p\u003e\\n\\n\u003cp\u003eIn general, I like the approach of FieldCacheBitSet &#8211; but it should be generalized into an \\\"AbstractReadOnlyBitSet\\\" where all methods are implemented via get(int) in subclasses &#8211; we should make sure that every method in the BitSet API works as advertised in Java1.4.  \u003c\\/p\u003e\\n\\n\u003cp\u003eI don\'t really like the various hoops FieldCacheRangeFilter has to jump through to support int\\/float\\/long ... I think at it\'s core it should support simple Strings, with alternate\\/sub classes for dealing with other FieldCache formats ... i just really dislike all the crazy nested ifs to deal with the different Parser types, if there\'s going to be separate constructors for longs\\/floats\\/ints, they might as well be separate sub-classes.\u003c\\/p\u003e\\n\\n\u003cp\u003ethe really nice thing this has over RangeFilter is that people can index raw numeric values without needing to massage them into lexicographically ordered Strings (since the FieldCache will take care of parsing them appropriately) \u003c\\/p\u003e\\n\\n\u003cp\u003eMy gut tells me that the MemoryCachedRangeFilter approach will never ever be able to compete with the FieldCacheRangeFilter facading BitSet approach since it needs to build the FieldCache, then the SortedFieldCache, then a BitSet ...it seems like any optimization into that pipeline can always be beaten by using the same logic, but then facading the BitSet\u003c\\/p\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_12487962_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12487962_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Apr\\/07 00:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-11T00:28:15+0000\'\u003e11\\/Apr\\/07 00:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    On Mon, 9 Apr 2007, Otis Gospodnetic (JIRA) wrote: \\n\\n : I\'d love to know what Hoss and other big Filter users think about this. \\n: Solr makes a lof of use of (Range?)Filters, I believe. \\n\\n This is one of those Jira issues that i didn\'t really have time to follow when it was first opened, and so the Jira emails have just been piling up waiting ofr me to read. \\n\\n Here\'s the raw notes i took as i read through the patches... \\n\\n ---------------- \\nFieldCacheRangeFilter.patch  from 10\\/Apr\\/07 01:52 PM \\n\\n \\n\\t javadoc cut\\/paste errors (FieldCache) \\n\\t FieldCacheRangeFilter should work with simple strings \\n   (using FieldCache.getStrings or FieldCache.getStringIndex) \\n   just like regular RangeFilter \\n\\t it feels like the various parser versions should be in \\n   seperate subclasses (common abstract base class?) \\n\\t why does clone need to construct a raw BitSet?  what exactly didn\'t \\n   work about ChainedFilter without this? \\n   (could cause other BitSet usage problems) \\n\\t or\\/and\\/andNot\\/xor can all be implemented using convertToBitSet \\n\\t need FieldCacheBitSet methods: cardinality, get(int,int) \\n\\t need equals and hashCode methods in all new classes \\n\\t FieldCacheBitSet.clear should be UnsuppOp \\n\\t convertToBitSet can be cached. \\n\\t FieldCacheBitSet should be abstract, requiring get(int) be implemented \\n \\n\\n\\n\\n MemoryCachedRangeFilter_1.4.patch from 06\\/Apr\\/07 06:14 AM \\n\\n \\n\\t \\\"tuples\\\" should be initialized to fieldCache.length ... serious \\n   ArrayList resizing going on there \\n   (why is it an ArrayList, why not just Tules[] ?) \\n\\t doesn\'t \\\"cache\\\" need synchronization? ... seems like the same \\n   CreationPlaceholder pattern used in FieldCache might make sense here. \\n\\t this looks wrong... \\n     } else if ( (!includeLower) &amp;&amp; (lowerIndex &gt;= 0) ) { \\n   ...consider case where lower==5, includeLower==false, and all values \\n   in index are 5, binary search could leave us in the middle of hte index, \\n   so we still need for move forward to the end? \\n\\t ditto above concern for finding upperIndex \\n\\t what is pathological worst case for rewind\\/forward when  lots  of \\n   duplicate values in index?  should another binarySearch be used? \\n\\t a lot of code in MemoryCachedRangeFilter.bits for finding \\n   lowerIndex\\/upperIndex would probably make more sense as methods in \\n   SortedFieldCache \\n\\t only seems to handle longs, at a minimum should deal with arbitrary \\n   strings, with optional add ons for longs\\/ints\\/etc... \\n\\t I can\'t help but wonder how MemoryCachedRangeFilter would compare if it \\n   used Solr\'s OpenBitSet (facaded to implement the BitSet API) \\n \\n\\n\\n TestRangeFilterPerformanceComparison.java   from 10\\/Apr\\/07 \\n\\n \\n\\t I can\'t help but wonder how RangeFilter would compare if it used Solr\'s \\n   OpenBitSet (facaded to implement the BitSet API) \\n\\t no test of includeLower==false or includeUpper==false \\n\\t i don\'t think the ranges being compared are the same for RangeFilter as they \\n   are for the other Filters ... note the use of DateTools when building the index,  \\n   vs straight string usage in RangeFilter, vs Long.parseLong in  \\n   MemoryCachedRangeFilter and FieldCacheRangeFilter \\n\\t is it really a fair comparison to call MemoryCachedRangeFilter.warmup \\n   or FieldCacheRangeFilter.bits outside of the timing code? \\n   for indexes where the IndexReader is reopened periodicaly this may \\n   be a significant number to be aware of. \\n---------------- \\n \\n\\n\\n Questions about the legitimacy of the testing aside... \\n\\n In general, I like the approach of FieldCacheBitSet &#8211; but it should be generalized into an \\\"AbstractReadOnlyBitSet\\\" where all methods are implemented via get(int) in subclasses &#8211; we should make sure that every method in the BitSet API works as advertised in Java1.4.   \\n\\n I don\'t really like the various hoops FieldCacheRangeFilter has to jump through to support int\\/float\\/long ... I think at it\'s core it should support simple Strings, with alternate\\/sub classes for dealing with other FieldCache formats ... i just really dislike all the crazy nested ifs to deal with the different Parser types, if there\'s going to be separate constructors for longs\\/floats\\/ints, they might as well be separate sub-classes. \\n\\n the really nice thing this has over RangeFilter is that people can index raw numeric values without needing to massage them into lexicographically ordered Strings (since the FieldCache will take care of parsing them appropriately)  \\n\\n My gut tells me that the MemoryCachedRangeFilter approach will never ever be able to compete with the FieldCacheRangeFilter facading BitSet approach since it needs to build the FieldCache, then the SortedFieldCache, then a BitSet ...it seems like any optimization into that pipeline can always be beaten by using the same logic, but then facading the BitSet \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12488075\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12488075&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12488075\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"coolseraph\\\" id=\\\"commentauthor_12488075_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=coolseraph\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"coolseraph\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yiqing Jin\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12488075_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Apr\\/07 12:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-11T12:38:40+0000\'\u003e11\\/Apr\\/07 12:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis seems very useful. Just one thing i would like to know, do this Filter could work properly with the ChainedFilter? Since some times we have to filter the result with more than one range for different field, say  search in an area by lat lon. \u003cbr\\/\u003e\\nI have made a simple test filter two fields with ChainedFilter and it seems that i can\'t find anything even there are docs in that range. \u003cbr\\/\u003e\\nMaybe there are some bugs in my code, i\'ll check it tomorrow.\u003cbr\\/\u003e\\nBTW the value type i used is Float.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"coolseraph\\\" id=\\\"commentauthor_12488075_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=coolseraph\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"coolseraph\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yiqing Jin\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12488075_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Apr\\/07 12:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-11T12:38:40+0000\'\u003e11\\/Apr\\/07 12:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This seems very useful. Just one thing i would like to know, do this Filter could work properly with the ChainedFilter? Since some times we have to filter the result with more than one range for different field, say  search in an area by lat lon.  \\nI have made a simple test filter two fields with ChainedFilter and it seems that i can\'t find anything even there are docs in that range.  \\nMaybe there are some bugs in my code, i\'ll check it tomorrow. \\nBTW the value type i used is Float.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12488125\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12488125&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12488125\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_12488125_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12488125_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Apr\\/07 17:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-11T17:31:36+0000\'\u003e11\\/Apr\\/07 17:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAnother thing that occurred to me this morning is that the comparison test doesn\'t consider the performance of the various Filter\'s when cached and reused  (with something like CacheWrappingFilter)  ... you may actually see the stock RangeFilter be faster then either implementation when you can reuse the same exact Filter over and over on the same IndexReader &#8211; a fairly common use case.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn general the numbers that really need to be conpared are...\u003c\\/p\u003e\\n\\n\u003cp\u003e  1) the time overhead of an implementation when opening a new IndexReader (and whether that overhead is per field)\u003cbr\\/\u003e\\n  2) the time overhead of an implementation the first time a specific Filter is used on an IndexReader\u003cbr\\/\u003e\\n  3) the time on average that it takes to use a Filter\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_12488125_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12488125_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Apr\\/07 17:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-11T17:31:36+0000\'\u003e11\\/Apr\\/07 17:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Another thing that occurred to me this morning is that the comparison test doesn\'t consider the performance of the various Filter\'s when cached and reused  (with something like CacheWrappingFilter)  ... you may actually see the stock RangeFilter be faster then either implementation when you can reuse the same exact Filter over and over on the same IndexReader &#8211; a fairly common use case. \\n\\n In general the numbers that really need to be conpared are... \\n\\n   1) the time overhead of an implementation when opening a new IndexReader (and whether that overhead is per field) \\n  2) the time overhead of an implementation the first time a specific Filter is used on an IndexReader \\n  3) the time on average that it takes to use a Filter              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12488239\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12488239&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12488239\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyliu1227\\\" id=\\\"commentauthor_12488239_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyliu1227\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyliu1227\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andy Liu\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12488239_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Apr\\/07 02:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-12T02:18:48+0000\'\u003e12\\/Apr\\/07 02:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI made a few changes to MemoryCachedRangeFilter:\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eSortedFieldCache\'s values[] now contains only sorted unique values, while docId[] has been changed to a ragged 2D array with an array of docId\'s corresponding to each unique value.  Since there\'s no longer repeated values in values[]. forward() and rewind() are no longer required.  This also addresses the O\u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/thumbs_down.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e special case that Hoss brought up where every value is identical.\u003c\\/li\u003e\\n\\t\u003cli\u003ebits() now returns OpenBitSetWrapper, a subclass of BitSet that uses Solr\'s OpenBitSet as a delegate.  Wrapping OpenBitSet presents some challenges.  Since the internal bits store of BitSet is private, it\'s difficult to perform operations between BitSet and OpenBitSet (like or, and, etc).\u003c\\/li\u003e\\n\\t\u003cli\u003eAn in-memory OpenBitSet cache is kept.  During warmup, the global range is partitioned and OpenBitSet instances are created for each partition.  During bits(), these cached OpenBitSet instances that fall in between the lower and upper ranges are used.\u003c\\/li\u003e\\n\\t\u003cli\u003eMoved MCRF to contrib\\/ due to the Solr dependancy\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eUsing the current (and incomplete) benchmark, MemoryCachedRangeFilter is slightly faster than FCRF when used in conjuction with ConstantRangeQuery and MatchAllDocsQuery:\u003c\\/p\u003e\\n\\n\u003cp\u003eReader opened with 100000 documents.  Creating RangeFilters...\u003c\\/p\u003e\\n\\n\u003cp\u003eTermQuery\u003c\\/p\u003e\\n\\n\u003cp\u003eFieldCacheRangeFilter\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eTotal: 88ms\u003c\\/li\u003e\\n\\t\u003cli\u003eBits: 0ms\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 14ms\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eMemoryCachedRangeFilter\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eTotal: 89ms\u003c\\/li\u003e\\n\\t\u003cli\u003eBits: 17ms\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 31ms\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eRangeFilter\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eTotal: 9034ms\u003c\\/li\u003e\\n\\t\u003cli\u003eBits: 4483ms\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 4521ms\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eChained FieldCacheRangeFilter\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eTotal: 33ms\u003c\\/li\u003e\\n\\t\u003cli\u003eBits: 3ms\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 9ms\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eChained MemoryCachedRangeFilter\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eTotal: 77ms\u003c\\/li\u003e\\n\\t\u003cli\u003eBits: 19ms\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 30ms\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n\u003cp\u003eConstantScoreQuery\u003c\\/p\u003e\\n\\n\u003cp\u003eFieldCacheRangeFilter\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eTotal: 541ms\u003c\\/li\u003e\\n\\t\u003cli\u003eBits: 2ms\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 485ms\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eMemoryCachedRangeFilter\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eTotal: 473ms\u003c\\/li\u003e\\n\\t\u003cli\u003eBits: 23ms\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 390ms\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eRangeFilter\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eTotal: 13777ms\u003c\\/li\u003e\\n\\t\u003cli\u003eBits: 4451ms\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 9298ms\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eChained FieldCacheRangeFilter\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eTotal: 12ms\u003c\\/li\u003e\\n\\t\u003cli\u003eBits: 2ms\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 5ms\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eChained MemoryCachedRangeFilter\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eTotal: 80ms\u003c\\/li\u003e\\n\\t\u003cli\u003eBits: 16ms\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 44ms\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n\u003cp\u003eMatchAllDocsQuery\u003c\\/p\u003e\\n\\n\u003cp\u003eFieldCacheRangeFilter\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eTotal: 1231ms\u003c\\/li\u003e\\n\\t\u003cli\u003eBits: 3ms\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 1115ms\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eMemoryCachedRangeFilter\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eTotal: 1222ms\u003c\\/li\u003e\\n\\t\u003cli\u003eBits: 53ms\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 1149ms\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eRangeFilter\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eTotal: 10689ms\u003c\\/li\u003e\\n\\t\u003cli\u003eBits: 4954ms\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 5583ms\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eChained FieldCacheRangeFilter\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eTotal: 937ms\u003c\\/li\u003e\\n\\t\u003cli\u003eBits: 1ms\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 862ms\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eChained MemoryCachedRangeFilter\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eTotal: 921ms\u003c\\/li\u003e\\n\\t\u003cli\u003eBits: 19ms\u003c\\/li\u003e\\n\\t\u003cli\u003eSearch: 894ms\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eHoss, those were great comments you made.  I\'d be happy to continue on and make those changes, although if the feeling around town is that Matt\'s range filter is the preferred implementation, I\'ll stop here.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyliu1227\\\" id=\\\"commentauthor_12488239_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyliu1227\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyliu1227\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andy Liu\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12488239_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Apr\\/07 02:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-12T02:18:48+0000\'\u003e12\\/Apr\\/07 02:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I made a few changes to MemoryCachedRangeFilter: \\n\\n \\n\\t SortedFieldCache\'s values[] now contains only sorted unique values, while docId[] has been changed to a ragged 2D array with an array of docId\'s corresponding to each unique value.  Since there\'s no longer repeated values in values[]. forward() and rewind() are no longer required.  This also addresses the O  special case that Hoss brought up where every value is identical. \\n\\t bits() now returns OpenBitSetWrapper, a subclass of BitSet that uses Solr\'s OpenBitSet as a delegate.  Wrapping OpenBitSet presents some challenges.  Since the internal bits store of BitSet is private, it\'s difficult to perform operations between BitSet and OpenBitSet (like or, and, etc). \\n\\t An in-memory OpenBitSet cache is kept.  During warmup, the global range is partitioned and OpenBitSet instances are created for each partition.  During bits(), these cached OpenBitSet instances that fall in between the lower and upper ranges are used. \\n\\t Moved MCRF to contrib\\/ due to the Solr dependancy \\n \\n\\n\\n Using the current (and incomplete) benchmark, MemoryCachedRangeFilter is slightly faster than FCRF when used in conjuction with ConstantRangeQuery and MatchAllDocsQuery: \\n\\n Reader opened with 100000 documents.  Creating RangeFilters... \\n\\n TermQuery \\n\\n FieldCacheRangeFilter \\n \\n\\t Total: 88ms \\n\\t Bits: 0ms \\n\\t Search: 14ms \\n \\n\\n\\n MemoryCachedRangeFilter \\n \\n\\t Total: 89ms \\n\\t Bits: 17ms \\n\\t Search: 31ms \\n \\n\\n\\n RangeFilter \\n \\n\\t Total: 9034ms \\n\\t Bits: 4483ms \\n\\t Search: 4521ms \\n \\n\\n\\n Chained FieldCacheRangeFilter \\n \\n\\t Total: 33ms \\n\\t Bits: 3ms \\n\\t Search: 9ms \\n \\n\\n\\n Chained MemoryCachedRangeFilter \\n \\n\\t Total: 77ms \\n\\t Bits: 19ms \\n\\t Search: 30ms \\n \\n\\n\\n\\n ConstantScoreQuery \\n\\n FieldCacheRangeFilter \\n \\n\\t Total: 541ms \\n\\t Bits: 2ms \\n\\t Search: 485ms \\n \\n\\n\\n MemoryCachedRangeFilter \\n \\n\\t Total: 473ms \\n\\t Bits: 23ms \\n\\t Search: 390ms \\n \\n\\n\\n RangeFilter \\n \\n\\t Total: 13777ms \\n\\t Bits: 4451ms \\n\\t Search: 9298ms \\n \\n\\n\\n Chained FieldCacheRangeFilter \\n \\n\\t Total: 12ms \\n\\t Bits: 2ms \\n\\t Search: 5ms \\n \\n\\n\\n Chained MemoryCachedRangeFilter \\n \\n\\t Total: 80ms \\n\\t Bits: 16ms \\n\\t Search: 44ms \\n \\n\\n\\n\\n MatchAllDocsQuery \\n\\n FieldCacheRangeFilter \\n \\n\\t Total: 1231ms \\n\\t Bits: 3ms \\n\\t Search: 1115ms \\n \\n\\n\\n MemoryCachedRangeFilter \\n \\n\\t Total: 1222ms \\n\\t Bits: 53ms \\n\\t Search: 1149ms \\n \\n\\n\\n RangeFilter \\n \\n\\t Total: 10689ms \\n\\t Bits: 4954ms \\n\\t Search: 5583ms \\n \\n\\n\\n Chained FieldCacheRangeFilter \\n \\n\\t Total: 937ms \\n\\t Bits: 1ms \\n\\t Search: 862ms \\n \\n\\n\\n Chained MemoryCachedRangeFilter \\n \\n\\t Total: 921ms \\n\\t Bits: 19ms \\n\\t Search: 894ms \\n \\n\\n\\n Hoss, those were great comments you made.  I\'d be happy to continue on and make those changes, although if the feeling around town is that Matt\'s range filter is the preferred implementation, I\'ll stop here.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12488291\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12488291&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12488291\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"coolseraph\\\" id=\\\"commentauthor_12488291_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=coolseraph\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"coolseraph\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yiqing Jin\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12488291_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Apr\\/07 08:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-12T08:01:16+0000\'\u003e12\\/Apr\\/07 08:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi, Matt\u003cbr\\/\u003e\\nAs i tried the FieldCacheRangeFilter i have got problem.\u003c\\/p\u003e\\n\\n\u003cp\u003eI added a test block at the end of TestFieldCacheRangeFilter\u003c\\/p\u003e\\n\\n\u003cp\u003e        FieldCacheRangeFilter f1 =  new FieldCacheRangeFilter(\\\"id\\\", (float)minIP, (float)maxIP, T, F);\u003cbr\\/\u003e\\n        FieldCacheRangeFilter f2 =  new FieldCacheRangeFilter(\\\"id\\\", (float)minIP, (float)maxIP, F, T);\u003c\\/p\u003e\\n\\n\u003cp\u003e        ChainedFilter f = new ChainedFilter(new Filter[]\u003c\\/p\u003e\\n{f1,f2}\\n\u003cp\u003e,ChainedFilter.AND);\u003cbr\\/\u003e\\n        result = search.search(q, f);\u003cbr\\/\u003e\\n        assertEquals(\\\"all but ends\\\", numDocs-2, result.length());\u003c\\/p\u003e\\n\\n\u003cp\u003eThis could not pass and in fact the result.length() is 0; Nothing could be found. \u003c\\/p\u003e\\n\\n\\n\u003cp\u003eI checked my code and traced the running but still can\'t get result expected. It seems the Filter won\'t work with the ChainedFilter. \u003cbr\\/\u003e\\nafter the doChain the BitSet seems to be empty.(Either \'and\' or \'or\' operation). \u003cbr\\/\u003e\\nCODE:\u003cbr\\/\u003e\\n[\u003cbr\\/\u003e\\ncase AND:\u003cbr\\/\u003e\\n            \\tBitSet bit = filter.bits(reader);\u003cbr\\/\u003e\\n                result.and(bit);\u003cbr\\/\u003e\\n]\u003cbr\\/\u003e\\nThe bit is already empty before it\'s added to the result.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"coolseraph\\\" id=\\\"commentauthor_12488291_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=coolseraph\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"coolseraph\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yiqing Jin\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12488291_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Apr\\/07 08:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-12T08:01:16+0000\'\u003e12\\/Apr\\/07 08:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi, Matt \\nAs i tried the FieldCacheRangeFilter i have got problem. \\n\\n I added a test block at the end of TestFieldCacheRangeFilter \\n\\n         FieldCacheRangeFilter f1 =  new FieldCacheRangeFilter(\\\"id\\\", (float)minIP, (float)maxIP, T, F); \\n        FieldCacheRangeFilter f2 =  new FieldCacheRangeFilter(\\\"id\\\", (float)minIP, (float)maxIP, F, T); \\n\\n         ChainedFilter f = new ChainedFilter(new Filter[] \\n{f1,f2}\\n ,ChainedFilter.AND); \\n        result = search.search(q, f); \\n        assertEquals(\\\"all but ends\\\", numDocs-2, result.length()); \\n\\n This could not pass and in fact the result.length() is 0; Nothing could be found.  \\n\\n\\n I checked my code and traced the running but still can\'t get result expected. It seems the Filter won\'t work with the ChainedFilter.  \\nafter the doChain the BitSet seems to be empty.(Either \'and\' or \'or\' operation).  \\nCODE: \\n[ \\ncase AND: \\n            \\tBitSet bit = filter.bits(reader); \\n                result.and(bit); \\n] \\nThe bit is already empty before it\'s added to the result.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12488297\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12488297&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12488297\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"coolseraph\\\" id=\\\"commentauthor_12488297_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=coolseraph\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"coolseraph\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yiqing Jin\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12488297_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Apr\\/07 08:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-12T08:30:20+0000\'\u003e12\\/Apr\\/07 08:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAfter i changed the code in ChainedFilter#doChain to\u003cbr\\/\u003e\\ncase AND:\u003cbr\\/\u003e\\n            \\tBitSet bit = (BitSet)filter.bits(reader).clone();\u003cbr\\/\u003e\\n                result.and(bit);\u003cbr\\/\u003e\\n                break;\u003cbr\\/\u003e\\nthe result is fine.  but i know that\'s a bad way.\u003cbr\\/\u003e\\nSince the FieldCacheBitSet is not a real BitSet and uses a fake get() method just get value from the FieldCache. I think the current imp is still not fit for the ChainedFilter because FieldCacheBitSet  do not have a good implementation of the logical cperotion such as \'and\'. \u003cbr\\/\u003e\\nMaybe we could make the FieldCacheBitSet  public and implement all the methods in it\'s own way instead of having a convertToBitSet() to make things messed.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"coolseraph\\\" id=\\\"commentauthor_12488297_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=coolseraph\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"coolseraph\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yiqing Jin\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12488297_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Apr\\/07 08:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-12T08:30:20+0000\'\u003e12\\/Apr\\/07 08:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    After i changed the code in ChainedFilter#doChain to \\ncase AND: \\n            \\tBitSet bit = (BitSet)filter.bits(reader).clone(); \\n                result.and(bit); \\n                break; \\nthe result is fine.  but i know that\'s a bad way. \\nSince the FieldCacheBitSet is not a real BitSet and uses a fake get() method just get value from the FieldCache. I think the current imp is still not fit for the ChainedFilter because FieldCacheBitSet  do not have a good implementation of the logical cperotion such as \'and\'.  \\nMaybe we could make the FieldCacheBitSet  public and implement all the methods in it\'s own way instead of having a convertToBitSet() to make things messed.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12488412\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12488412&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12488412\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12488412_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12488412_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Apr\\/07 15:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-12T15:50:34+0000\'\u003e12\\/Apr\\/07 15:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have done a little research and I do not think I can get my bit set to act\u003cbr\\/\u003e\\nthe same as a normal bit set so this will not work with  ChainedFilter as\u003cbr\\/\u003e\\nChainedFilter calls BitSet.and() or BitSet.or()\u003c\\/p\u003e\\n\\n\u003cp\u003eI looked at these functions and they access private varables inside of the\u003cbr\\/\u003e\\nBitSet and do the \'and\', \'or\', \'xor\' on the bits in memory. Since my BitSet\u003cbr\\/\u003e\\nis just a proxy for the field cache ChainedFilter will  not work unless we\u003cbr\\/\u003e\\nalso change ChainedFilter\u003c\\/p\u003e\\n\\n\u003cp\u003eMatt\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12488412_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12488412_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Apr\\/07 15:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-12T15:50:34+0000\'\u003e12\\/Apr\\/07 15:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have done a little research and I do not think I can get my bit set to act \\nthe same as a normal bit set so this will not work with  ChainedFilter as \\nChainedFilter calls BitSet.and() or BitSet.or() \\n\\n I looked at these functions and they access private varables inside of the \\nBitSet and do the \'and\', \'or\', \'xor\' on the bits in memory. Since my BitSet \\nis just a proxy for the field cache ChainedFilter will  not work unless we \\nalso change ChainedFilter \\n\\n Matt \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12488547\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12488547&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12488547\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"coolseraph\\\" id=\\\"commentauthor_12488547_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=coolseraph\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"coolseraph\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yiqing Jin\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12488547_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Apr\\/07 01:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-13T01:34:26+0000\'\u003e13\\/Apr\\/07 01:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThat\'s true you can\'t do the \'\'and \'  or \'or\'  as usual. but i am thingking  the FieldCacheBitSet  may hold some private varables to store the range and field infomation and we do the \'and\', \'or\', \'xor\'  in a tricky way by setting the value of the varables.  And we implement the #get() using the varables as a judgement .\u003c\\/p\u003e\\n\\n\u003cp\u003eChanging the ChainedFilter is  a good way, maybe we could have a special FieldCaheChainedFilter \u003csup\u003e_\u003c\\/sup\u003e. \u003c\\/p\u003e\\n\\n\u003cp\u003ei\'m having a busy day but i\'ll try to do some experiment on it if had time.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"coolseraph\\\" id=\\\"commentauthor_12488547_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=coolseraph\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"coolseraph\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yiqing Jin\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12488547_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Apr\\/07 01:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-13T01:34:26+0000\'\u003e13\\/Apr\\/07 01:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    That\'s true you can\'t do the \'\'and \'  or \'or\'  as usual. but i am thingking  the FieldCacheBitSet  may hold some private varables to store the range and field infomation and we do the \'and\', \'or\', \'xor\'  in a tricky way by setting the value of the varables.  And we implement the #get() using the varables as a judgement . \\n\\n Changing the ChainedFilter is  a good way, maybe we could have a special FieldCaheChainedFilter  _ .  \\n\\n i\'m having a busy day but i\'ll try to do some experiment on it if had time.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12488952\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12488952&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12488952\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12488952_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12488952_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Apr\\/07 17:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-15T17:44:52+0000\'\u003e15\\/Apr\\/07 17:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis version if the Field Cache Range filter has a new AbstractGetOnlyBitSet a base BitSet that will use all of its functions like nextClearBit using get() \u003c\\/p\u003e\\n\\n\u003cp\u003eI have also added a RuntimeChainedFilter this will work just like the normal chained filter but it does not do the AND or OR or XOR until you call the get() function this will allow for the BitSets that the FieldCacheRangeFilter create to be chained correctly. \u003c\\/p\u003e\\n\\n\u003cp\u003eThere are also testes for all of my new code. The FieldCacheRangeFilter still has the nested If statements to allow for Long, Ints and Floats. I think these are not that complicated and it allows users to pick the type of filter they want while saving space. In My application we use Ints for dates even though we know it will only support dates going up to 2038 as right now we need the memory. \u003cbr\\/\u003e\\nThis code will give the flexibility to the user creating the filters so they can tune their app just they way they want it.\u003c\\/p\u003e\\n\\n\u003cp\u003eI hope you all like it. Please let me know what you think \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12488952_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12488952_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Apr\\/07 17:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-15T17:44:52+0000\'\u003e15\\/Apr\\/07 17:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This version if the Field Cache Range filter has a new AbstractGetOnlyBitSet a base BitSet that will use all of its functions like nextClearBit using get()  \\n\\n I have also added a RuntimeChainedFilter this will work just like the normal chained filter but it does not do the AND or OR or XOR until you call the get() function this will allow for the BitSets that the FieldCacheRangeFilter create to be chained correctly.  \\n\\n There are also testes for all of my new code. The FieldCacheRangeFilter still has the nested If statements to allow for Long, Ints and Floats. I think these are not that complicated and it allows users to pick the type of filter they want while saving space. In My application we use Ints for dates even though we know it will only support dates going up to 2038 as right now we need the memory.  \\nThis code will give the flexibility to the user creating the filters so they can tune their app just they way they want it. \\n\\n I hope you all like it. Please let me know what you think               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12491677\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12491677&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12491677\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12491677_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12491677_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Apr\\/07 15:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-25T15:55:31+0000\'\u003e25\\/Apr\\/07 15:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCan someone take a look at the code I attached and let me know if there is anything we need to change?\u003cbr\\/\u003e\\nOr did it get added to lucene?\u003c\\/p\u003e\\n\\n\u003cp\u003eI don\'t really know how long this should take? \u003c\\/p\u003e\\n\\n\u003cp\u003eMatt\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12491677_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12491677_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Apr\\/07 15:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-04-25T15:55:31+0000\'\u003e25\\/Apr\\/07 15:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Can someone take a look at the code I attached and let me know if there is anything we need to change? \\nOr did it get added to lucene? \\n\\n I don\'t really know how long this should take?  \\n\\n Matt              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12560912\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12560912&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12560912\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"vivash\\\" id=\\\"commentauthor_12560912_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=vivash\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"vivash\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e vivek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12560912_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/08 02:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-21T02:25:03+0000\'\u003e21\\/Jan\\/08 02:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAny plans to have this part of Lucene 2.3?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"vivash\\\" id=\\\"commentauthor_12560912_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=vivash\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"vivash\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e vivek\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12560912_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/08 02:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-21T02:25:03+0000\'\u003e21\\/Jan\\/08 02:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Any plans to have this part of Lucene 2.3?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12565483\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12565483&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12565483\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12565483_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12565483_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Feb\\/08 19:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-04T19:21:37+0000\'\u003e04\\/Feb\\/08 19:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have changed the FiledCacheRangeFilter so that it now works with Lucene 2.3.0 \u003cbr\\/\u003e\\nIT does not have to change the FieldCache since It can just use Extended Field Cache \u003c\\/p\u003e\\n\\n\u003cp\u003eHere are the performance numbers again\u003c\\/p\u003e\\n\\n\u003cp\u003e    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e ------------- Standard Output ---------------\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Start interval: Tue Feb 04 22:34:22 PST 2003\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e End interval: Sun Feb 03 22:34:22 PST 2008\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Creating RAMDirectory index...\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Reader opened with 100000 documents.  Creating RangeFilters...\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Standard RangeFilter finished in 41111ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e FieldCacheRangeFilter finished in 112ms\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e ------------- ---------------- ---------------\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eI hope this helps and I hope this gets added to Lucene\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12565483_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12565483_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Feb\\/08 19:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-04T19:21:37+0000\'\u003e04\\/Feb\\/08 19:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have changed the FiledCacheRangeFilter so that it now works with Lucene 2.3.0  \\nIT does not have to change the FieldCache since It can just use Extended Field Cache  \\n\\n Here are the performance numbers again \\n\\n      &#91;junit&#93;  ------------- Standard Output --------------- \\n     &#91;junit&#93;  Start interval: Tue Feb 04 22:34:22 PST 2003 \\n     &#91;junit&#93;  End interval: Sun Feb 03 22:34:22 PST 2008 \\n     &#91;junit&#93;  Creating RAMDirectory index... \\n     &#91;junit&#93;  Reader opened with 100000 documents.  Creating RangeFilters... \\n     &#91;junit&#93;  Standard RangeFilter finished in 41111ms \\n     &#91;junit&#93;  FieldCacheRangeFilter finished in 112ms \\n     &#91;junit&#93;  ------------- ---------------- --------------- \\n\\n\\n I hope this helps and I hope this gets added to Lucene              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12565996\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12565996&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12565996\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"otis\\\" id=\\\"commentauthor_12565996_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=otis\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"otis\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Otis Gospodnetic\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12565996_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Feb\\/08 02:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-06T02:35:04+0000\'\u003e06\\/Feb\\/08 02:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCan somebody have a look and commit?  I \u003cb\u003ebelieve\u003c\\/b\u003e this is a good patch - it was good when I looked at it when Eric first contributed it.  Thanks (behind on too many fronts)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"otis\\\" id=\\\"commentauthor_12565996_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=otis\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"otis\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Otis Gospodnetic\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12565996_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Feb\\/08 02:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-06T02:35:04+0000\'\u003e06\\/Feb\\/08 02:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Can somebody have a look and commit?  I  believe  this is a good patch - it was good when I looked at it when Eric first contributed it.  Thanks (behind on too many fronts)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12651837\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12651837&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12651837\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"paul.elschot@xs4all.nl\\\" id=\\\"commentauthor_12651837_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=paul.elschot%40xs4all.nl\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"paul.elschot@xs4all.nl\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Paul Elschot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12651837_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Nov\\/08 15:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-11-30T15:29:12+0000\'\u003e30\\/Nov\\/08 15:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOn the face of it, this has some overlap with the recent FieldCacheRangeFilter of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-1461\\\" title=\\\"Cached filter for a single term field\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-1461\\\"\u003e\u003cdel\u003eLUCENE-1461\u003c\\/del\u003e\u003c\\/a\u003e .\u003cbr\\/\u003e\\nAny comments?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"paul.elschot@xs4all.nl\\\" id=\\\"commentauthor_12651837_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=paul.elschot%40xs4all.nl\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"paul.elschot@xs4all.nl\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Paul Elschot\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12651837_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Nov\\/08 15:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-11-30T15:29:12+0000\'\u003e30\\/Nov\\/08 15:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    On the face of it, this has some overlap with the recent FieldCacheRangeFilter of   LUCENE-1461   . \\nAny comments?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12653414\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12653414&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12653414\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"tsturge\\\" id=\\\"commentauthor_12653414_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=tsturge\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"tsturge\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tim Sturge\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12653414_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Dec\\/08 19:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-04T19:12:17+0000\'\u003e04\\/Dec\\/08 19:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMatt, Andy,\u003c\\/p\u003e\\n\\n\u003cp\u003ePlease take a look at \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-1461\\\" title=\\\"Cached filter for a single term field\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-1461\\\"\u003e\u003cdel\u003eLUCENE-1461\u003c\\/del\u003e\u003c\\/a\u003e. As far as I can tell it is identical in purpose and design to this patch.\u003c\\/p\u003e\\n\\n\u003cp\u003eMatt,\u003c\\/p\u003e\\n\\n\u003cp\u003eI would like to add you to the CHANGES.txt credits for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-1461\\\" title=\\\"Cached filter for a single term field\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-1461\\\"\u003e\u003cdel\u003eLUCENE-1461\u003c\\/del\u003e\u003c\\/a\u003e. Are you OK with that?\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"tsturge\\\" id=\\\"commentauthor_12653414_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=tsturge\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"tsturge\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tim Sturge\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12653414_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Dec\\/08 19:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-04T19:12:17+0000\'\u003e04\\/Dec\\/08 19:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Matt, Andy, \\n\\n Please take a look at   LUCENE-1461  . As far as I can tell it is identical in purpose and design to this patch. \\n\\n Matt, \\n\\n I would like to add you to the CHANGES.txt credits for   LUCENE-1461  . Are you OK with that? \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12653450\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12653450&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12653450\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyliu1227\\\" id=\\\"commentauthor_12653450_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyliu1227\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyliu1227\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andy Liu\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12653450_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Dec\\/08 20:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-04T20:10:04+0000\'\u003e04\\/Dec\\/08 20:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYes, it looks the same.  Glad this will finally make it to the source!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyliu1227\\\" id=\\\"commentauthor_12653450_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyliu1227\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyliu1227\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andy Liu\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12653450_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Dec\\/08 20:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-04T20:10:04+0000\'\u003e04\\/Dec\\/08 20:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yes, it looks the same.  Glad this will finally make it to the source!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12653635\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12653635&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12653635\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12653635_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12653635_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/08 05:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-05T05:32:46+0000\'\u003e05\\/Dec\\/08 05:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eLooks similar to what I wrote but it uses a more data structures. I  \u003cbr\\/\u003e\\nliked the what I built as it just has direct access to the Field Cache  \u003cbr\\/\u003e\\nand there are no other data structures and that if once you load the  \u003cbr\\/\u003e\\ndata in the FC you can do any other search on that field and not have  \u003cbr\\/\u003e\\nto rebuild anything you can just re-use the data.\u003c\\/p\u003e\\n\\n\u003cp\u003eBut I think all 3 are improvements on what\'s there but as I am  \u003cbr\\/\u003e\\nprejudiced and I really like they one I wrote and I think it will  \u003cbr\\/\u003e\\nstack up faster then the 1461 if you do load tests on it.\u003c\\/p\u003e\\n\\n\u003cp\u003eJust my $0.02\u003c\\/p\u003e\\n\\n\u003cp\u003eMatt\u003c\\/p\u003e\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"switchhook\\\" id=\\\"commentauthor_12653635_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=switchhook\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"switchhook\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matt Ericson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12653635_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/08 05:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-05T05:32:46+0000\'\u003e05\\/Dec\\/08 05:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Looks similar to what I wrote but it uses a more data structures. I   \\nliked the what I built as it just has direct access to the Field Cache   \\nand there are no other data structures and that if once you load the   \\ndata in the FC you can do any other search on that field and not have   \\nto rebuild anything you can just re-use the data. \\n\\n But I think all 3 are improvements on what\'s there but as I am   \\nprejudiced and I really like they one I wrote and I think it will   \\nstack up faster then the 1461 if you do load tests on it. \\n\\n Just my $0.02 \\n\\n Matt \\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12653900\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12653900&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12653900\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"otis\\\" id=\\\"commentauthor_12653900_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=otis\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"otis\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Otis Gospodnetic\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12653900_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/08 19:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-05T19:19:01+0000\'\u003e05\\/Dec\\/08 19:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Matt! \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eTim, want to benchmark the two? (since you already benchmarked 1461, you should be able to plug in Matt\'s thing and see how it compares)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"otis\\\" id=\\\"commentauthor_12653900_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=otis\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"otis\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Otis Gospodnetic\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12653900_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/08 19:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-12-05T19:19:01+0000\'\u003e05\\/Dec\\/08 19:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Matt!   \\n\\n Tim, want to benchmark the two? (since you already benchmarked 1461, you should be able to plug in Matt\'s thing and see how it compares)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12986450\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-855?focusedCommentId=12986450&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12986450\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shaie\\\" id=\\\"commentauthor_12986450_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shaie\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shaie\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shai Erera\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12986450_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/11 15:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2011-01-25T15:49:54+0000\'\u003e25\\/Jan\\/11 15:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWe already have FieldCacheRangeFilter (introduced in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-1461\\\" title=\\\"Cached filter for a single term field\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-1461\\\"\u003e\u003cdel\u003eLUCENE-1461\u003c\\/del\u003e\u003c\\/a\u003e), so closing as duplicate.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shaie\\\" id=\\\"commentauthor_12986450_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shaie\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shaie\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shai Erera\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12986450_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/11 15:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2011-01-25T15:49:54+0000\'\u003e25\\/Jan\\/11 15:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    We already have FieldCacheRangeFilter (introduced in   LUCENE-1461  ), so closing as duplicate.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310110";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/LUCENE\\/summary\\\" title=\\\"Lucene - Core\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310110&amp;avatarId=10061\\\" alt=\\\"Lucene - Core\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/LUCENE\\/summary\\\" title=\\\"Lucene - Core\\\"\u003eLucene - Core\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/LUCENE\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/LUCENE?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/LUCENE?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1516202082020"> 
    <input type="hidden" title="jira.request.server.time" value="887"> 
    <input type="hidden" title="jira.request.id" value="914x7660135x5"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="11"> 
    <input type="hidden" title="db.reads.time.in.ms" value="41"> 
    <input type="hidden" title="db.conns.time.in.ms" value="78"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 914x7660135x5
	          REQUEST TIMESTAMP : [17/Jan/2018:15:14:42 +0000]
	               REQUEST TIME : 0.8870
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 11

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=20, elapsedTotal=41922010, elapsedMin=661851, elapsedMax=16598079, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=24, elapsedTotal=78812437, elapsedMin=743377, elapsedMax=18662806, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>