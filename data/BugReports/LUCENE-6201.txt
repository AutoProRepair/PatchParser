<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|b50c8b316a43f6981d280c6436251f2cb6dd9d82|lout"> 
  <link rel="shortcut icon" href="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"sd.customer.profile.multi.languages\":true,\"sd.customer.portal.transitions\":true,\"sd.customer.portal.transitions.config\":true,\"sd.custom.email.stripping.rules\":false,\"sd.sla.lucene.issue.id.callback.performance\":true,\"sd.new.settings.sidebar.location\":true,\"sd.workload.report.paginator\":true,\"sd.experimental.portal.search.algorithm.default.1\":false,\"sd.customer.portal.help.center.agent.announcement\":true,\"sd.sla.improved.rendering\":false,\"sd.experimental.portal.search.algorithm.default.2\":false,\"sd.customer.feedback.validate.reporter.on.token\":true,\"sd.custom.email.notifications.utf8.csat.star\":true,\"sd.who.create.customers.by.email.setting\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.renderer.consider.variable.format\":true,\"sd.stats.event.tracking\":true,\"sd.password.helper.dialog\":true,\"sd.canned.responses\":false,\"sd.portal.help.center.customer.signup.secondary.email\":true,\"sd.custom.email.notifications.manage.language\":true,\"sd.use.search.by.permissions\":true,\"sd.slavalue.record.updated.date\":false,\"sd.report.custom.date.range\":false,\"sd.kb.article.helpfulness.report\":false,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"sd.custom.email.notifications.styling\":true,\"sd.workinghours.new.page.bulldog.1\":false,\"sd.customer.portal.two.step.login\":false,\"sd.automation.psmq.async.executor\":true,\"sd.customer.org.list.page.lazy.search\":true,\"sd.approval.requested.when.handler\":true,\"sd.request.type.field.rest.api.filtering.bugfix\":true,\"sd.automation.then.action.auto.answer.approval\":true,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"sla.will.only.be.paused.if.they.are.already.started\":true,\"sd.kb.comment.share.stats.collection\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"sd.customer.orgs.group.participants\":true,\"sd.portal.help.center.customer.signup\":true,\"sd.sla.agent.jql.security.restricted\":true,\"sd.test.feature.flag.x\":true,\"sd.test.feature.flag.y\":false,\"sd.cluster.safe.mail.channel.shutdown\":true,\"sd.email.channel.folders\":false,\"sd.email.analytics.open\":false,\"sd.kb.project.creation.create.link.space\":true,\"sd.workinghours.new.page\":false,\"sd.confluence.anonymous.permission.fix\":true,\"com.atlassian.jira.issuetable.draggable\":true,\"sd.customer.portal.project.agent.announcement\":true,\"sd.automation.audit.log\":true,\"jira.jql.suggestrecentfields\":false,\"sd.canned.responses.check.index.startup\":false,\"sd.new.project.templates\":true,\"sd.custom.email.notifications.custom.rules.simple.ui\":false,\"sd.custom.email.notifications.cut.over\":true,\"sd.dismiss.all.misconfiguration.warnings.setting\":true,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"sd.sla.configurations.export\":true,\"sd.canned.responses.variable.substitution\":true,\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"sd.customer.portal.prioties.per.project.fix\":true,\"jira.instrumentation.laas\":false,\"sd.kb.self.service.report\":false,\"sla.improved.request.handling\":true,\"sd.no.schedule.async.upgrade.tasks\":true,\"sd.kb.primary.nav\":true,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"sd.kb.issueview.panel.phase2\":true,\"sd.email.outsider.comments\":true,\"jira.create.linked.issue\":true,\"sd.kb.issueview.panel\":true,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"sd.approvals.light.weight\":false,\"sd.automation.then.webhook\":true,\"sd.respect.inline.edit.issue.off\":true,\"jira.jql.smartautoselectfirst\":false,\"sd.global.portal.search.atlassian.only.tracking\":false,\"sd.automation.if.condition.comment.primary.action\":true,\"jira.priorities.per.project\":true,\"sd.inline.noformat.renderer\":true,\"sd.customer.request.type.create.edit.screens\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/png,image/vnd.wap.wbmp,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["com.atlassian.servicedesk.servicedesk-canned-responses-plugin:canned-responses-data-provider.data"]="{\"substitutionVariables\":{\"issue.summary\":\"Issue summary\",\"issue.description\":\"Issue description\",\"issue.key\":\"Issue key\",\"issue.reporter.name\":\"Issue reporter\",\"issue.resolution\":\"Issue resolution\",\"request.url\":\"Request URL\",\"request.status\":\"Request status\"}}";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-help-links.help-links"]="{\"help\":{\"email.settings\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"managing.queues\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+queues+for+your+team\",\"email.setup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"request.settings.help.bubble\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\",\"email.settings.suitablerequest\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email#Receivingrequestsbyemail-suitablerequest\",\"sla.import.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Importing+SLAs\",\"documentation.home\":\"https://docs.atlassian.com/jira/jsd-docs-039/JIRA+Service+Desk+Documentation\",\"default\":\"https://docs.atlassian.com/jira/jsd-docs-039/\",\"create.space.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base#serving-customers-with-a-knowledge-base-createpermission\",\"email.settings.troubleshooting\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+the+email+channel\",\"admin.notifications.config\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+service+desk+notifications\",\"troubleshoot.requesttype\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+request+types\",\"approvals.configuration\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+JIRA+Service+Desk+approvals\",\"setting.up.reports\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+service+desk+reports\",\"public.signup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+public+signup\",\"knowledge.base\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base\",\"resolve.permission.scheme.errors\":\"https://docs.atlassian.com/jira/jsd-docs-039/Resolving+permission+scheme+errors\",\"getting.started\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+with+JIRA+Service+Desk\",\"getting.started.agent\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+for+service+desk+agents\",\"invite.customers\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\"},\"kb\":{\"default\":\"https://confluence.atlassian.com/display/SDKB/\",\"troubleshooting.user.management.issues\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\",\"legacytransition\":\"https://confluence.atlassian.com/display/SDKB/Replacing+legacy+automatic+transitions+with+automation+rules\",\"umtroubleshoot\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\"}}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-base-url.base-url"]="\"https://issues.apache.org/jira\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"f2bf6ce22afc17\"";
WRM._unparsedData["project-id"]="12310110";
WRM._unparsedData["project-key"]="\"LUCENE\"";
WRM._unparsedData["project-name"]="\"Lucene - Core\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310110";
WRM._unparsedData["projectKey"]="\"LUCENE\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/1a6b21131945f6f49ff48336b49ca3fe-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/d8484c9183f546511a8e336a8779bcd9-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d3b35d835f8f46fc3b53bb4db7f85158-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/71d42e74136d842a3ef4d5d136484843-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/95a4826c265852f4904f1e0e7300df68-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/944bb39eced1b35cfc7194aa02eb5a5a/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/5a8f0f8b8aa8f96a4f0f7e9e248d62f3-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="LUCENE-6201"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[LUCENE-6201] MinShouldMatchSumScorer should advance less and score lazily - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[LUCENE-6201] MinShouldMatchSumScorer should advance less and score lazily - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/LUCENE" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FLUCENE-6201">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310110" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Lucene - Core'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310110&amp;avatarId=10061"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/LUCENE">Lucene - Core</a></li>
                 <li><a class="issue-link" data-issue-key="LUCENE-6201" href="/jira/browse/LUCENE-6201" id="key-val" rel="12770299">LUCENE-6201</a></li>
                </ol>
                <h1 id="summary-val">MinShouldMatchSumScorer should advance less and score lazily</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FLUCENE-6201"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/LUCENE-6201/LUCENE-6201.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/LUCENE-6201/LUCENE-6201.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/LUCENE-6201/LUCENE-6201.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/LUCENE-6201/LUCENE-6201.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" title="Improvement - An improvement or enhancement to an existing feature or task." width="16"> Improvement </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/minor.svg" title="Minor - Minor loss of function, or other problem where easy workaround is present." width="16"> Minor </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> None </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+LUCENE+AND+fixVersion+%3D+5.1" title="5.1 Major release after 5.0">5.1</a>, <a href="/jira/issues/?jql=project+%3D+LUCENE+AND+fixVersion+%3D+6.0" title="6.0 Major release after 5.5">6.0</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> None </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12770299-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
                <div id="customfieldmodule"> 
                 <div class="aui-tabs horizontal-tabs" id="customfield-tabs"> 
                  <div id="customfield-panel-1" class="tabs-pane active-pane"> 
                   <ul class="property-list"> 
                    <li id="rowForcustomfield_12310120" class="item"> 
                     <div class="wrap"> 
                      <strong title="Lucene Fields" class="name">Lucene Fields:</strong> 
                      <div id="customfield_12310120-val" class="value type-multicheckboxes" data-fieldtype="multicheckboxes" data-fieldtypecompletekey="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"> 
                       <div class="shorten" id="customfield_12310120-field"> 
                        <span>New</span> 
                       </div> 
                      </div> 
                     </div> </li> 
                   </ul> 
                  </div> 
                 </div>
                </div> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>MinShouldMatchSumScorer currently computes the score eagerly, even on documents that do not eventually match if it cannot find <tt>minShouldMatch</tt> matches on the same document.</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/LUCENE-6201?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/LUCENE-6201?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/LUCENE-6201?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/LUCENE-6201?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12695327" data-issue-id="12770299" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12695327/LUCENE-6201.patch" draggable="true" data-downloadurl="text/x-diff:LUCENE-6201.patch:https://issues.apache.org/jira/secure/attachment/12695327/LUCENE-6201.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12695327/LUCENE-6201.patch" title="Latest  29/Jan/15 18:52 - Adrien Grand" draggable="true" data-downloadurl="text/x-diff:LUCENE-6201.patch:https://issues.apache.org/jira/secure/attachment/12695327/LUCENE-6201.patch">LUCENE-6201.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-01-29T18:52:24.315Z">29/Jan/15 18:52</time>
                   </dd>
                   <dd class="attachment-size">
                    71 kB
                   </dd>
                   <dd class="attachment-author">
                    Adrien Grand
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12694969" data-issue-id="12770299" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12694969/LUCENE-6201.patch" draggable="true" data-downloadurl="text/x-diff:LUCENE-6201.patch:https://issues.apache.org/jira/secure/attachment/12694969/LUCENE-6201.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12694969/LUCENE-6201.patch" title=" 28/Jan/15 11:28 - Adrien Grand" draggable="true" data-downloadurl="text/x-diff:LUCENE-6201.patch:https://issues.apache.org/jira/secure/attachment/12694969/LUCENE-6201.patch">LUCENE-6201.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-01-28T11:28:06.251Z">28/Jan/15 11:28</time>
                   </dd>
                   <dd class="attachment-size">
                    56 kB
                   </dd>
                   <dd class="attachment-author">
                    Adrien Grand
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12694756" data-issue-id="12770299" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12694756/LUCENE-6201.patch" draggable="true" data-downloadurl="text/x-diff:LUCENE-6201.patch:https://issues.apache.org/jira/secure/attachment/12694756/LUCENE-6201.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12694756/LUCENE-6201.patch" title=" 27/Jan/15 09:42 - Adrien Grand" draggable="true" data-downloadurl="text/x-diff:LUCENE-6201.patch:https://issues.apache.org/jira/secure/attachment/12694756/LUCENE-6201.patch">LUCENE-6201.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-01-27T09:42:29.685Z">27/Jan/15 09:42</time>
                   </dd>
                   <dd class="attachment-size">
                    25 kB
                   </dd>
                   <dd class="attachment-author">
                    Adrien Grand
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_jpountz" rel="jpountz" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Adrien Grand&quot;,&quot;emailAddress&quot;:&quot;jpountz@gmail.com&quot;,&quot;username&quot;:&quot;jpountz&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="jpountz"></span></span> Adrien Grand </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_jpountz" rel="jpountz" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Adrien Grand&quot;,&quot;emailAddress&quot;:&quot;jpountz@gmail.com&quot;,&quot;username&quot;:&quot;jpountz&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="jpountz"></span></span> Adrien Grand </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">5</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="27/Jan/15 09:04"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2015-01-27T09:04:27+0000">27/Jan/15 09:04</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="09/May/16 18:37"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2016-05-09T18:37:30+0000">09/May/16 18:37</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="04/Feb/15 15:42"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2015-02-04T15:42:14+0000">04/Feb/15 15:42</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for n/a, Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-6201?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/LUCENE-6201?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-6201?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-6201?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/LUCENE-6201?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-6201?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/LUCENE-6201?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-6201?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/LUCENE-6201?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/LUCENE-6201?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/LUCENE-6201?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/LUCENE-6201?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-14293259\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6201?focusedCommentId=14293259&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14293259\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jpountz\\\" id=\\\"commentauthor_14293259_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jpountz\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Adrien Grand\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14293259_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Jan\\/15 09:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-27T09:42:29+0000\'\u003e27\\/Jan\\/15 09:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have been working on an alternative implementation that tries to generalize how our disjunction and conjunction scorers are working. It keeps track of scorers in 3 different data-structures:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ea linked-list of scorers that are positioned on the next potential match, called \'lead\' since they are used to lead the iteration\u003c\\/li\u003e\\n\\t\u003cli\u003ea heap of scorers that are beyond the next potential match called \'head\', ordered by doc ID (like DisjunctionScorer)\u003c\\/li\u003e\\n\\t\u003cli\u003ea heap of scorers that are behind the next potential match called \'tail\', ordered by cost (like ConjunctionScorer, although the ConjunctionScorer case is simpler since the set of scorers does not change it can just use a sorted array). This heap has a size of at most \u003ctt\u003eminShouldMatch - 1\u003c\\/tt\u003e, which guarantees that they can\'t be a match on their own (since we need at least \u003ctt\u003eminShouldMatch\u003c\\/tt\u003e matching clauses).\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eWhen you want to move to the next document, you first move scorers from \'lead\' to \'tail\'. And if it overflows, you just have to advance the least-costly scorers to \'head\'. Then the next potential match is the doc ID at the top of \'head\' and we need to pop \'head\' from all scorers which are on this doc ID. Finally, we just have to advance the least-costly scorer from \'tail\' until there is a match.\u003c\\/p\u003e\\n\\n\u003cp\u003eI ran benchmarks with the current implementation using the tasks file from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-4571\\\" title=\\\"speedup disjunction with minShouldMatch \\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-4571\\\"\u003e\u003cdel\u003eLUCENE-4571\u003c\\/del\u003e\u003c\\/a\u003e. Some queries are slower, other queries are faster:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e                    TaskQPS baseline      StdDev   QPS patch      StdDev                Pct diff\\n     Low3MinShouldMatch2       41.11      (7.3%)       34.29      (3.6%)  -16.6% ( -25% -   -6%)\\n     Low2MinShouldMatch2       24.18      (7.4%)       21.28      (2.8%)  -12.0% ( -20% -   -1%)\\n     Low1MinShouldMatch2       17.92      (7.1%)       16.26      (3.1%)   -9.3% ( -18% -    0%)\\n     HighMinShouldMatch4       23.14      (6.3%)       21.13      (3.4%)   -8.7% ( -17% -    1%)\\n     HighMinShouldMatch3       17.01      (6.9%)       15.73      (2.9%)   -7.5% ( -16% -    2%)\\n     Low1MinShouldMatch3       23.20      (6.9%)       21.49      (3.1%)   -7.4% ( -16% -    2%)\\n     HighMinShouldMatch2       14.48      (6.9%)       13.63      (3.4%)   -5.8% ( -15% -    4%)\\n     Low4MinShouldMatch2      327.94      (2.6%)      312.58      (2.4%)   -4.7% (  -9% -    0%)\\n     Low2MinShouldMatch3       39.53      (7.1%)       38.77      (3.2%)   -1.9% ( -11% -    9%)\\n     Low4MinShouldMatch0       73.34      (3.3%)       72.17      (2.1%)   -1.6% (  -6% -    3%)\\n     Low2MinShouldMatch0       36.11      (2.1%)       35.62      (1.5%)   -1.4% (  -4% -    2%)\\n     Low1MinShouldMatch4       41.57      (6.1%)       41.01      (3.3%)   -1.4% ( -10% -    8%)\\n     Low3MinShouldMatch0       48.49      (2.1%)       47.90      (1.7%)   -1.2% (  -4% -    2%)\\n     Low3MinShouldMatch3      311.34      (8.0%)      309.54      (2.4%)   -0.6% ( -10% -   10%)\\n     Low1MinShouldMatch0       30.28      (2.0%)       30.14      (1.1%)   -0.5% (  -3% -    2%)\\n     HighMinShouldMatch0       26.09      (1.7%)       25.99      (1.1%)   -0.4% (  -3% -    2%)\\n                PKLookup      322.05      (3.3%)      323.17      (3.3%)    0.3% (  -6% -    7%)\\n     Low2MinShouldMatch4      362.28      (5.7%)      366.96      (3.0%)    1.3% (  -6% -   10%)\\n     Low4MinShouldMatch4     1380.17      (6.7%)     1541.42     (11.0%)   11.7% (  -5% -   31%)\\n     Low3MinShouldMatch4     1299.86      (6.4%)     1506.99      (4.7%)   15.9% (   4% -   28%)\\n     Low4MinShouldMatch3     1060.15      (6.0%)     1233.64      (3.7%)   16.4% (   6% -   27%)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eThis implementation is very careful about not advancing more than needed which is sometimes not the right trade-off on term queries since they are so fast. I tried to measure how many times nextDoc and advance are called for the extreme queries from this benchmark: Low3MinShouldMatch2 (-16.6%) and Low4MinShouldMatch3 (16.4%).\u003c\\/p\u003e\\n\\n\u003cdiv class=\'table-wrap\'\u003e\\n\u003ctable class=\'confluenceTable\'\u003e\u003ctbody\u003e\\n\u003ctr\u003e\\n\u003cth class=\'confluenceTh\'\u003e Low3MinShouldMatch2 \u003c\\/th\u003e\\n\u003cth class=\'confluenceTh\'\u003e trunk \u003c\\/th\u003e\\n\u003cth class=\'confluenceTh\'\u003e patch \u003c\\/th\u003e\\n\u003cth class=\'confluenceTh\'\u003e diff \u003c\\/th\u003e\\n\u003c\\/tr\u003e\\n\u003ctr\u003e\\n\u003ctd class=\'confluenceTd\'\u003e nextDoc \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e 3317417 \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e 2385754 \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e -28% \u003c\\/td\u003e\\n\u003c\\/tr\u003e\\n\u003ctr\u003e\\n\u003ctd class=\'confluenceTd\'\u003e advance \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e 2565471 \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e 3196711 \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e +25% \u003c\\/td\u003e\\n\u003c\\/tr\u003e\\n\u003ctr\u003e\\n\u003ctd class=\'confluenceTd\'\u003e total \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e 5882888 \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e 5582465 \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e -5% \u003c\\/td\u003e\\n\u003c\\/tr\u003e\\n\u003c\\/tbody\u003e\u003c\\/table\u003e\\n\u003c\\/div\u003e\\n\\n\\n\u003cdiv class=\'table-wrap\'\u003e\\n\u003ctable class=\'confluenceTable\'\u003e\u003ctbody\u003e\\n\u003ctr\u003e\\n\u003cth class=\'confluenceTh\'\u003e Low4MinShouldMatch3 \u003c\\/th\u003e\\n\u003cth class=\'confluenceTh\'\u003e trunk \u003c\\/th\u003e\\n\u003cth class=\'confluenceTh\'\u003e patch \u003c\\/th\u003e\\n\u003c\\/tr\u003e\\n\u003ctr\u003e\\n\u003ctd class=\'confluenceTd\'\u003e nextDoc \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e 86588 \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e 320 \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e -99% \u003c\\/td\u003e\\n\u003c\\/tr\u003e\\n\u003ctr\u003e\\n\u003ctd class=\'confluenceTd\'\u003e advance \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e 20644 \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e 74305 \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e +260% \u003c\\/td\u003e\\n\u003c\\/tr\u003e\\n\u003ctr\u003e\\n\u003ctd class=\'confluenceTd\'\u003e total \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e 107232 \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e 74625 \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e -30% \u003c\\/td\u003e\\n\u003c\\/tr\u003e\\n\u003c\\/tbody\u003e\u003c\\/table\u003e\\n\u003c\\/div\u003e\\n\\n\\n\u003cp\u003eOverall this new impl seems to especially help on queries which have low-frequency clauses and high values of minShouldMatch where its logic helps save calls to nextDoc\\/advance. When it does not help save many nextDoc\\/advance calls like in Low3MinShouldMatch2, its constant overhead makes it slower.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe other interesting part is that it scores lazily, so I hacked luceneutil to wrap the parsed boolean queries into constant-score queries, and this time the difference is even better since the current MinShouldMatchSumScorer always computes scores:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e                    TaskQPS baseline      StdDev   QPS patch      StdDev                Pct diff\\n     Low1MinShouldMatch0       28.88      (1.1%)       28.43      (1.4%)   -1.5% (  -3% -    0%)\\n     Low2MinShouldMatch0       33.95      (1.2%)       33.51      (1.4%)   -1.3% (  -3% -    1%)\\n     HighMinShouldMatch0       24.83      (1.4%)       24.60      (1.5%)   -0.9% (  -3% -    2%)\\n     Low3MinShouldMatch0       44.95      (1.4%)       44.63      (1.4%)   -0.7% (  -3% -    2%)\\n     Low4MinShouldMatch0       66.11      (1.5%)       65.67      (1.6%)   -0.7% (  -3% -    2%)\\n                PKLookup      321.97      (2.7%)      323.22      (2.5%)    0.4% (  -4% -    5%)\\n     Low4MinShouldMatch2      324.15      (3.3%)      326.37      (2.0%)    0.7% (  -4% -    6%)\\n     Low3MinShouldMatch3      312.13      (4.5%)      319.32      (3.0%)    2.3% (  -4% -   10%)\\n     Low2MinShouldMatch4      362.11      (4.0%)      371.42      (3.5%)    2.6% (  -4% -   10%)\\n     Low3MinShouldMatch2       40.80      (7.1%)       42.67      (4.3%)    4.6% (  -6% -   17%)\\n     Low1MinShouldMatch4       41.61      (7.2%)       43.63      (4.2%)    4.9% (  -6% -   17%)\\n     HighMinShouldMatch4       22.82      (6.9%)       24.05      (4.9%)    5.4% (  -6% -   18%)\\n     Low2MinShouldMatch3       39.52      (7.5%)       43.15      (4.5%)    9.2% (  -2% -   22%)\\n     Low1MinShouldMatch3       22.82      (7.3%)       25.56      (5.5%)   12.0% (   0% -   26%)\\n     Low2MinShouldMatch2       23.75      (7.3%)       27.33      (4.9%)   15.1% (   2% -   29%)\\n     Low4MinShouldMatch4     1291.50      (7.9%)     1492.81      (4.2%)   15.6% (   3% -   30%)\\n     Low4MinShouldMatch3     1013.22      (4.4%)     1193.51      (4.8%)   17.8% (   8% -   28%)\\n     HighMinShouldMatch3       16.65      (6.8%)       19.98      (6.1%)   20.0% (   6% -   35%)\\n     Low3MinShouldMatch4     1188.07     (12.2%)     1445.02      (5.5%)   21.6% (   3% -   44%)\\n     Low1MinShouldMatch2       17.45      (6.6%)       21.64      (6.1%)   24.1% (  10% -   39%)\\n     HighMinShouldMatch2       14.02      (6.2%)       18.54      (7.2%)   32.3% (  17% -   48%)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eBut actually it does not only score lazily, it also stops advancing the tail as soon as there are \u003ctt\u003eminShouldMatch\u003c\\/tt\u003e. For instance, I measured how many times nextDoc and advance are called depending on whether we are scoring or not with the patch.\u003c\\/p\u003e\\n\\n\u003cdiv class=\'table-wrap\'\u003e\\n\u003ctable class=\'confluenceTable\'\u003e\u003ctbody\u003e\\n\u003ctr\u003e\\n\u003cth class=\'confluenceTh\'\u003e HighMinShouldMatch3 \u003c\\/th\u003e\\n\u003cth class=\'confluenceTh\'\u003e scoring \u003c\\/th\u003e\\n\u003cth class=\'confluenceTh\'\u003e non scoring \u003c\\/th\u003e\\n\u003c\\/tr\u003e\\n\u003ctr\u003e\\n\u003ctd class=\'confluenceTd\'\u003e nextDoc \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e 4025282 \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e 4135163 \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e +3% \u003c\\/td\u003e\\n\u003c\\/tr\u003e\\n\u003ctr\u003e\\n\u003ctd class=\'confluenceTd\'\u003e advance \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e 8329393 \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e 6828807 \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e -18% \u003c\\/td\u003e\\n\u003c\\/tr\u003e\\n\u003ctr\u003e\\n\u003ctd class=\'confluenceTd\'\u003e total \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e 12354675 \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e 10963970 \u003c\\/td\u003e\\n\u003ctd class=\'confluenceTd\'\u003e -11% \u003c\\/td\u003e\\n\u003c\\/tr\u003e\\n\u003c\\/tbody\u003e\u003c\\/table\u003e\\n\u003c\\/div\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jpountz\\\" id=\\\"commentauthor_14293259_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jpountz\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Adrien Grand\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14293259_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Jan\\/15 09:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-27T09:42:29+0000\'\u003e27\\/Jan\\/15 09:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have been working on an alternative implementation that tries to generalize how our disjunction and conjunction scorers are working. It keeps track of scorers in 3 different data-structures: \\n \\n\\t a linked-list of scorers that are positioned on the next potential match, called \'lead\' since they are used to lead the iteration \\n\\t a heap of scorers that are beyond the next potential match called \'head\', ordered by doc ID (like DisjunctionScorer) \\n\\t a heap of scorers that are behind the next potential match called \'tail\', ordered by cost (like ConjunctionScorer, although the ConjunctionScorer case is simpler since the set of scorers does not change it can just use a sorted array). This heap has a size of at most  minShouldMatch - 1 , which guarantees that they can\'t be a match on their own (since we need at least  minShouldMatch  matching clauses). \\n \\n\\n\\n When you want to move to the next document, you first move scorers from \'lead\' to \'tail\'. And if it overflows, you just have to advance the least-costly scorers to \'head\'. Then the next potential match is the doc ID at the top of \'head\' and we need to pop \'head\' from all scorers which are on this doc ID. Finally, we just have to advance the least-costly scorer from \'tail\' until there is a match. \\n\\n I ran benchmarks with the current implementation using the tasks file from   LUCENE-4571  . Some queries are slower, other queries are faster: \\n\\n  \\n                     TaskQPS baseline      StdDev   QPS patch      StdDev                Pct diff\\n     Low3MinShouldMatch2       41.11      (7.3%)       34.29      (3.6%)  -16.6% ( -25% -   -6%)\\n     Low2MinShouldMatch2       24.18      (7.4%)       21.28      (2.8%)  -12.0% ( -20% -   -1%)\\n     Low1MinShouldMatch2       17.92      (7.1%)       16.26      (3.1%)   -9.3% ( -18% -    0%)\\n     HighMinShouldMatch4       23.14      (6.3%)       21.13      (3.4%)   -8.7% ( -17% -    1%)\\n     HighMinShouldMatch3       17.01      (6.9%)       15.73      (2.9%)   -7.5% ( -16% -    2%)\\n     Low1MinShouldMatch3       23.20      (6.9%)       21.49      (3.1%)   -7.4% ( -16% -    2%)\\n     HighMinShouldMatch2       14.48      (6.9%)       13.63      (3.4%)   -5.8% ( -15% -    4%)\\n     Low4MinShouldMatch2      327.94      (2.6%)      312.58      (2.4%)   -4.7% (  -9% -    0%)\\n     Low2MinShouldMatch3       39.53      (7.1%)       38.77      (3.2%)   -1.9% ( -11% -    9%)\\n     Low4MinShouldMatch0       73.34      (3.3%)       72.17      (2.1%)   -1.6% (  -6% -    3%)\\n     Low2MinShouldMatch0       36.11      (2.1%)       35.62      (1.5%)   -1.4% (  -4% -    2%)\\n     Low1MinShouldMatch4       41.57      (6.1%)       41.01      (3.3%)   -1.4% ( -10% -    8%)\\n     Low3MinShouldMatch0       48.49      (2.1%)       47.90      (1.7%)   -1.2% (  -4% -    2%)\\n     Low3MinShouldMatch3      311.34      (8.0%)      309.54      (2.4%)   -0.6% ( -10% -   10%)\\n     Low1MinShouldMatch0       30.28      (2.0%)       30.14      (1.1%)   -0.5% (  -3% -    2%)\\n     HighMinShouldMatch0       26.09      (1.7%)       25.99      (1.1%)   -0.4% (  -3% -    2%)\\n                PKLookup      322.05      (3.3%)      323.17      (3.3%)    0.3% (  -6% -    7%)\\n     Low2MinShouldMatch4      362.28      (5.7%)      366.96      (3.0%)    1.3% (  -6% -   10%)\\n     Low4MinShouldMatch4     1380.17      (6.7%)     1541.42     (11.0%)   11.7% (  -5% -   31%)\\n     Low3MinShouldMatch4     1299.86      (6.4%)     1506.99      (4.7%)   15.9% (   4% -   28%)\\n     Low4MinShouldMatch3     1060.15      (6.0%)     1233.64      (3.7%)   16.4% (   6% -   27%)\\n \\n  \\n\\n This implementation is very careful about not advancing more than needed which is sometimes not the right trade-off on term queries since they are so fast. I tried to measure how many times nextDoc and advance are called for the extreme queries from this benchmark: Low3MinShouldMatch2 (-16.6%) and Low4MinShouldMatch3 (16.4%). \\n\\n \\n  \\n \\n  Low3MinShouldMatch2  \\n  trunk  \\n  patch  \\n  diff  \\n \\n \\n  nextDoc  \\n  3317417  \\n  2385754  \\n  -28%  \\n \\n \\n  advance  \\n  2565471  \\n  3196711  \\n  +25%  \\n \\n \\n  total  \\n  5882888  \\n  5582465  \\n  -5%  \\n \\n  \\n \\n\\n\\n \\n  \\n \\n  Low4MinShouldMatch3  \\n  trunk  \\n  patch  \\n \\n \\n  nextDoc  \\n  86588  \\n  320  \\n  -99%  \\n \\n \\n  advance  \\n  20644  \\n  74305  \\n  +260%  \\n \\n \\n  total  \\n  107232  \\n  74625  \\n  -30%  \\n \\n  \\n \\n\\n\\n Overall this new impl seems to especially help on queries which have low-frequency clauses and high values of minShouldMatch where its logic helps save calls to nextDoc\\/advance. When it does not help save many nextDoc\\/advance calls like in Low3MinShouldMatch2, its constant overhead makes it slower. \\n\\n The other interesting part is that it scores lazily, so I hacked luceneutil to wrap the parsed boolean queries into constant-score queries, and this time the difference is even better since the current MinShouldMatchSumScorer always computes scores: \\n\\n  \\n                     TaskQPS baseline      StdDev   QPS patch      StdDev                Pct diff\\n     Low1MinShouldMatch0       28.88      (1.1%)       28.43      (1.4%)   -1.5% (  -3% -    0%)\\n     Low2MinShouldMatch0       33.95      (1.2%)       33.51      (1.4%)   -1.3% (  -3% -    1%)\\n     HighMinShouldMatch0       24.83      (1.4%)       24.60      (1.5%)   -0.9% (  -3% -    2%)\\n     Low3MinShouldMatch0       44.95      (1.4%)       44.63      (1.4%)   -0.7% (  -3% -    2%)\\n     Low4MinShouldMatch0       66.11      (1.5%)       65.67      (1.6%)   -0.7% (  -3% -    2%)\\n                PKLookup      321.97      (2.7%)      323.22      (2.5%)    0.4% (  -4% -    5%)\\n     Low4MinShouldMatch2      324.15      (3.3%)      326.37      (2.0%)    0.7% (  -4% -    6%)\\n     Low3MinShouldMatch3      312.13      (4.5%)      319.32      (3.0%)    2.3% (  -4% -   10%)\\n     Low2MinShouldMatch4      362.11      (4.0%)      371.42      (3.5%)    2.6% (  -4% -   10%)\\n     Low3MinShouldMatch2       40.80      (7.1%)       42.67      (4.3%)    4.6% (  -6% -   17%)\\n     Low1MinShouldMatch4       41.61      (7.2%)       43.63      (4.2%)    4.9% (  -6% -   17%)\\n     HighMinShouldMatch4       22.82      (6.9%)       24.05      (4.9%)    5.4% (  -6% -   18%)\\n     Low2MinShouldMatch3       39.52      (7.5%)       43.15      (4.5%)    9.2% (  -2% -   22%)\\n     Low1MinShouldMatch3       22.82      (7.3%)       25.56      (5.5%)   12.0% (   0% -   26%)\\n     Low2MinShouldMatch2       23.75      (7.3%)       27.33      (4.9%)   15.1% (   2% -   29%)\\n     Low4MinShouldMatch4     1291.50      (7.9%)     1492.81      (4.2%)   15.6% (   3% -   30%)\\n     Low4MinShouldMatch3     1013.22      (4.4%)     1193.51      (4.8%)   17.8% (   8% -   28%)\\n     HighMinShouldMatch3       16.65      (6.8%)       19.98      (6.1%)   20.0% (   6% -   35%)\\n     Low3MinShouldMatch4     1188.07     (12.2%)     1445.02      (5.5%)   21.6% (   3% -   44%)\\n     Low1MinShouldMatch2       17.45      (6.6%)       21.64      (6.1%)   24.1% (  10% -   39%)\\n     HighMinShouldMatch2       14.02      (6.2%)       18.54      (7.2%)   32.3% (  17% -   48%)\\n \\n  \\n\\n But actually it does not only score lazily, it also stops advancing the tail as soon as there are  minShouldMatch . For instance, I measured how many times nextDoc and advance are called depending on whether we are scoring or not with the patch. \\n\\n \\n  \\n \\n  HighMinShouldMatch3  \\n  scoring  \\n  non scoring  \\n \\n \\n  nextDoc  \\n  4025282  \\n  4135163  \\n  +3%  \\n \\n \\n  advance  \\n  8329393  \\n  6828807  \\n  -18%  \\n \\n \\n  total  \\n  12354675  \\n  10963970  \\n  -11%  \\n \\n  \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14293274\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6201?focusedCommentId=14293274&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14293274\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rcmuir\\\" id=\\\"commentauthor_14293274_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rcmuir\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rcmuir\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Robert Muir\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14293274_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Jan\\/15 10:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-27T10:03:44+0000\'\u003e27\\/Jan\\/15 10:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOne concern i have is this seems to make the fast queries faster and the slow ones slower. The bottleneck for many apps will be the behavior on high freq queries (e.g. HighMinShouldMatch4)\u003c\\/p\u003e\\n\\n\u003cp\u003eAn alternative way to implement this, where there is less advance()\'ing is to implement it in BS1 with the new range api. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rcmuir\\\" id=\\\"commentauthor_14293274_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rcmuir\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rcmuir\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Robert Muir\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14293274_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Jan\\/15 10:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-27T10:03:44+0000\'\u003e27\\/Jan\\/15 10:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    One concern i have is this seems to make the fast queries faster and the slow ones slower. The bottleneck for many apps will be the behavior on high freq queries (e.g. HighMinShouldMatch4) \\n\\n An alternative way to implement this, where there is less advance()\'ing is to implement it in BS1 with the new range api.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14293286\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6201?focusedCommentId=14293286&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14293286\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jpountz\\\" id=\\\"commentauthor_14293286_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jpountz\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Adrien Grand\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14293286_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Jan\\/15 10:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-27T10:12:30+0000\'\u003e27\\/Jan\\/15 10:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eAn alternative way to implement this, where there is less advance()\'ing is to implement it in BS1 with the new range api. \u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eIt\'s actually what I had started working on until I noticed this intriguing TODO in MinShouldMatchSumScorer that it should score lazily. \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e I actually think we need both approaches, I\'ll try to see if I can merge my two patches to get global speedups on this queries.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jpountz\\\" id=\\\"commentauthor_14293286_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jpountz\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Adrien Grand\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14293286_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Jan\\/15 10:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-27T10:12:30+0000\'\u003e27\\/Jan\\/15 10:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     An alternative way to implement this, where there is less advance()\'ing is to implement it in BS1 with the new range api.   \\n\\n It\'s actually what I had started working on until I noticed this intriguing TODO in MinShouldMatchSumScorer that it should score lazily.   I actually think we need both approaches, I\'ll try to see if I can merge my two patches to get global speedups on this queries.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14295030\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6201?focusedCommentId=14295030&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14295030\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jpountz\\\" id=\\\"commentauthor_14295030_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jpountz\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Adrien Grand\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14295030_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jan\\/15 11:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-28T11:28:06+0000\'\u003e28\\/Jan\\/15 11:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNew patch: BooleanScorer can now also deal with minShouldMatch. The way it works is that it scores all windows of 2048 documents where at least minShouldMatch clauses have a match. However, there is no guarantee about the intersection of the matches so it is only used for minShouldMatch &gt; 1 when matches are likely dense.\u003c\\/p\u003e\\n\\n\u003cp\u003eHere are results from the luceneutil benchmark:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e                    TaskQPS baseline      StdDev   QPS patch      StdDev                Pct diff\\n     Low4MinShouldMatch4     1349.50      (6.4%)     1064.22      (3.7%)  -21.1% ( -29% -  -11%)\\n     Low3MinShouldMatch4     1225.14     (11.9%)      977.61      (4.6%)  -20.2% ( -32% -   -4%)\\n     Low4MinShouldMatch3     1040.26      (5.4%)      859.33      (3.0%)  -17.4% ( -24% -   -9%)\\n     Low4MinShouldMatch2      316.21      (4.6%)      281.75      (2.5%)  -10.9% ( -17% -   -3%)\\n     Low2MinShouldMatch4      349.07      (7.8%)      316.85      (4.8%)   -9.2% ( -20% -    3%)\\n     Low3MinShouldMatch3      308.45      (5.4%)      280.00      (2.2%)   -9.2% ( -15% -   -1%)\\n     Low4MinShouldMatch0       72.57      (2.9%)       74.43     (11.3%)    2.6% ( -11% -   17%)\\n     Low2MinShouldMatch3       38.11     (10.5%)       39.30     (12.6%)    3.1% ( -18% -   29%)\\n     Low3MinShouldMatch0       47.95      (2.4%)       49.45     (12.5%)    3.1% ( -11% -   18%)\\n     Low1MinShouldMatch4       39.78      (9.7%)       41.05      (2.5%)    3.2% (  -8% -   16%)\\n                PKLookup      316.64      (2.5%)      327.40      (3.6%)    3.4% (  -2% -    9%)\\n     Low1MinShouldMatch0       30.13      (1.6%)       31.15     (12.8%)    3.4% ( -10% -   18%)\\n     Low2MinShouldMatch0       35.75      (1.8%)       37.01     (12.6%)    3.5% ( -10% -   18%)\\n     HighMinShouldMatch0       25.94      (1.4%)       26.90     (13.0%)    3.7% ( -10% -   18%)\\n     Low3MinShouldMatch2       39.56     (10.3%)       47.62     (13.0%)   20.4% (  -2% -   48%)\\n     HighMinShouldMatch4       22.28     (10.0%)       27.59     (15.5%)   23.8% (  -1% -   54%)\\n     Low1MinShouldMatch3       22.25     (10.5%)       31.02     (16.4%)   39.4% (  11% -   74%)\\n     Low2MinShouldMatch2       23.24     (10.3%)       35.63     (17.5%)   53.3% (  23% -   90%)\\n     HighMinShouldMatch3       16.31     (10.0%)       26.31     (19.6%)   61.3% (  28% -  101%)\\n     Low1MinShouldMatch2       17.24      (9.7%)       30.30     (21.2%)   75.8% (  40% -  118%)\\n     HighMinShouldMatch2       13.98      (9.0%)       26.28     (23.2%)   88.0% (  51% -  132%)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eThis time we have the slow queries that become faster but also the fast queries that become slower.\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eQueries with minShouldMatch=0 seem to be faster only because BooleanScorer is used for more queries which seems to make the JVM happy (if I modify the patch to stop using BooleanScorer when minShouldMatch &gt; 0, it\'s not the case anymore)\u003c\\/li\u003e\\n\\t\u003cli\u003eOn the other hand queries like Low4MinShouldMatch4 are slower. I tried to revert MinShouldMatchSumScorer to the previous impl and got similar results. It seems like the fact that MinShouldMatchSumScorer is not used for most queries in this benchmark anymore make the JVM unhappy\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jpountz\\\" id=\\\"commentauthor_14295030_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jpountz\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Adrien Grand\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14295030_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jan\\/15 11:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-28T11:28:06+0000\'\u003e28\\/Jan\\/15 11:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    New patch: BooleanScorer can now also deal with minShouldMatch. The way it works is that it scores all windows of 2048 documents where at least minShouldMatch clauses have a match. However, there is no guarantee about the intersection of the matches so it is only used for minShouldMatch &gt; 1 when matches are likely dense. \\n\\n Here are results from the luceneutil benchmark: \\n\\n  \\n                     TaskQPS baseline      StdDev   QPS patch      StdDev                Pct diff\\n     Low4MinShouldMatch4     1349.50      (6.4%)     1064.22      (3.7%)  -21.1% ( -29% -  -11%)\\n     Low3MinShouldMatch4     1225.14     (11.9%)      977.61      (4.6%)  -20.2% ( -32% -   -4%)\\n     Low4MinShouldMatch3     1040.26      (5.4%)      859.33      (3.0%)  -17.4% ( -24% -   -9%)\\n     Low4MinShouldMatch2      316.21      (4.6%)      281.75      (2.5%)  -10.9% ( -17% -   -3%)\\n     Low2MinShouldMatch4      349.07      (7.8%)      316.85      (4.8%)   -9.2% ( -20% -    3%)\\n     Low3MinShouldMatch3      308.45      (5.4%)      280.00      (2.2%)   -9.2% ( -15% -   -1%)\\n     Low4MinShouldMatch0       72.57      (2.9%)       74.43     (11.3%)    2.6% ( -11% -   17%)\\n     Low2MinShouldMatch3       38.11     (10.5%)       39.30     (12.6%)    3.1% ( -18% -   29%)\\n     Low3MinShouldMatch0       47.95      (2.4%)       49.45     (12.5%)    3.1% ( -11% -   18%)\\n     Low1MinShouldMatch4       39.78      (9.7%)       41.05      (2.5%)    3.2% (  -8% -   16%)\\n                PKLookup      316.64      (2.5%)      327.40      (3.6%)    3.4% (  -2% -    9%)\\n     Low1MinShouldMatch0       30.13      (1.6%)       31.15     (12.8%)    3.4% ( -10% -   18%)\\n     Low2MinShouldMatch0       35.75      (1.8%)       37.01     (12.6%)    3.5% ( -10% -   18%)\\n     HighMinShouldMatch0       25.94      (1.4%)       26.90     (13.0%)    3.7% ( -10% -   18%)\\n     Low3MinShouldMatch2       39.56     (10.3%)       47.62     (13.0%)   20.4% (  -2% -   48%)\\n     HighMinShouldMatch4       22.28     (10.0%)       27.59     (15.5%)   23.8% (  -1% -   54%)\\n     Low1MinShouldMatch3       22.25     (10.5%)       31.02     (16.4%)   39.4% (  11% -   74%)\\n     Low2MinShouldMatch2       23.24     (10.3%)       35.63     (17.5%)   53.3% (  23% -   90%)\\n     HighMinShouldMatch3       16.31     (10.0%)       26.31     (19.6%)   61.3% (  28% -  101%)\\n     Low1MinShouldMatch2       17.24      (9.7%)       30.30     (21.2%)   75.8% (  40% -  118%)\\n     HighMinShouldMatch2       13.98      (9.0%)       26.28     (23.2%)   88.0% (  51% -  132%)\\n \\n  \\n\\n This time we have the slow queries that become faster but also the fast queries that become slower. \\n\\n \\n\\t Queries with minShouldMatch=0 seem to be faster only because BooleanScorer is used for more queries which seems to make the JVM happy (if I modify the patch to stop using BooleanScorer when minShouldMatch &gt; 0, it\'s not the case anymore) \\n\\t On the other hand queries like Low4MinShouldMatch4 are slower. I tried to revert MinShouldMatchSumScorer to the previous impl and got similar results. It seems like the fact that MinShouldMatchSumScorer is not used for most queries in this benchmark anymore make the JVM unhappy \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14295207\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6201?focusedCommentId=14295207&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14295207\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jpountz\\\" id=\\\"commentauthor_14295207_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jpountz\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Adrien Grand\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14295207_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jan\\/15 14:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-28T14:33:29+0000\'\u003e28\\/Jan\\/15 14:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWith this basic skipping support, maybe we can look into using bulk scorers for conjunctions too in the future...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jpountz\\\" id=\\\"commentauthor_14295207_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jpountz\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Adrien Grand\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14295207_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jan\\/15 14:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-28T14:33:29+0000\'\u003e28\\/Jan\\/15 14:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    With this basic skipping support, maybe we can look into using bulk scorers for conjunctions too in the future...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14297093\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6201?focusedCommentId=14297093&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14297093\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jpountz\\\" id=\\\"commentauthor_14297093_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jpountz\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Adrien Grand\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14297093_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jan\\/15 16:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-29T16:26:23+0000\'\u003e29\\/Jan\\/15 16:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHmm, actually I played with it and the results are not good. I modified the patch to make pure conjunctions handled as disjunctions with minShouldMatch=number_of_optional_clauses. It is using the same heuristics as in the current patch (cost &gt; maxDoc \\/ 3) so only AndHighHigh runs with BooleanScorer:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e                    TaskQPS baseline      StdDev   QPS patch      StdDev                Pct diff\\n             AndHighHigh       85.24      (1.8%)       57.61      (8.0%)  -32.4% ( -41% -  -23%)\\n                  Fuzzy2       65.07     (12.3%)       59.37     (12.7%)   -8.8% ( -30% -   18%)\\n                  Fuzzy1       41.38      (3.4%)       39.09      (5.1%)   -5.5% ( -13% -    3%)\\n              AndHighLow      781.86      (3.7%)      753.32      (3.7%)   -3.6% ( -10% -    3%)\\n        HighSloppyPhrase       36.01      (2.9%)       35.20      (3.5%)   -2.2% (  -8% -    4%)\\n               OrHighLow       92.94      (4.4%)       91.18      (5.8%)   -1.9% ( -11% -    8%)\\n         MedSloppyPhrase       64.84      (3.0%)       63.67      (3.3%)   -1.8% (  -7% -    4%)\\n              AndHighMed      197.21      (2.0%)      194.06      (3.3%)   -1.6% (  -6% -    3%)\\n         LowSloppyPhrase       97.46      (2.0%)       96.00      (2.2%)   -1.5% (  -5% -    2%)\\n               OrHighMed       41.52      (4.8%)       41.15      (6.6%)   -0.9% ( -11% -   11%)\\n              HighPhrase       35.18      (7.3%)       34.97      (7.7%)   -0.6% ( -14% -   15%)\\n              OrHighHigh       25.83      (5.3%)       25.69      (6.9%)   -0.6% ( -12% -   12%)\\n               MedPhrase       31.25      (3.4%)       31.17      (3.8%)   -0.3% (  -7% -    7%)\\n           OrHighNotHigh       49.00      (1.9%)       48.87      (1.7%)   -0.3% (  -3% -    3%)\\n                 MedTerm      246.68      (2.2%)      246.06      (2.2%)   -0.3% (  -4% -    4%)\\n            OrHighNotMed       40.13      (2.9%)       40.05      (2.8%)   -0.2% (  -5% -    5%)\\n                HighTerm       95.31      (2.3%)       95.20      (2.2%)   -0.1% (  -4% -    4%)\\n                  IntNRQ        7.70      (4.7%)        7.69      (4.9%)   -0.1% (  -9% -    9%)\\n           OrNotHighHigh       29.34      (1.4%)       29.32      (2.2%)   -0.1% (  -3% -    3%)\\n                Wildcard       59.61      (2.9%)       59.60      (3.1%)   -0.0% (  -5% -    6%)\\n             LowSpanNear      115.48      (2.6%)      115.51      (2.4%)    0.0% (  -4% -    5%)\\n               LowPhrase      368.22      (3.1%)      368.37      (3.4%)    0.0% (  -6% -    6%)\\n                 Prefix3       97.37      (3.7%)       97.52      (3.9%)    0.2% (  -7% -    8%)\\n                 LowTerm      868.88      (4.8%)      870.53      (6.6%)    0.2% ( -10% -   12%)\\n                PKLookup      269.02      (3.2%)      269.55      (3.4%)    0.2% (  -6% -    7%)\\n            OrNotHighMed      113.70      (2.0%)      114.02      (2.5%)    0.3% (  -4% -    4%)\\n             MedSpanNear      109.45      (1.8%)      109.80      (1.8%)    0.3% (  -3% -    3%)\\n            OrHighNotLow      103.81      (3.1%)      104.17      (2.6%)    0.3% (  -5% -    6%)\\n            HighSpanNear       10.89      (2.1%)       10.94      (1.9%)    0.4% (  -3% -    4%)\\n                 Respell       86.63      (6.1%)       87.09      (6.1%)    0.5% ( -10% -   13%)\\n            OrNotHighLow      967.00      (4.1%)     1019.09      (3.3%)    5.4% (  -1% -   13%)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eBooleanScorer is not ready to run pure conjunctions. Actually this probably makes sense: one of the reason why disjunctions (with or without minShouldMatch) are slow is that they need to update some priority queues all the time in order to figure out the next candidate. BooleanScorer speeds things up by only balancing priority queues once per window. On the other hand, the ConjunctionScorer doesn\'t have such issues, so BooleanScorer mostly adds overhead by first collecting into a bit set and then recollecting from the bit set into the actual collector.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jpountz\\\" id=\\\"commentauthor_14297093_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jpountz\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Adrien Grand\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14297093_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jan\\/15 16:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-29T16:26:23+0000\'\u003e29\\/Jan\\/15 16:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hmm, actually I played with it and the results are not good. I modified the patch to make pure conjunctions handled as disjunctions with minShouldMatch=number_of_optional_clauses. It is using the same heuristics as in the current patch (cost &gt; maxDoc \\/ 3) so only AndHighHigh runs with BooleanScorer: \\n\\n  \\n                     TaskQPS baseline      StdDev   QPS patch      StdDev                Pct diff\\n             AndHighHigh       85.24      (1.8%)       57.61      (8.0%)  -32.4% ( -41% -  -23%)\\n                  Fuzzy2       65.07     (12.3%)       59.37     (12.7%)   -8.8% ( -30% -   18%)\\n                  Fuzzy1       41.38      (3.4%)       39.09      (5.1%)   -5.5% ( -13% -    3%)\\n              AndHighLow      781.86      (3.7%)      753.32      (3.7%)   -3.6% ( -10% -    3%)\\n        HighSloppyPhrase       36.01      (2.9%)       35.20      (3.5%)   -2.2% (  -8% -    4%)\\n               OrHighLow       92.94      (4.4%)       91.18      (5.8%)   -1.9% ( -11% -    8%)\\n         MedSloppyPhrase       64.84      (3.0%)       63.67      (3.3%)   -1.8% (  -7% -    4%)\\n              AndHighMed      197.21      (2.0%)      194.06      (3.3%)   -1.6% (  -6% -    3%)\\n         LowSloppyPhrase       97.46      (2.0%)       96.00      (2.2%)   -1.5% (  -5% -    2%)\\n               OrHighMed       41.52      (4.8%)       41.15      (6.6%)   -0.9% ( -11% -   11%)\\n              HighPhrase       35.18      (7.3%)       34.97      (7.7%)   -0.6% ( -14% -   15%)\\n              OrHighHigh       25.83      (5.3%)       25.69      (6.9%)   -0.6% ( -12% -   12%)\\n               MedPhrase       31.25      (3.4%)       31.17      (3.8%)   -0.3% (  -7% -    7%)\\n           OrHighNotHigh       49.00      (1.9%)       48.87      (1.7%)   -0.3% (  -3% -    3%)\\n                 MedTerm      246.68      (2.2%)      246.06      (2.2%)   -0.3% (  -4% -    4%)\\n            OrHighNotMed       40.13      (2.9%)       40.05      (2.8%)   -0.2% (  -5% -    5%)\\n                HighTerm       95.31      (2.3%)       95.20      (2.2%)   -0.1% (  -4% -    4%)\\n                  IntNRQ        7.70      (4.7%)        7.69      (4.9%)   -0.1% (  -9% -    9%)\\n           OrNotHighHigh       29.34      (1.4%)       29.32      (2.2%)   -0.1% (  -3% -    3%)\\n                Wildcard       59.61      (2.9%)       59.60      (3.1%)   -0.0% (  -5% -    6%)\\n             LowSpanNear      115.48      (2.6%)      115.51      (2.4%)    0.0% (  -4% -    5%)\\n               LowPhrase      368.22      (3.1%)      368.37      (3.4%)    0.0% (  -6% -    6%)\\n                 Prefix3       97.37      (3.7%)       97.52      (3.9%)    0.2% (  -7% -    8%)\\n                 LowTerm      868.88      (4.8%)      870.53      (6.6%)    0.2% ( -10% -   12%)\\n                PKLookup      269.02      (3.2%)      269.55      (3.4%)    0.2% (  -6% -    7%)\\n            OrNotHighMed      113.70      (2.0%)      114.02      (2.5%)    0.3% (  -4% -    4%)\\n             MedSpanNear      109.45      (1.8%)      109.80      (1.8%)    0.3% (  -3% -    3%)\\n            OrHighNotLow      103.81      (3.1%)      104.17      (2.6%)    0.3% (  -5% -    6%)\\n            HighSpanNear       10.89      (2.1%)       10.94      (1.9%)    0.4% (  -3% -    4%)\\n                 Respell       86.63      (6.1%)       87.09      (6.1%)    0.5% ( -10% -   13%)\\n            OrNotHighLow      967.00      (4.1%)     1019.09      (3.3%)    5.4% (  -1% -   13%)\\n \\n  \\n\\n BooleanScorer is not ready to run pure conjunctions. Actually this probably makes sense: one of the reason why disjunctions (with or without minShouldMatch) are slow is that they need to update some priority queues all the time in order to figure out the next candidate. BooleanScorer speeds things up by only balancing priority queues once per window. On the other hand, the ConjunctionScorer doesn\'t have such issues, so BooleanScorer mostly adds overhead by first collecting into a bit set and then recollecting from the bit set into the actual collector.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14297334\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6201?focusedCommentId=14297334&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14297334\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jpountz\\\" id=\\\"commentauthor_14297334_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jpountz\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Adrien Grand\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14297334_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jan\\/15 18:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-29T18:52:24+0000\'\u003e29\\/Jan\\/15 18:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere is a new patch and a summary of what it is doing:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eimprove MinShouldMatchSumScorer to call nextDoc\\/advance less on sub scorers\u003c\\/li\u003e\\n\\t\u003cli\u003eimprove MinShouldMatchSumScorer to only score on demand\u003c\\/li\u003e\\n\\t\u003cli\u003emake BooleanScorer able to deal with minShouldMatch &gt; 1. The way it works is that it only scores windows of 2048 documents where at least minShouldMatch clauses have at least one match.\u003c\\/li\u003e\\n\\t\u003cli\u003emake BooleanScorer used for minShouldMatch &gt; 1 when the cost is high (&gt; maxDoc \\/ 3)\u003c\\/li\u003e\\n\\t\u003cli\u003eDisjunctionScorer and MinShouldMatchSumScorer both had a priority queue ordered by doc ID so I factored it out to a separate class (but not using oal.util.PriorityQueue since the pluggable comparison function seems to hurt performance a lot)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n\u003cp\u003eHere are results of the various benchmarks that we have:\u003c\\/p\u003e\\n\\n\u003cp\u003ewikimedium10M:\u003c\\/p\u003e\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e                    TaskQPS baseline      StdDev   QPS patch      StdDev                Pct diff\\n                  Fuzzy2       58.35      (4.4%)       55.53      (6.4%)   -4.8% ( -14% -    6%)\\n               OrHighMed       59.68      (4.0%)       59.11      (4.2%)   -1.0% (  -8% -    7%)\\n               OrHighLow       68.54      (4.0%)       67.91      (4.3%)   -0.9% (  -8% -    7%)\\n              OrHighHigh       21.65      (4.6%)       21.48      (4.8%)   -0.8% (  -9% -    9%)\\n                  Fuzzy1       80.72      (3.8%)       80.40      (3.6%)   -0.4% (  -7% -    7%)\\n                HighTerm      105.98      (2.5%)      105.59      (2.8%)   -0.4% (  -5% -    5%)\\n                Wildcard       49.40      (5.3%)       49.24      (5.3%)   -0.3% ( -10% -   10%)\\n                 MedTerm      220.04      (2.6%)      219.36      (2.8%)   -0.3% (  -5% -    5%)\\n            OrHighNotLow       92.87      (2.8%)       92.61      (2.8%)   -0.3% (  -5% -    5%)\\n            OrHighNotMed       67.10      (2.3%)       66.92      (2.2%)   -0.3% (  -4% -    4%)\\n                 Prefix3      100.43      (5.4%)      100.19      (5.3%)   -0.2% ( -10% -   11%)\\n                PKLookup      272.56      (3.2%)      271.93      (3.3%)   -0.2% (  -6% -    6%)\\n            OrNotHighMed      171.29      (2.1%)      170.92      (2.1%)   -0.2% (  -4% -    4%)\\n                 LowTerm      822.27      (5.0%)      821.03      (4.8%)   -0.2% (  -9% -   10%)\\n               MedPhrase      137.90      (2.5%)      137.77      (2.2%)   -0.1% (  -4% -    4%)\\n           OrNotHighHigh       42.48      (1.4%)       42.44      (1.3%)   -0.1% (  -2% -    2%)\\n             AndHighHigh       52.45      (1.3%)       52.43      (1.3%)   -0.0% (  -2% -    2%)\\n              AndHighMed      210.77      (2.1%)      210.83      (2.4%)    0.0% (  -4% -    4%)\\n               LowPhrase       50.86      (3.8%)       50.90      (3.7%)    0.1% (  -7% -    7%)\\n             MedSpanNear       19.83      (5.6%)       19.84      (5.6%)    0.1% ( -10% -   11%)\\n              HighPhrase       18.50      (3.3%)       18.52      (3.4%)    0.1% (  -6% -    7%)\\n         LowSloppyPhrase       41.13      (2.6%)       41.17      (2.2%)    0.1% (  -4% -    5%)\\n         MedSloppyPhrase       60.91      (3.0%)       60.98      (2.4%)    0.1% (  -5% -    5%)\\n           OrHighNotHigh       40.01      (1.2%)       40.06      (1.3%)    0.1% (  -2% -    2%)\\n                  IntNRQ       16.17      (6.2%)       16.19      (6.3%)    0.1% ( -11% -   13%)\\n            OrNotHighLow      611.94      (3.1%)      612.86      (3.3%)    0.1% (  -6% -    6%)\\n            HighSpanNear        3.47      (5.8%)        3.48      (6.1%)    0.2% ( -11% -   12%)\\n        HighSloppyPhrase       24.65      (3.8%)       24.71      (3.2%)    0.3% (  -6% -    7%)\\n             LowSpanNear       90.25      (2.8%)       90.61      (3.1%)    0.4% (  -5% -    6%)\\n                 Respell       72.37      (3.9%)       72.95      (3.7%)    0.8% (  -6% -    8%)\\n              AndHighLow      821.42      (4.4%)      830.72      (4.0%)    1.1% (  -6% -    9%)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003ewikimedium10M with lucene (both the baseline and the patched version) patched to forcefully use BS2 all the time (to validate that sharing the pq between DisjunctionScorer and MinShouldMatchSumScorer does not hurt):\u003c\\/p\u003e\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e                    TaskQPS baseline      StdDev   QPS patch      StdDev                Pct diff\\n                  Fuzzy1       72.12      (5.7%)       71.59      (7.2%)   -0.7% ( -12% -   12%)\\n                 LowTerm      860.24      (5.5%)      855.31      (5.1%)   -0.6% ( -10% -   10%)\\n                PKLookup      267.21      (2.6%)      266.07      (2.7%)   -0.4% (  -5% -    4%)\\n            OrNotHighMed      244.11      (1.6%)      243.11      (2.0%)   -0.4% (  -3% -    3%)\\n               MedPhrase      226.75      (2.3%)      226.07      (2.3%)   -0.3% (  -4% -    4%)\\n           OrHighNotHigh       47.84      (1.6%)       47.71      (1.8%)   -0.3% (  -3% -    3%)\\n        HighSloppyPhrase       24.65      (2.4%)       24.59      (2.4%)   -0.2% (  -4% -    4%)\\n            OrHighNotMed       53.28      (2.9%)       53.15      (3.1%)   -0.2% (  -6% -    5%)\\n                HighTerm       54.46      (2.3%)       54.36      (2.3%)   -0.2% (  -4% -    4%)\\n              HighPhrase       46.80      (2.6%)       46.73      (2.7%)   -0.2% (  -5% -    5%)\\n               LowPhrase      224.46      (3.1%)      224.16      (3.6%)   -0.1% (  -6% -    6%)\\n            OrHighNotLow       75.21      (3.3%)       75.11      (3.2%)   -0.1% (  -6% -    6%)\\n           OrNotHighHigh       55.94      (1.5%)       55.91      (1.8%)   -0.1% (  -3% -    3%)\\n            OrNotHighLow      932.36      (3.4%)      932.28      (3.2%)   -0.0% (  -6% -    6%)\\n                 MedTerm      306.76      (2.3%)      306.77      (2.3%)    0.0% (  -4% -    4%)\\n             AndHighHigh       59.85      (0.9%)       59.87      (0.9%)    0.0% (  -1% -    1%)\\n                 Prefix3       29.55      (2.4%)       29.56      (2.5%)    0.0% (  -4% -    5%)\\n         LowSloppyPhrase       35.97      (3.0%)       36.01      (2.7%)    0.1% (  -5% -    5%)\\n             LowSpanNear      219.56      (3.0%)      219.86      (3.2%)    0.1% (  -5% -    6%)\\n               OrHighLow       17.18      (3.2%)       17.21      (4.2%)    0.2% (  -7% -    7%)\\n                  IntNRQ        8.77      (2.8%)        8.79      (3.0%)    0.2% (  -5% -    6%)\\n              AndHighMed      184.88      (1.5%)      185.24      (1.5%)    0.2% (  -2% -    3%)\\n                Wildcard       40.48      (2.5%)       40.56      (2.6%)    0.2% (  -4% -    5%)\\n         MedSloppyPhrase       35.40      (2.4%)       35.47      (2.1%)    0.2% (  -4% -    4%)\\n            HighSpanNear        7.32      (4.8%)        7.35      (5.1%)    0.5% (  -8% -   10%)\\n                 Respell       58.99      (4.0%)       59.35      (2.7%)    0.6% (  -5% -    7%)\\n              AndHighLow      921.16      (6.8%)      927.79      (4.1%)    0.7% (  -9% -   12%)\\n             MedSpanNear       10.33      (3.3%)       10.41      (3.2%)    0.7% (  -5% -    7%)\\n                  Fuzzy2       64.92     (11.8%)       65.56     (10.1%)    1.0% ( -18% -   25%)\\n               OrHighMed       38.65      (2.8%)       39.25      (4.4%)    1.6% (  -5% -    9%)\\n              OrHighHigh       20.06      (2.7%)       20.64      (4.7%)    2.9% (  -4% -   10%)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eMinShouldMatch tasks on wikimedium1M:\u003c\\/p\u003e\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e     Low3MinShouldMatch4     1204.57      (7.1%)      944.59      (2.7%)  -21.6% ( -29% -  -12%)\\n     Low4MinShouldMatch4     1294.39     (10.7%)     1026.20      (3.8%)  -20.7% ( -31% -   -6%)\\n     Low4MinShouldMatch3      993.94      (7.7%)      827.22      (5.4%)  -16.8% ( -27% -   -3%)\\n     Low4MinShouldMatch2      314.76      (4.9%)      272.76      (3.4%)  -13.3% ( -20% -   -5%)\\n     Low2MinShouldMatch4      345.04      (8.0%)      303.89      (6.4%)  -11.9% ( -24% -    2%)\\n     Low3MinShouldMatch3      304.41      (5.0%)      271.79      (3.3%)  -10.7% ( -18% -   -2%)\\n     Low1MinShouldMatch4       39.30      (8.8%)       39.70      (2.7%)    1.0% (  -9% -   13%)\\n     Low4MinShouldMatch0       71.65      (3.2%)       73.38      (6.5%)    2.4% (  -7% -   12%)\\n     Low3MinShouldMatch0       47.45      (2.2%)       49.00      (7.2%)    3.3% (  -5% -   12%)\\n     Low2MinShouldMatch3       37.50      (9.3%)       38.83      (8.4%)    3.5% ( -12% -   23%)\\n     HighMinShouldMatch0       25.55      (1.8%)       26.52      (8.1%)    3.8% (  -6% -   13%)\\n     Low2MinShouldMatch0       35.24      (1.8%)       36.61      (7.3%)    3.9% (  -5% -   13%)\\n                PKLookup      316.26      (2.5%)      328.56      (3.4%)    3.9% (  -1% -   10%)\\n     Low1MinShouldMatch0       29.63      (2.1%)       30.89      (7.6%)    4.2% (  -5% -   14%)\\n     Low3MinShouldMatch2       38.91      (9.6%)       47.22      (8.4%)   21.3% (   3% -   43%)\\n     HighMinShouldMatch4       21.97      (9.4%)       27.15     (10.2%)   23.5% (   3% -   47%)\\n     Low1MinShouldMatch3       21.84      (9.5%)       30.69     (10.9%)   40.5% (  18% -   67%)\\n     Low2MinShouldMatch2       22.69      (9.7%)       35.21     (11.0%)   55.2% (  31% -   83%)\\n     HighMinShouldMatch3       16.01      (9.7%)       26.07     (12.3%)   62.9% (  37% -   94%)\\n     Low1MinShouldMatch2       16.86      (9.3%)       29.94     (13.1%)   77.6% (  50% -  110%)\\n     HighMinShouldMatch2       13.64      (8.6%)       25.99     (14.6%)   90.6% (  62% -  124%)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eOn this last benchmark, we can see that the use of BooleanScorer helps slow queries. Some queries are slower but it looks like it\'s just because MinShouldMatchSumScorer gets picked less often.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think it\'s ready?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jpountz\\\" id=\\\"commentauthor_14297334_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jpountz\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Adrien Grand\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14297334_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jan\\/15 18:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-29T18:52:24+0000\'\u003e29\\/Jan\\/15 18:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here is a new patch and a summary of what it is doing: \\n \\n\\t improve MinShouldMatchSumScorer to call nextDoc\\/advance less on sub scorers \\n\\t improve MinShouldMatchSumScorer to only score on demand \\n\\t make BooleanScorer able to deal with minShouldMatch &gt; 1. The way it works is that it only scores windows of 2048 documents where at least minShouldMatch clauses have at least one match. \\n\\t make BooleanScorer used for minShouldMatch &gt; 1 when the cost is high (&gt; maxDoc \\/ 3) \\n\\t DisjunctionScorer and MinShouldMatchSumScorer both had a priority queue ordered by doc ID so I factored it out to a separate class (but not using oal.util.PriorityQueue since the pluggable comparison function seems to hurt performance a lot) \\n \\n\\n\\n\\n Here are results of the various benchmarks that we have: \\n\\n wikimedium10M: \\n  \\n                     TaskQPS baseline      StdDev   QPS patch      StdDev                Pct diff\\n                  Fuzzy2       58.35      (4.4%)       55.53      (6.4%)   -4.8% ( -14% -    6%)\\n               OrHighMed       59.68      (4.0%)       59.11      (4.2%)   -1.0% (  -8% -    7%)\\n               OrHighLow       68.54      (4.0%)       67.91      (4.3%)   -0.9% (  -8% -    7%)\\n              OrHighHigh       21.65      (4.6%)       21.48      (4.8%)   -0.8% (  -9% -    9%)\\n                  Fuzzy1       80.72      (3.8%)       80.40      (3.6%)   -0.4% (  -7% -    7%)\\n                HighTerm      105.98      (2.5%)      105.59      (2.8%)   -0.4% (  -5% -    5%)\\n                Wildcard       49.40      (5.3%)       49.24      (5.3%)   -0.3% ( -10% -   10%)\\n                 MedTerm      220.04      (2.6%)      219.36      (2.8%)   -0.3% (  -5% -    5%)\\n            OrHighNotLow       92.87      (2.8%)       92.61      (2.8%)   -0.3% (  -5% -    5%)\\n            OrHighNotMed       67.10      (2.3%)       66.92      (2.2%)   -0.3% (  -4% -    4%)\\n                 Prefix3      100.43      (5.4%)      100.19      (5.3%)   -0.2% ( -10% -   11%)\\n                PKLookup      272.56      (3.2%)      271.93      (3.3%)   -0.2% (  -6% -    6%)\\n            OrNotHighMed      171.29      (2.1%)      170.92      (2.1%)   -0.2% (  -4% -    4%)\\n                 LowTerm      822.27      (5.0%)      821.03      (4.8%)   -0.2% (  -9% -   10%)\\n               MedPhrase      137.90      (2.5%)      137.77      (2.2%)   -0.1% (  -4% -    4%)\\n           OrNotHighHigh       42.48      (1.4%)       42.44      (1.3%)   -0.1% (  -2% -    2%)\\n             AndHighHigh       52.45      (1.3%)       52.43      (1.3%)   -0.0% (  -2% -    2%)\\n              AndHighMed      210.77      (2.1%)      210.83      (2.4%)    0.0% (  -4% -    4%)\\n               LowPhrase       50.86      (3.8%)       50.90      (3.7%)    0.1% (  -7% -    7%)\\n             MedSpanNear       19.83      (5.6%)       19.84      (5.6%)    0.1% ( -10% -   11%)\\n              HighPhrase       18.50      (3.3%)       18.52      (3.4%)    0.1% (  -6% -    7%)\\n         LowSloppyPhrase       41.13      (2.6%)       41.17      (2.2%)    0.1% (  -4% -    5%)\\n         MedSloppyPhrase       60.91      (3.0%)       60.98      (2.4%)    0.1% (  -5% -    5%)\\n           OrHighNotHigh       40.01      (1.2%)       40.06      (1.3%)    0.1% (  -2% -    2%)\\n                  IntNRQ       16.17      (6.2%)       16.19      (6.3%)    0.1% ( -11% -   13%)\\n            OrNotHighLow      611.94      (3.1%)      612.86      (3.3%)    0.1% (  -6% -    6%)\\n            HighSpanNear        3.47      (5.8%)        3.48      (6.1%)    0.2% ( -11% -   12%)\\n        HighSloppyPhrase       24.65      (3.8%)       24.71      (3.2%)    0.3% (  -6% -    7%)\\n             LowSpanNear       90.25      (2.8%)       90.61      (3.1%)    0.4% (  -5% -    6%)\\n                 Respell       72.37      (3.9%)       72.95      (3.7%)    0.8% (  -6% -    8%)\\n              AndHighLow      821.42      (4.4%)      830.72      (4.0%)    1.1% (  -6% -    9%)\\n \\n  \\n\\n wikimedium10M with lucene (both the baseline and the patched version) patched to forcefully use BS2 all the time (to validate that sharing the pq between DisjunctionScorer and MinShouldMatchSumScorer does not hurt): \\n  \\n                     TaskQPS baseline      StdDev   QPS patch      StdDev                Pct diff\\n                  Fuzzy1       72.12      (5.7%)       71.59      (7.2%)   -0.7% ( -12% -   12%)\\n                 LowTerm      860.24      (5.5%)      855.31      (5.1%)   -0.6% ( -10% -   10%)\\n                PKLookup      267.21      (2.6%)      266.07      (2.7%)   -0.4% (  -5% -    4%)\\n            OrNotHighMed      244.11      (1.6%)      243.11      (2.0%)   -0.4% (  -3% -    3%)\\n               MedPhrase      226.75      (2.3%)      226.07      (2.3%)   -0.3% (  -4% -    4%)\\n           OrHighNotHigh       47.84      (1.6%)       47.71      (1.8%)   -0.3% (  -3% -    3%)\\n        HighSloppyPhrase       24.65      (2.4%)       24.59      (2.4%)   -0.2% (  -4% -    4%)\\n            OrHighNotMed       53.28      (2.9%)       53.15      (3.1%)   -0.2% (  -6% -    5%)\\n                HighTerm       54.46      (2.3%)       54.36      (2.3%)   -0.2% (  -4% -    4%)\\n              HighPhrase       46.80      (2.6%)       46.73      (2.7%)   -0.2% (  -5% -    5%)\\n               LowPhrase      224.46      (3.1%)      224.16      (3.6%)   -0.1% (  -6% -    6%)\\n            OrHighNotLow       75.21      (3.3%)       75.11      (3.2%)   -0.1% (  -6% -    6%)\\n           OrNotHighHigh       55.94      (1.5%)       55.91      (1.8%)   -0.1% (  -3% -    3%)\\n            OrNotHighLow      932.36      (3.4%)      932.28      (3.2%)   -0.0% (  -6% -    6%)\\n                 MedTerm      306.76      (2.3%)      306.77      (2.3%)    0.0% (  -4% -    4%)\\n             AndHighHigh       59.85      (0.9%)       59.87      (0.9%)    0.0% (  -1% -    1%)\\n                 Prefix3       29.55      (2.4%)       29.56      (2.5%)    0.0% (  -4% -    5%)\\n         LowSloppyPhrase       35.97      (3.0%)       36.01      (2.7%)    0.1% (  -5% -    5%)\\n             LowSpanNear      219.56      (3.0%)      219.86      (3.2%)    0.1% (  -5% -    6%)\\n               OrHighLow       17.18      (3.2%)       17.21      (4.2%)    0.2% (  -7% -    7%)\\n                  IntNRQ        8.77      (2.8%)        8.79      (3.0%)    0.2% (  -5% -    6%)\\n              AndHighMed      184.88      (1.5%)      185.24      (1.5%)    0.2% (  -2% -    3%)\\n                Wildcard       40.48      (2.5%)       40.56      (2.6%)    0.2% (  -4% -    5%)\\n         MedSloppyPhrase       35.40      (2.4%)       35.47      (2.1%)    0.2% (  -4% -    4%)\\n            HighSpanNear        7.32      (4.8%)        7.35      (5.1%)    0.5% (  -8% -   10%)\\n                 Respell       58.99      (4.0%)       59.35      (2.7%)    0.6% (  -5% -    7%)\\n              AndHighLow      921.16      (6.8%)      927.79      (4.1%)    0.7% (  -9% -   12%)\\n             MedSpanNear       10.33      (3.3%)       10.41      (3.2%)    0.7% (  -5% -    7%)\\n                  Fuzzy2       64.92     (11.8%)       65.56     (10.1%)    1.0% ( -18% -   25%)\\n               OrHighMed       38.65      (2.8%)       39.25      (4.4%)    1.6% (  -5% -    9%)\\n              OrHighHigh       20.06      (2.7%)       20.64      (4.7%)    2.9% (  -4% -   10%)\\n \\n  \\n\\n MinShouldMatch tasks on wikimedium1M: \\n  \\n      Low3MinShouldMatch4     1204.57      (7.1%)      944.59      (2.7%)  -21.6% ( -29% -  -12%)\\n     Low4MinShouldMatch4     1294.39     (10.7%)     1026.20      (3.8%)  -20.7% ( -31% -   -6%)\\n     Low4MinShouldMatch3      993.94      (7.7%)      827.22      (5.4%)  -16.8% ( -27% -   -3%)\\n     Low4MinShouldMatch2      314.76      (4.9%)      272.76      (3.4%)  -13.3% ( -20% -   -5%)\\n     Low2MinShouldMatch4      345.04      (8.0%)      303.89      (6.4%)  -11.9% ( -24% -    2%)\\n     Low3MinShouldMatch3      304.41      (5.0%)      271.79      (3.3%)  -10.7% ( -18% -   -2%)\\n     Low1MinShouldMatch4       39.30      (8.8%)       39.70      (2.7%)    1.0% (  -9% -   13%)\\n     Low4MinShouldMatch0       71.65      (3.2%)       73.38      (6.5%)    2.4% (  -7% -   12%)\\n     Low3MinShouldMatch0       47.45      (2.2%)       49.00      (7.2%)    3.3% (  -5% -   12%)\\n     Low2MinShouldMatch3       37.50      (9.3%)       38.83      (8.4%)    3.5% ( -12% -   23%)\\n     HighMinShouldMatch0       25.55      (1.8%)       26.52      (8.1%)    3.8% (  -6% -   13%)\\n     Low2MinShouldMatch0       35.24      (1.8%)       36.61      (7.3%)    3.9% (  -5% -   13%)\\n                PKLookup      316.26      (2.5%)      328.56      (3.4%)    3.9% (  -1% -   10%)\\n     Low1MinShouldMatch0       29.63      (2.1%)       30.89      (7.6%)    4.2% (  -5% -   14%)\\n     Low3MinShouldMatch2       38.91      (9.6%)       47.22      (8.4%)   21.3% (   3% -   43%)\\n     HighMinShouldMatch4       21.97      (9.4%)       27.15     (10.2%)   23.5% (   3% -   47%)\\n     Low1MinShouldMatch3       21.84      (9.5%)       30.69     (10.9%)   40.5% (  18% -   67%)\\n     Low2MinShouldMatch2       22.69      (9.7%)       35.21     (11.0%)   55.2% (  31% -   83%)\\n     HighMinShouldMatch3       16.01      (9.7%)       26.07     (12.3%)   62.9% (  37% -   94%)\\n     Low1MinShouldMatch2       16.86      (9.3%)       29.94     (13.1%)   77.6% (  50% -  110%)\\n     HighMinShouldMatch2       13.64      (8.6%)       25.99     (14.6%)   90.6% (  62% -  124%)\\n \\n  \\n\\n On this last benchmark, we can see that the use of BooleanScorer helps slow queries. Some queries are slower but it looks like it\'s just because MinShouldMatchSumScorer gets picked less often. \\n\\n I think it\'s ready?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14297344\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6201?focusedCommentId=14297344&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14297344\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jpountz\\\" id=\\\"commentauthor_14297344_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jpountz\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Adrien Grand\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14297344_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jan\\/15 19:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-29T19:01:14+0000\'\u003e29\\/Jan\\/15 19:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI forgot to mention I also added cost() support to BulkScorer which is useful to run boolean queries with minShouldMatch &gt; 1 efficiently with BooleanScorer.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jpountz\\\" id=\\\"commentauthor_14297344_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jpountz\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Adrien Grand\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14297344_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jan\\/15 19:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-29T19:01:14+0000\'\u003e29\\/Jan\\/15 19:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I forgot to mention I also added cost() support to BulkScorer which is useful to run boolean queries with minShouldMatch &gt; 1 efficiently with BooleanScorer.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14305276\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6201?focusedCommentId=14305276&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14305276\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14305276_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14305276_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Feb\\/15 15:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-02-04T15:29:46+0000\'\u003e04\\/Feb\\/15 15:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1657286 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\" class=\\\"user-hover\\\" rel=\\\"jpountz\\\"\u003eAdrien Grand\u003c\\/a\u003e in branch \'dev\\/trunk\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1657286\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1657286\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-6201\\\" title=\\\"MinShouldMatchSumScorer should advance less and score lazily\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-6201\\\"\u003e\u003cdel\u003eLUCENE-6201\u003c\\/del\u003e\u003c\\/a\u003e: Improvements to minShouldMatch handling.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14305276_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14305276_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Feb\\/15 15:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-02-04T15:29:46+0000\'\u003e04\\/Feb\\/15 15:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1657286 from  Adrien Grand  in branch \'dev\\/trunk\' \\n[  https:\\/\\/svn.apache.org\\/r1657286  ] \\n\\n   LUCENE-6201  : Improvements to minShouldMatch handling.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14305292\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6201?focusedCommentId=14305292&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14305292\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14305292_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14305292_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Feb\\/15 15:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-02-04T15:42:08+0000\'\u003e04\\/Feb\\/15 15:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1657290 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=jpountz\\\" class=\\\"user-hover\\\" rel=\\\"jpountz\\\"\u003eAdrien Grand\u003c\\/a\u003e in branch \'dev\\/branches\\/branch_5x\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1657290\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1657290\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-6201\\\" title=\\\"MinShouldMatchSumScorer should advance less and score lazily\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-6201\\\"\u003e\u003cdel\u003eLUCENE-6201\u003c\\/del\u003e\u003c\\/a\u003e: Improvements to minShouldMatch handling.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14305292_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14305292_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Feb\\/15 15:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-02-04T15:42:08+0000\'\u003e04\\/Feb\\/15 15:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1657290 from  Adrien Grand  in branch \'dev\\/branches\\/branch_5x\' \\n[  https:\\/\\/svn.apache.org\\/r1657290  ] \\n\\n   LUCENE-6201  : Improvements to minShouldMatch handling.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14495416\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/LUCENE-6201?focusedCommentId=14495416&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14495416\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thelabdude\\\" id=\\\"commentauthor_14495416_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thelabdude\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thelabdude\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Timothy Potter\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14495416_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Apr\\/15 00:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-04-15T00:31:02+0000\'\u003e15\\/Apr\\/15 00:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBulk close after 5.1 release\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thelabdude\\\" id=\\\"commentauthor_14495416_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thelabdude\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thelabdude\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Timothy Potter\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14495416_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Apr\\/15 00:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-04-15T00:31:02+0000\'\u003e15\\/Apr\\/15 00:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Bulk close after 5.1 release              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310110";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/LUCENE\\/summary\\\" title=\\\"Lucene - Core\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310110&amp;avatarId=10061\\\" alt=\\\"Lucene - Core\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/LUCENE\\/summary\\\" title=\\\"Lucene - Core\\\"\u003eLucene - Core\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/LUCENE\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/LUCENE?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/LUCENE?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1516206013818"> 
    <input type="hidden" title="jira.request.server.time" value="332"> 
    <input type="hidden" title="jira.request.id" value="980x7825805x4"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="3"> 
    <input type="hidden" title="db.reads.time.in.ms" value="33"> 
    <input type="hidden" title="db.conns.time.in.ms" value="42"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 980x7825805x4
	          REQUEST TIMESTAMP : [17/Jan/2018:16:20:13 +0000]
	               REQUEST TIME : 0.3320
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 3

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=18, elapsedTotal=33470665, elapsedMin=836014, elapsedMax=12858132, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=22, elapsedTotal=42467372, elapsedMin=806346, elapsedMax=12957101, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>