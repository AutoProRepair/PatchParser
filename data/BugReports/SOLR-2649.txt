<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|adb4005ec4363bb2b32690010ca1fd711a3b84ee|lout"> 
  <link rel="shortcut icon" href="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"sd.customer.profile.multi.languages\":true,\"sd.customer.portal.transitions\":true,\"sd.customer.portal.transitions.config\":true,\"sd.custom.email.stripping.rules\":false,\"sd.sla.lucene.issue.id.callback.performance\":true,\"sd.new.settings.sidebar.location\":true,\"sd.workload.report.paginator\":true,\"sd.experimental.portal.search.algorithm.default.1\":false,\"sd.customer.portal.help.center.agent.announcement\":true,\"sd.sla.improved.rendering\":false,\"sd.experimental.portal.search.algorithm.default.2\":false,\"sd.customer.feedback.validate.reporter.on.token\":true,\"sd.custom.email.notifications.utf8.csat.star\":true,\"sd.who.create.customers.by.email.setting\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.renderer.consider.variable.format\":true,\"sd.stats.event.tracking\":true,\"sd.password.helper.dialog\":true,\"sd.canned.responses\":false,\"sd.portal.help.center.customer.signup.secondary.email\":true,\"sd.custom.email.notifications.manage.language\":true,\"sd.use.search.by.permissions\":true,\"sd.slavalue.record.updated.date\":false,\"sd.report.custom.date.range\":false,\"sd.kb.article.helpfulness.report\":false,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"sd.custom.email.notifications.styling\":true,\"sd.workinghours.new.page.bulldog.1\":false,\"sd.customer.portal.two.step.login\":false,\"sd.automation.psmq.async.executor\":true,\"sd.customer.org.list.page.lazy.search\":true,\"sd.approval.requested.when.handler\":true,\"sd.request.type.field.rest.api.filtering.bugfix\":true,\"sd.automation.then.action.auto.answer.approval\":true,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"sla.will.only.be.paused.if.they.are.already.started\":true,\"sd.kb.comment.share.stats.collection\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"sd.customer.orgs.group.participants\":true,\"sd.portal.help.center.customer.signup\":true,\"sd.sla.agent.jql.security.restricted\":true,\"sd.test.feature.flag.x\":true,\"sd.test.feature.flag.y\":false,\"sd.cluster.safe.mail.channel.shutdown\":true,\"sd.email.channel.folders\":false,\"sd.email.analytics.open\":false,\"sd.kb.project.creation.create.link.space\":true,\"sd.workinghours.new.page\":false,\"sd.confluence.anonymous.permission.fix\":true,\"com.atlassian.jira.issuetable.draggable\":true,\"sd.customer.portal.project.agent.announcement\":true,\"sd.automation.audit.log\":true,\"jira.jql.suggestrecentfields\":false,\"sd.canned.responses.check.index.startup\":false,\"sd.new.project.templates\":true,\"sd.custom.email.notifications.custom.rules.simple.ui\":false,\"sd.custom.email.notifications.cut.over\":true,\"sd.dismiss.all.misconfiguration.warnings.setting\":true,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"sd.sla.configurations.export\":true,\"sd.canned.responses.variable.substitution\":true,\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"sd.customer.portal.prioties.per.project.fix\":true,\"jira.instrumentation.laas\":false,\"sd.kb.self.service.report\":false,\"sla.improved.request.handling\":true,\"sd.no.schedule.async.upgrade.tasks\":true,\"sd.kb.primary.nav\":true,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"sd.kb.issueview.panel.phase2\":true,\"sd.email.outsider.comments\":true,\"jira.create.linked.issue\":true,\"sd.kb.issueview.panel\":true,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"sd.approvals.light.weight\":false,\"sd.automation.then.webhook\":true,\"sd.respect.inline.edit.issue.off\":true,\"jira.jql.smartautoselectfirst\":false,\"sd.global.portal.search.atlassian.only.tracking\":false,\"sd.automation.if.condition.comment.primary.action\":true,\"jira.priorities.per.project\":true,\"sd.inline.noformat.renderer\":true,\"sd.customer.request.type.create.edit.screens\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/png,image/vnd.wap.wbmp,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["com.atlassian.servicedesk.servicedesk-canned-responses-plugin:canned-responses-data-provider.data"]="{\"substitutionVariables\":{\"issue.summary\":\"Issue summary\",\"issue.description\":\"Issue description\",\"issue.key\":\"Issue key\",\"issue.reporter.name\":\"Issue reporter\",\"issue.resolution\":\"Issue resolution\",\"request.url\":\"Request URL\",\"request.status\":\"Request status\"}}";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-help-links.help-links"]="{\"help\":{\"email.settings\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"managing.queues\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+queues+for+your+team\",\"email.setup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"request.settings.help.bubble\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\",\"email.settings.suitablerequest\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email#Receivingrequestsbyemail-suitablerequest\",\"sla.import.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Importing+SLAs\",\"documentation.home\":\"https://docs.atlassian.com/jira/jsd-docs-039/JIRA+Service+Desk+Documentation\",\"default\":\"https://docs.atlassian.com/jira/jsd-docs-039/\",\"create.space.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base#serving-customers-with-a-knowledge-base-createpermission\",\"email.settings.troubleshooting\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+the+email+channel\",\"admin.notifications.config\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+service+desk+notifications\",\"troubleshoot.requesttype\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+request+types\",\"approvals.configuration\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+JIRA+Service+Desk+approvals\",\"setting.up.reports\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+service+desk+reports\",\"public.signup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+public+signup\",\"knowledge.base\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base\",\"resolve.permission.scheme.errors\":\"https://docs.atlassian.com/jira/jsd-docs-039/Resolving+permission+scheme+errors\",\"getting.started\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+with+JIRA+Service+Desk\",\"getting.started.agent\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+for+service+desk+agents\",\"invite.customers\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\"},\"kb\":{\"default\":\"https://confluence.atlassian.com/display/SDKB/\",\"troubleshooting.user.management.issues\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\",\"legacytransition\":\"https://confluence.atlassian.com/display/SDKB/Replacing+legacy+automatic+transitions+with+automation+rules\",\"umtroubleshoot\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\"}}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-base-url.base-url"]="\"https://issues.apache.org/jira\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"7b18782a4f1443\"";
WRM._unparsedData["project-id"]="12310230";
WRM._unparsedData["project-key"]="\"SOLR\"";
WRM._unparsedData["project-name"]="\"Solr\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310230";
WRM._unparsedData["projectKey"]="\"SOLR\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/1a6b21131945f6f49ff48336b49ca3fe-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/d8484c9183f546511a8e336a8779bcd9-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d3b35d835f8f46fc3b53bb4db7f85158-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/71d42e74136d842a3ef4d5d136484843-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/95a4826c265852f4904f1e0e7300df68-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/944bb39eced1b35cfc7194aa02eb5a5a/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/5a8f0f8b8aa8f96a4f0f7e9e248d62f3-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="SOLR-2649"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[SOLR-2649] MM ignored in edismax queries with operators - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[SOLR-2649] MM ignored in edismax queries with operators - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/SOLR" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-2649">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310230" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Solr'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310230&amp;avatarId=22151"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/SOLR">Solr</a></li>
                 <li><a class="issue-link" data-issue-key="SOLR-2649" href="/jira/browse/SOLR-2649" id="key-val" rel="12513780">SOLR-2649</a></li>
                </ol>
                <h1 id="summary-val">MM ignored in edismax queries with operators</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-2649"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/SOLR-2649/SOLR-2649.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/SOLR-2649/SOLR-2649.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/SOLR-2649/SOLR-2649.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/SOLR-2649/SOLR-2649.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" title="Improvement - An improvement or enhancement to an existing feature or task." width="16"> Improvement </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> None </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+5.5" title="5.5 Major release after 5.4">5.5</a>, <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+6.0" title="6.0 First 6.x release, Major release after 5.5">6.0</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+component+%3D+%22query+parsers%22" title="query parsers Various query parser plugins, like dismax, edismax, lucene etc">query parsers</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12513780-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>Hypothetical scenario:<br> 1. User searches for "stocks oil gold" with MM set to "50%"<br> 2. User adds "-stockings" to the query: "stocks oil gold -stockings"<br> 3. User gets no hits since MM was ignored and all terms where AND-ed together</p> 
                  <p>The behavior seems to be intentional, although the reason why is never explained:<br> // For correct lucene queries, turn off mm processing if there<br> // were explicit operators (except for AND).<br> boolean doMinMatched = (numOR + numNOT + numPluses + numMinuses) == 0; <br> (lines 232-234 taken from tags/lucene_solr_3_3/solr/src/java/org/apache/solr/search/ExtendedDismaxQParserPlugin.java)</p> 
                  <p>This makes edismax unsuitable as an replacement to dismax; mm is one of the primary features of dismax.</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/SOLR-2649?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/SOLR-2649?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/SOLR-2649?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/SOLR-2649?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12623283" data-issue-id="12513780" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12623283/SOLR-2649.diff" draggable="true" data-downloadurl="application/octet-stream:SOLR-2649.diff:https://issues.apache.org/jira/secure/attachment/12623283/SOLR-2649.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12623283/SOLR-2649.diff" title="Latest  16/Jan/14 01:30 - Andrew Buchanan" draggable="true" data-downloadurl="application/octet-stream:SOLR-2649.diff:https://issues.apache.org/jira/secure/attachment/12623283/SOLR-2649.diff">SOLR-2649.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-01-16T01:30:21.351Z">16/Jan/14 01:30</time>
                   </dd>
                   <dd class="attachment-size">
                    5 kB
                   </dd>
                   <dd class="attachment-author">
                    Andrew Buchanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12777367" data-issue-id="12513780" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12777367/SOLR-2649.patch" draggable="true" data-downloadurl="text/plain:SOLR-2649.patch:https://issues.apache.org/jira/secure/attachment/12777367/SOLR-2649.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12777367/SOLR-2649.patch" title="Latest  13/Dec/15 22:08 - Erick Erickson" draggable="true" data-downloadurl="text/plain:SOLR-2649.patch:https://issues.apache.org/jira/secure/attachment/12777367/SOLR-2649.patch">SOLR-2649.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-12-13T22:08:06.095Z">13/Dec/15 22:08</time>
                   </dd>
                   <dd class="attachment-size">
                    12 kB
                   </dd>
                   <dd class="attachment-author">
                    Erick Erickson
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12636154" data-issue-id="12513780" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12636154/SOLR-2649.patch" draggable="true" data-downloadurl="text/plain:SOLR-2649.patch:https://issues.apache.org/jira/secure/attachment/12636154/SOLR-2649.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12636154/SOLR-2649.patch" title=" 22/Mar/14 00:24 - Jan Høydahl" draggable="true" data-downloadurl="text/plain:SOLR-2649.patch:https://issues.apache.org/jira/secure/attachment/12636154/SOLR-2649.patch">SOLR-2649.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-03-22T00:24:07.802Z">22/Mar/14 00:24</time>
                   </dd>
                   <dd class="attachment-size">
                    6 kB
                   </dd>
                   <dd class="attachment-author">
                    Jan Høydahl
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12699405" data-issue-id="12513780" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12699405/SOLR-2649-with-Qop.patch" draggable="true" data-downloadurl="text/plain:SOLR-2649-with-Qop.patch:https://issues.apache.org/jira/secure/attachment/12699405/SOLR-2649-with-Qop.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12699405/SOLR-2649-with-Qop.patch" title="Latest  18/Feb/15 02:17 - Greg Pendlebury" draggable="true" data-downloadurl="text/plain:SOLR-2649-with-Qop.patch:https://issues.apache.org/jira/secure/attachment/12699405/SOLR-2649-with-Qop.patch">SOLR-2649-with-Qop.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-02-18T02:17:00.639Z">18/Feb/15 02:17</time>
                   </dd>
                   <dd class="attachment-size">
                    12 kB
                   </dd>
                   <dd class="attachment-author">
                    Greg Pendlebury
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12642810" data-issue-id="12513780" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12642810/SOLR-2649-with-Qop.patch" draggable="true" data-downloadurl="text/plain:SOLR-2649-with-Qop.patch:https://issues.apache.org/jira/secure/attachment/12642810/SOLR-2649-with-Qop.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12642810/SOLR-2649-with-Qop.patch" title=" 01/May/14 06:52 - Greg Pendlebury" draggable="true" data-downloadurl="text/plain:SOLR-2649-with-Qop.patch:https://issues.apache.org/jira/secure/attachment/12642810/SOLR-2649-with-Qop.patch">SOLR-2649-with-Qop.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-05-01T06:52:36.018Z">01/May/14 06:52</time>
                   </dd>
                   <dd class="attachment-size">
                    11 kB
                   </dd>
                   <dd class="attachment-author">
                    Greg Pendlebury
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is duplicated by">
                   is duplicated by
                  </dt> 
                  <dd id="internal-12551793_12310000"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="SOLR-3385: Extended Dismax parser ignores all regular search terms when one search term is using + (dismax behaves differently)"> <a href="/jira/browse/SOLR-3385" data-issue-key="SOLR-3385" class="issue-link link-title resolution">SOLR-3385</a> <span class="link-summary">Extended Dismax parser ignores all regular search terms when one search term is using + (dismax behaves differently)</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="is part of">
                   is part of
                  </dt> 
                  <dd id="internal-12498784_12310010"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="SOLR-2368: Improve extended dismax (edismax) parser"> <a href="/jira/browse/SOLR-2368" data-issue-key="SOLR-2368" class="issue-link link-title">SOLR-2368</a> <span class="link-summary">Improve extended dismax (edismax) parser</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-blue-gray jira-issue-status-lozenge-new aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Open</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is open and ready for the assignee to start work on it.</span>">Open</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="is related to">
                   is related to
                  </dt> 
                  <dd id="internal-12596007_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="SOLR-3580: In ExtendedDismax, lowercase 'not' operator is not being treated as an operator when 'lowercaseOperators' is enabled"> <a href="/jira/browse/SOLR-3580" data-issue-key="SOLR-3580" class="issue-link link-title">SOLR-3580</a> <span class="link-summary">In ExtendedDismax, lowercase 'not' operator is not being treated as an operator when 'lowercaseOperators' is enabled</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/minor.svg" width="16" height="16" title="Minor - Minor loss of function, or other problem where easy workaround is present." alt="Minor - Minor loss of function, or other problem where easy workaround is present."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-blue-gray jira-issue-status-lozenge-new aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Open</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is open and ready for the assignee to start work on it.</span>">Open</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12639309_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="SOLR-4646: [edismax] let lowercaseOperators default to &quot;false&quot;"> <a href="/jira/browse/SOLR-4646" data-issue-key="SOLR-4646" class="issue-link link-title resolution">SOLR-4646</a> <span class="link-summary">[edismax] let lowercaseOperators default to "false"</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/trivial.svg" width="16" height="16" title="Trivial - Cosmetic problem like misspelt words or misaligned text." alt="Trivial - Cosmetic problem like misspelt words or misaligned text."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Resolved</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.</span>">Resolved</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="relates to">
                   relates to
                  </dt> 
                  <dd id="internal-12551793_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="SOLR-3385: Extended Dismax parser ignores all regular search terms when one search term is using + (dismax behaves differently)"> <a href="/jira/browse/SOLR-3385" data-issue-key="SOLR-3385" class="issue-link link-title resolution">SOLR-3385</a> <span class="link-summary">Extended Dismax parser ignores all regular search terms when one search term is using + (dismax behaves differently)</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12948480_10030" class="
                                                collapsed-link                    "> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="SOLR-8812: ExtendedDismaxQParser (edismax) ignores Boolean OR when q.op=AND and mm is not explicitly set"> <a href="/jira/browse/SOLR-8812" data-issue-key="SOLR-8812" class="issue-link link-title resolution">SOLR-8812</a> <span class="link-summary">ExtendedDismaxQParser (edismax) ignores Boolean OR when q.op=AND and mm is not explicitly set</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <div id="show-more-links"> 
                  <button class="aui-button aui-button-link" id="show-more-links-link">Show 1 more links</button> 
                  <span>(1 relates to)</span> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_erickerickson" rel="erickerickson" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Erick Erickson&quot;,&quot;emailAddress&quot;:&quot;erickerickson@gmail.com&quot;,&quot;username&quot;:&quot;erickerickson&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="erickerickson"></span></span> Erick Erickson </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_mange" rel="mange" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Magnus Bergmark&quot;,&quot;emailAddress&quot;:&quot;magnus.bergmark@gmail.com&quot;,&quot;username&quot;:&quot;mange&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="mange"></span></span> Magnus Bergmark </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">38</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">50</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="12/Jul/11 12:13"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2011-07-12T12:13:43+0000">12/Jul/11 12:13</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="04/Jan/18 20:52"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2018-01-04T20:52:17+0000">04/Jan/18 20:52</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="15/Dec/15 04:51"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2015-12-15T04:51:25+0000">15/Dec/15 04:51</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for n/a, Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-2649?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-2649?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-2649?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-2649?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-2649?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-2649?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-2649?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-2649?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/SOLR-2649?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-2649?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-2649?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/SOLR-2649?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-13068925\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13068925&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13068925\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"iorixxx\\\" id=\\\"commentauthor_13068925_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=iorixxx\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"iorixxx\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ahmet Arslan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13068925_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jul\\/11 11:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2011-07-21T11:45:23+0000\'\u003e21\\/Jul\\/11 11:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI experienced the same issue.  When i added one negative clause to the query string (that has two optional clauses), mm is ignored and default operator is used instead.\u003cbr\\/\u003e\\nq=word1 word2 -word3&amp;mm=100%&amp;defType=edismax \u003cbr\\/\u003e\\nand \u003cbr\\/\u003e\\nq=word1 word2 -word3&amp;mm=100%&amp;defType=dismax \u003cbr\\/\u003e\\nreturns different result sets. \u003c\\/p\u003e\\n\\n\u003cp\u003eedismax returns documents containing either word1 or word2, although there are two optional clauses in the query and mm is set to 100%.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"iorixxx\\\" id=\\\"commentauthor_13068925_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=iorixxx\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"iorixxx\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ahmet Arslan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13068925_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jul\\/11 11:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2011-07-21T11:45:23+0000\'\u003e21\\/Jul\\/11 11:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I experienced the same issue.  When i added one negative clause to the query string (that has two optional clauses), mm is ignored and default operator is used instead. \\nq=word1 word2 -word3&amp;mm=100%&amp;defType=edismax  \\nand  \\nq=word1 word2 -word3&amp;mm=100%&amp;defType=dismax  \\nreturns different result sets.  \\n\\n edismax returns documents containing either word1 or word2, although there are two optional clauses in the query and mm is set to 100%.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13069215\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13069215&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13069215\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13069215_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13069215_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jul\\/11 21:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2011-07-21T21:21:40+0000\'\u003e21\\/Jul\\/11 21:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI believe the intention here was that \u003cb\u003eif\u003c\\/b\u003e a query string contains any query operators (AND\\/OR\\/NOT\\/+\\/-) then it\'s assumed the user wants \u003cb\u003eexactly\u003c\\/b\u003e what they asked for, and the \\\"mm\\\" value should not be used.\u003c\\/p\u003e\\n\\n\u003cp\u003eI believe in the cases where \u003ctt\u003efalse==doMinMatched\u003c\\/tt\u003e then the \u003ctt\u003eq.op\u003c\\/tt\u003e (which defaults to \u003ctt\u003e&lt;solrQueryParser defaultOperator=\\\"...\\\"\\/&gt;\u003c\\/tt\u003e should come into play, so folks using \u003ctt\u003emm=100%&amp;q.op=AND\u003c\\/tt\u003e or \u003ctt\u003emm=0&amp;q.op=OR\u003c\\/tt\u003e should already get the behavior they expect (if it\'s not using q.op then that definitely seems like a bug)\u003c\\/p\u003e\\n\\n\u003cp\u003ewhen people are using middle ground values for mm (ie: \u003ctt\u003emm=50%\u003c\\/tt\u003e etc...) then it definitely seems like we need some way for them to indicate to edismax thta the mm should \u003cb\u003ealways\u003c\\/b\u003e be used.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13069215_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13069215_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jul\\/11 21:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2011-07-21T21:21:40+0000\'\u003e21\\/Jul\\/11 21:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I believe the intention here was that  if  a query string contains any query operators (AND\\/OR\\/NOT\\/+\\/-) then it\'s assumed the user wants  exactly  what they asked for, and the \\\"mm\\\" value should not be used. \\n\\n I believe in the cases where  false==doMinMatched  then the  q.op  (which defaults to  &lt;solrQueryParser defaultOperator=\\\"...\\\"\\/&gt;  should come into play, so folks using  mm=100%&amp;q.op=AND  or  mm=0&amp;q.op=OR  should already get the behavior they expect (if it\'s not using q.op then that definitely seems like a bug) \\n\\n when people are using middle ground values for mm (ie:  mm=50%  etc...) then it definitely seems like we need some way for them to indicate to edismax thta the mm should  always  be used.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13089244\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13089244&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13089244\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"seancdaug\\\" id=\\\"commentauthor_13089244_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=seancdaug\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"seancdaug\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Daugherty\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13089244_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Aug\\/11 03:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2011-08-23T03:17:05+0000\'\u003e23\\/Aug\\/11 03:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAs far as I can tell, q.op is being ignored. In my case, it defaults to \\\"OR\\\"\\/MM0%. I\'m not sure why it\'s doing that, but it\'s certainly not responding to either q.op or &lt;solrQueryParser\\/&gt;.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"seancdaug\\\" id=\\\"commentauthor_13089244_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=seancdaug\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"seancdaug\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Daugherty\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13089244_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Aug\\/11 03:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2011-08-23T03:17:05+0000\'\u003e23\\/Aug\\/11 03:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    As far as I can tell, q.op is being ignored. In my case, it defaults to \\\"OR\\\"\\/MM0%. I\'m not sure why it\'s doing that, but it\'s certainly not responding to either q.op or &lt;solrQueryParser\\/&gt;.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13190640\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13190640&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13190640\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mlissner\\\" id=\\\"commentauthor_13190640_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mlissner\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mlissner\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Lissner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13190640_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Jan\\/12 10:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-01-22T10:19:05+0000\'\u003e22\\/Jan\\/12 10:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYeah, I\'m seeing this too. A user has reported that they queried:\u003cbr\\/\u003e\\n(internet OR online OR web) \\\"personal jurisdiction\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eI have defaultOperator set to AND, so I\'d expect the query to get processed as:\u003cbr\\/\u003e\\n(internet OR online OR web) AND \\\"personal jurisdiction\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eBut it is instead getting processed with an OR statement. I\'ve confirmed this using debug.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis doesn\'t seem like ideal functionality for the default operator to work, except when the user tries to override it in parts of a query. This seems like more than a minor issue to me.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mlissner\\\" id=\\\"commentauthor_13190640_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mlissner\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mlissner\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Lissner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13190640_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Jan\\/12 10:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-01-22T10:19:05+0000\'\u003e22\\/Jan\\/12 10:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yeah, I\'m seeing this too. A user has reported that they queried: \\n(internet OR online OR web) \\\"personal jurisdiction\\\" \\n\\n I have defaultOperator set to AND, so I\'d expect the query to get processed as: \\n(internet OR online OR web) AND \\\"personal jurisdiction\\\" \\n\\n But it is instead getting processed with an OR statement. I\'ve confirmed this using debug. \\n\\n This doesn\'t seem like ideal functionality for the default operator to work, except when the user tries to override it in parts of a query. This seems like more than a minor issue to me.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13190715\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13190715&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13190715\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"brianwc\\\" id=\\\"commentauthor_13190715_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=brianwc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"brianwc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Brian Carver\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13190715_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Jan\\/12 17:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-01-22T17:27:01+0000\'\u003e22\\/Jan\\/12 17:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIf this bug is responsible for the behavior Mike describes, then I agree with him that this should not be classed \\\"minor\\\" as it results in precisely the opposite behavior that the user\\/maintainer would anticipate.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"brianwc\\\" id=\\\"commentauthor_13190715_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=brianwc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"brianwc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Brian Carver\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13190715_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Jan\\/12 17:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-01-22T17:27:01+0000\'\u003e22\\/Jan\\/12 17:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    If this bug is responsible for the behavior Mike describes, then I agree with him that this should not be classed \\\"minor\\\" as it results in precisely the opposite behavior that the user\\/maintainer would anticipate.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13190909\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13190909&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13190909\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rdavies\\\" id=\\\"commentauthor_13190909_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rdavies\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rdavies\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ron Davies\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13190909_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jan\\/12 07:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-01-23T07:30:43+0000\'\u003e23\\/Jan\\/12 07:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eA significant portion of our users (professional searchers) would never accept this behaviour so this issue is a blocker for us, i.e. prevents us us from using edismax (which we would very much like to do). \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rdavies\\\" id=\\\"commentauthor_13190909_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rdavies\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rdavies\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ron Davies\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13190909_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jan\\/12 07:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-01-23T07:30:43+0000\'\u003e23\\/Jan\\/12 07:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    A significant portion of our users (professional searchers) would never accept this behaviour so this issue is a blocker for us, i.e. prevents us us from using edismax (which we would very much like to do).               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13199181\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13199181&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13199181\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"janhoy\\\" id=\\\"commentauthor_13199181_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"janhoy\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jan H\\u00F8ydahl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13199181_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Feb\\/12 20:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-02-02T20:23:07+0000\'\u003e02\\/Feb\\/12 20:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSo how should the parser interpret these examples?\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eq=word1 word2 word3 -word4&amp;mm=100%\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eI agree with Ahmet that here both word1, word2 and word3 must be required since mm is explicitly specified. If mm is not specified, mm is set from defaultOperator, i.e. AND=&gt;100%, OR=&gt;0\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eq=word1 word2 word3 -word4%mm=50%\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eHere you\'d expect that two of of the three first words must match.\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eq=word1 OR word2 word3%mm=100%\\nExample after having indexed exampledocs:\\nhttp:\\/\\/localhost:8983\\/solr\\/browse?q=ipod%20OR%20samsung%20printer&amp;debugQuery=true&amp;mm=100%25\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eWith ipod OR samsung I get 5 hits. Adding the word \\\"printer\\\" yields 6 hits, i.e. it is OR\'ed too. Here I\'d expect the equivalent of (word1 OR word2) AND word3.\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eq=word1 AND word2 word3%mm=50%\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eWhat would you expect for this? Perhaps (word1 AND word2) to be treated as clause1 and word3 as clause2 and then apply mm=1?\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eq=word1 OR word2 word3 word4 word5%mm=50%\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eHow about this? Again, it would make sense to respect (word1 OR word2) as one clause and then require two clauses out of the resulting four.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"janhoy\\\" id=\\\"commentauthor_13199181_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"janhoy\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jan H\\u00F8ydahl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13199181_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Feb\\/12 20:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-02-02T20:23:07+0000\'\u003e02\\/Feb\\/12 20:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    So how should the parser interpret these examples? \\n\\n  \\n q=word1 word2 word3 -word4&amp;mm=100%\\n \\n  \\n I agree with Ahmet that here both word1, word2 and word3 must be required since mm is explicitly specified. If mm is not specified, mm is set from defaultOperator, i.e. AND=&gt;100%, OR=&gt;0 \\n\\n  \\n q=word1 word2 word3 -word4%mm=50%\\n \\n  \\n Here you\'d expect that two of of the three first words must match. \\n\\n  \\n q=word1 OR word2 word3%mm=100%\\nExample after having indexed exampledocs:\\nhttp:\\/\\/localhost:8983\\/solr\\/browse?q=ipod%20OR%20samsung%20printer&amp;debugQuery=true&amp;mm=100%25\\n \\n  \\n With ipod OR samsung I get 5 hits. Adding the word \\\"printer\\\" yields 6 hits, i.e. it is OR\'ed too. Here I\'d expect the equivalent of (word1 OR word2) AND word3. \\n\\n  \\n q=word1 AND word2 word3%mm=50%\\n \\n  \\n What would you expect for this? Perhaps (word1 AND word2) to be treated as clause1 and word3 as clause2 and then apply mm=1? \\n\\n  \\n q=word1 OR word2 word3 word4 word5%mm=50%\\n \\n  \\n How about this? Again, it would make sense to respect (word1 OR word2) as one clause and then require two clauses out of the resulting four.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13199182\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13199182&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13199182\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"janhoy\\\" id=\\\"commentauthor_13199182_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"janhoy\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jan H\\u00F8ydahl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13199182_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Feb\\/12 20:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-02-02T20:23:08+0000\'\u003e02\\/Feb\\/12 20:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSo how should the parser interpret these examples?\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eq=word1 word2 word3 -word4&amp;mm=100%\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eI agree with Ahmet that here both word1, word2 and word3 must be required since mm is explicitly specified. If mm is not specified, mm is set from defaultOperator, i.e. AND=&gt;100%, OR=&gt;0\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eq=word1 word2 word3 -word4%mm=50%\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eHere you\'d expect that two of of the three first words must match.\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eq=word1 OR word2 word3%mm=100%\\nExample after having indexed exampledocs:\\nhttp:\\/\\/localhost:8983\\/solr\\/browse?q=ipod%20OR%20samsung%20printer&amp;debugQuery=true&amp;mm=100%25\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eWith ipod OR samsung I get 5 hits. Adding the word \\\"printer\\\" yields 6 hits, i.e. it is OR\'ed too. Here I\'d expect the equivalent of (word1 OR word2) AND word3.\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eq=word1 AND word2 word3%mm=50%\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eWhat would you expect for this? Perhaps (word1 AND word2) to be treated as clause1 and word3 as clause2 and then apply mm=1?\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eq=word1 OR word2 word3 word4 word5%mm=50%\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eHow about this? Again, it would make sense to respect (word1 OR word2) as one clause and then require two clauses out of the resulting four.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"janhoy\\\" id=\\\"commentauthor_13199182_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"janhoy\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jan H\\u00F8ydahl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13199182_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Feb\\/12 20:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-02-02T20:23:08+0000\'\u003e02\\/Feb\\/12 20:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    So how should the parser interpret these examples? \\n\\n  \\n q=word1 word2 word3 -word4&amp;mm=100%\\n \\n  \\n I agree with Ahmet that here both word1, word2 and word3 must be required since mm is explicitly specified. If mm is not specified, mm is set from defaultOperator, i.e. AND=&gt;100%, OR=&gt;0 \\n\\n  \\n q=word1 word2 word3 -word4%mm=50%\\n \\n  \\n Here you\'d expect that two of of the three first words must match. \\n\\n  \\n q=word1 OR word2 word3%mm=100%\\nExample after having indexed exampledocs:\\nhttp:\\/\\/localhost:8983\\/solr\\/browse?q=ipod%20OR%20samsung%20printer&amp;debugQuery=true&amp;mm=100%25\\n \\n  \\n With ipod OR samsung I get 5 hits. Adding the word \\\"printer\\\" yields 6 hits, i.e. it is OR\'ed too. Here I\'d expect the equivalent of (word1 OR word2) AND word3. \\n\\n  \\n q=word1 AND word2 word3%mm=50%\\n \\n  \\n What would you expect for this? Perhaps (word1 AND word2) to be treated as clause1 and word3 as clause2 and then apply mm=1? \\n\\n  \\n q=word1 OR word2 word3 word4 word5%mm=50%\\n \\n  \\n How about this? Again, it would make sense to respect (word1 OR word2) as one clause and then require two clauses out of the resulting four.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13199194\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13199194&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13199194\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jdyer\\\" id=\\\"commentauthor_13199194_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jdyer\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jdyer\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Dyer\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13199194_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Feb\\/12 20:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-02-02T20:37:59+0000\'\u003e02\\/Feb\\/12 20:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMaybe a simple answer is to have it make \\\"mm\\\" apply to all optional terms and ignore the rest.  So for...\u003c\\/p\u003e\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eq=word1 AND word2 word3%mm=50%\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003e...\\\"word3\\\" is the only optional term, so mm=50% only applies to \\\"word3\\\".\u003c\\/p\u003e\\n\\n\u003cp\u003eAnd for...\u003c\\/p\u003e\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eq=word1 OR word2 word3 word4 word5%mm=50%\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003e...Everything here is optional, so \\\"mm\\\" applies to all the terms.  Otherwise, you\'d be in a situation where \\\"OR\\\" takes on a meaning that is different from \\\"optional\\\" and I\'m not sure you want to introduce a 4th concept here beyond what we already have: required\\/optional\\/prohibited.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe semantics of \\\"mm\\\" would then become \\\"the minimum of all optional terms that need to match\\\".\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jdyer\\\" id=\\\"commentauthor_13199194_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jdyer\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jdyer\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Dyer\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13199194_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Feb\\/12 20:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-02-02T20:37:59+0000\'\u003e02\\/Feb\\/12 20:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Maybe a simple answer is to have it make \\\"mm\\\" apply to all optional terms and ignore the rest.  So for... \\n  \\n q=word1 AND word2 word3%mm=50%\\n \\n  \\n ...\\\"word3\\\" is the only optional term, so mm=50% only applies to \\\"word3\\\". \\n\\n And for... \\n  \\n q=word1 OR word2 word3 word4 word5%mm=50%\\n \\n  \\n ...Everything here is optional, so \\\"mm\\\" applies to all the terms.  Otherwise, you\'d be in a situation where \\\"OR\\\" takes on a meaning that is different from \\\"optional\\\" and I\'m not sure you want to introduce a 4th concept here beyond what we already have: required\\/optional\\/prohibited. \\n\\n The semantics of \\\"mm\\\" would then become \\\"the minimum of all optional terms that need to match\\\".              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13199199\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13199199&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13199199\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mlissner\\\" id=\\\"commentauthor_13199199_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mlissner\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mlissner\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Lissner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13199199_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Feb\\/12 20:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-02-02T20:41:56+0000\'\u003e02\\/Feb\\/12 20:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThat makes sense to me and sounds like the simplest, most logical solution.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m mostly in favor of the easiest thing that will make default AND queries work properly as quickly as possible.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mlissner\\\" id=\\\"commentauthor_13199199_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mlissner\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mlissner\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Lissner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13199199_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Feb\\/12 20:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-02-02T20:41:56+0000\'\u003e02\\/Feb\\/12 20:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    That makes sense to me and sounds like the simplest, most logical solution. \\n\\n I\'m mostly in favor of the easiest thing that will make default AND queries work properly as quickly as possible.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13199259\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13199259&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13199259\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"janhoy\\\" id=\\\"commentauthor_13199259_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"janhoy\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jan H\\u00F8ydahl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13199259_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Feb\\/12 21:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-02-02T21:43:45+0000\'\u003e02\\/Feb\\/12 21:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYes I think the key here is what terms are part of some user imposed operator (forced MUST or MUST NOT) vs what terms are left dangling in the wild to be subject to mm. But what about this\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eq=word1 AND word2 (word3 OR word4) word5%mm=100%\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eShould this be interpreted as MUST have word1 AND word2 and set mm=3 for word3, word4, word5? Don\'t think so. An OR does not mean the same as a \\\"loose\\\" term. This would clearly (perhaps because of the parens) signal that word3 OR word4 should be treated as one unit, not requiring both of them?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"janhoy\\\" id=\\\"commentauthor_13199259_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"janhoy\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jan H\\u00F8ydahl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13199259_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Feb\\/12 21:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-02-02T21:43:45+0000\'\u003e02\\/Feb\\/12 21:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yes I think the key here is what terms are part of some user imposed operator (forced MUST or MUST NOT) vs what terms are left dangling in the wild to be subject to mm. But what about this \\n\\n  \\n q=word1 AND word2 (word3 OR word4) word5%mm=100%\\n \\n  \\n Should this be interpreted as MUST have word1 AND word2 and set mm=3 for word3, word4, word5? Don\'t think so. An OR does not mean the same as a \\\"loose\\\" term. This would clearly (perhaps because of the parens) signal that word3 OR word4 should be treated as one unit, not requiring both of them?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13199286\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13199286&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13199286\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jdyer\\\" id=\\\"commentauthor_13199286_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jdyer\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jdyer\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Dyer\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13199286_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Feb\\/12 22:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-02-02T22:21:19+0000\'\u003e02\\/Feb\\/12 22:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIt seems it would be simpler to implement and understand if we just counted up the optional words in the query and apply \\\"mm\\\" to those.  I suppose you could create a subtle rule that naked terms count for \\\"mm\\\" but OR-ed terms do not.  This might be functionality someone wants but then again it might confuse others who would expect \\\"x OR y\\\" to mean the same as \\\"x y\\\".  \u003c\\/p\u003e\\n\\n\u003cp\u003eCounting multiple terms as 1 because they are in parenthesis together doesn\'t seem like a good idea to me.  But then again, maybe someone out there would appreciate all the subtle things you could do with this?\u003c\\/p\u003e\\n\\n\u003cp\u003eI guess whatever is decided just needs to be well-documented so when\\/if someone is surprised by the functionality they can look it up and see what\'s going on.  Whatever is done, it will be a nice improvement over the current behavior.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jdyer\\\" id=\\\"commentauthor_13199286_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jdyer\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jdyer\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Dyer\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13199286_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Feb\\/12 22:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-02-02T22:21:19+0000\'\u003e02\\/Feb\\/12 22:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    It seems it would be simpler to implement and understand if we just counted up the optional words in the query and apply \\\"mm\\\" to those.  I suppose you could create a subtle rule that naked terms count for \\\"mm\\\" but OR-ed terms do not.  This might be functionality someone wants but then again it might confuse others who would expect \\\"x OR y\\\" to mean the same as \\\"x y\\\".   \\n\\n Counting multiple terms as 1 because they are in parenthesis together doesn\'t seem like a good idea to me.  But then again, maybe someone out there would appreciate all the subtle things you could do with this? \\n\\n I guess whatever is decided just needs to be well-documented so when\\/if someone is surprised by the functionality they can look it up and see what\'s going on.  Whatever is done, it will be a nice improvement over the current behavior.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13199400\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13199400&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13199400\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"janhoy\\\" id=\\\"commentauthor_13199400_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"janhoy\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jan H\\u00F8ydahl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13199400_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Feb\\/12 00:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-02-03T00:20:45+0000\'\u003e03\\/Feb\\/12 00:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWhen bringing up all these cases, we may perhaps understand the reason for the current behavior after all \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e However, it is flawed in assuming that schema\'s defaultOperator should be used instead of mm.\u003c\\/p\u003e\\n\\n\u003cp\u003eHere\'s a concrete suggestion for improvement\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eFor mm=0%, mm=100% or no mm specified: Disable mm as today, but induce defaultOperator from the mm value\u003c\\/li\u003e\\n\\t\u003cli\u003eFor all other values of mm, use James\' method of counting \\\"optional\\\" terms (including OR\'ed ones) and apply \\\"mm\\\" to those.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eThis would be a big step in right direction and probably fix most peoples needs\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"janhoy\\\" id=\\\"commentauthor_13199400_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"janhoy\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jan H\\u00F8ydahl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13199400_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Feb\\/12 00:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-02-03T00:20:45+0000\'\u003e03\\/Feb\\/12 00:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    When bringing up all these cases, we may perhaps understand the reason for the current behavior after all   However, it is flawed in assuming that schema\'s defaultOperator should be used instead of mm. \\n\\n Here\'s a concrete suggestion for improvement \\n\\n \\n\\t For mm=0%, mm=100% or no mm specified: Disable mm as today, but induce defaultOperator from the mm value \\n\\t For all other values of mm, use James\' method of counting \\\"optional\\\" terms (including OR\'ed ones) and apply \\\"mm\\\" to those. \\n \\n\\n\\n This would be a big step in right direction and probably fix most peoples needs              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13200102\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13200102&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13200102\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13200102_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13200102_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Feb\\/12 22:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-02-03T22:19:54+0000\'\u003e03\\/Feb\\/12 22:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eCounting multiple terms as 1 because they are in parenthesis together doesn\'t seem like a good idea to me.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eI disagree, but it definitely just seems like a matter of opinion &#8211; i don\'t know that we could ever come up with something that makes sense in all use cases\u003c\\/p\u003e\\n\\n\u003cp\u003epersonally i think the sanest change would be to say that \\\"mm\\\" applies to all top level SHOULD clauses in the query (regardless of wether they have an explicit OR or not) &#8211; exactly as it always has in dismax.  if a top level clause is a nested boolean queries, then \\\"mm\\\" shouldn\'t apply to those because it doesn\'t make sense to blur the \\\"count\\\" of how many SHOULD clauses there are at the various levels.\u003c\\/p\u003e\\n\\n\u003cp\u003ewould would mm=5 mean for a query like \\\"q=X AND Y (a b) (c d) (e f) (g h)\\\" if you looked at all the nested subqueries?  that only 5 of those 8 (lowercase) leaf level clauses are required?  how would that be implemented on the underlying BooleanQuery objects w\\/o completely flattening the query (which would break the intent of the user when they grouped them) ... it seems like mm=5 (or mm=100%) should mean 5 (or 100%) of the top level SHOULD clauses are required ... the default query op should determine how any top level clauses that are BooleanQueries are dealt with.\u003c\\/p\u003e\\n\\n\u003cp\u003e...but that\'s just my opinion.  \u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13200102_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13200102_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Feb\\/12 22:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-02-03T22:19:54+0000\'\u003e03\\/Feb\\/12 22:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Counting multiple terms as 1 because they are in parenthesis together doesn\'t seem like a good idea to me.  \\n\\n I disagree, but it definitely just seems like a matter of opinion &#8211; i don\'t know that we could ever come up with something that makes sense in all use cases \\n\\n personally i think the sanest change would be to say that \\\"mm\\\" applies to all top level SHOULD clauses in the query (regardless of wether they have an explicit OR or not) &#8211; exactly as it always has in dismax.  if a top level clause is a nested boolean queries, then \\\"mm\\\" shouldn\'t apply to those because it doesn\'t make sense to blur the \\\"count\\\" of how many SHOULD clauses there are at the various levels. \\n\\n would would mm=5 mean for a query like \\\"q=X AND Y (a b) (c d) (e f) (g h)\\\" if you looked at all the nested subqueries?  that only 5 of those 8 (lowercase) leaf level clauses are required?  how would that be implemented on the underlying BooleanQuery objects w\\/o completely flattening the query (which would break the intent of the user when they grouped them) ... it seems like mm=5 (or mm=100%) should mean 5 (or 100%) of the top level SHOULD clauses are required ... the default query op should determine how any top level clauses that are BooleanQueries are dealt with. \\n\\n ...but that\'s just my opinion.   \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13200476\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13200476&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13200476\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"brianwc\\\" id=\\\"commentauthor_13200476_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=brianwc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"brianwc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Brian Carver\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13200476_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Feb\\/12 16:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-02-04T16:51:59+0000\'\u003e04\\/Feb\\/12 16:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'m new to solr, so I have a tenuous grasp on some of these issues, but I\'ve understood boolean logic for a couple of decades and it seems to me like solr\'s current behavior is thwarting the expectations of those who understand what they want and explicitly ask for it. Mike\'s example above is what troubles me.\u003c\\/p\u003e\\n\\n\u003cp\u003ePrinciples:\u003cbr\\/\u003e\\n1. The maintainer sets whitespace to be interpreted as AND or OR and solr should do nothing to change that in particular instances.\u003cbr\\/\u003e\\n2. Where a user inputs an ambiguous query, a default rule about how operator scope will work is needed and that also should not be changed in particular instances.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo, Mike says he sets whitespace to AND, users know this, and then a user enters:\u003c\\/p\u003e\\n\\n\u003cp\u003eExample 1: (A or B or C) \\\"D E\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eGiven the above assumptions, the only reasonable interpretation of this is:\u003c\\/p\u003e\\n\\n\u003cp\u003e(A or B or C) AND \\\"D E\\\" which is a conjunction with two conjuncts, both of which must be satisfied for a result to be produced, yet Mike\\/the user gets results that only satisfy one of the conjuncts. That shouldn\'t happen.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'d agree though that how to understand\\/apply mm in some of the examples above creates hard questions, but that is why many search engines provide two interfaces, one \\\"natural language\\\" interface and one that requires strict use of boolean syntax. Allowing people to enter some boolean operators (which they\'re going to expect will be respected-no-matter-what) and simultaneously interpreting their query using mm handlers intended for a more rough-and-ready approach is just going to lead to confused end users most of the time. So, in some ways, ignoring mm when operators are used is a feature, not a bug, but that seems orthogonal to the completely unacceptable outcome Mike described: whatever is causing THAT, is a bug.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"brianwc\\\" id=\\\"commentauthor_13200476_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=brianwc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"brianwc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Brian Carver\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13200476_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Feb\\/12 16:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-02-04T16:51:59+0000\'\u003e04\\/Feb\\/12 16:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'m new to solr, so I have a tenuous grasp on some of these issues, but I\'ve understood boolean logic for a couple of decades and it seems to me like solr\'s current behavior is thwarting the expectations of those who understand what they want and explicitly ask for it. Mike\'s example above is what troubles me. \\n\\n Principles: \\n1. The maintainer sets whitespace to be interpreted as AND or OR and solr should do nothing to change that in particular instances. \\n2. Where a user inputs an ambiguous query, a default rule about how operator scope will work is needed and that also should not be changed in particular instances. \\n\\n So, Mike says he sets whitespace to AND, users know this, and then a user enters: \\n\\n Example 1: (A or B or C) \\\"D E\\\" \\n\\n Given the above assumptions, the only reasonable interpretation of this is: \\n\\n (A or B or C) AND \\\"D E\\\" which is a conjunction with two conjuncts, both of which must be satisfied for a result to be produced, yet Mike\\/the user gets results that only satisfy one of the conjuncts. That shouldn\'t happen. \\n\\n I\'d agree though that how to understand\\/apply mm in some of the examples above creates hard questions, but that is why many search engines provide two interfaces, one \\\"natural language\\\" interface and one that requires strict use of boolean syntax. Allowing people to enter some boolean operators (which they\'re going to expect will be respected-no-matter-what) and simultaneously interpreting their query using mm handlers intended for a more rough-and-ready approach is just going to lead to confused end users most of the time. So, in some ways, ignoring mm when operators are used is a feature, not a bug, but that seems orthogonal to the completely unacceptable outcome Mike described: whatever is causing THAT, is a bug.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13256074\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13256074&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13256074\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nhooey\\\" id=\\\"commentauthor_13256074_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nhooey\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nhooey\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Neil Hooey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13256074_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Apr\\/12 23:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-04-17T23:51:10+0000\'\u003e17\\/Apr\\/12 23:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI agree with Hoss\' view that mm should apply to all \u003cem\u003etop-level\u003c\\/em\u003e \u003ctt\u003eSHOULD\u003c\\/tt\u003e clauses in the query, especially since that\'s how it works in dismax.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe \u003ctt\u003eq.op\u003c\\/tt\u003e and\\/or \u003ctt\u003e&lt;defaultOperator&gt;\u003c\\/tt\u003e should definitely not get overridden when mm is at least not specified.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn our situation we currently have to add an \u003ctt\u003eAND\u003c\\/tt\u003e operator to fix queries that have a \u003ctt\u003eNOT\u003c\\/tt\u003e or \u003ctt\u003e-\u003c\\/tt\u003e operator in them.\u003c\\/p\u003e\\n\\n\u003cp\u003eDoes anyone have a patch to fix this behaviour?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"nhooey\\\" id=\\\"commentauthor_13256074_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=nhooey\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"nhooey\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Neil Hooey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13256074_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Apr\\/12 23:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-04-17T23:51:10+0000\'\u003e17\\/Apr\\/12 23:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I agree with Hoss\' view that mm should apply to all  top-level   SHOULD  clauses in the query, especially since that\'s how it works in dismax. \\n\\n The  q.op  and\\/or  &lt;defaultOperator&gt;  should definitely not get overridden when mm is at least not specified. \\n\\n In our situation we currently have to add an  AND  operator to fix queries that have a  NOT  or  -  operator in them. \\n\\n Does anyone have a patch to fix this behaviour?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13263893\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13263893&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13263893\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mlissner\\\" id=\\\"commentauthor_13263893_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mlissner\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mlissner\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Lissner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13263893_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Apr\\/12 19:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-04-27T19:07:52+0000\'\u003e27\\/Apr\\/12 19:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIt seems like we have a general consensus here, but I want to confirm my understanding of a few queries:\u003c\\/p\u003e\\n\\n\u003cp\u003eWith default operator set to AND, and with no mm param:\u003cbr\\/\u003e\\n[ a b (c OR d) ] gets interpreted as [ a AND b AND (c OR d) ]\u003c\\/p\u003e\\n\\n\u003cp\u003e[ a -b (c OR d) ] gets interpreted as [ a NOT b AND (c OR d) ] \u003c\\/p\u003e\\n\\n\u003cp\u003eSo basically, the trend here is that wherever the user leaves out an operator, AND is introduced, as Neil seems to be doing. This is really the only way I would expect defaultOperator to work, and I know my users think this way as well.\u003c\\/p\u003e\\n\\n\u003cp\u003eIf that\'s the consensus, then it would be great to push this forward (not sure I can help with that though).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mlissner\\\" id=\\\"commentauthor_13263893_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mlissner\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mlissner\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Lissner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13263893_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Apr\\/12 19:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-04-27T19:07:52+0000\'\u003e27\\/Apr\\/12 19:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    It seems like we have a general consensus here, but I want to confirm my understanding of a few queries: \\n\\n With default operator set to AND, and with no mm param: \\n[ a b (c OR d) ] gets interpreted as [ a AND b AND (c OR d) ] \\n\\n [ a -b (c OR d) ] gets interpreted as [ a NOT b AND (c OR d) ]  \\n\\n So basically, the trend here is that wherever the user leaves out an operator, AND is introduced, as Neil seems to be doing. This is really the only way I would expect defaultOperator to work, and I know my users think this way as well. \\n\\n If that\'s the consensus, then it would be great to push this forward (not sure I can help with that though).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13264921\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13264921&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13264921\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ldb\\\" id=\\\"commentauthor_13264921_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ldb\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ldb\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Vadim Kisselmann\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13264921_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Apr\\/12 13:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-04-30T13:15:25+0000\'\u003e30\\/Apr\\/12 13:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSame Problem here:\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/www.mail-archive.com\\/solr-user@lucene.apache.org\\/msg65463.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/www.mail-archive.com\\/solr-user@lucene.apache.org\\/msg65463.html\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eIn my case, with mm=100% and defaultOperator=AND i get different results with:\u003cbr\\/\u003e\\nnascar AND author:serg* \u003cbr\\/\u003e\\nand\u003cbr\\/\u003e\\nnascar +author:serg* (with debugQuery i can see, that nascar is an SHOULD MATCH, but it should be an MUST MATCH with mm=100%)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ldb\\\" id=\\\"commentauthor_13264921_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ldb\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ldb\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Vadim Kisselmann\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13264921_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Apr\\/12 13:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-04-30T13:15:25+0000\'\u003e30\\/Apr\\/12 13:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Same Problem here: \\n http:\\/\\/www.mail-archive.com\\/solr-user@lucene.apache.org\\/msg65463.html  \\n\\n In my case, with mm=100% and defaultOperator=AND i get different results with: \\nnascar AND author:serg*  \\nand \\nnascar +author:serg* (with debugQuery i can see, that nascar is an SHOULD MATCH, but it should be an MUST MATCH with mm=100%)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13412228\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13412228&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13412228\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13412228_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13412228_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jul\\/12 22:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-11T22:26:27+0000\'\u003e11\\/Jul\\/12 22:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ebulk fixing the version info for 4.0-ALPHA and 4.0 all affected issues have \\\"hoss20120711-bulk-40-change\\\" in comment\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13412228_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13412228_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jul\\/12 22:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-11T22:26:27+0000\'\u003e11\\/Jul\\/12 22:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    bulk fixing the version info for 4.0-ALPHA and 4.0 all affected issues have \\\"hoss20120711-bulk-40-change\\\" in comment              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13429828\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13429828&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13429828\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rcmuir\\\" id=\\\"commentauthor_13429828_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rcmuir\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rcmuir\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Robert Muir\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13429828_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/12 03:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-08-07T03:43:24+0000\'\u003e07\\/Aug\\/12 03:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ermuir20120906-bulk-40-change\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rcmuir\\\" id=\\\"commentauthor_13429828_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rcmuir\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rcmuir\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Robert Muir\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13429828_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/12 03:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-08-07T03:43:24+0000\'\u003e07\\/Aug\\/12 03:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    rmuir20120906-bulk-40-change              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13436088\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13436088&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13436088\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jkrupan\\\" id=\\\"commentauthor_13436088_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jkrupan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jkrupan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jack Krupansky\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13436088_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Aug\\/12 16:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-08-16T16:47:41+0000\'\u003e16\\/Aug\\/12 16:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI just ran a test with 4.0-BETA and it turns out that overriding the default operator (using the \\\"q.op\\\" parameter) is also ignored when any operator is present, for the exact same reason that \\\"mm\\\" is ignored - since edismax implements q.op using minMatch, which is disabled by the presence of an operator. As commented above, that aspect of the problem has been around for a year now. Wow.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m leaning towards relaxing the \\\"mm\\\" rules so that minMatch will occur regardless of whether operators are present. But, I think the default for \\\"mm\\\" should be \\\"0%\\\", rather than based on \\\"q.op\\\" as is done today.\u003c\\/p\u003e\\n\\n\u003cp\u003eI suspect that the restriction on use of minMatch may have been a side effect of having \\\"mm\\\" default based on \\\"q.op\\\". For example, if the user query is \\\"x y +z\\\", they are explicitly detailing which terms should be ANDed, so it wouldn\'t make sense in that case to apply q.op to x and y, but it still makes sense to apply minMatch to all optional terms. But if no operators are present, THEN you want q.op to apply to each term, and minMatch as well.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn short, q.op should only apply when no operators are present, but minMatch should apply when either q.op=OR or there are optional terms present.\u003c\\/p\u003e\\n\\n\u003cp\u003eI still need to think about the interaction between edismax and the Lucene query parser, especially for nested queries, such as (a b c) AND (d e +f)&amp;q.op=AND. Currently, the minMatch processing in edismax is limited to the top-level BooleanQuery, not any nested queries.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jkrupan\\\" id=\\\"commentauthor_13436088_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jkrupan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jkrupan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jack Krupansky\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13436088_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Aug\\/12 16:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-08-16T16:47:41+0000\'\u003e16\\/Aug\\/12 16:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I just ran a test with 4.0-BETA and it turns out that overriding the default operator (using the \\\"q.op\\\" parameter) is also ignored when any operator is present, for the exact same reason that \\\"mm\\\" is ignored - since edismax implements q.op using minMatch, which is disabled by the presence of an operator. As commented above, that aspect of the problem has been around for a year now. Wow. \\n\\n I\'m leaning towards relaxing the \\\"mm\\\" rules so that minMatch will occur regardless of whether operators are present. But, I think the default for \\\"mm\\\" should be \\\"0%\\\", rather than based on \\\"q.op\\\" as is done today. \\n\\n I suspect that the restriction on use of minMatch may have been a side effect of having \\\"mm\\\" default based on \\\"q.op\\\". For example, if the user query is \\\"x y +z\\\", they are explicitly detailing which terms should be ANDed, so it wouldn\'t make sense in that case to apply q.op to x and y, but it still makes sense to apply minMatch to all optional terms. But if no operators are present, THEN you want q.op to apply to each term, and minMatch as well. \\n\\n In short, q.op should only apply when no operators are present, but minMatch should apply when either q.op=OR or there are optional terms present. \\n\\n I still need to think about the interaction between edismax and the Lucene query parser, especially for nested queries, such as (a b c) AND (d e +f)&amp;q.op=AND. Currently, the minMatch processing in edismax is limited to the top-level BooleanQuery, not any nested queries.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13448742\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13448742&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13448742\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jefreier\\\" id=\\\"commentauthor_13448742_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jefreier\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jefreier\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e John Freier\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13448742_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Sep\\/12 13:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-05T13:57:05+0000\'\u003e05\\/Sep\\/12 13:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHey folks. I ran across this issue after noticing thousands of odd seeming result sets with good ol\' v3.4. I don\'t know all of the deeper implications, but I think Jack\'s summary and a couple others\' comments would make the most sense and are already what seem to be described in the current documentation which states that the boolean operators in front of of various terms or phrases define them to be specifically included or excluded, while the others are classified as \'optional\'. Then, in the documentation on minimum match, it states that it is based the percentages etc off of the \\\"optional\\\" terms, so I would expect the boolean-specified ones not to be considered and for the mm to just be based off of whatever optionals there are. \u003c\\/p\u003e\\n\\n\u003cp\u003eI saw this was a recent discussion so thought I\'d chip in but sorry if you\'ve already come to this conclusion and\\/or implemented it. Is this how the 4.0 Alpha is patched now or could anyone point me to any sort of temporary solution to achieve this functionality? Thanks for your great work. - John\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jefreier\\\" id=\\\"commentauthor_13448742_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jefreier\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jefreier\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e John Freier\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13448742_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Sep\\/12 13:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-05T13:57:05+0000\'\u003e05\\/Sep\\/12 13:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hey folks. I ran across this issue after noticing thousands of odd seeming result sets with good ol\' v3.4. I don\'t know all of the deeper implications, but I think Jack\'s summary and a couple others\' comments would make the most sense and are already what seem to be described in the current documentation which states that the boolean operators in front of of various terms or phrases define them to be specifically included or excluded, while the others are classified as \'optional\'. Then, in the documentation on minimum match, it states that it is based the percentages etc off of the \\\"optional\\\" terms, so I would expect the boolean-specified ones not to be considered and for the mm to just be based off of whatever optionals there are.  \\n\\n I saw this was a recent discussion so thought I\'d chip in but sorry if you\'ve already come to this conclusion and\\/or implemented it. Is this how the 4.0 Alpha is patched now or could anyone point me to any sort of temporary solution to achieve this functionality? Thanks for your great work. - John              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13456396\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13456396&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13456396\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rcmuir\\\" id=\\\"commentauthor_13456396_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rcmuir\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rcmuir\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Robert Muir\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13456396_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Sep\\/12 12:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-15T12:49:26+0000\'\u003e15\\/Sep\\/12 12:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUnassigned issues -&gt; 4.1\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rcmuir\\\" id=\\\"commentauthor_13456396_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rcmuir\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rcmuir\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Robert Muir\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13456396_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Sep\\/12 12:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-15T12:49:26+0000\'\u003e15\\/Sep\\/12 12:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Unassigned issues -&gt; 4.1              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13554489\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13554489&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13554489\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"elyograg\\\" id=\\\"commentauthor_13554489_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=elyograg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"elyograg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shawn Heisey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13554489_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jan\\/13 23:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-15T23:02:00+0000\'\u003e15\\/Jan\\/13 23:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eJust ran into this (or something like it) on both my production 3.5 and dev 4.1 servers.\u003c\\/p\u003e\\n\\n\u003cp\u003eWhat I see happening with edismax queries that contain operators is this: Both mm (100%) and q.op (AND) are ignored so that it acts as if q.op were OR.  Instead of 8k results, there are over 300k.  With a sort parameter, most of the results actually seen are invalid.  Here is an actual query from my log:\u003c\\/p\u003e\\n\\n\u003cp\u003e(  (young man close up NOT woman NOT couple))\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"elyograg\\\" id=\\\"commentauthor_13554489_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=elyograg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"elyograg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shawn Heisey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13554489_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jan\\/13 23:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-15T23:02:00+0000\'\u003e15\\/Jan\\/13 23:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Just ran into this (or something like it) on both my production 3.5 and dev 4.1 servers. \\n\\n What I see happening with edismax queries that contain operators is this: Both mm (100%) and q.op (AND) are ignored so that it acts as if q.op were OR.  Instead of 8k results, there are over 300k.  With a sort parameter, most of the results actually seen are invalid.  Here is an actual query from my log: \\n\\n (  (young man close up NOT woman NOT couple))              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13554524\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13554524&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13554524\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"elyograg\\\" id=\\\"commentauthor_13554524_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=elyograg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"elyograg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shawn Heisey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13554524_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jan\\/13 23:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-15T23:39:25+0000\'\u003e15\\/Jan\\/13 23:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe 3.5 schema also contains this: &lt;solrQueryParser defaultOperator=\\\"AND\\\"\\/&gt;\u003c\\/p\u003e\\n\\n\u003cp\u003eThat has been removed from the 4.1 schema, q.op in solrconfig.xml is used instead.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"elyograg\\\" id=\\\"commentauthor_13554524_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=elyograg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"elyograg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shawn Heisey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13554524_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jan\\/13 23:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-15T23:39:25+0000\'\u003e15\\/Jan\\/13 23:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The 3.5 schema also contains this: &lt;solrQueryParser defaultOperator=\\\"AND\\\"\\/&gt; \\n\\n That has been removed from the 4.1 schema, q.op in solrconfig.xml is used instead.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13555085\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13555085&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13555085\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"elyograg\\\" id=\\\"commentauthor_13555085_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=elyograg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"elyograg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shawn Heisey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13555085_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/13 14:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-16T14:45:37+0000\'\u003e16\\/Jan\\/13 14:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eThank you! We have been waiting a long time for this fix.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eI\'m a little confused here.  Were you talking to me?  I don\'t have a fix, I was just saying that I\'m having the same problem, and that my problem is not exactly like the initial description.  The initial description says that when boolean operators are present, edismax behaves as if mm=100%.  I\'m seeing the opposite.\u003c\\/p\u003e\\n\\n\u003cp\u003eTo summarize: When boolean operators are present in the query, two versions of Solr are behaving as if I did not have mm=100%, q.op=AND, or defaultOperator=AND in the schema.  Both versions behave as if the default operator is OR.  For 3.5, I have tried all three of those options simultaneously.  For 4.1, I have tried just the first two, because defaultOperator is deprecated.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"elyograg\\\" id=\\\"commentauthor_13555085_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=elyograg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"elyograg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shawn Heisey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13555085_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/13 14:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-01-16T14:45:37+0000\'\u003e16\\/Jan\\/13 14:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Thank you! We have been waiting a long time for this fix.  \\n\\n I\'m a little confused here.  Were you talking to me?  I don\'t have a fix, I was just saying that I\'m having the same problem, and that my problem is not exactly like the initial description.  The initial description says that when boolean operators are present, edismax behaves as if mm=100%.  I\'m seeing the opposite. \\n\\n To summarize: When boolean operators are present in the query, two versions of Solr are behaving as if I did not have mm=100%, q.op=AND, or defaultOperator=AND in the schema.  Both versions behave as if the default operator is OR.  For 3.5, I have tried all three of those options simultaneously.  For 4.1, I have tried just the first two, because defaultOperator is deprecated.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13587741\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13587741&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13587741\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"janhoy\\\" id=\\\"commentauthor_13587741_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"janhoy\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jan H\\u00F8ydahl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13587741_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Feb\\/13 23:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-02-26T23:39:46+0000\'\u003e26\\/Feb\\/13 23:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSo, are we ready to agree on wanted behavior and start coding?\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ll try to formulate a suggestion:\u003c\\/p\u003e\\n\\n\u003cp\u003ePresence of explicit operators in the query should \u003cb\u003enot\u003c\\/b\u003e totally disregard mm\\/q.op.\u003cbr\\/\u003e\\nFor the pure 0%\\/q.op=OR case, mm will be 0 and work correctly - as today\u003cbr\\/\u003e\\nFor the pure 100%\\/q.op=AND case, mm will be set to # top-level SHOULD clauses and work as expected.\u003cbr\\/\u003e\\nFor the mm=1..n\\/mm=1%..99% case, mm will be calculated based on # top-level SHOULD clauses and work as expected.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"janhoy\\\" id=\\\"commentauthor_13587741_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"janhoy\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jan H\\u00F8ydahl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13587741_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Feb\\/13 23:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-02-26T23:39:46+0000\'\u003e26\\/Feb\\/13 23:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    So, are we ready to agree on wanted behavior and start coding? \\n\\n I\'ll try to formulate a suggestion: \\n\\n Presence of explicit operators in the query should  not  totally disregard mm\\/q.op. \\nFor the pure 0%\\/q.op=OR case, mm will be 0 and work correctly - as today \\nFor the pure 100%\\/q.op=AND case, mm will be set to # top-level SHOULD clauses and work as expected. \\nFor the mm=1..n\\/mm=1%..99% case, mm will be calculated based on # top-level SHOULD clauses and work as expected.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13656449\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13656449&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13656449\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"elyograg\\\" id=\\\"commentauthor_13656449_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=elyograg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"elyograg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shawn Heisey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13656449_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/May\\/13 22:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-05-13T22:16:26+0000\'\u003e13\\/May\\/13 22:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\" class=\\\"user-hover\\\" rel=\\\"janhoy\\\"\u003eJan H\\u00F8ydahl\u003c\\/a\u003e I like your suggestion.  I would want to be sure that if I specify mm (either in the request handler defaults or in my query params), it will ignore q.op and use the value specified.  As for coding, I think I\'ll be useless in this area, though I\'m interested in taking a look if anyone can point me at specific class names.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"elyograg\\\" id=\\\"commentauthor_13656449_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=elyograg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"elyograg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shawn Heisey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13656449_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/May\\/13 22:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-05-13T22:16:26+0000\'\u003e13\\/May\\/13 22:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Jan H\\u00F8ydahl  I like your suggestion.  I would want to be sure that if I specify mm (either in the request handler defaults or in my query params), it will ignore q.op and use the value specified.  As for coding, I think I\'ll be useless in this area, though I\'m interested in taking a look if anyone can point me at specific class names.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13662455\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13662455&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13662455\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ndushay\\\" id=\\\"commentauthor_13662455_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ndushay\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ndushay\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Naomi Dushay\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13662455_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/May\\/13 23:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-05-20T23:27:16+0000\'\u003e20\\/May\\/13 23:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Naomi Dushay - 20\\/May\\/13 23:41\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOur dismax mm setting is 6&lt;-1 6&lt;90%.\u003c\\/p\u003e\\n\\n\u003cp\u003eI would like our mm to be honored for the top-level SHOULD clauses.  Oh please, oh please?\u003c\\/p\u003e\\n\\n\u003cp\u003eEDISMAX\u003c\\/p\u003e\\n\\n\u003cp\u003eq=customer driven academic library:\u003cbr\\/\u003e\\n      +(((custom)~0.01 (driven)~0.01 (academ)~0.01 (librari)~0.01)~4)\\t4 hits\u003c\\/p\u003e\\n\\n\u003cp\u003ecustomer NOT driven academic library:\u003cbr\\/\u003e\\n      +((custom)~0.01 -(driven)~0.01 (academ)~0.01 (librari)~0.01)\\t984300 hits  &lt;= INSANE\u003c\\/p\u003e\\n\\n\u003cp\u003ecustomer -driven academic library:\u003cbr\\/\u003e\\n      +((custom)~0.01 -(driven)~0.01 (academ)~0.01 (librari)~0.01)\\t984300 hits  &lt;= INSANE\u003c\\/p\u003e\\n\\n\u003cp\u003ecustomer OR academic OR library NOT driven:\u003cbr\\/\u003e\\n      +((custom)~0.01 (academ)~0.01 (librari)~0.01 -(driven)~0.01)\\t984300 hits\u003c\\/p\u003e\\n\\n\u003cp\u003ecustomer academic library:\u003cbr\\/\u003e\\n      +(((custom)~0.01 (academ)~0.01 (librari)~0.01)~3)\\t\\t\\t100 hits\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eDISMAX  (plausible results!):\u003c\\/p\u003e\\n\\n\u003cp\u003ecustomer driven academic library:\u003cbr\\/\u003e\\n      +(((custom)~0.01 (driven)~0.01 (academ)~0.01 (librari)~0.01)~4) ()\\t4 hits\u003c\\/p\u003e\\n\\n\u003cp\u003ecustomer NOT driven academic library:\u003cbr\\/\u003e\\n      +(((custom)~0.01 -(driven)~0.01 (academ)~0.01 (librari)~0.01)~3) ()\\t96 hits\u003c\\/p\u003e\\n\\n\u003cp\u003ecustomer -driven academic library:\u003cbr\\/\u003e\\n      +(((custom)~0.01 -(driven)~0.01 (academ)~0.01 (librari)~0.01)~3) ()\\t96 hits\u003c\\/p\u003e\\n\\n\u003cp\u003ecustomer academic library:\u003cbr\\/\u003e\\n      +(((custom)~0.01 (academ)~0.01 (librari)~0.01)~3)()\\t\\t\\t100 hits\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ndushay\\\" id=\\\"commentauthor_13662455_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ndushay\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ndushay\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Naomi Dushay\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13662455_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/May\\/13 23:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-05-20T23:27:16+0000\'\u003e20\\/May\\/13 23:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Naomi Dushay - 20\\/May\\/13 23:41\\\"\u003eedited\u003c\\/span\u003e                   Our dismax mm setting is 6&lt;-1 6&lt;90%. \\n\\n I would like our mm to be honored for the top-level SHOULD clauses.  Oh please, oh please? \\n\\n EDISMAX \\n\\n q=customer driven academic library: \\n      +(((custom)~0.01 (driven)~0.01 (academ)~0.01 (librari)~0.01)~4)\\t4 hits \\n\\n customer NOT driven academic library: \\n      +((custom)~0.01 -(driven)~0.01 (academ)~0.01 (librari)~0.01)\\t984300 hits  &lt;= INSANE \\n\\n customer -driven academic library: \\n      +((custom)~0.01 -(driven)~0.01 (academ)~0.01 (librari)~0.01)\\t984300 hits  &lt;= INSANE \\n\\n customer OR academic OR library NOT driven: \\n      +((custom)~0.01 (academ)~0.01 (librari)~0.01 -(driven)~0.01)\\t984300 hits \\n\\n customer academic library: \\n      +(((custom)~0.01 (academ)~0.01 (librari)~0.01)~3)\\t\\t\\t100 hits \\n\\n\\n DISMAX  (plausible results!): \\n\\n customer driven academic library: \\n      +(((custom)~0.01 (driven)~0.01 (academ)~0.01 (librari)~0.01)~4) ()\\t4 hits \\n\\n customer NOT driven academic library: \\n      +(((custom)~0.01 -(driven)~0.01 (academ)~0.01 (librari)~0.01)~3) ()\\t96 hits \\n\\n customer -driven academic library: \\n      +(((custom)~0.01 -(driven)~0.01 (academ)~0.01 (librari)~0.01)~3) ()\\t96 hits \\n\\n customer academic library: \\n      +(((custom)~0.01 (academ)~0.01 (librari)~0.01)~3)()\\t\\t\\t100 hits \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13717373\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13717373&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13717373\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13717373_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13717373_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jul\\/13 18:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-07-23T18:48:01+0000\'\u003e23\\/Jul\\/13 18:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBulk move 4.4 issues to 4.5 and 5.0\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13717373_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13717373_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jul\\/13 18:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-07-23T18:48:01+0000\'\u003e23\\/Jul\\/13 18:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Bulk move 4.4 issues to 4.5 and 5.0              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13822482\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13822482&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13822482\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"agh\\\" id=\\\"commentauthor_13822482_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=agh\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"agh\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anca Kopetz\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13822482_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Nov\\/13 14:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-11-14T14:35:30+0000\'\u003e14\\/Nov\\/13 14:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Anca Kopetz - 21\\/Nov\\/13 16:10\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWe need to apply Min should match for edismax query strings with operators (AND,OR) and mm parameter.\u003c\\/p\u003e\\n\\n\u003cp\u003eFor example, when the below query was parsed, the mm was not applied\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e&amp;q=(((termA AND termB) OR specialTerm) (termC AND termD) (termE))&amp;mm=2&amp;defType=edismax&amp;qf=title\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eTherefore we developed our custom query parser.\u003cbr\\/\u003e\\nThe code is below, maybe it is useful for somebody who has the same requirements.\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeHeader panelHeader\\\" style=\\\"border-bottom-width: 1px;\\\"\u003e\u003cb\u003eCustomExtendedDismaxQParser.java\u003c\\/b\u003e\u003c\\/div\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003eclass \u003c\\/span\u003eCustomExtendedDismaxQParser \u003cspan class=\\\"code-keyword\\\"\u003eextends\u003c\\/span\u003e ExtendedDismaxQParser {\\n   \u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e CustomExtendedDismaxQParser(\u003cspan class=\\\"code-object\\\"\u003eString\u003c\\/span\u003e qstr, SolrParams localParams, SolrParams params, SolrQueryRequest req) {\\n      \u003cspan class=\\\"code-keyword\\\"\u003esuper\u003c\\/span\u003e(qstr, localParams, params, req);\\n   }\\n\\n   @Override\\n   \u003cspan class=\\\"code-keyword\\\"\u003eprotected\u003c\\/span\u003e Query parseOriginalQuery(ExtendedSolrQueryParser up, \u003cspan class=\\\"code-object\\\"\u003eString\u003c\\/span\u003e mainUserQuery, List&lt;Clause&gt; clauses, ExtendedDismaxConfiguration config) {\\n      Query query = \u003cspan class=\\\"code-keyword\\\"\u003esuper\u003c\\/span\u003e.parseOriginalQuery(up, mainUserQuery, clauses, config);\\n      \u003cspan class=\\\"code-object\\\"\u003eString\u003c\\/span\u003e mmValue = \u003cspan class=\\\"code-keyword\\\"\u003ethis\u003c\\/span\u003e.params.get(DisMaxParams.MM);\\n      \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e(!Strings.isNullOrEmpty(mmValue)) {\\n         \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (query \u003cspan class=\\\"code-keyword\\\"\u003einstanceof\u003c\\/span\u003e BooleanQuery) {\\n            SolrPluginUtils.setMinShouldMatch((BooleanQuery)query, mmValue);\\n         }\\n      }\\n      \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e query;\\n   }\\n}\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeHeader panelHeader\\\" style=\\\"border-bottom-width: 1px;\\\"\u003e\u003cb\u003esolrconfig.xml\u003c\\/b\u003e\u003c\\/div\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e&lt;queryParser name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"customEdismax\\\"\u003c\\/span\u003e class=\u003cspan class=\\\"code-quote\\\"\u003e\\\"com.kelkoo.search.solr.plugins.CustomExtendedDismaxQParserPlugin\\\"\u003c\\/span\u003e\\/&gt;\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eThen we set defType=customEdismax in the query parameters.\u003c\\/p\u003e\\n\\n\u003cp\u003eWith these configuration, mm is applied on top-level clauses. In our example, there are 3 top-level SHOULD clauses : \u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e ((termA AND termB) OR specialTerm), (termC AND termD), (termE)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eAnd the parsed query is : \u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e+((\\n    ((+(title:termA) +(title:termB)) (title:specialTerm)) \\n    (+(title:termC) +(title:termD)) \\n    (title:termE)\\n  )~2) \\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"agh\\\" id=\\\"commentauthor_13822482_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=agh\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"agh\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anca Kopetz\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13822482_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Nov\\/13 14:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-11-14T14:35:30+0000\'\u003e14\\/Nov\\/13 14:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Anca Kopetz - 21\\/Nov\\/13 16:10\\\"\u003eedited\u003c\\/span\u003e                   We need to apply Min should match for edismax query strings with operators (AND,OR) and mm parameter. \\n\\n For example, when the below query was parsed, the mm was not applied \\n  \\n &amp;q=(((termA AND termB) OR specialTerm) (termC AND termD) (termE))&amp;mm=2&amp;defType=edismax&amp;qf=title\\n \\n  \\n\\n Therefore we developed our custom query parser. \\nThe code is below, maybe it is useful for somebody who has the same requirements. \\n   CustomExtendedDismaxQParser.java   \\n  public   class  CustomExtendedDismaxQParser  extends  ExtendedDismaxQParser {\\n    public  CustomExtendedDismaxQParser( String  qstr, SolrParams localParams, SolrParams params, SolrQueryRequest req) {\\n       super (qstr, localParams, params, req);\\n   }\\n\\n   @Override\\n    protected  Query parseOriginalQuery(ExtendedSolrQueryParser up,  String  mainUserQuery, List&lt;Clause&gt; clauses, ExtendedDismaxConfiguration config) {\\n      Query query =  super .parseOriginalQuery(up, mainUserQuery, clauses, config);\\n       String  mmValue =  this .params.get(DisMaxParams.MM);\\n       if (!Strings.isNullOrEmpty(mmValue)) {\\n          if  (query  instanceof  BooleanQuery) {\\n            SolrPluginUtils.setMinShouldMatch((BooleanQuery)query, mmValue);\\n         }\\n      }\\n       return  query;\\n   }\\n}\\n \\n  \\n\\n   solrconfig.xml   \\n &lt;queryParser name= \\\"customEdismax\\\"  class= \\\"com.kelkoo.search.solr.plugins.CustomExtendedDismaxQParserPlugin\\\" \\/&gt;\\n \\n  \\n\\n Then we set defType=customEdismax in the query parameters. \\n\\n With these configuration, mm is applied on top-level clauses. In our example, there are 3 top-level SHOULD clauses :  \\n  \\n  ((termA AND termB) OR specialTerm), (termC AND termD), (termE)\\n \\n  \\n And the parsed query is :  \\n  \\n +((\\n    ((+(title:termA) +(title:termB)) (title:specialTerm)) \\n    (+(title:termC) +(title:termD)) \\n    (title:termE)\\n  )~2) \\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13829709\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13829709&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13829709\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rdavies\\\" id=\\\"commentauthor_13829709_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rdavies\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rdavies\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ron Davies\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13829709_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Nov\\/13 06:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-11-22T06:38:35+0000\'\u003e22\\/Nov\\/13 06:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rdavies\\\" id=\\\"commentauthor_13829709_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rdavies\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rdavies\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ron Davies\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13829709_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Nov\\/13 06:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-11-22T06:38:35+0000\'\u003e22\\/Nov\\/13 06:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                   \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13869267\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13869267&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13869267\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"abuchanan\\\" id=\\\"commentauthor_13869267_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=abuchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"abuchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andrew Buchanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13869267_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jan\\/14 03:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-13T03:32:48+0000\'\u003e13\\/Jan\\/14 03:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'m taking a look at fixing this one.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ve tracked this all the way through the code history and back through the old solr repository. It looks like it was originally submitted this way by Yonik Seeley as \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-1553\\\" title=\\\"extended dismax query parser\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-1553\\\"\u003e\u003cdel\u003eSOLR-1553\u003c\\/del\u003e\u003c\\/a\u003e. Any previous history that might explain the reasoning would presumably be in Lucid Imaginations source control system (which I don\'t have access to). The DisMax parser on which it was based simply used the MM values as passed in, as has been previously noted.\u003c\\/p\u003e\\n\\n\u003cp\u003eHoss Man refers to this behavior as a bug at \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-1553?focusedCommentId=12871244&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12871244\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-1553?focusedCommentId=12871244&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12871244\u003c\\/a\u003e on the original \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-1553\\\" title=\\\"extended dismax query parser\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-1553\\\"\u003e\u003cdel\u003eSOLR-1553\u003c\\/del\u003e\u003c\\/a\u003e.\u003c\\/p\u003e\\n\\n\u003cp\u003eIf you force doMinMatched = true to disable this logic in ExtendedDismaxQParser, everything seems to work as expected above with the exception of one test case that fails (TestExtendedDismaxParser.testCJKStructured). This test case was added as part of r1406437 by Robert Muir for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3589\\\" title=\\\"Edismax parser does not honor mm parameter if analyzer splits a token\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3589\\\"\u003e\u003cdel\u003eSOLR-3589\u003c\\/del\u003e\u003c\\/a\u003e - Edismax parser does not honor mm parameter if analyzer splits a token.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe last query in that test case is \\\"\\u5927\\u4E9A\\u6E7E OR bogus\\\" with mm=100% which the test is expecting to evaluate to \\\"\u003cins\u003e((((standardtok:\\u5927 standardtok:\\u4E9A standardtok:\\u6E7E)~3)) (standardtok:bogus))\\\". The comment for the test from Robert Muir indicates that it should \\\"always apply minShouldMatch to the inner booleanqueries created from whitespace, as these are never structured lucene queries but only come from unstructured text\\\". Looking at that query though, it seems to me that it should instead evaluate to \\\"\u003c\\/ins\u003e(((((standardtok:\\u5927 standardtok:\\u4E9A standardtok:\\u6E7E)~3)) (standardtok:bogus))~2)\\\", essentially applying the MM to the top level clauses. I\'m certainly not a CJK language expert though, so there may be a subtlety here I\'m unaware of.\u003c\\/p\u003e\\n\\n\u003cp\u003eI can put together a patch with some test cases to make this behave as folks here seem to expect, but I would like to get some clarification from Robert if possible on whether he agrees that the existing test case should change...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"abuchanan\\\" id=\\\"commentauthor_13869267_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=abuchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"abuchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andrew Buchanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13869267_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jan\\/14 03:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-13T03:32:48+0000\'\u003e13\\/Jan\\/14 03:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'m taking a look at fixing this one. \\n\\n I\'ve tracked this all the way through the code history and back through the old solr repository. It looks like it was originally submitted this way by Yonik Seeley as   SOLR-1553  . Any previous history that might explain the reasoning would presumably be in Lucid Imaginations source control system (which I don\'t have access to). The DisMax parser on which it was based simply used the MM values as passed in, as has been previously noted. \\n\\n Hoss Man refers to this behavior as a bug at  https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-1553?focusedCommentId=12871244&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12871244  on the original   SOLR-1553  . \\n\\n If you force doMinMatched = true to disable this logic in ExtendedDismaxQParser, everything seems to work as expected above with the exception of one test case that fails (TestExtendedDismaxParser.testCJKStructured). This test case was added as part of r1406437 by Robert Muir for   SOLR-3589   - Edismax parser does not honor mm parameter if analyzer splits a token. \\n\\n The last query in that test case is \\\"\\u5927\\u4E9A\\u6E7E OR bogus\\\" with mm=100% which the test is expecting to evaluate to \\\" ((((standardtok:\\u5927 standardtok:\\u4E9A standardtok:\\u6E7E)~3)) (standardtok:bogus))\\\". The comment for the test from Robert Muir indicates that it should \\\"always apply minShouldMatch to the inner booleanqueries created from whitespace, as these are never structured lucene queries but only come from unstructured text\\\". Looking at that query though, it seems to me that it should instead evaluate to \\\" (((((standardtok:\\u5927 standardtok:\\u4E9A standardtok:\\u6E7E)~3)) (standardtok:bogus))~2)\\\", essentially applying the MM to the top level clauses. I\'m certainly not a CJK language expert though, so there may be a subtlety here I\'m unaware of. \\n\\n I can put together a patch with some test cases to make this behave as folks here seem to expect, but I would like to get some clarification from Robert if possible on whether he agrees that the existing test case should change...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13869271\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13869271&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13869271\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"abuchanan\\\" id=\\\"commentauthor_13869271_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=abuchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"abuchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andrew Buchanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13869271_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jan\\/14 03:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-13T03:46:50+0000\'\u003e13\\/Jan\\/14 03:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eJust to clarify further with regards to TestExtendedDismaxParser.testCJKStructured, the following is how the queries would change.\u003c\\/p\u003e\\n\\n\u003cp\u003e1. \\\"\\u5927\\u4E9A\\u6E7E OR bogus\\\" MM=0%\u003cbr\\/\u003e\\n   From: +(((standardtok:\\u5927 standardtok:\\u4E9A standardtok:\\u6E7E)) (standardtok:bogus))\u003cbr\\/\u003e\\n   To:     +(((standardtok:\\u5927 standardtok:\\u4E9A standardtok:\\u6E7E)) (standardtok:bogus))\u003cbr\\/\u003e\\nUnchanged\u003c\\/p\u003e\\n\\n\u003cp\u003e2. \\\"\\u5927\\u4E9A\\u6E7E OR bogus\\\" MM=67%\u003cbr\\/\u003e\\n   From: +((((standardtok:\\u5927 standardtok:\\u4E9A standardtok:\\u6E7E)~2)) (standardtok:bogus))\u003cbr\\/\u003e\\n   To:     +(((((standardtok:\\u5927 standardtok:\\u4E9A standardtok:\\u6E7E)~2)) (standardtok:bogus))~1)\u003cbr\\/\u003e\\nRequires one top level clause to match (effectively the same)\u003c\\/p\u003e\\n\\n\u003cp\u003e3. \\\"\\u5927\\u4E9A\\u6E7E OR bogus\\\" MM=100%\u003cbr\\/\u003e\\n   From: +((((standardtok:\\u5927 standardtok:\\u4E9A standardtok:\\u6E7E)~3)) (standardtok:bogus))\u003cbr\\/\u003e\\n   To:     +(((((standardtok:\\u5927 standardtok:\\u4E9A standardtok:\\u6E7E)~3)) (standardtok:bogus))~2)\u003cbr\\/\u003e\\nRequires both top level clauses to match\u003c\\/p\u003e\\n\\n\u003cp\u003eThis is effectively applying the MM to BOTH the inner clause AND the outer clause separately, which may or may not be what is desired...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"abuchanan\\\" id=\\\"commentauthor_13869271_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=abuchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"abuchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andrew Buchanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13869271_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jan\\/14 03:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-13T03:46:50+0000\'\u003e13\\/Jan\\/14 03:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Just to clarify further with regards to TestExtendedDismaxParser.testCJKStructured, the following is how the queries would change. \\n\\n 1. \\\"\\u5927\\u4E9A\\u6E7E OR bogus\\\" MM=0% \\n   From: +(((standardtok:\\u5927 standardtok:\\u4E9A standardtok:\\u6E7E)) (standardtok:bogus)) \\n   To:     +(((standardtok:\\u5927 standardtok:\\u4E9A standardtok:\\u6E7E)) (standardtok:bogus)) \\nUnchanged \\n\\n 2. \\\"\\u5927\\u4E9A\\u6E7E OR bogus\\\" MM=67% \\n   From: +((((standardtok:\\u5927 standardtok:\\u4E9A standardtok:\\u6E7E)~2)) (standardtok:bogus)) \\n   To:     +(((((standardtok:\\u5927 standardtok:\\u4E9A standardtok:\\u6E7E)~2)) (standardtok:bogus))~1) \\nRequires one top level clause to match (effectively the same) \\n\\n 3. \\\"\\u5927\\u4E9A\\u6E7E OR bogus\\\" MM=100% \\n   From: +((((standardtok:\\u5927 standardtok:\\u4E9A standardtok:\\u6E7E)~3)) (standardtok:bogus)) \\n   To:     +(((((standardtok:\\u5927 standardtok:\\u4E9A standardtok:\\u6E7E)~3)) (standardtok:bogus))~2) \\nRequires both top level clauses to match \\n\\n This is effectively applying the MM to BOTH the inner clause AND the outer clause separately, which may or may not be what is desired...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13869323\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13869323&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13869323\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ndushay\\\" id=\\\"commentauthor_13869323_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ndushay\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ndushay\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Naomi Dushay\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13869323_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jan\\/14 06:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-13T06:56:51+0000\'\u003e13\\/Jan\\/14 06:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI believe the changes Andrew is suggesting sound good.  I recently make careful improvements to our CJK Resource discovery (I\'m in the midst of blogging about it), and in combing through our logs of the last few days, I pulled out a few actual use cases where we have CJK characters and \\\"OR\\\":\u003c\\/p\u003e\\n\\n\u003cp\u003e\\u9234\\u6728\\u91CD\\u96C4 OR \\u65E5\\u672C\\u7CBE\\u795E\\u751F\\u6210\\u53F2\\u8AD6\u003cbr\\/\u003e\\n\\u6BDB\\u6FA4\\u6771 OR \\u57FA\\u790E\\u6230\u003cbr\\/\u003e\\n\\u65E5\\u5831 OR \\u6FDF\\u5357\u003cbr\\/\u003e\\n\\u98C4 OR \\u4E0A\\u6D77\u003c\\/p\u003e\\n\\n\u003cp\u003ethere are others.  Note that we have no actual cases of CJK + non-CJK characters and \'OR\'.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn my relevancy tests for CJK (supplied by East Asian language librarians), I didn\'t find many useful examples to exercise the case above.   I could try to apply a patch locally and check how it affects our ~1000 relevancy tests, but we are currently running Solr 4.4.  It would be much more tractable if there is a Solr 4.x  patch available for testing.\u003c\\/p\u003e\\n\\n\u003cp\u003eHere is the only realistic examples I could find from our test code:\u003cbr\\/\u003e\\n\\u30B9\\u30DD\\u30FC\\u30C4 OR supotsu\u003cbr\\/\u003e\\n  both clauses translate to \\\"sports\\\" (from Japanese)\u003c\\/p\u003e\\n\\n\u003cp\u003eSo from my perspective, the cjk test is a corner case, and I think Andrew\'s approach sounds great.  Tom Burton-West and I are partly behind Robert Muir\'s fix, so getting Tom BW to weigh in would be great.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ndushay\\\" id=\\\"commentauthor_13869323_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ndushay\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ndushay\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Naomi Dushay\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13869323_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jan\\/14 06:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-13T06:56:51+0000\'\u003e13\\/Jan\\/14 06:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I believe the changes Andrew is suggesting sound good.  I recently make careful improvements to our CJK Resource discovery (I\'m in the midst of blogging about it), and in combing through our logs of the last few days, I pulled out a few actual use cases where we have CJK characters and \\\"OR\\\": \\n\\n \\u9234\\u6728\\u91CD\\u96C4 OR \\u65E5\\u672C\\u7CBE\\u795E\\u751F\\u6210\\u53F2\\u8AD6 \\n\\u6BDB\\u6FA4\\u6771 OR \\u57FA\\u790E\\u6230 \\n\\u65E5\\u5831 OR \\u6FDF\\u5357 \\n\\u98C4 OR \\u4E0A\\u6D77 \\n\\n there are others.  Note that we have no actual cases of CJK + non-CJK characters and \'OR\'. \\n\\n In my relevancy tests for CJK (supplied by East Asian language librarians), I didn\'t find many useful examples to exercise the case above.   I could try to apply a patch locally and check how it affects our ~1000 relevancy tests, but we are currently running Solr 4.4.  It would be much more tractable if there is a Solr 4.x  patch available for testing. \\n\\n Here is the only realistic examples I could find from our test code: \\n\\u30B9\\u30DD\\u30FC\\u30C4 OR supotsu \\n  both clauses translate to \\\"sports\\\" (from Japanese) \\n\\n So from my perspective, the cjk test is a corner case, and I think Andrew\'s approach sounds great.  Tom Burton-West and I are partly behind Robert Muir\'s fix, so getting Tom BW to weigh in would be great.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13872918\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13872918&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13872918\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"abuchanan\\\" id=\\\"commentauthor_13872918_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=abuchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"abuchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andrew Buchanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13872918_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/14 01:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-16T01:30:21+0000\'\u003e16\\/Jan\\/14 01:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere is the initial patch. Really it just involves removing some code and adding a few tests to confirm things work. It also modifies the previously mentioned test to conform with the expectations above.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"abuchanan\\\" id=\\\"commentauthor_13872918_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=abuchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"abuchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andrew Buchanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13872918_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/14 01:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-16T01:30:21+0000\'\u003e16\\/Jan\\/14 01:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here is the initial patch. Really it just involves removing some code and adding a few tests to confirm things work. It also modifies the previously mentioned test to conform with the expectations above.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13942091\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13942091&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13942091\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"abuchanan\\\" id=\\\"commentauthor_13942091_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=abuchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"abuchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andrew Buchanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13942091_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Mar\\/14 18:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-03-20T18:24:54+0000\'\u003e20\\/Mar\\/14 18:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePing for Jan H\\u00F8ydahl to review\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"abuchanan\\\" id=\\\"commentauthor_13942091_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=abuchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"abuchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andrew Buchanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13942091_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Mar\\/14 18:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-03-20T18:24:54+0000\'\u003e20\\/Mar\\/14 18:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Ping for Jan H\\u00F8ydahl to review              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13943781\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13943781&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13943781\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"janhoy\\\" id=\\\"commentauthor_13943781_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"janhoy\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jan H\\u00F8ydahl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13943781_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Mar\\/14 00:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-03-22T00:24:07+0000\'\u003e22\\/Mar\\/14 00:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching new patch with CHANGES entry and a few more tests.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe query \u003ctt\u003e(A OR B) C\u003c\\/tt\u003e with \u003ctt\u003emm=100%\u003c\\/tt\u003e works as \u003ctt\u003e(A OR B) AND C\u003c\\/tt\u003e since there are only 2 top-level clauses here, but the query \u003ctt\u003eA OR B C\u003c\\/tt\u003e \u003ctt\u003emm=100%\u003c\\/tt\u003e is still interpreted as all three clauses being required. \u003c\\/p\u003e\\n\\n\u003cp\u003eWe could try detect such cases and combine clauses joined by explicit operators but that\'s probably a slippery slope given the messy string parsing in edismax...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"janhoy\\\" id=\\\"commentauthor_13943781_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"janhoy\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jan H\\u00F8ydahl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13943781_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Mar\\/14 00:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-03-22T00:24:07+0000\'\u003e22\\/Mar\\/14 00:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching new patch with CHANGES entry and a few more tests. \\n\\n The query  (A OR B) C  with  mm=100%  works as  (A OR B) AND C  since there are only 2 top-level clauses here, but the query  A OR B C   mm=100%  is still interpreted as all three clauses being required.  \\n\\n We could try detect such cases and combine clauses joined by explicit operators but that\'s probably a slippery slope given the messy string parsing in edismax...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13944819\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13944819&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13944819\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"janhoy\\\" id=\\\"commentauthor_13944819_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"janhoy\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jan H\\u00F8ydahl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13944819_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Mar\\/14 08:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-03-24T08:55:20+0000\'\u003e24\\/Mar\\/14 08:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAny comments on the current patch? All tests pass. If there are certain boolean queries that you fear this patch will make worse than it is today then please add a unit test for it.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"janhoy\\\" id=\\\"commentauthor_13944819_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"janhoy\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jan H\\u00F8ydahl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13944819_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Mar\\/14 08:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-03-24T08:55:20+0000\'\u003e24\\/Mar\\/14 08:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Any comments on the current patch? All tests pass. If there are certain boolean queries that you fear this patch will make worse than it is today then please add a unit test for it.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13945159\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13945159&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13945159\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"abuchanan\\\" id=\\\"commentauthor_13945159_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=abuchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"abuchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andrew Buchanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13945159_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Mar\\/14 14:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-03-24T14:28:58+0000\'\u003e24\\/Mar\\/14 14:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eLooks good to me\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"abuchanan\\\" id=\\\"commentauthor_13945159_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=abuchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"abuchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andrew Buchanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13945159_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Mar\\/14 14:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-03-24T14:28:58+0000\'\u003e24\\/Mar\\/14 14:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Looks good to me              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13945719\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13945719&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13945719\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"brianwc\\\" id=\\\"commentauthor_13945719_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=brianwc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"brianwc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Brian Carver\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13945719_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Mar\\/14 21:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-03-24T21:24:05+0000\'\u003e24\\/Mar\\/14 21:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'ve been following this for at least two years. See my comment from February 2012, above. I can\'t tell if the proposed fix is a fix. We ought to have the goal: the system behaves in a deterministic way that can be explained to users and that, as little as possible, acts in ways contrary to user expectations (especially silently). The failure to abide by this principle is what made this issue so troubling to me, because users could know that whitespace would be interpreted as \\\"AND\\\" yet they would still get results that discarded the effect that operator should have had.\u003c\\/p\u003e\\n\\n\u003cp\u003eNow, of course, users make mistakes. They submit ambiguous queries (or in the case of mm=100% for a disjunctive query, I guess we could call that a self-defeating or self-contradictory query--if I understand mm correctly).\u003c\\/p\u003e\\n\\n\u003cp\u003eI still think that what is really needed is (1) a set of default rules for interpreting ambiguous queries that will always provide a deterministic result. These rules could be explained to users, and then what is also needed is that (2) when a user does something that doesn\'t make sense, given these default rules, they should get an error message.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe ambiguous query discussed above was one where whitespace was set to \\\"AND\\\" and a user entered:\u003cbr\\/\u003e\\n(A or B or C) \\\"D E\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eSuch a user must be assuming that whitespace within quotation marks is ignored, i.e., that the quotation marks make \\\"D E\\\" a single term that must be matched exactly and that, given the default to conjunction for non-quoted whitespace, that her query will be parsed as:\u003cbr\\/\u003e\\n(A or B or C) AND \\\"D E\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003ethat is, as a conjunction with two conjuncts, thus requiring that each conjunct be satisfied to get a matching result.\u003c\\/p\u003e\\n\\n\u003cp\u003eMy first question then is, what will happen to this query under the new patch? Will it be interpreted as expected?\u003c\\/p\u003e\\n\\n\u003cp\u003eMy second question is, why not adopt a set of default rules for ambiguous queries? Like the default order of operations in arithmetic, we simply need a convention to interpret 3 + 5 x 4 as 3 + (5 x 4). Just as it didn\'t matter in arithmetic which operators we favored, so long as everyone knows the convention, it also doesn\'t really matter what rules we adopt here, so long as we publicize them so users and maintainers know what to expect. I would propose the following:\u003c\\/p\u003e\\n\\n\u003cp\u003e1. Whitespace within quotation marks is ignored (in that it is not turned into an operator), that is \\\"D E\\\" is interpreted as a single term that must match exactly.\u003cbr\\/\u003e\\n2. If a query lacks sufficient parentheses to create an unambiguous query, then the following rules will be applied:\u003cbr\\/\u003e\\na. Insert parentheses around every occurrence of AND and its two conjuncts, starting with the rightmost AND.\u003cbr\\/\u003e\\nb. Insert parentheses in the same fashion for OR.\u003cbr\\/\u003e\\nc. Right parentheses are never inserted within another set of parentheses, i.e., no existing pairings are broken up.\u003cbr\\/\u003e\\n3. If one\'s query is nonsensical, an error message will be displayed explaining the problem. For example, if one has set mm to 100%, requiring every term to match, but yet one also issues a disjunctive query (A OR B) that would be satisfied if either term were to match, then one receives an error indicating that mm cannot be set to 100% while issuing a disjunctive query.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think those rules would be sufficient to resolve all ambiguous queries and the general idea that \\\"If you leave out parentheses, then they\'ll be added to the smallest available units starting from the right, and starting with conjunction\\\" is one that users could (somewhat) easily grasp.\u003c\\/p\u003e\\n\\n\u003cp\u003eBut, as I said in 2012, my grasp on how solr handles mm is tenuous at best, so perhaps someone will explain that I\'m misunderstanding something important.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"brianwc\\\" id=\\\"commentauthor_13945719_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=brianwc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"brianwc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Brian Carver\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13945719_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Mar\\/14 21:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-03-24T21:24:05+0000\'\u003e24\\/Mar\\/14 21:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'ve been following this for at least two years. See my comment from February 2012, above. I can\'t tell if the proposed fix is a fix. We ought to have the goal: the system behaves in a deterministic way that can be explained to users and that, as little as possible, acts in ways contrary to user expectations (especially silently). The failure to abide by this principle is what made this issue so troubling to me, because users could know that whitespace would be interpreted as \\\"AND\\\" yet they would still get results that discarded the effect that operator should have had. \\n\\n Now, of course, users make mistakes. They submit ambiguous queries (or in the case of mm=100% for a disjunctive query, I guess we could call that a self-defeating or self-contradictory query--if I understand mm correctly). \\n\\n I still think that what is really needed is (1) a set of default rules for interpreting ambiguous queries that will always provide a deterministic result. These rules could be explained to users, and then what is also needed is that (2) when a user does something that doesn\'t make sense, given these default rules, they should get an error message. \\n\\n The ambiguous query discussed above was one where whitespace was set to \\\"AND\\\" and a user entered: \\n(A or B or C) \\\"D E\\\" \\n\\n Such a user must be assuming that whitespace within quotation marks is ignored, i.e., that the quotation marks make \\\"D E\\\" a single term that must be matched exactly and that, given the default to conjunction for non-quoted whitespace, that her query will be parsed as: \\n(A or B or C) AND \\\"D E\\\" \\n\\n that is, as a conjunction with two conjuncts, thus requiring that each conjunct be satisfied to get a matching result. \\n\\n My first question then is, what will happen to this query under the new patch? Will it be interpreted as expected? \\n\\n My second question is, why not adopt a set of default rules for ambiguous queries? Like the default order of operations in arithmetic, we simply need a convention to interpret 3 + 5 x 4 as 3 + (5 x 4). Just as it didn\'t matter in arithmetic which operators we favored, so long as everyone knows the convention, it also doesn\'t really matter what rules we adopt here, so long as we publicize them so users and maintainers know what to expect. I would propose the following: \\n\\n 1. Whitespace within quotation marks is ignored (in that it is not turned into an operator), that is \\\"D E\\\" is interpreted as a single term that must match exactly. \\n2. If a query lacks sufficient parentheses to create an unambiguous query, then the following rules will be applied: \\na. Insert parentheses around every occurrence of AND and its two conjuncts, starting with the rightmost AND. \\nb. Insert parentheses in the same fashion for OR. \\nc. Right parentheses are never inserted within another set of parentheses, i.e., no existing pairings are broken up. \\n3. If one\'s query is nonsensical, an error message will be displayed explaining the problem. For example, if one has set mm to 100%, requiring every term to match, but yet one also issues a disjunctive query (A OR B) that would be satisfied if either term were to match, then one receives an error indicating that mm cannot be set to 100% while issuing a disjunctive query. \\n\\n I think those rules would be sufficient to resolve all ambiguous queries and the general idea that \\\"If you leave out parentheses, then they\'ll be added to the smallest available units starting from the right, and starting with conjunction\\\" is one that users could (somewhat) easily grasp. \\n\\n But, as I said in 2012, my grasp on how solr handles mm is tenuous at best, so perhaps someone will explain that I\'m misunderstanding something important.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13971367\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13971367&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13971367\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_13971367_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13971367_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Apr\\/14 12:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-04-16T12:57:53+0000\'\u003e16\\/Apr\\/14 12:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMove issue to Solr 4.9.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_13971367_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13971367_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Apr\\/14 12:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-04-16T12:57:53+0000\'\u003e16\\/Apr\\/14 12:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Move issue to Solr 4.9.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13986408\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13986408&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13986408\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gpendleb\\\" id=\\\"commentauthor_13986408_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gpendleb\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gpendleb\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Greg Pendlebury\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13986408_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/May\\/14 06:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-05-01T06:52:10+0000\'\u003e01\\/May\\/14 06:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Greg Pendlebury - 01\\/May\\/14 06:54\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI applied this patch to 4.7.2 Yesterday and tried it out on our dev servers. At first I thought it was pretty bad and failed completely... but then I had a good think and re-read everything on this ticket and this\u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e article and realised my understanding of the problem was flawed. Using just this patch in isolation it converted all of the OR operators to AND operators with mm=100%. Very confusing behaviour for our business area, but I realise now that it is correct.\u003c\\/p\u003e\\n\\n\u003cp\u003ePerhaps the confusion stems from the way the q.op and mm parameters interact. If the behaviour was to instead separate them more clearly then we could change the config entirely. At the moment our mm is 100% because we effectively want q.op=AND, but if q.op was instead applied 1) always, 2) first and 3) independently from mm (ie. insert AND wherever an operator is missing) we could set mm=1 and achieve what we want by respecting the OR parameters provided by the user.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ve added this on top of the patch already here and deployed again to our dev servers using \'q.op=AND &amp; mm=1\' and now everything appears to function as it should. I\'ll upload the patch in a minute, and it includes several unit tests with different mm and q.op values. From my perspective I think the two parameters are interacting appropriately, but perhaps someone with more convoluted mm settings could give it a try?\u003c\\/p\u003e\\n\\n\u003cp\u003eThe change is simply in the constructor of the ExtendedSolrQueryParser class where it was hardcoded to force the default operator to OR (presumably so that mm would take care of things) I\'ve made it look at the parameter provided with the query (copied the code from the Simple QParser and adjusted to fit).\u003c\\/p\u003e\\n\\n\u003cp\u003eThe unit test from the first patch that was marked TODO I have tweaked slightly. I think not finding a result in that case is entirely appropriate if the user can now tweak q.op. Opinions may vary of course.\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e \u003ca href=\\\"http:\\/\\/searchhub.org\\/2011\\/12\\/28\\/why-not-and-or-and-not\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/searchhub.org\\/2011\\/12\\/28\\/why-not-and-or-and-not\\/\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gpendleb\\\" id=\\\"commentauthor_13986408_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gpendleb\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gpendleb\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Greg Pendlebury\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13986408_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/May\\/14 06:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-05-01T06:52:10+0000\'\u003e01\\/May\\/14 06:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Greg Pendlebury - 01\\/May\\/14 06:54\\\"\u003eedited\u003c\\/span\u003e                   I applied this patch to 4.7.2 Yesterday and tried it out on our dev servers. At first I thought it was pretty bad and failed completely... but then I had a good think and re-read everything on this ticket and this &#91;1&#93;  article and realised my understanding of the problem was flawed. Using just this patch in isolation it converted all of the OR operators to AND operators with mm=100%. Very confusing behaviour for our business area, but I realise now that it is correct. \\n\\n Perhaps the confusion stems from the way the q.op and mm parameters interact. If the behaviour was to instead separate them more clearly then we could change the config entirely. At the moment our mm is 100% because we effectively want q.op=AND, but if q.op was instead applied 1) always, 2) first and 3) independently from mm (ie. insert AND wherever an operator is missing) we could set mm=1 and achieve what we want by respecting the OR parameters provided by the user. \\n\\n I\'ve added this on top of the patch already here and deployed again to our dev servers using \'q.op=AND &amp; mm=1\' and now everything appears to function as it should. I\'ll upload the patch in a minute, and it includes several unit tests with different mm and q.op values. From my perspective I think the two parameters are interacting appropriately, but perhaps someone with more convoluted mm settings could give it a try? \\n\\n The change is simply in the constructor of the ExtendedSolrQueryParser class where it was hardcoded to force the default operator to OR (presumably so that mm would take care of things) I\'ve made it look at the parameter provided with the query (copied the code from the Simple QParser and adjusted to fit). \\n\\n The unit test from the first patch that was marked TODO I have tweaked slightly. I think not finding a result in that case is entirely appropriate if the user can now tweak q.op. Opinions may vary of course. \\n\\n  &#91;1&#93;   http:\\/\\/searchhub.org\\/2011\\/12\\/28\\/why-not-and-or-and-not\\/               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14055567\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=14055567&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14055567\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"elyograg\\\" id=\\\"commentauthor_14055567_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=elyograg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"elyograg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shawn Heisey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14055567_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jul\\/14 21:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-07-08T21:30:38+0000\'\u003e08\\/Jul\\/14 21:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Shawn Heisey - 08\\/Jul\\/14 21:31\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWe got bitten by this bug today.  Consider this filter query, constructed from multiple entry boxes on an advanced search form:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e{!edismax}publish:(0) AND caption:(john lennon)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eThe mm value is 100%, but we get results as if mm were 0.\u003c\\/p\u003e\\n\\n\u003cp\u003eWhat we\'re going to do for a solution is create multiple fq parameters instead of combining with AND.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"elyograg\\\" id=\\\"commentauthor_14055567_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=elyograg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"elyograg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shawn Heisey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14055567_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jul\\/14 21:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-07-08T21:30:38+0000\'\u003e08\\/Jul\\/14 21:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Shawn Heisey - 08\\/Jul\\/14 21:31\\\"\u003eedited\u003c\\/span\u003e                   We got bitten by this bug today.  Consider this filter query, constructed from multiple entry boxes on an advanced search form: \\n\\n  \\n {!edismax}publish:(0) AND caption:(john lennon)\\n \\n  \\n\\n The mm value is 100%, but we get results as if mm were 0. \\n\\n What we\'re going to do for a solution is create multiple fq parameters instead of combining with AND.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14088931\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=14088931&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14088931\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"linex\\\" id=\\\"commentauthor_14088931_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=linex\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"linex\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matthew Dickinson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14088931_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/14 07:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-08-07T07:16:28+0000\'\u003e07\\/Aug\\/14 07:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWe have set mm=100% and q.op=AND\u003cbr\\/\u003e\\ndeftype=edismax\u003c\\/p\u003e\\n\\n\u003cp\u003eWhen we run the following queries we get different results:\u003c\\/p\u003e\\n\\n\u003cp\u003e1. banking (obama lloyds)       behaves as banking AND (obama OR lloyds)\u003cbr\\/\u003e\\n2. banking obama lloyds         behaves as banking AND obama AND lloyds\u003c\\/p\u003e\\n\\n\u003cp\u003eMy expectations are that #1 should behave same as  #2. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"linex\\\" id=\\\"commentauthor_14088931_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=linex\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"linex\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Matthew Dickinson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14088931_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/14 07:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-08-07T07:16:28+0000\'\u003e07\\/Aug\\/14 07:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    We have set mm=100% and q.op=AND \\ndeftype=edismax \\n\\n When we run the following queries we get different results: \\n\\n 1. banking (obama lloyds)       behaves as banking AND (obama OR lloyds) \\n2. banking obama lloyds         behaves as banking AND obama AND lloyds \\n\\n My expectations are that #1 should behave same as  #2.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14089288\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=14089288&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14089288\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"abuchanan\\\" id=\\\"commentauthor_14089288_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=abuchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"abuchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andrew Buchanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14089288_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/14 14:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-08-07T14:48:37+0000\'\u003e07\\/Aug\\/14 14:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMatthew,\u003cbr\\/\u003e\\nJust looking to clarify...\u003c\\/p\u003e\\n\\n\u003cp\u003eDo you mean that is the behavior you see with the proposed patch, or without?\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"abuchanan\\\" id=\\\"commentauthor_14089288_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=abuchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"abuchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andrew Buchanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14089288_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Aug\\/14 14:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-08-07T14:48:37+0000\'\u003e07\\/Aug\\/14 14:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Matthew, \\nJust looking to clarify... \\n\\n Do you mean that is the behavior you see with the proposed patch, or without? \\n\\n Thanks!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14320316\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=14320316&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14320316\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_14320316_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14320316_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Feb\\/15 15:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-02-13T15:49:10+0000\'\u003e13\\/Feb\\/15 15:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=greg.pendlebury\\\" class=\\\"user-hover\\\" rel=\\\"greg.pendlebury\\\"\u003eGreg Pendlebury\u003c\\/a\u003e (and others). Thanks for pinging...\u003c\\/p\u003e\\n\\n\u003cp\u003eWow, this has been hanging around for a \u003cem\u003elong\u003c\\/em\u003e time. It looks just fell off people\'s radar.\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=hossman_lucene%40fucit.org\\\" class=\\\"user-hover\\\" rel=\\\"hossman_lucene@fucit.org\\\"\u003eChris Hostetter (Unused)\u003c\\/a\u003e \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\" class=\\\"user-hover\\\" rel=\\\"janhoy\\\"\u003eJan H\\u00F8ydahl\u003c\\/a\u003e  \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=elyograg\\\" class=\\\"user-hover\\\" rel=\\\"elyograg\\\"\u003eShawn Heisey\u003c\\/a\u003e et.al. I can shepherd this patch through, but don\'t really have the background here to weigh in on the merits of the fix. I\'ll volunteer to run the mechanics though, and do a code review to see what I can see but I\'m looking for whether the proposals are a go\\/no-go from a correctness perspective. This looks like it\'ll change current behavior which makes me nervous. Of course if it changes incorrect behavior it\'s a no-brainer.\u003c\\/p\u003e\\n\\n\u003cp\u003eProblem is that this has languished and the patch will not apply to trunk. Could someone update the patch? A couple of things:\u003c\\/p\u003e\\n\\n\u003cp\u003e1&gt; Just upload repeated copies of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-2649\\\" title=\\\"MM ignored in edismax queries with operators\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-2649\\\"\u003e\u003cdel\u003eSOLR-2649\u003c\\/del\u003e\u003c\\/a\u003e.patch without changing the name. That way it\'s much easier to keep track of what the latest one is. I tried applying the most recent one and it failed, but guessed the most recent one was the correct one.\u003c\\/p\u003e\\n\\n\u003cp\u003e2&gt; Please create the patch against the current trunk. Part of the check in process is to merge it back into 5x so no separate patch is (usually) needed.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_14320316_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14320316_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Feb\\/15 15:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-02-13T15:49:10+0000\'\u003e13\\/Feb\\/15 15:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Greg Pendlebury  (and others). Thanks for pinging... \\n\\n Wow, this has been hanging around for a  long  time. It looks just fell off people\'s radar. \\n\\n  Chris Hostetter (Unused)   Jan H\\u00F8ydahl    Shawn Heisey  et.al. I can shepherd this patch through, but don\'t really have the background here to weigh in on the merits of the fix. I\'ll volunteer to run the mechanics though, and do a code review to see what I can see but I\'m looking for whether the proposals are a go\\/no-go from a correctness perspective. This looks like it\'ll change current behavior which makes me nervous. Of course if it changes incorrect behavior it\'s a no-brainer. \\n\\n Problem is that this has languished and the patch will not apply to trunk. Could someone update the patch? A couple of things: \\n\\n 1&gt; Just upload repeated copies of   SOLR-2649  .patch without changing the name. That way it\'s much easier to keep track of what the latest one is. I tried applying the most recent one and it failed, but guessed the most recent one was the correct one. \\n\\n 2&gt; Please create the patch against the current trunk. Part of the check in process is to merge it back into 5x so no separate patch is (usually) needed. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14322219\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=14322219&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14322219\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gpendleb\\\" id=\\\"commentauthor_14322219_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gpendleb\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gpendleb\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Greg Pendlebury\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14322219_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Feb\\/15 22:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-02-15T22:49:51+0000\'\u003e15\\/Feb\\/15 22:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Erick,\u003c\\/p\u003e\\n\\n\u003cp\u003eI can recreate the \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-2649\\\" title=\\\"MM ignored in edismax queries with operators\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-2649\\\"\u003e\u003cdel\u003eSOLR-2649\u003c\\/del\u003e\u003c\\/a\u003e-with-Qop.patch this week (today looks pretty busy sorry). Just updating trunk now. Jan\'s \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-2649\\\" title=\\\"MM ignored in edismax queries with operators\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-2649\\\"\u003e\u003cdel\u003eSOLR-2649\u003c\\/del\u003e\u003c\\/a\u003e patch is technically correct from everything I have looked at, but it actually makes the eDismax parser very confusing for novice end users. Our investigation seemed to indicate that the problems stem from the steps taken by Lucene\\/Solr to convert boolean OR operators to the SHOULD occur flags (but running off memory here). This is made very obvious by the fact that eDismax is hard coded to use OR as the default operator. We were simply tea leaf gazing, but our assumption is that this confusion may have been the original cause for disabling \'mm\' when operators were present.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo the patch we submitted simply does the same as Jan\'s, but also makes eDismax read the default operator from the \'q.op\' parameter. With access to both parameters we have always been able to respond meaningfully to the queries our users are submitting.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gpendleb\\\" id=\\\"commentauthor_14322219_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gpendleb\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gpendleb\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Greg Pendlebury\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14322219_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Feb\\/15 22:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-02-15T22:49:51+0000\'\u003e15\\/Feb\\/15 22:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks Erick, \\n\\n I can recreate the   SOLR-2649  -with-Qop.patch this week (today looks pretty busy sorry). Just updating trunk now. Jan\'s   SOLR-2649   patch is technically correct from everything I have looked at, but it actually makes the eDismax parser very confusing for novice end users. Our investigation seemed to indicate that the problems stem from the steps taken by Lucene\\/Solr to convert boolean OR operators to the SHOULD occur flags (but running off memory here). This is made very obvious by the fact that eDismax is hard coded to use OR as the default operator. We were simply tea leaf gazing, but our assumption is that this confusion may have been the original cause for disabling \'mm\' when operators were present. \\n\\n So the patch we submitted simply does the same as Jan\'s, but also makes eDismax read the default operator from the \'q.op\' parameter. With access to both parameters we have always been able to respond meaningfully to the queries our users are submitting.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14325322\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=14325322&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14325322\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gpendleb\\\" id=\\\"commentauthor_14325322_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gpendleb\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gpendleb\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Greg Pendlebury\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14325322_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Feb\\/15 02:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-02-18T02:17:00+0000\'\u003e18\\/Feb\\/15 02:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eReplacement patch for \'\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-2649\\\" title=\\\"MM ignored in edismax queries with operators\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-2649\\\"\u003e\u003cdel\u003eSOLR-2649\u003c\\/del\u003e\u003c\\/a\u003e-with-Qop.patch\' against current trunk.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gpendleb\\\" id=\\\"commentauthor_14325322_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gpendleb\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gpendleb\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Greg Pendlebury\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14325322_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Feb\\/15 02:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-02-18T02:17:00+0000\'\u003e18\\/Feb\\/15 02:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Replacement patch for \'  SOLR-2649  -with-Qop.patch\' against current trunk.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14333987\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=14333987&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14333987\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rebeccatang\\\" id=\\\"commentauthor_14333987_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rebeccatang\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rebeccatang\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rebecca Tang\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14333987_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/15 22:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-02-23T22:21:55+0000\'\u003e23\\/Feb\\/15 22:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWhen will this patch be released? Is there a targeted 5X release?\u003c\\/p\u003e\\n\\n\u003cp\u003eWill this patch be back ported into 4x releases?  We are currently running solr 4.10.1.  Do we need to upgrade to solr 5 in order to get the bug fix?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rebeccatang\\\" id=\\\"commentauthor_14333987_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rebeccatang\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rebeccatang\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rebecca Tang\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14333987_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/15 22:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-02-23T22:21:55+0000\'\u003e23\\/Feb\\/15 22:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    When will this patch be released? Is there a targeted 5X release? \\n\\n Will this patch be back ported into 4x releases?  We are currently running solr 4.10.1.  Do we need to upgrade to solr 5 in order to get the bug fix?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14334058\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=14334058&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14334058\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_14334058_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14334058_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/15 23:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-02-23T23:13:32+0000\'\u003e23\\/Feb\\/15 23:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI hope to get this in for 5.1, but it\'s always a time question. If any other committer wants to to take it over it won\'t hurt my feelings \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/wink.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_14334058_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14334058_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/15 23:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-02-23T23:13:32+0000\'\u003e23\\/Feb\\/15 23:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I hope to get this in for 5.1, but it\'s always a time question. If any other committer wants to to take it over it won\'t hurt my feelings  .              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14494512\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=14494512&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14494512\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rebeccatang\\\" id=\\\"commentauthor_14494512_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rebeccatang\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rebeccatang\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rebecca Tang\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14494512_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Apr\\/15 18:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-04-14T18:10:06+0000\'\u003e14\\/Apr\\/15 18:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eJust saw the announcement that solr 5.1.0 is released.  Looks like this bug didn\'t make it in.  Is it likely for it to be included in the next release?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rebeccatang\\\" id=\\\"commentauthor_14494512_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rebeccatang\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rebeccatang\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rebecca Tang\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14494512_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Apr\\/15 18:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-04-14T18:10:06+0000\'\u003e14\\/Apr\\/15 18:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Just saw the announcement that solr 5.1.0 is released.  Looks like this bug didn\'t make it in.  Is it likely for it to be included in the next release?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14642501\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=14642501&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14642501\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikolajkania\\\" id=\\\"commentauthor_14642501_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikolajkania\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikolajkania\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Miko\\u0142aj Kania\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14642501_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Jul\\/15 09:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-27T09:39:33+0000\'\u003e27\\/Jul\\/15 09:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWe have lately encountered a problem with the current edismax behaviour, when \u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e((x y z) AND (a))\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003e gave the same results as \u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e((x or y or z) and (a))\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003e instead of \u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e(a and b and c and d)\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003e. Our mm was set to 100% so it was really unexpected! What\'s more, \u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e x y z\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003e is the same as \u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003ex AND y AND z\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003e and as \u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003ex AND y z\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003e, so the behaviour is experience-driven, nondeterministic. It would be nice to see patches applied as the issue is now the most upvoted, open task.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikolajkania\\\" id=\\\"commentauthor_14642501_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikolajkania\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikolajkania\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Miko\\u0142aj Kania\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14642501_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Jul\\/15 09:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-27T09:39:33+0000\'\u003e27\\/Jul\\/15 09:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    We have lately encountered a problem with the current edismax behaviour, when  \\n  \\n ((x y z) AND (a)) \\n  \\n  gave the same results as  \\n  \\n ((x or y or z) and (a)) \\n  \\n  instead of  \\n  \\n (a and b and c and d) \\n  \\n . Our mm was set to 100% so it was really unexpected! What\'s more,  \\n  \\n  x y z \\n  \\n  is the same as  \\n  \\n x AND y AND z \\n  \\n  and as  \\n  \\n x AND y z \\n  \\n , so the behaviour is experience-driven, nondeterministic. It would be nice to see patches applied as the issue is now the most upvoted, open task.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14651144\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=14651144&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14651144\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"billnbell\\\" id=\\\"commentauthor_14651144_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=billnbell\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"billnbell\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bill Bell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14651144_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Aug\\/15 19:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-02T19:16:47+0000\'\u003e02\\/Aug\\/15 19:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis is pretty critical to edismax. If the fix is good, let\'s get it checked in. ?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"billnbell\\\" id=\\\"commentauthor_14651144_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=billnbell\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"billnbell\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bill Bell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14651144_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Aug\\/15 19:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-02T19:16:47+0000\'\u003e02\\/Aug\\/15 19:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This is pretty critical to edismax. If the fix is good, let\'s get it checked in. ?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15031752\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15031752&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15031752\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ahagenbruch\\\" id=\\\"commentauthor_15031752_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ahagenbruch\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10432\\\" alt=\\\"ahagenbruch\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andre Hagenbruch\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15031752_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Nov\\/15 13:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-11-30T13:15:02+0000\'\u003e30\\/Nov\\/15 13:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIs there any chance that we can get this into 5.4? Please...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ahagenbruch\\\" id=\\\"commentauthor_15031752_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ahagenbruch\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10432\\\" alt=\\\"ahagenbruch\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andre Hagenbruch\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15031752_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Nov\\/15 13:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-11-30T13:15:02+0000\'\u003e30\\/Nov\\/15 13:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Is there any chance that we can get this into 5.4? Please...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15037912\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15037912&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15037912\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"draezal\\\" id=\\\"commentauthor_15037912_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=draezal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"draezal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Bown\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15037912_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 15:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T15:16:12+0000\'\u003e03\\/Dec\\/15 15:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eA high criticality bug for me too...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"draezal\\\" id=\\\"commentauthor_15037912_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=draezal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"draezal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Bown\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15037912_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 15:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T15:16:12+0000\'\u003e03\\/Dec\\/15 15:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    A high criticality bug for me too...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15037948\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15037948&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15037948\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rohk\\\" id=\\\"commentauthor_15037948_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rohk\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rohk\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Romain MERESSE\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15037948_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 15:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T15:39:32+0000\'\u003e03\\/Dec\\/15 15:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eVery high criticality for me too. Why is it a minor priority ?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rohk\\\" id=\\\"commentauthor_15037948_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rohk\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rohk\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Romain MERESSE\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15037948_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 15:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T15:39:32+0000\'\u003e03\\/Dec\\/15 15:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Very high criticality for me too. Why is it a minor priority ?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15038355\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15038355&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15038355\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_15038355_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038355_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 19:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T19:07:49+0000\'\u003e03\\/Dec\\/15 19:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\" class=\\\"user-hover\\\" rel=\\\"yseeley@gmail.com\\\"\u003eYonik Seeley\u003c\\/a\u003e \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\" class=\\\"user-hover\\\" rel=\\\"janhoy\\\"\u003eJan H\\u00F8ydahl\u003c\\/a\u003e \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\" class=\\\"user-hover\\\" rel=\\\"hossman\\\"\u003eHoss Man\u003c\\/a\u003e \u003cspan class=\\\"error\\\"\u003e&#91;~rmuir&#93;\u003c\\/span\u003e \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=dsmiley\\\" class=\\\"user-hover\\\" rel=\\\"dsmiley\\\"\u003eDavid Smiley\u003c\\/a\u003e \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=chrism\\\" class=\\\"user-hover\\\" rel=\\\"chrism\\\"\u003echristian Migowski\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003ePicking random names that have committed stuff to this file if any of you care to comment: \u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m running precommit and tests on this at present, but it makes me nervous that the comment around line ExtendedDismaxQParser\u003cspan class=\\\"error\\\"\u003e&#91;347&#93;\u003c\\/span\u003e in current trunk\u003c\\/p\u003e\\n\\n\u003cp\u003e    \\/\\/ For correct lucene queries, turn off mm processing if there\u003cbr\\/\u003e\\n    \\/\\/ were explicit operators (except for AND).\u003c\\/p\u003e\\n\\n\u003cp\u003ehas been in ExtendedDismaxQParser since it was first committed, and this is the bit that\'s being re-worked.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m not sure about committing this at all, I\'m just gathering information about the current state of the patch at this point. That said, this seems reasonable. But I confess the intricacies of all this stuff are not something I understand very well...\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_15038355_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038355_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 19:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T19:07:49+0000\'\u003e03\\/Dec\\/15 19:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Yonik Seeley   Jan H\\u00F8ydahl   Hoss Man   &#91;~rmuir&#93;   David Smiley   christian Migowski  \\n\\n Picking random names that have committed stuff to this file if any of you care to comment:  \\n\\n I\'m running precommit and tests on this at present, but it makes me nervous that the comment around line ExtendedDismaxQParser &#91;347&#93;  in current trunk \\n\\n     \\/\\/ For correct lucene queries, turn off mm processing if there \\n    \\/\\/ were explicit operators (except for AND). \\n\\n has been in ExtendedDismaxQParser since it was first committed, and this is the bit that\'s being re-worked. \\n\\n I\'m not sure about committing this at all, I\'m just gathering information about the current state of the patch at this point. That said, this seems reasonable. But I confess the intricacies of all this stuff are not something I understand very well... \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15038512\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15038512&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15038512\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_15038512_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038512_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 20:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T20:06:40+0000\'\u003e03\\/Dec\\/15 20:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eChanged from \\\"Bug\\\" to \\\"Improvement\\\" as the code seems to reflect the original intent.\u003cbr\\/\u003e\\nThat original intent\\/behavior can certainly be changed &amp; improved of course, but do we have a consensus on what the new behavior should be?  That should also include how to deal with back compat issues as well.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_15038512_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038512_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 20:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T20:06:40+0000\'\u003e03\\/Dec\\/15 20:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Changed from \\\"Bug\\\" to \\\"Improvement\\\" as the code seems to reflect the original intent. \\nThat original intent\\/behavior can certainly be changed &amp; improved of course, but do we have a consensus on what the new behavior should be?  That should also include how to deal with back compat issues as well.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15038544\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15038544&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15038544\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thomas_egense\\\" id=\\\"commentauthor_15038544_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thomas_egense\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thomas_egense\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Thomas Egense\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038544_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 20:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T20:28:54+0000\'\u003e03\\/Dec\\/15 20:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIt is a clear \\\"Bug\\\" in the following case: MM=100% and default operator = \\\"AND\\\"\u003cbr\\/\u003e\\nYou search for (A B AND C)  and it is parsed as (A OR B) AND C &lt;- not correct\u003cbr\\/\u003e\\n while the (A B C) will be parsed as (A AND B AND C) &lt;- correct\u003cbr\\/\u003e\\nThe presence of any AND\\/OR present in the query will trigger this bug that that defaults to the OR operator even though AND was defined as the default operator in SolrConfig. It should \u003cbr\\/\u003e\\nThere is no bug if default operator=\\\"OR\\\".\u003c\\/p\u003e\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thomas_egense\\\" id=\\\"commentauthor_15038544_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thomas_egense\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thomas_egense\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Thomas Egense\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038544_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 20:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T20:28:54+0000\'\u003e03\\/Dec\\/15 20:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    It is a clear \\\"Bug\\\" in the following case: MM=100% and default operator = \\\"AND\\\" \\nYou search for (A B AND C)  and it is parsed as (A OR B) AND C &lt;- not correct \\n while the (A B C) will be parsed as (A AND B AND C) &lt;- correct \\nThe presence of any AND\\/OR present in the query will trigger this bug that that defaults to the OR operator even though AND was defined as the default operator in SolrConfig. It should  \\nThere is no bug if default operator=\\\"OR\\\". \\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15038585\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15038585&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15038585\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jkrupan\\\" id=\\\"commentauthor_15038585_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jkrupan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jkrupan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jack Krupansky\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038585_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 21:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T21:04:39+0000\'\u003e03\\/Dec\\/15 21:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe behavior of mm only applying to the top-level query is not documented at present.\u003c\\/p\u003e\\n\\n\u003cp\u003eEven if having mm apply only to the top-level query is intended, it seems a separate matter as to how the q.op parameter applies. I\'ve never seen any doc or discussion that suggested that the default operator should only apply to the top-level query. I haven\'t looked at the code lately, but it used to be that q.op was just used to set the internal mm value and then completely ignored in the sense that it was not passed down to the Lucene query parser to use as the Lucene default operator. IOW, the Lucene setDefaultOperator method was never called.\u003c\\/p\u003e\\n\\n\u003cp\u003eSee:\u003cbr\\/\u003e\\n\u003ca href=\\\"https:\\/\\/lucene.apache.org\\/core\\/5_3_0\\/queryparser\\/org\\/apache\\/lucene\\/queryparser\\/classic\\/QueryParserBase.html#setDefaultOperator(org.apache.lucene.queryparser.classic.QueryParser.Operator\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/lucene.apache.org\\/core\\/5_3_0\\/queryparser\\/org\\/apache\\/lucene\\/queryparser\\/classic\\/QueryParserBase.html#setDefaultOperator(org.apache.lucene.queryparser.classic.QueryParser.Operator\u003c\\/a\u003e)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jkrupan\\\" id=\\\"commentauthor_15038585_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jkrupan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jkrupan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jack Krupansky\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038585_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 21:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T21:04:39+0000\'\u003e03\\/Dec\\/15 21:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The behavior of mm only applying to the top-level query is not documented at present. \\n\\n Even if having mm apply only to the top-level query is intended, it seems a separate matter as to how the q.op parameter applies. I\'ve never seen any doc or discussion that suggested that the default operator should only apply to the top-level query. I haven\'t looked at the code lately, but it used to be that q.op was just used to set the internal mm value and then completely ignored in the sense that it was not passed down to the Lucene query parser to use as the Lucene default operator. IOW, the Lucene setDefaultOperator method was never called. \\n\\n See: \\n https:\\/\\/lucene.apache.org\\/core\\/5_3_0\\/queryparser\\/org\\/apache\\/lucene\\/queryparser\\/classic\\/QueryParserBase.html#setDefaultOperator(org.apache.lucene.queryparser.classic.QueryParser.Operator )              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15038596\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15038596&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15038596\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"iorixxx\\\" id=\\\"commentauthor_15038596_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=iorixxx\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"iorixxx\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ahmet Arslan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038596_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 21:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T21:11:37+0000\'\u003e03\\/Dec\\/15 21:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003edo we have a consensus on what the new behavior should be? \u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eI think Jan\'s \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-2649?focusedCommentId=13199400&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13199400\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003eproposal \u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003ePersonally, I understand that edismax is initially designed for power users who supposed to know what they are looking for. However, this assumption looks too strong given that wide range of users started to use edismax.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"iorixxx\\\" id=\\\"commentauthor_15038596_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=iorixxx\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"iorixxx\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ahmet Arslan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038596_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 21:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T21:11:37+0000\'\u003e03\\/Dec\\/15 21:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     do we have a consensus on what the new behavior should be?   \\n I think Jan\'s  proposal   \\n\\n Personally, I understand that edismax is initially designed for power users who supposed to know what they are looking for. However, this assumption looks too strong given that wide range of users started to use edismax.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15038626\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15038626&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15038626\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gpendleb\\\" id=\\\"commentauthor_15038626_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gpendleb\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gpendleb\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Greg Pendlebury\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038626_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 21:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T21:30:21+0000\'\u003e03\\/Dec\\/15 21:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Greg Pendlebury - 03\\/Dec\\/15 21:31\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI tried Jan\'s patch, and (whilst it is technically correct) it did not improve the usefulness of edismax without also addressing how q.op is handled. We continued to see absurd search results that failed UAT.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe combined patch with both has been on our prod servers since May 2014 without any problems, but I have not heard any feedback from others that might have tried it. The corpus is nearly 200 million fulltext newspaper articles: \u003ca href=\\\"http:\\/\\/trove.nla.gov.au\\/newspaper\\/result?q=\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/trove.nla.gov.au\\/newspaper\\/result?q=\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gpendleb\\\" id=\\\"commentauthor_15038626_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gpendleb\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gpendleb\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Greg Pendlebury\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038626_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 21:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T21:30:21+0000\'\u003e03\\/Dec\\/15 21:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Greg Pendlebury - 03\\/Dec\\/15 21:31\\\"\u003eedited\u003c\\/span\u003e                   I tried Jan\'s patch, and (whilst it is technically correct) it did not improve the usefulness of edismax without also addressing how q.op is handled. We continued to see absurd search results that failed UAT. \\n\\n The combined patch with both has been on our prod servers since May 2014 without any problems, but I have not heard any feedback from others that might have tried it. The corpus is nearly 200 million fulltext newspaper articles:  http:\\/\\/trove.nla.gov.au\\/newspaper\\/result?q=               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15038658\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15038658&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15038658\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_15038658_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038658_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 21:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T21:47:21+0000\'\u003e03\\/Dec\\/15 21:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=gpendleb\\\" class=\\\"user-hover\\\" rel=\\\"gpendleb\\\"\u003eGreg Pendlebury\u003c\\/a\u003e Just to make sure we\'re talking about the same thing, when you say \\\"Jan\'s patch\\\", it\'s the one from 17\\/Feb\\/15 21:17, right?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_15038658_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038658_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 21:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T21:47:21+0000\'\u003e03\\/Dec\\/15 21:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Greg Pendlebury  Just to make sure we\'re talking about the same thing, when you say \\\"Jan\'s patch\\\", it\'s the one from 17\\/Feb\\/15 21:17, right?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15038679\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15038679&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15038679\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_15038679_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038679_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 22:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T22:00:26+0000\'\u003e03\\/Dec\\/15 22:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOK, all tests pass with with this patch. There is one (and only one) pre-existing test that had to be changed about line 1000 in TestExtendedDismaxParser.java, this test used to find 1 doc, now finds 0:\u003c\\/p\u003e\\n\\n\u003cp\u003e    assertQ(\\\"test cjk (conjunction)\\\",\u003cbr\\/\u003e\\n        req(\\\"q\\\", \\\"\\u5927\\u4E9A\\u6E7E OR bogus\\\",\u003cbr\\/\u003e\\n            \\\"qf\\\", \\\"standardtok\\\",\u003cbr\\/\u003e\\n            \\\"mm\\\", \\\"100%\\\",\u003cbr\\/\u003e\\n            \\\"defType\\\", \\\"edismax\\\")\u003cbr\\/\u003e\\n        , \\\"\\/\\/*\u003cspan class=\\\"error\\\"\u003e&#91;@numFound=&#39;0&#39;&#93;\u003c\\/span\u003e\\\");\u003c\\/p\u003e\\n\\n\u003cp\u003eThe document it used to find is here: assertU(adoc(\\\"id\\\", \\\"57\\\", \\\"standardtok\\\", \\\"\\u5927\\u4E9A\\u6E7E\\\")); \u003c\\/p\u003e\\n\\n\u003cp\u003eSo this change seems reasonable given the patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_15038679_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038679_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 22:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T22:00:26+0000\'\u003e03\\/Dec\\/15 22:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    OK, all tests pass with with this patch. There is one (and only one) pre-existing test that had to be changed about line 1000 in TestExtendedDismaxParser.java, this test used to find 1 doc, now finds 0: \\n\\n     assertQ(\\\"test cjk (conjunction)\\\", \\n        req(\\\"q\\\", \\\"\\u5927\\u4E9A\\u6E7E OR bogus\\\", \\n            \\\"qf\\\", \\\"standardtok\\\", \\n            \\\"mm\\\", \\\"100%\\\", \\n            \\\"defType\\\", \\\"edismax\\\") \\n        , \\\"\\/\\/* &#91;@numFound=&#39;0&#39;&#93; \\\"); \\n\\n The document it used to find is here: assertU(adoc(\\\"id\\\", \\\"57\\\", \\\"standardtok\\\", \\\"\\u5927\\u4E9A\\u6E7E\\\"));  \\n\\n So this change seems reasonable given the patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15038688\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15038688&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15038688\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gpendleb\\\" id=\\\"commentauthor_15038688_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gpendleb\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gpendleb\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Greg Pendlebury\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038688_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 22:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T22:04:51+0000\'\u003e03\\/Dec\\/15 22:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMine shows as 18th Feb, but I assume that is just timezones. Assuming we are talking about the same patch, then, no, that is my patch (both of the \'with-Qop\' patches are from me). Jan, submitted the earlier 2014 patch which I used as a baseline to add the q.op change as well.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gpendleb\\\" id=\\\"commentauthor_15038688_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gpendleb\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gpendleb\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Greg Pendlebury\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038688_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 22:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T22:04:51+0000\'\u003e03\\/Dec\\/15 22:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Mine shows as 18th Feb, but I assume that is just timezones. Assuming we are talking about the same patch, then, no, that is my patch (both of the \'with-Qop\' patches are from me). Jan, submitted the earlier 2014 patch which I used as a baseline to add the q.op change as well.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15038700\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15038700&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15038700\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"janhoy\\\" id=\\\"commentauthor_15038700_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"janhoy\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jan H\\u00F8ydahl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038700_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 22:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T22:12:37+0000\'\u003e03\\/Dec\\/15 22:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'m positive to the latest combined approach, although I have not tested it.\u003c\\/p\u003e\\n\\n\u003cp\u003eRegarding back-compat, I view current behavior as a bug, so most people would applaud the change.\u003cbr\\/\u003e\\nHowever, I\'m not opposed to a new config option for keeping old behavior, and let new behavior be default based on \u003ctt\u003eLuceneMatchVersion\u003c\\/tt\u003e.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"janhoy\\\" id=\\\"commentauthor_15038700_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"janhoy\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jan H\\u00F8ydahl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038700_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 22:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T22:12:37+0000\'\u003e03\\/Dec\\/15 22:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'m positive to the latest combined approach, although I have not tested it. \\n\\n Regarding back-compat, I view current behavior as a bug, so most people would applaud the change. \\nHowever, I\'m not opposed to a new config option for keeping old behavior, and let new behavior be default based on  LuceneMatchVersion .              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15038738\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15038738&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15038738\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mlissner\\\" id=\\\"commentauthor_15038738_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mlissner\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mlissner\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Lissner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038738_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 22:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T22:32:53+0000\'\u003e03\\/Dec\\/15 22:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Mike Lissner - 03\\/Dec\\/15 22:33\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI know this is a spammy comment, but I can\'t help but say how excited I am this is finally getting fixed. It\'s been a thorn in my side for YEARS. Thanks to everybody that\'s pushing this forward today. Y\'all are fantastic.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mlissner\\\" id=\\\"commentauthor_15038738_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mlissner\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mlissner\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Lissner\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038738_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 22:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T22:32:53+0000\'\u003e03\\/Dec\\/15 22:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Mike Lissner - 03\\/Dec\\/15 22:33\\\"\u003eedited\u003c\\/span\u003e                   I know this is a spammy comment, but I can\'t help but say how excited I am this is finally getting fixed. It\'s been a thorn in my side for YEARS. Thanks to everybody that\'s pushing this forward today. Y\'all are fantastic.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15038767\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15038767&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15038767\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_15038767_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038767_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 22:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T22:53:44+0000\'\u003e03\\/Dec\\/15 22:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eI view current behavior as a bug\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eA bug in the idea?  That\'s not traditionally what we refer to as a bug unless it was unintended.\u003cbr\\/\u003e\\nThis would not qualify to go in a bugfix-only release, etc.  I\'m guessing you\'re using the term loosely, as in \\\"I wouldn\'t have made the same design decisions\\\".  That\'s fine, and can be changed.  But I don\'t think we should be redefining terminology toward that end and calling things we don\'t agree with \\\"bugs\\\".\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_15038767_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038767_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 22:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T22:53:44+0000\'\u003e03\\/Dec\\/15 22:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     I view current behavior as a bug  \\n\\n A bug in the idea?  That\'s not traditionally what we refer to as a bug unless it was unintended. \\nThis would not qualify to go in a bugfix-only release, etc.  I\'m guessing you\'re using the term loosely, as in \\\"I wouldn\'t have made the same design decisions\\\".  That\'s fine, and can be changed.  But I don\'t think we should be redefining terminology toward that end and calling things we don\'t agree with \\\"bugs\\\".              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15038840\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15038840&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15038840\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"janhoy\\\" id=\\\"commentauthor_15038840_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"janhoy\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jan H\\u00F8ydahl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038840_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 23:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T23:35:01+0000\'\u003e03\\/Dec\\/15 23:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eA bug in the idea\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eWell, perhaps not a bug from developer intent point of view. But users still get puzzled from this behavior time after time, even after having read the end user documentation. So let\'s call it an \\\"improvement\\\" and let the old behavior be available for those who might prefer it.\u003c\\/p\u003e\\n\\n\u003cp\u003eAlso, I just recalled \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4646\\\" title=\\\"[edismax] let lowercaseOperators default to &quot;false&quot;\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4646\\\"\u003e\u003cdel\u003eSOLR-4646\u003c\\/del\u003e\u003c\\/a\u003e and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3580\\\" title=\\\"In ExtendedDismax, lowercase &#39;not&#39; operator is not being treated as an operator when &#39;lowercaseOperators&#39; is enabled\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3580\\\"\u003eSOLR-3580\u003c\\/a\u003e which are related: The problem gets worse by the fact that \u003ctt\u003elowercaseOperators\u003c\\/tt\u003e defaults to true, which is a catastrophic bad default for all non-english languages.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"janhoy\\\" id=\\\"commentauthor_15038840_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"janhoy\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jan H\\u00F8ydahl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15038840_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/15 23:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-03T23:35:01+0000\'\u003e03\\/Dec\\/15 23:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     A bug in the idea  \\n Well, perhaps not a bug from developer intent point of view. But users still get puzzled from this behavior time after time, even after having read the end user documentation. So let\'s call it an \\\"improvement\\\" and let the old behavior be available for those who might prefer it. \\n\\n Also, I just recalled   SOLR-4646   and  SOLR-3580  which are related: The problem gets worse by the fact that  lowercaseOperators  defaults to true, which is a catastrophic bad default for all non-english languages.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15039704\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15039704&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15039704\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"brianwc\\\" id=\\\"commentauthor_15039704_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=brianwc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"brianwc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Brian Carver\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15039704_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Dec\\/15 03:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-04T03:43:02+0000\'\u003e04\\/Dec\\/15 03:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis all began, years ago, with this query (assume whitespace=AND and mm=100%):\u003c\\/p\u003e\\n\\n\u003cp\u003e(A or B or C) \\\"D E\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eWill the currently proposed patch interpret such a query as:\u003c\\/p\u003e\\n\\n\u003cp\u003e(A or B or C) AND \\\"D E\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eor in some other way? \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"brianwc\\\" id=\\\"commentauthor_15039704_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=brianwc\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"brianwc\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Brian Carver\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15039704_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Dec\\/15 03:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-04T03:43:02+0000\'\u003e04\\/Dec\\/15 03:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This all began, years ago, with this query (assume whitespace=AND and mm=100%): \\n\\n (A or B or C) \\\"D E\\\" \\n\\n Will the currently proposed patch interpret such a query as: \\n\\n (A or B or C) AND \\\"D E\\\" \\n\\n or in some other way?               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15039730\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15039730&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15039730\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gpendleb\\\" id=\\\"commentauthor_15039730_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gpendleb\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gpendleb\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Greg Pendlebury\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15039730_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Dec\\/15 04:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-04T04:25:14+0000\'\u003e04\\/Dec\\/15 04:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI just ran it against out test system (patched Solr 5.1.0): (A OR B OR C) \\\"D E\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003e1) Using mm=100%, q.op=AND and searching just the fulltext field. RAW debug:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e(+(+(DisjunctionMaxQuery((fulltext:a)) DisjunctionMaxQuery((fulltext:b)) DisjunctionMaxQuery((fulltext:c))) +DisjunctionMaxQuery((fulltext:\\\\\u003cspan class=\\\"code-quote\\\"\u003e\\\"d e\\\\\\\"\u003c\\/span\u003e))))\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eI read that as:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e+(a b c) +(\u003cspan class=\\\"code-quote\\\"\u003e\\\"d e\\\"\u003c\\/span\u003e)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003ewhich looks correct\u003c\\/p\u003e\\n\\n\u003cp\u003e2) switching to q.op=OR. RAW debug:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e(+(((DisjunctionMaxQuery((fulltext:a)) DisjunctionMaxQuery((fulltext:b)) DisjunctionMaxQuery((fulltext:c))) DisjunctionMaxQuery((fulltext:\\\\\u003cspan class=\\\"code-quote\\\"\u003e\\\"d e\\\\\\\"\u003c\\/span\u003e)))~2))\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eI read that as:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e((a b c) \u003cspan class=\\\"code-quote\\\"\u003e\\\"d e\\\"\u003c\\/span\u003e)~2\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eWhich again looks correct... but we don\'t generally use OR, so I could be wrong\u003c\\/p\u003e\\n\\n\u003cp\u003e3) Finally, lowered mm to 50%, again with q.op=OR. RAW debug:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e(+(((DisjunctionMaxQuery((fulltext:a)) DisjunctionMaxQuery((fulltext:b)) DisjunctionMaxQuery((fulltext:c))) DisjunctionMaxQuery((fulltext:\\\\\u003cspan class=\\\"code-quote\\\"\u003e\\\"d e\\\\\\\"\u003c\\/span\u003e)))~1))\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eI read that as:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e((a b c) \u003cspan class=\\\"code-quote\\\"\u003e\\\"d e\\\"\u003c\\/span\u003e)~1\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eStill looks good.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gpendleb\\\" id=\\\"commentauthor_15039730_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gpendleb\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gpendleb\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Greg Pendlebury\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15039730_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Dec\\/15 04:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-04T04:25:14+0000\'\u003e04\\/Dec\\/15 04:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I just ran it against out test system (patched Solr 5.1.0): (A OR B OR C) \\\"D E\\\" \\n\\n 1) Using mm=100%, q.op=AND and searching just the fulltext field. RAW debug: \\n  \\n (+(+(DisjunctionMaxQuery((fulltext:a)) DisjunctionMaxQuery((fulltext:b)) DisjunctionMaxQuery((fulltext:c))) +DisjunctionMaxQuery((fulltext:\\\\ \\\"d e\\\\\\\" ))))\\n \\n  \\n I read that as: \\n  \\n +(a b c) +( \\\"d e\\\" )\\n \\n  \\n which looks correct \\n\\n 2) switching to q.op=OR. RAW debug: \\n  \\n (+(((DisjunctionMaxQuery((fulltext:a)) DisjunctionMaxQuery((fulltext:b)) DisjunctionMaxQuery((fulltext:c))) DisjunctionMaxQuery((fulltext:\\\\ \\\"d e\\\\\\\" )))~2))\\n \\n  \\n I read that as: \\n  \\n ((a b c)  \\\"d e\\\" )~2\\n \\n  \\n Which again looks correct... but we don\'t generally use OR, so I could be wrong \\n\\n 3) Finally, lowered mm to 50%, again with q.op=OR. RAW debug: \\n  \\n (+(((DisjunctionMaxQuery((fulltext:a)) DisjunctionMaxQuery((fulltext:b)) DisjunctionMaxQuery((fulltext:c))) DisjunctionMaxQuery((fulltext:\\\\ \\\"d e\\\\\\\" )))~1))\\n \\n  \\n I read that as: \\n  \\n ((a b c)  \\\"d e\\\" )~1\\n \\n  \\n Still looks good.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15039772\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15039772&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15039772\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_15039772_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15039772_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Dec\\/15 05:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-04T05:29:25+0000\'\u003e04\\/Dec\\/15 05:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Erick Erickson - 04\\/Dec\\/15 05:29\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=gpendleb\\\" class=\\\"user-hover\\\" rel=\\\"gpendleb\\\"\u003eGreg Pendlebury\u003c\\/a\u003e OK, we\'re using the same patch which was what  I wanted to be sure of. Sorry for the mis-attribution.\u003c\\/p\u003e\\n\\n\u003cp\u003eRegardless of what we call it, my questions are:\u003c\\/p\u003e\\n\\n\u003cp\u003e1&gt; Are we going to include this change in 5.4.x? I have no intention of doing so, that ship has already sailed.\u003c\\/p\u003e\\n\\n\u003cp\u003e2&gt; Does this change behavior that we\'ve supported in the past? \u003c\\/p\u003e\\n\\n\u003cp\u003e2a&gt; If \\\"yes\\\", then we need to concern ourselves with back-compat and it\'s arguable whether this should be put in 5.x. It seems that it\'s better behavior than it was before, so perhaps documentation will be sufficient.\u003c\\/p\u003e\\n\\n\u003cp\u003e2b&gt; If \\\"no\\\", then we\'re free to put this in both trunk and 5x (5.5 if one comes out) if we think the behavior is better with this patch. Still add a note to CHANGES.txt, along with the issue...\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m tending at this point to put it in the 5x code line and make a point of this change in CHANGES.txt as I think it\'s a change that\'ll be seen as positive. I\'m not wedded to the idea though.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_15039772_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15039772_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Dec\\/15 05:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-04T05:29:25+0000\'\u003e04\\/Dec\\/15 05:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Erick Erickson - 04\\/Dec\\/15 05:29\\\"\u003eedited\u003c\\/span\u003e                    Greg Pendlebury  OK, we\'re using the same patch which was what  I wanted to be sure of. Sorry for the mis-attribution. \\n\\n Regardless of what we call it, my questions are: \\n\\n 1&gt; Are we going to include this change in 5.4.x? I have no intention of doing so, that ship has already sailed. \\n\\n 2&gt; Does this change behavior that we\'ve supported in the past?  \\n\\n 2a&gt; If \\\"yes\\\", then we need to concern ourselves with back-compat and it\'s arguable whether this should be put in 5.x. It seems that it\'s better behavior than it was before, so perhaps documentation will be sufficient. \\n\\n 2b&gt; If \\\"no\\\", then we\'re free to put this in both trunk and 5x (5.5 if one comes out) if we think the behavior is better with this patch. Still add a note to CHANGES.txt, along with the issue... \\n\\n I\'m tending at this point to put it in the 5x code line and make a point of this change in CHANGES.txt as I think it\'s a change that\'ll be seen as positive. I\'m not wedded to the idea though.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15055185\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15055185&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15055185\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_15055185_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15055185_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/15 22:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-13T22:08:06+0000\'\u003e13\\/Dec\\/15 22:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSame as \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-2649\\\" title=\\\"MM ignored in edismax queries with operators\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-2649\\\"\u003e\u003cdel\u003eSOLR-2649\u003c\\/del\u003e\u003c\\/a\u003e-with-Qop patch but CHANGES attributions.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m going to run precommit\\/test on this file and commit later today unless there are objections. I looked through the added tests and they seem to cover these bases well so...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_15055185_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15055185_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/15 22:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-13T22:08:06+0000\'\u003e13\\/Dec\\/15 22:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Same as   SOLR-2649  -with-Qop patch but CHANGES attributions. \\n\\n I\'m going to run precommit\\/test on this file and commit later today unless there are objections. I looked through the added tests and they seem to cover these bases well so...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15055202\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15055202&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15055202\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gpendleb\\\" id=\\\"commentauthor_15055202_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gpendleb\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gpendleb\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Greg Pendlebury\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15055202_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/15 22:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-13T22:48:11+0000\'\u003e13\\/Dec\\/15 22:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\" class=\\\"user-hover\\\" rel=\\\"erickerickson\\\"\u003eErick Erickson\u003c\\/a\u003e thanks for this!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gpendleb\\\" id=\\\"commentauthor_15055202_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gpendleb\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gpendleb\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Greg Pendlebury\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15055202_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/15 22:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-13T22:48:11+0000\'\u003e13\\/Dec\\/15 22:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Erick Erickson  thanks for this!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15057181\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15057181&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15057181\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15057181_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15057181_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Dec\\/15 02:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-15T02:08:52+0000\'\u003e15\\/Dec\\/15 02:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1720062 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=erickoerickson\\\" class=\\\"user-hover\\\" rel=\\\"erickoerickson\\\"\u003eErick Erickson\u003c\\/a\u003e in branch \'dev\\/trunk\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1720062\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1720062\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-2649\\\" title=\\\"MM ignored in edismax queries with operators\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-2649\\\"\u003e\u003cdel\u003eSOLR-2649\u003c\\/del\u003e\u003c\\/a\u003e: MM ignored in edismax queries with operators\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15057181_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15057181_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Dec\\/15 02:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-15T02:08:52+0000\'\u003e15\\/Dec\\/15 02:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1720062 from  Erick Erickson  in branch \'dev\\/trunk\' \\n[  https:\\/\\/svn.apache.org\\/r1720062  ] \\n\\n   SOLR-2649  : MM ignored in edismax queries with operators              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15057343\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15057343&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15057343\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15057343_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15057343_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Dec\\/15 04:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-15T04:50:26+0000\'\u003e15\\/Dec\\/15 04:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1720072 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=erickoerickson\\\" class=\\\"user-hover\\\" rel=\\\"erickoerickson\\\"\u003eErick Erickson\u003c\\/a\u003e in branch \'dev\\/branches\\/branch_5x\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1720072\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1720072\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-2649\\\" title=\\\"MM ignored in edismax queries with operators\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-2649\\\"\u003e\u003cdel\u003eSOLR-2649\u003c\\/del\u003e\u003c\\/a\u003e: MM ignored in edismax queries with operators\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15057343_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15057343_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Dec\\/15 04:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-15T04:50:26+0000\'\u003e15\\/Dec\\/15 04:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1720072 from  Erick Erickson  in branch \'dev\\/branches\\/branch_5x\' \\n[  https:\\/\\/svn.apache.org\\/r1720072  ] \\n\\n   SOLR-2649  : MM ignored in edismax queries with operators              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15057345\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15057345&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15057345\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_15057345_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15057345_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Dec\\/15 04:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-15T04:51:25+0000\'\u003e15\\/Dec\\/15 04:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks to all who contributed here!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_15057345_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15057345_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Dec\\/15 04:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-12-15T04:51:25+0000\'\u003e15\\/Dec\\/15 04:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks to all who contributed here!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15138199\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15138199&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15138199\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mjsminkey\\\" id=\\\"commentauthor_15138199_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mjsminkey\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mjsminkey\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mary Jo Sminkey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15138199_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Feb\\/16 01:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-02-09T01:34:31+0000\'\u003e09\\/Feb\\/16 01:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis bug appears to be incorrectly referenced in the 5.5 release notes: \u003ca href=\\\"https:\\/\\/builds.apache.org\\/job\\/Solr-Artifacts-5.x\\/lastSuccessfulBuild\\/artifact\\/solr\\/package\\/changes\\/Changes.html#v5.5.0.bug_fixes\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/builds.apache.org\\/job\\/Solr-Artifacts-5.x\\/lastSuccessfulBuild\\/artifact\\/solr\\/package\\/changes\\/Changes.html#v5.5.0.bug_fixes\u003c\\/a\u003e\u003cbr\\/\u003e\\n(\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-2469\\\" title=\\\"replication reserves commit-point forever if using replicateAfter=startup\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-2469\\\"\u003e\u003cdel\u003eSOLR-2469\u003c\\/del\u003e\u003c\\/a\u003e instead of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-2649\\\" title=\\\"MM ignored in edismax queries with operators\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-2649\\\"\u003e\u003cdel\u003eSOLR-2649\u003c\\/del\u003e\u003c\\/a\u003e)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mjsminkey\\\" id=\\\"commentauthor_15138199_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mjsminkey\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mjsminkey\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mary Jo Sminkey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15138199_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Feb\\/16 01:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-02-09T01:34:31+0000\'\u003e09\\/Feb\\/16 01:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This bug appears to be incorrectly referenced in the 5.5 release notes:  https:\\/\\/builds.apache.org\\/job\\/Solr-Artifacts-5.x\\/lastSuccessfulBuild\\/artifact\\/solr\\/package\\/changes\\/Changes.html#v5.5.0.bug_fixes  \\n(  SOLR-2469   instead of   SOLR-2649  )              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15138204\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15138204&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15138204\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_15138204_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15138204_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Feb\\/16 01:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-02-09T01:37:47+0000\'\u003e09\\/Feb\\/16 01:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOh, rats. I transposed the numbers.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks for pointing that out!\u003c\\/p\u003e\\n\\n\u003cp\u003eErick\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_15138204_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15138204_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Feb\\/16 01:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-02-09T01:37:47+0000\'\u003e09\\/Feb\\/16 01:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Oh, rats. I transposed the numbers. \\n\\n Thanks for pointing that out! \\n\\n Erick              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15138298\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15138298&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15138298\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15138298_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15138298_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Feb\\/16 03:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-02-09T03:50:35+0000\'\u003e09\\/Feb\\/16 03:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1f66406cb3b281bec3739b55aa4294e2d066151f in lucene-solr\'s branch refs\\/heads\\/master from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\" class=\\\"user-hover\\\" rel=\\\"erickerickson\\\"\u003eErick Erickson\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=1f66406\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=1f66406\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003eCorrected CHANGES.txt entry for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-2649\\\" title=\\\"MM ignored in edismax queries with operators\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-2649\\\"\u003e\u003cdel\u003eSOLR-2649\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15138298_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15138298_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Feb\\/16 03:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-02-09T03:50:35+0000\'\u003e09\\/Feb\\/16 03:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1f66406cb3b281bec3739b55aa4294e2d066151f in lucene-solr\'s branch refs\\/heads\\/master from  Erick Erickson  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=1f66406  ] \\n\\n Corrected CHANGES.txt entry for   SOLR-2649                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15138303\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15138303&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15138303\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15138303_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15138303_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Feb\\/16 03:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-02-09T03:53:40+0000\'\u003e09\\/Feb\\/16 03:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 21e019fab07ac8ed4fa4724c002401f84940db3f in lucene-solr\'s branch refs\\/heads\\/branch_5x from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\" class=\\\"user-hover\\\" rel=\\\"erickerickson\\\"\u003eErick Erickson\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=21e019f\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=21e019f\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003eCorrected CHANGES.txt entry for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-2649\\\" title=\\\"MM ignored in edismax queries with operators\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-2649\\\"\u003e\u003cdel\u003eSOLR-2649\u003c\\/del\u003e\u003c\\/a\u003e\u003cbr\\/\u003e\\n(cherry picked from commit 1f66406)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15138303_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15138303_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Feb\\/16 03:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-02-09T03:53:40+0000\'\u003e09\\/Feb\\/16 03:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 21e019fab07ac8ed4fa4724c002401f84940db3f in lucene-solr\'s branch refs\\/heads\\/branch_5x from  Erick Erickson  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=21e019f  ] \\n\\n Corrected CHANGES.txt entry for   SOLR-2649   \\n(cherry picked from commit 1f66406)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15292371\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15292371&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15292371\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rebeccatang\\\" id=\\\"commentauthor_15292371_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rebeccatang\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rebeccatang\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rebecca Tang\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15292371_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/May\\/16 23:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-19T23:51:23+0000\'\u003e19\\/May\\/16 23:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI upgraded to solr-5.5.1. But when I set \\\"mm\\\" to 100% for edismax, the OR operator is ignored and query is always executed as AND.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe following three queries all return the same results (I expect the first two to return the same results, but the third one should not):\u003cbr\\/\u003e\\neggplant tobacco\u003cbr\\/\u003e\\neggplant AND tobacco\u003cbr\\/\u003e\\neggplant OR tobacco\u003c\\/p\u003e\\n\\n\u003cp\u003eDid anyone run into this issue after adopting this bug fix?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rebeccatang\\\" id=\\\"commentauthor_15292371_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rebeccatang\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rebeccatang\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rebecca Tang\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15292371_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/May\\/16 23:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-19T23:51:23+0000\'\u003e19\\/May\\/16 23:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I upgraded to solr-5.5.1. But when I set \\\"mm\\\" to 100% for edismax, the OR operator is ignored and query is always executed as AND. \\n\\n The following three queries all return the same results (I expect the first two to return the same results, but the third one should not): \\neggplant tobacco \\neggplant AND tobacco \\neggplant OR tobacco \\n\\n Did anyone run into this issue after adopting this bug fix?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15292397\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15292397&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15292397\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gpendleb\\\" id=\\\"commentauthor_15292397_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gpendleb\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gpendleb\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Greg Pendlebury\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15292397_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/May\\/16 00:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-20T00:03:18+0000\'\u003e20\\/May\\/16 00:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=rebeccatang\\\" class=\\\"user-hover\\\" rel=\\\"rebeccatang\\\"\u003eRebecca Tang\u003c\\/a\u003e, that sounds like expected behaviour. Your \'OR\' operator is not being ignored; but rather, Solr translates OR operators into SHOULD occur flags (ie. optional search terms)... then, if \'mm\' is set to 100%, this tells Solr that you require every optional search term to be present in the result set.\u003c\\/p\u003e\\n\\n\u003cp\u003eIf you are explicitly setting \'mm\' you should use a different value if you want OR operators to function. Also see \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-8812\\\" title=\\\"ExtendedDismaxQParser (edismax) ignores Boolean OR when q.op=AND and mm is not explicitly set\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-8812\\\"\u003e\u003cdel\u003eSOLR-8812\u003c\\/del\u003e\u003c\\/a\u003e, which discusses setting a better default value for \'mm\', particularly one that changes depending on the \'q.op\' parameter. Of course that only applies in the case where you are not explicitly setting \'mm\'.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gpendleb\\\" id=\\\"commentauthor_15292397_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gpendleb\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gpendleb\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Greg Pendlebury\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15292397_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/May\\/16 00:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-20T00:03:18+0000\'\u003e20\\/May\\/16 00:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Rebecca Tang , that sounds like expected behaviour. Your \'OR\' operator is not being ignored; but rather, Solr translates OR operators into SHOULD occur flags (ie. optional search terms)... then, if \'mm\' is set to 100%, this tells Solr that you require every optional search term to be present in the result set. \\n\\n If you are explicitly setting \'mm\' you should use a different value if you want OR operators to function. Also see   SOLR-8812  , which discusses setting a better default value for \'mm\', particularly one that changes depending on the \'q.op\' parameter. Of course that only applies in the case where you are not explicitly setting \'mm\'.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15295115\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15295115&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15295115\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"elyograg\\\" id=\\\"commentauthor_15295115_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=elyograg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"elyograg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shawn Heisey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15295115_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/May\\/16 16:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-21T16:21:21+0000\'\u003e21\\/May\\/16 16:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIs setting mm to 100% the only thing you changed to force \\\"AND\\\" by default?  I ask because \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-8812\\\" title=\\\"ExtendedDismaxQParser (edismax) ignores Boolean OR when q.op=AND and mm is not explicitly set\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-8812\\\"\u003e\u003cdel\u003eSOLR-8812\u003c\\/del\u003e\u003c\\/a\u003e sounds like the issue you are running into, but according to the issue title, it happens when setting q.op=AND.  \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-8812\\\" title=\\\"ExtendedDismaxQParser (edismax) ignores Boolean OR when q.op=AND and mm is not explicitly set\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-8812\\\"\u003e\u003cdel\u003eSOLR-8812\u003c\\/del\u003e\u003c\\/a\u003e is not clear about whether mm=100% can cause the same problem.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"elyograg\\\" id=\\\"commentauthor_15295115_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=elyograg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"elyograg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shawn Heisey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15295115_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/May\\/16 16:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-05-21T16:21:21+0000\'\u003e21\\/May\\/16 16:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Is setting mm to 100% the only thing you changed to force \\\"AND\\\" by default?  I ask because   SOLR-8812   sounds like the issue you are running into, but according to the issue title, it happens when setting q.op=AND.    SOLR-8812   is not clear about whether mm=100% can cause the same problem.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15323986\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15323986&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15323986\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15323986_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15323986_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jun\\/16 07:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-10T07:01:53+0000\'\u003e10\\/Jun\\/16 07:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 5bc34949adc911dacba29c08f1e522de4679aee6 in lucene-solr\'s branch refs\\/heads\\/branch_5_5 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\" class=\\\"user-hover\\\" rel=\\\"steve_rowe\\\"\u003eSteve Rowe\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=5bc3494\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=5bc3494\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-8812\\\" title=\\\"ExtendedDismaxQParser (edismax) ignores Boolean OR when q.op=AND and mm is not explicitly set\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-8812\\\"\u003e\u003cdel\u003eSOLR-8812\u003c\\/del\u003e\u003c\\/a\u003e: edismax: turn off mm processing if no explicit mm spec is provided and there are explicit operators (except for AND) - addresses problems caused by \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-2649\\\" title=\\\"MM ignored in edismax queries with operators\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-2649\\\"\u003e\u003cdel\u003eSOLR-2649\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15323986_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15323986_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jun\\/16 07:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-10T07:01:53+0000\'\u003e10\\/Jun\\/16 07:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 5bc34949adc911dacba29c08f1e522de4679aee6 in lucene-solr\'s branch refs\\/heads\\/branch_5_5 from  Steve Rowe  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=5bc3494  ] \\n\\n   SOLR-8812  : edismax: turn off mm processing if no explicit mm spec is provided and there are explicit operators (except for AND) - addresses problems caused by   SOLR-2649                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15323989\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15323989&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15323989\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15323989_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15323989_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jun\\/16 07:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-10T07:01:58+0000\'\u003e10\\/Jun\\/16 07:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit e88a64a0490ac2139e0aa55a8ca8b3588ce41395 in lucene-solr\'s branch refs\\/heads\\/branch_5x from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\" class=\\\"user-hover\\\" rel=\\\"steve_rowe\\\"\u003eSteve Rowe\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=e88a64a\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=e88a64a\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-8812\\\" title=\\\"ExtendedDismaxQParser (edismax) ignores Boolean OR when q.op=AND and mm is not explicitly set\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-8812\\\"\u003e\u003cdel\u003eSOLR-8812\u003c\\/del\u003e\u003c\\/a\u003e: edismax: turn off mm processing if no explicit mm spec is provided and there are explicit operators (except for AND) - addresses problems caused by \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-2649\\\" title=\\\"MM ignored in edismax queries with operators\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-2649\\\"\u003e\u003cdel\u003eSOLR-2649\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15323989_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15323989_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jun\\/16 07:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-10T07:01:58+0000\'\u003e10\\/Jun\\/16 07:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit e88a64a0490ac2139e0aa55a8ca8b3588ce41395 in lucene-solr\'s branch refs\\/heads\\/branch_5x from  Steve Rowe  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=e88a64a  ] \\n\\n   SOLR-8812  : edismax: turn off mm processing if no explicit mm spec is provided and there are explicit operators (except for AND) - addresses problems caused by   SOLR-2649                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15323992\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15323992&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15323992\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15323992_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15323992_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jun\\/16 07:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-10T07:02:02+0000\'\u003e10\\/Jun\\/16 07:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 202b993335a370be06db02b866c62a876350b01d in lucene-solr\'s branch refs\\/heads\\/branch_6_0 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\" class=\\\"user-hover\\\" rel=\\\"steve_rowe\\\"\u003eSteve Rowe\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=202b993\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=202b993\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-8812\\\" title=\\\"ExtendedDismaxQParser (edismax) ignores Boolean OR when q.op=AND and mm is not explicitly set\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-8812\\\"\u003e\u003cdel\u003eSOLR-8812\u003c\\/del\u003e\u003c\\/a\u003e: edismax: turn off mm processing if no explicit mm spec is provided and there are explicit operators (except for AND) - addresses problems caused by \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-2649\\\" title=\\\"MM ignored in edismax queries with operators\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-2649\\\"\u003e\u003cdel\u003eSOLR-2649\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15323992_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15323992_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jun\\/16 07:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-10T07:02:02+0000\'\u003e10\\/Jun\\/16 07:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 202b993335a370be06db02b866c62a876350b01d in lucene-solr\'s branch refs\\/heads\\/branch_6_0 from  Steve Rowe  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=202b993  ] \\n\\n   SOLR-8812  : edismax: turn off mm processing if no explicit mm spec is provided and there are explicit operators (except for AND) - addresses problems caused by   SOLR-2649                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15323995\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15323995&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15323995\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15323995_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15323995_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jun\\/16 07:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-10T07:02:07+0000\'\u003e10\\/Jun\\/16 07:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit c2aac7d005424094e129045e834aa6ffb2c7aa82 in lucene-solr\'s branch refs\\/heads\\/branch_6_1 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\" class=\\\"user-hover\\\" rel=\\\"steve_rowe\\\"\u003eSteve Rowe\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=c2aac7d\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=c2aac7d\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-8812\\\" title=\\\"ExtendedDismaxQParser (edismax) ignores Boolean OR when q.op=AND and mm is not explicitly set\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-8812\\\"\u003e\u003cdel\u003eSOLR-8812\u003c\\/del\u003e\u003c\\/a\u003e: edismax: turn off mm processing if no explicit mm spec is provided and there are explicit operators (except for AND) - addresses problems caused by \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-2649\\\" title=\\\"MM ignored in edismax queries with operators\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-2649\\\"\u003e\u003cdel\u003eSOLR-2649\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15323995_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15323995_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jun\\/16 07:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-10T07:02:07+0000\'\u003e10\\/Jun\\/16 07:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit c2aac7d005424094e129045e834aa6ffb2c7aa82 in lucene-solr\'s branch refs\\/heads\\/branch_6_1 from  Steve Rowe  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=c2aac7d  ] \\n\\n   SOLR-8812  : edismax: turn off mm processing if no explicit mm spec is provided and there are explicit operators (except for AND) - addresses problems caused by   SOLR-2649                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15323997\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15323997&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15323997\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15323997_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15323997_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jun\\/16 07:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-10T07:02:09+0000\'\u003e10\\/Jun\\/16 07:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit e0c6762de8dd91e02a79a6d12b3164a052bf07ff in lucene-solr\'s branch refs\\/heads\\/branch_6_1 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\" class=\\\"user-hover\\\" rel=\\\"steve_rowe\\\"\u003eSteve Rowe\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=e0c6762\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=e0c6762\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-8812\\\" title=\\\"ExtendedDismaxQParser (edismax) ignores Boolean OR when q.op=AND and mm is not explicitly set\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-8812\\\"\u003e\u003cdel\u003eSOLR-8812\u003c\\/del\u003e\u003c\\/a\u003e: edismax: turn off mm processing if no explicit mm spec is provided and there are explicit operators (except for AND) - addresses problems caused by \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-2649\\\" title=\\\"MM ignored in edismax queries with operators\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-2649\\\"\u003e\u003cdel\u003eSOLR-2649\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15323997_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15323997_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jun\\/16 07:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-10T07:02:09+0000\'\u003e10\\/Jun\\/16 07:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit e0c6762de8dd91e02a79a6d12b3164a052bf07ff in lucene-solr\'s branch refs\\/heads\\/branch_6_1 from  Steve Rowe  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=e0c6762  ] \\n\\n   SOLR-8812  : edismax: turn off mm processing if no explicit mm spec is provided and there are explicit operators (except for AND) - addresses problems caused by   SOLR-2649                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15323999\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15323999&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15323999\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15323999_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15323999_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jun\\/16 07:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-10T07:02:12+0000\'\u003e10\\/Jun\\/16 07:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 3c789e9d274fb670c53c8eb6eb9dfceace2cd120 in lucene-solr\'s branch refs\\/heads\\/branch_6x from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\" class=\\\"user-hover\\\" rel=\\\"steve_rowe\\\"\u003eSteve Rowe\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=3c789e9\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=3c789e9\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-8812\\\" title=\\\"ExtendedDismaxQParser (edismax) ignores Boolean OR when q.op=AND and mm is not explicitly set\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-8812\\\"\u003e\u003cdel\u003eSOLR-8812\u003c\\/del\u003e\u003c\\/a\u003e: edismax: turn off mm processing if no explicit mm spec is provided and there are explicit operators (except for AND) - addresses problems caused by \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-2649\\\" title=\\\"MM ignored in edismax queries with operators\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-2649\\\"\u003e\u003cdel\u003eSOLR-2649\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15323999_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15323999_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jun\\/16 07:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-10T07:02:12+0000\'\u003e10\\/Jun\\/16 07:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 3c789e9d274fb670c53c8eb6eb9dfceace2cd120 in lucene-solr\'s branch refs\\/heads\\/branch_6x from  Steve Rowe  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=3c789e9  ] \\n\\n   SOLR-8812  : edismax: turn off mm processing if no explicit mm spec is provided and there are explicit operators (except for AND) - addresses problems caused by   SOLR-2649                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15324001\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15324001&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15324001\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15324001_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15324001_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jun\\/16 07:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-10T07:02:15+0000\'\u003e10\\/Jun\\/16 07:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 74d94ec26585d57d6991f99c892f7be1278346f9 in lucene-solr\'s branch refs\\/heads\\/branch_6x from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\" class=\\\"user-hover\\\" rel=\\\"steve_rowe\\\"\u003eSteve Rowe\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=74d94ec\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=74d94ec\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-8812\\\" title=\\\"ExtendedDismaxQParser (edismax) ignores Boolean OR when q.op=AND and mm is not explicitly set\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-8812\\\"\u003e\u003cdel\u003eSOLR-8812\u003c\\/del\u003e\u003c\\/a\u003e: edismax: turn off mm processing if no explicit mm spec is provided and there are explicit operators (except for AND) - addresses problems caused by \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-2649\\\" title=\\\"MM ignored in edismax queries with operators\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-2649\\\"\u003e\u003cdel\u003eSOLR-2649\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15324001_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15324001_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jun\\/16 07:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-10T07:02:15+0000\'\u003e10\\/Jun\\/16 07:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 74d94ec26585d57d6991f99c892f7be1278346f9 in lucene-solr\'s branch refs\\/heads\\/branch_6x from  Steve Rowe  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=74d94ec  ] \\n\\n   SOLR-8812  : edismax: turn off mm processing if no explicit mm spec is provided and there are explicit operators (except for AND) - addresses problems caused by   SOLR-2649                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-15324003\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-2649?focusedCommentId=15324003&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15324003\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15324003_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15324003_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jun\\/16 07:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-10T07:02:18+0000\'\u003e10\\/Jun\\/16 07:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 38714399760889d2d7b188a87341aade6139ffef in lucene-solr\'s branch refs\\/heads\\/master from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\" class=\\\"user-hover\\\" rel=\\\"steve_rowe\\\"\u003eSteve Rowe\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=3871439\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=3871439\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-8812\\\" title=\\\"ExtendedDismaxQParser (edismax) ignores Boolean OR when q.op=AND and mm is not explicitly set\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-8812\\\"\u003e\u003cdel\u003eSOLR-8812\u003c\\/del\u003e\u003c\\/a\u003e: edismax: turn off mm processing if no explicit mm spec is provided and there are explicit operators (except for AND) - addresses problems caused by \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-2649\\\" title=\\\"MM ignored in edismax queries with operators\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-2649\\\"\u003e\u003cdel\u003eSOLR-2649\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_15324003_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_15324003_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jun\\/16 07:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2016-06-10T07:02:18+0000\'\u003e10\\/Jun\\/16 07:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 38714399760889d2d7b188a87341aade6139ffef in lucene-solr\'s branch refs\\/heads\\/master from  Steve Rowe  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=3871439  ] \\n\\n   SOLR-8812  : edismax: turn off mm processing if no explicit mm spec is provided and there are explicit operators (except for AND) - addresses problems caused by   SOLR-2649                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310230";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310230&amp;avatarId=22151\\\" alt=\\\"Solr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\"\u003eSolr\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1516213682293"> 
    <input type="hidden" title="jira.request.server.time" value="733"> 
    <input type="hidden" title="jira.request.id" value="1108x8092365x4"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="8"> 
    <input type="hidden" title="db.reads.time.in.ms" value="73"> 
    <input type="hidden" title="db.conns.time.in.ms" value="84"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 1108x8092365x4
	          REQUEST TIMESTAMP : [17/Jan/2018:18:28:02 +0000]
	               REQUEST TIME : 0.7330
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 8

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=32, elapsedTotal=73827111, elapsedMin=692641, elapsedMax=23284750, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=36, elapsedTotal=84320706, elapsedMin=743442, elapsedMax=23379448, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>