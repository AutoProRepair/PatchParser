<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|76bba3ef2a60d322ed138d4b324ce26be1237a67|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"33e138e12d9867\"";
WRM._unparsedData["project-id"]="10594";
WRM._unparsedData["project-key"]="\"DERBY\"";
WRM._unparsedData["project-name"]="\"Derby\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="10594";
WRM._unparsedData["projectKey"]="\"DERBY\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="DERBY-6429"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[DERBY-6429] Privilege checks for UPDATE statements are wrong. - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[DERBY-6429] Privilege checks for UPDATE statements are wrong. - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/DERBY" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-6429">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="10594" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Derby'" src="https://issues.apache.org/jira/secure/projectavatar?pid=10594&amp;avatarId=10122"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/DERBY">Derby</a></li>
                 <li><a class="issue-link" data-issue-key="DERBY-6429" href="/jira/browse/DERBY-6429" id="key-val" rel="12683643">DERBY-6429</a></li>
                </ol>
                <h1 id="summary-val">Privilege checks for UPDATE statements are wrong.</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-6429"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/DERBY-6429/DERBY-6429.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/DERBY-6429/DERBY-6429.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/DERBY-6429/DERBY-6429.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/DERBY-6429/DERBY-6429.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="10.11.1.1 First release on the 10.11 branch">10.11.1.1</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.11.1.1" title="10.11.1.1 First release on the 10.11 branch">10.11.1.1</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+component+%3D+SQL" title="SQL ">SQL</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <ul class="labels" id="labels-12683643-value"> 
                     <li><a class="lozenge" href="/jira/issues/?jql=labels+%3D+derby_backport_reject_10_10" title="derby_backport_reject_10_10"><span>derby_backport_reject_10_10</span></a></li> 
                    </ul> 
                   </div> 
                  </div> </li> 
                </ul> 
                <div id="customfieldmodule"> 
                 <div class="aui-tabs horizontal-tabs" id="customfield-tabs"> 
                  <div id="customfield-panel-1" class="tabs-pane active-pane"> 
                   <ul class="property-list"> 
                    <li id="rowForcustomfield_12310050" class="item"> 
                     <div class="wrap"> 
                      <strong title="Urgency" class="name">Urgency:</strong> 
                      <div id="customfield_12310050-val" class="value type-select" data-fieldtype="select" data-fieldtypecompletekey="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        Normal 
                      </div> 
                     </div> </li> 
                    <li id="rowForcustomfield_12310090" class="item"> 
                     <div class="wrap"> 
                      <strong title="Issue &amp; fix info" class="name">Issue &amp; fix info:</strong> 
                      <div id="customfield_12310090-val" class="value type-multicheckboxes" data-fieldtype="multicheckboxes" data-fieldtypecompletekey="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"> 
                       <div class="shorten" id="customfield_12310090-field"> 
                        <span>Release Note Needed</span>, 
                        <span>Repro attached</span> 
                       </div> 
                      </div> 
                     </div> </li> 
                    <li id="rowForcustomfield_12310200" class="item"> 
                     <div class="wrap"> 
                      <strong title="Bug behavior facts" class="name">Bug behavior facts:</strong> 
                      <div id="customfield_12310200-val" class="value type-multicheckboxes" data-fieldtype="multicheckboxes" data-fieldtypecompletekey="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"> 
                       <div class="shorten" id="customfield_12310200-field"> 
                        <span>Deviation from standard</span>, 
                        <span>Security</span> 
                       </div> 
                      </div> 
                     </div> </li> 
                   </ul> 
                  </div> 
                 </div>
                </div> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>UPDATE statements confuse SELECT and UPDATE privileges. Consider the following SET clause:</p> 
                  <p> SET updateColumn = selectColumn</p> 
                  <p>According to part 2 of the 2011 edition of the SQL Standard, that SET clause requires the following privileges:</p> 
                  <p>1) UPDATE privilege on updateColumn. Privileges for the left side of a SET clause are described by section 14.14 (update statement: searched), access rule 1b.</p> 
                  <p>2) SELECT privilege on selectColumn. Privileges for the right side of a SET clause are described by section 14.15 (set clause list) and the various productions underneath value expression. In this case, we have a column reference, whose privileges are governed by section 6.7 (column reference), access rule 2.</p> 
                  <p>However, Derby requires the following:</p> 
                  <p>1') UPDATE privilege on both updateColumn and selectColumn</p> 
                  <p>When we address this bug, we should make corresponding changes to the MERGE statement.</p> 
                  <p>The following script shows the current behavior:</p> 
                  <p>connect 'jdbc:derby:memory:db;user=test_dbo;create=true';</p> 
                  <p>call syscs_util.syscs_create_user( 'TEST_DBO', 'test_dbopassword' );<br> call syscs_util.syscs_create_user( 'RUTH', 'ruthpassword' );</p> 
                  <p>connect 'jdbc:derby:memory:db;shutdown=true';</p> 
                  <p>connect 'jdbc:derby:memory:db;user=test_dbo;password=test_dbopassword' as dbo;</p> 
                  <p>create table t1_025<br> (<br> a int primary key,<br> updateColumn int,<br> selectColumn int,<br> privateColumn int<br> );</p> 
                  <p>grant update ( updateColumn ) on t1_025 to ruth;<br> grant select ( selectColumn ) on t1_025 to ruth;</p> 
                  <p>insert into t1_025 values ( 1, 100, 1000, 10000 );</p> 
                  <p>connect 'jdbc:derby:memory:db;user=ruth;password=ruthpassword' as ruth;</p> 
                  <p>– correctly succeeds because ruth has UPDATE privilege on updateColumn<br> update test_dbo.t1_025 set updateColumn = 17;</p> 
                  <p>– the error message incorrectly states that the missing privilege<br> – is UPDATE privilege on privateColumn<br> update test_dbo.t1_025 set updateColumn = privateColumn;</p> 
                  <p>– incorrectly fails.<br> – ruth does have UPDATE privilege on updateColumn<br> – and SELECT privilege on selectColumn, which should be good enough.<br> – however, the error message incorrectly states that the missing privilege<br> – is UPDATE privilege on selectColumn.<br> update test_dbo.t1_025 set updateColumn = selectColumn;</p> 
                  <p>– incorrectly succeeds even though ruth does not have SELECT privilege on updateColumn<br> update test_dbo.t1_025 set updateColumn = 2 * updateColumn;</p> 
                  <p>set connection dbo;</p> 
                  <p>select * from t1_025 order by a;</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/DERBY-6429?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/DERBY-6429?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/DERBY-6429?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/DERBY-6429?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12619865" data-issue-id="12683643" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12619865/derby-6429-01-ab-privilegeFilters.diff" draggable="true" data-downloadurl="text/x-patch:derby-6429-01-ab-privilegeFilters.diff:https://issues.apache.org/jira/secure/attachment/12619865/derby-6429-01-ab-privilegeFilters.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12619865/derby-6429-01-ab-privilegeFilters.diff" title="Latest  20/Dec/13 17:45 - Rick Hillegas" draggable="true" data-downloadurl="text/x-patch:derby-6429-01-ab-privilegeFilters.diff:https://issues.apache.org/jira/secure/attachment/12619865/derby-6429-01-ab-privilegeFilters.diff">derby-6429-01-ab-privilegeFilters.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2013-12-20T17:45:30.290Z">20/Dec/13 17:45</time>
                   </dd>
                   <dd class="attachment-size">
                    48 kB
                   </dd>
                   <dd class="attachment-author">
                    Rick Hillegas
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12619896" data-issue-id="12683643" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12619896/derby-6429-01-ac-privilegeFilters.diff" draggable="true" data-downloadurl="text/x-patch:derby-6429-01-ac-privilegeFilters.diff:https://issues.apache.org/jira/secure/attachment/12619896/derby-6429-01-ac-privilegeFilters.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12619896/derby-6429-01-ac-privilegeFilters.diff" title="Latest  20/Dec/13 19:26 - Rick Hillegas" draggable="true" data-downloadurl="text/x-patch:derby-6429-01-ac-privilegeFilters.diff:https://issues.apache.org/jira/secure/attachment/12619896/derby-6429-01-ac-privilegeFilters.diff">derby-6429-01-ac-privilegeFilters.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2013-12-20T19:26:12.579Z">20/Dec/13 19:26</time>
                   </dd>
                   <dd class="attachment-size">
                    52 kB
                   </dd>
                   <dd class="attachment-author">
                    Rick Hillegas
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12620194" data-issue-id="12683643" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12620194/derby-6429-01-ad-privilegeFilters.diff" draggable="true" data-downloadurl="text/x-patch:derby-6429-01-ad-privilegeFilters.diff:https://issues.apache.org/jira/secure/attachment/12620194/derby-6429-01-ad-privilegeFilters.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12620194/derby-6429-01-ad-privilegeFilters.diff" title="Latest  23/Dec/13 14:06 - Rick Hillegas" draggable="true" data-downloadurl="text/x-patch:derby-6429-01-ad-privilegeFilters.diff:https://issues.apache.org/jira/secure/attachment/12620194/derby-6429-01-ad-privilegeFilters.diff">derby-6429-01-ad-privilegeFilters.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2013-12-23T14:06:06.562Z">23/Dec/13 14:06</time>
                   </dd>
                   <dd class="attachment-size">
                    59 kB
                   </dd>
                   <dd class="attachment-author">
                    Rick Hillegas
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12620200" data-issue-id="12683643" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12620200/derby-6429-01-ae-privilegeFilters.diff" draggable="true" data-downloadurl="text/x-patch:derby-6429-01-ae-privilegeFilters.diff:https://issues.apache.org/jira/secure/attachment/12620200/derby-6429-01-ae-privilegeFilters.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12620200/derby-6429-01-ae-privilegeFilters.diff" title="Latest  23/Dec/13 15:01 - Rick Hillegas" draggable="true" data-downloadurl="text/x-patch:derby-6429-01-ae-privilegeFilters.diff:https://issues.apache.org/jira/secure/attachment/12620200/derby-6429-01-ae-privilegeFilters.diff">derby-6429-01-ae-privilegeFilters.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2013-12-23T15:01:01.250Z">23/Dec/13 15:01</time>
                   </dd>
                   <dd class="attachment-size">
                    60 kB
                   </dd>
                   <dd class="attachment-author">
                    Rick Hillegas
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12620232" data-issue-id="12683643" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12620232/derby-6429-01-af-privilegeFilters.diff" draggable="true" data-downloadurl="text/x-patch:derby-6429-01-af-privilegeFilters.diff:https://issues.apache.org/jira/secure/attachment/12620232/derby-6429-01-af-privilegeFilters.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12620232/derby-6429-01-af-privilegeFilters.diff" title="Latest  23/Dec/13 18:12 - Rick Hillegas" draggable="true" data-downloadurl="text/x-patch:derby-6429-01-af-privilegeFilters.diff:https://issues.apache.org/jira/secure/attachment/12620232/derby-6429-01-af-privilegeFilters.diff">derby-6429-01-af-privilegeFilters.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2013-12-23T18:12:43.583Z">23/Dec/13 18:12</time>
                   </dd>
                   <dd class="attachment-size">
                    73 kB
                   </dd>
                   <dd class="attachment-author">
                    Rick Hillegas
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12623410" data-issue-id="12683643" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12623410/releaseNote.html" draggable="true" data-downloadurl="text/html:releaseNote.html:https://issues.apache.org/jira/secure/attachment/12623410/releaseNote.html"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-code" title="HTML File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12623410/releaseNote.html" title="Latest  16/Jan/14 16:08 - Rick Hillegas" draggable="true" data-downloadurl="text/html:releaseNote.html:https://issues.apache.org/jira/secure/attachment/12623410/releaseNote.html">releaseNote.html</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-01-16T16:08:42.951Z">16/Jan/14 16:08</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Rick Hillegas
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12623223" data-issue-id="12683643" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12623223/releaseNote.html" draggable="true" data-downloadurl="text/html:releaseNote.html:https://issues.apache.org/jira/secure/attachment/12623223/releaseNote.html"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-code" title="HTML File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12623223/releaseNote.html" title=" 15/Jan/14 20:56 - Rick Hillegas" draggable="true" data-downloadurl="text/html:releaseNote.html:https://issues.apache.org/jira/secure/attachment/12623223/releaseNote.html">releaseNote.html</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-01-15T20:56:22.650Z">15/Jan/14 20:56</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Rick Hillegas
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is related to">
                   is related to
                  </dt> 
                  <dd id="internal-12684313_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype" width="16" height="16" title="Sub-task - The sub-task of the issue" alt="Sub-task - The sub-task of the issue"> <span title="DERBY-6431: Update Developer's Guide topic to include generated columns"> <a href="/jira/browse/DERBY-6431" data-issue-key="DERBY-6431" class="issue-link link-title resolution">DERBY-6431</a> <span class="link-summary">Update Developer's Guide topic to include generated columns</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/minor.svg" width="16" height="16" title="Minor - Minor loss of function, or other problem where easy workaround is present." alt="Minor - Minor loss of function, or other problem where easy workaround is present."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12685244_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-6436: Overbroad privileges required when selecting from a view."> <a href="/jira/browse/DERBY-6436" data-issue-key="DERBY-6436" class="issue-link link-title">DERBY-6436</a> <span class="link-summary">Overbroad privileges required when selecting from a view.</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-blue-gray jira-issue-status-lozenge-new aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Open</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is open and ready for the assignee to start work on it.</span>">Open</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12686174_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-6439: Privileges not checked before scalar subquery is materialized"> <a href="/jira/browse/DERBY-6439" data-issue-key="DERBY-6439" class="issue-link link-title">DERBY-6439</a> <span class="link-summary">Privileges not checked before scalar subquery is materialized</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-blue-gray jira-issue-status-lozenge-new aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Open</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is open and ready for the assignee to start work on it.</span>">Open</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12684332_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-6432: INSERT/UPDATE incorrectly require user to have privilege to execute CHECK constraints on the target table."> <a href="/jira/browse/DERBY-6432" data-issue-key="DERBY-6432" class="issue-link link-title resolution">DERBY-6432</a> <span class="link-summary">INSERT/UPDATE incorrectly require user to have privilege to execute CHECK constraints on the target table.</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12684337_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-6433: INSERT/UPDATE incorrectly require user to have privilege to run generation expressions."> <a href="/jira/browse/DERBY-6433" data-issue-key="DERBY-6433" class="issue-link link-title resolution">DERBY-6433</a> <span class="link-summary">INSERT/UPDATE incorrectly require user to have privilege to run generation expressions.</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12684343_10030" class="
                                                collapsed-link                    "> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-6434: Incorrect privileges may be required for INSERT and DELETE statements."> <a href="/jira/browse/DERBY-6434" data-issue-key="DERBY-6434" class="issue-link link-title resolution">DERBY-6434</a> <span class="link-summary">Incorrect privileges may be required for INSERT and DELETE statements.</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12687468_10030" class="
                                                collapsed-link                    "> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-6446: Test ordering problem in GrantRevokeDDLTest"> <a href="/jira/browse/DERBY-6446" data-issue-key="DERBY-6446" class="issue-link link-title resolution">DERBY-6446</a> <span class="link-summary">Test ordering problem in GrantRevokeDDLTest</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list collapsed-links-list"> 
                  <dt title="relates to">
                   relates to
                  </dt> 
                  <dd id="internal-12678827_10030" class="
                                                collapsed-link                    "> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-6414: Incorrect handling when using an UPDATE to SET an identity column to DEFAULT"> <a href="/jira/browse/DERBY-6414" data-issue-key="DERBY-6414" class="issue-link link-title resolution">DERBY-6414</a> <span class="link-summary">Incorrect handling when using an UPDATE to SET an identity column to DEFAULT</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12381347_10030" class="
                                                collapsed-link                    "> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="DERBY-3155: Support for SQL:2003 MERGE statement"> <a href="/jira/browse/DERBY-3155" data-issue-key="DERBY-3155" class="issue-link link-title resolution">DERBY-3155</a> <span class="link-summary">Support for SQL:2003 MERGE statement</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <div id="show-more-links"> 
                  <button class="aui-button aui-button-link" id="show-more-links-link">Show 4 more links</button> 
                  <span>(2 is related to, 2 relates to)</span> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="view-subtasks" class="module toggle-wrap">
               <div id="view-subtasks_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="subtask-view-options" class="aui-list-section aui-first aui-last">
                     <li class="aui-list-item"><a id="subtasks-show-all" href="/jira/browse/DERBY-6429?subTaskView=all#issuetable" class="aui-list-checked aui-checked aui-list-item-link" title="Show All"><span>Show All</span></a></li>
                     <li class="aui-list-item"><a id="subtasks-show-open" href="/jira/browse/DERBY-6429?subTaskView=unresolved#issuetable" class="aui-list-checked aui-list-item-link" title="Show Open"><span>Show Open</span></a></li>
                     <li class="aui-list-item"><a id="subtasks-bulk-operation" href="/jira/issue/bulkedit/BulkEdit1!default.jspa?reset=true&amp;searchParent=DERBY-6429" class="aui-list-checked aui-list-item-link" title="Bulk operation"><span>Bulk operation</span></a></li>
                     <li class="aui-list-item"><a id="subtasks-open-issue-navigator" href="/jira/issues/?jql=parent%3DDERBY-6429" class="aui-list-checked aui-list-item-link" title="Open issue navigator"><span>Open issue navigator</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Sub-Tasks</h2>
               </div>
               <div class="mod-content">
                <div class="mod-content intform subtask-table-container"> 
                 <issuetable-web-component> 
                  <table id="issuetable"> 
                   <tbody>
                    <tr id="issuerow12684313" rel="12684313" data-issuekey="DERBY-6431" class="issuerow"> 
                     <td class="stsequence">
                      <div rel="0" class="subtask-done">
                       1.
                      </div> </td> 
                     <td class="stsummary"><a class="issue-link" data-issue-key="DERBY-6431" href="/jira/browse/DERBY-6431">Update Developer's Guide topic to include generated columns</a></td> 
                     <td class="issuetype"> <a class="issue-link" data-issue-key="DERBY-6431" href="/jira/browse/DERBY-6431"> <img src="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype" height="16" width="16" border="0" align="absmiddle" alt="Sub-task" title="Sub-task - The sub-task of the issue"> </a> </td> 
                     <td class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </td> 
                     <td class="assignee"> <span class="tinylink"><a class="user-hover" rel="chaase3" id="assignee_chaase3" href="/jira/secure/ViewProfile.jspa?name=chaase3">Kim Haase</a></span> </td> 
                    </tr> 
                   </tbody> 
                  </table> 
                 </issuetable-web-component> 
                 <div class="end-of-stable-message"></div> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_rhillegas" rel="rhillegas" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Rick Hillegas&quot;,&quot;emailAddress&quot;:&quot;rhillegas@apache.org&quot;,&quot;username&quot;:&quot;rhillegas&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="rhillegas"></span></span> Rick Hillegas </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_rhillegas" rel="rhillegas" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Rick Hillegas&quot;,&quot;emailAddress&quot;:&quot;rhillegas@apache.org&quot;,&quot;username&quot;:&quot;rhillegas&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="rhillegas"></span></span> Rick Hillegas </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">6</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="09/Dec/13 17:49"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2013-12-09T17:49:29+0000">09/Dec/13 17:49</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="21/Jan/15 00:23"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2015-01-21T00:23:52+0000">21/Jan/15 00:23</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="16/Jan/14 15:50"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2014-01-16T15:50:54+0000">16/Jan/14 15:50</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-6429?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-6429?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-6429?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-6429?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-6429?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-6429?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-6429?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-6429?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/DERBY-6429?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-6429?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-6429?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/DERBY-6429?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-13844297\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13844297&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13844297\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13844297_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13844297_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Dec\\/13 14:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-10T14:22:35+0000\'\u003e10\\/Dec\\/13 14:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere is a more extensive script, which shows the incorrect permissions behavior of UPDATEs interacting with generated columns, constraints, and triggers.\u003c\\/p\u003e\\n\\n\u003cp\u003econnect \'jdbc:derby:memory:db;user=test_dbo;create=true\';\u003c\\/p\u003e\\n\\n\u003cp\u003ecall syscs_util.syscs_create_user( \'TEST_DBO\', \'test_dbopassword\' );\u003cbr\\/\u003e\\ncall syscs_util.syscs_create_user( \'RUTH\', \'ruthpassword\' );\u003c\\/p\u003e\\n\\n\u003cp\u003econnect \'jdbc:derby:memory:db;shutdown=true\';\u003c\\/p\u003e\\n\\n\u003cp\u003econnect \'jdbc:derby:memory:db;user=test_dbo;password=test_dbopassword\' as dbo;\u003c\\/p\u003e\\n\\n\u003cp\u003ecreate table t2_6429_primary\u003cbr\\/\u003e\\n(\u003cbr\\/\u003e\\n    key1 int,\u003cbr\\/\u003e\\n    key2 int,\u003cbr\\/\u003e\\n    primary key( key1, key2 )\u003cbr\\/\u003e\\n);\u003c\\/p\u003e\\n\\n\u003cp\u003ecreate table t1_6429_plain\u003cbr\\/\u003e\\n(\u003cbr\\/\u003e\\n    a int primary key,\u003cbr\\/\u003e\\n    updateColumn int,\u003cbr\\/\u003e\\n    selectColumn int,\u003cbr\\/\u003e\\n    privateColumn int\u003cbr\\/\u003e\\n);\u003c\\/p\u003e\\n\\n\u003cp\u003ecreate table t1_6429_generated\u003cbr\\/\u003e\\n(\u003cbr\\/\u003e\\n    a int primary key,\u003cbr\\/\u003e\\n    updateColumn int,\u003cbr\\/\u003e\\n    selectColumn int,\u003cbr\\/\u003e\\n    privateColumn int,\u003cbr\\/\u003e\\n    generatedColumn generated always as ( -updateColumn )\u003cbr\\/\u003e\\n);\u003c\\/p\u003e\\n\\n\u003cp\u003ecreate table t1_6429_check\u003cbr\\/\u003e\\n(\u003cbr\\/\u003e\\n    a int primary key,\u003cbr\\/\u003e\\n    updateColumn int,\u003cbr\\/\u003e\\n    selectColumn int,\u003cbr\\/\u003e\\n    privateColumn int,\u003cbr\\/\u003e\\n    checkColumn int,\u003cbr\\/\u003e\\n    check ( updateColumn &gt; checkColumn )\u003cbr\\/\u003e\\n);\u003c\\/p\u003e\\n\\n\u003cp\u003ecreate table t1_6429_foreign\u003cbr\\/\u003e\\n(\u003cbr\\/\u003e\\n    a int primary key,\u003cbr\\/\u003e\\n    updateColumn int,\u003cbr\\/\u003e\\n    selectColumn int,\u003cbr\\/\u003e\\n    privateColumn int,\u003cbr\\/\u003e\\n    foreignColumn int,\u003cbr\\/\u003e\\n    foreign key ( updateColumn, foreignColumn ) references t2_6429_primary( key1, key2 )\u003cbr\\/\u003e\\n);\u003c\\/p\u003e\\n\\n\u003cp\u003ecreate table t1_6429_trigger\u003cbr\\/\u003e\\n(\u003cbr\\/\u003e\\n    a int primary key,\u003cbr\\/\u003e\\n    updateColumn int,\u003cbr\\/\u003e\\n    selectColumn int,\u003cbr\\/\u003e\\n    privateColumn int,\u003cbr\\/\u003e\\n    triggerContentColumn int\u003cbr\\/\u003e\\n);\u003c\\/p\u003e\\n\\n\u003cp\u003ecreate procedure addHistoryRow_6429\u003cbr\\/\u003e\\n(\u003cbr\\/\u003e\\n    actionString varchar( 20 ),\u003cbr\\/\u003e\\n    actionValue int\u003cbr\\/\u003e\\n)\u003cbr\\/\u003e\\nlanguage java parameter style java reads sql data\u003cbr\\/\u003e\\nexternal name \'org.apache.derbyTesting.functionTests.tests.lang.MergeStatementTest.addHistoryRow\';\u003c\\/p\u003e\\n\\n\u003cp\u003ecreate trigger t1_6429_upd_before\u003cbr\\/\u003e\\nno cascade before update of updateColumn on t1_6429_trigger\u003cbr\\/\u003e\\nreferencing old as old\u003cbr\\/\u003e\\nfor each row\u003cbr\\/\u003e\\ncall addHistoryRow_6429( \'before\', old.triggerContentColumn );\u003c\\/p\u003e\\n\\n\u003cp\u003egrant update ( updateColumn ) on t1_6429_plain to ruth;\u003cbr\\/\u003e\\ngrant select ( selectColumn ) on t1_6429_plain to ruth;\u003c\\/p\u003e\\n\\n\u003cp\u003egrant update ( updateColumn ) on t1_6429_generated to ruth;\u003cbr\\/\u003e\\ngrant select ( selectColumn ) on t1_6429_generated to ruth;\u003c\\/p\u003e\\n\\n\u003cp\u003egrant update ( updateColumn ) on t1_6429_check to ruth;\u003cbr\\/\u003e\\ngrant select ( selectColumn ) on t1_6429_check to ruth;\u003c\\/p\u003e\\n\\n\u003cp\u003egrant update ( updateColumn ) on t1_6429_foreign to ruth;\u003cbr\\/\u003e\\ngrant select ( selectColumn ) on t1_6429_foreign to ruth;\u003c\\/p\u003e\\n\\n\u003cp\u003egrant update ( updateColumn ) on t1_6429_trigger to ruth;\u003cbr\\/\u003e\\ngrant select ( selectColumn ) on t1_6429_trigger to ruth;\u003cbr\\/\u003e\\ngrant select ( triggerContentColumn ) on t1_6429_trigger to ruth;\u003cbr\\/\u003e\\ngrant execute on procedure addHistoryRow_6429 to ruth;\u003c\\/p\u003e\\n\\n\u003cp\u003einsert into t2_6429_primary values ( 100, 1 ), ( 17, 1 ), ( 34, 1 );\u003c\\/p\u003e\\n\\n\u003cp\u003einsert into t1_6429_plain( a, updateColumn, selectColumn, privateColumn ) values ( 1, 100, 1000, 10000 );\u003cbr\\/\u003e\\ninsert into t1_6429_generated( a, updateColumn, selectColumn, privateColumn ) values ( 1, 100, 1000, 10000 );\u003cbr\\/\u003e\\ninsert into t1_6429_check( a, updateColumn, selectColumn, privateColumn, checkColumn ) values ( 1, 100, 1000, 10000, -1000 );\u003cbr\\/\u003e\\ninsert into t1_6429_foreign( a, updateColumn, selectColumn, privateColumn, foreignColumn ) values ( 1, 100, 1000, 10000, 1 );\u003cbr\\/\u003e\\ninsert into t1_6429_trigger( a, updateColumn, selectColumn, privateColumn, triggerContentColumn ) values ( 1, 100, 1000, 10000, 1 );\u003c\\/p\u003e\\n\\n\u003cp\u003econnect \'jdbc:derby:memory:db;user=ruth;password=ruthpassword\' as ruth;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211;\u003cbr\\/\u003e\\n-- plain\u003cbr\\/\u003e\\n&#8211;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; correct. succeeds.\u003cbr\\/\u003e\\nupdate test_dbo.t1_6429_plain set updateColumn = 17;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; incorrect.\u003cbr\\/\u003e\\n&#8211; the error message incorrectly states that the missing privilege\u003cbr\\/\u003e\\n&#8211; is UPDATE privilege on privateColumn\u003cbr\\/\u003e\\nupdate test_dbo.t1_6429_plain set updateColumn = privateColumn;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; incorrect.\u003cbr\\/\u003e\\n&#8211; ruth does have UPDATE privilege on updateColumn\u003cbr\\/\u003e\\n&#8211; and SELECT privilege on selectColumn, which should be good enough.\u003cbr\\/\u003e\\n&#8211; however, the error message incorrectly states that the missing privilege\u003cbr\\/\u003e\\n&#8211; is UPDATE privilege on selectColumn.\u003cbr\\/\u003e\\nupdate test_dbo.t1_6429_plain set updateColumn = selectColumn;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; incorrect. should not succeed. ruth does not have SELECT privilege on updateColumn\u003cbr\\/\u003e\\nupdate test_dbo.t1_6429_plain set updateColumn = 2 * updateColumn;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211;\u003cbr\\/\u003e\\n-- generated\u003cbr\\/\u003e\\n&#8211;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; incorrect.\u003cbr\\/\u003e\\n&#8211; sometimes fails because Derby wants UPDATE priv for generatedColumn.\u003cbr\\/\u003e\\n&#8211; sometimes fails because Derby wants SELECT permission on updateColumn.\u003cbr\\/\u003e\\nupdate test_dbo.t1_6429_generated set updateColumn = 17;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; incorrect.\u003cbr\\/\u003e\\n&#8211; sometimes fails because Derby wants UPDATE priv for generatedColumn.\u003cbr\\/\u003e\\n&#8211; sometimes fails because Derby wants SELECT permission on updateColumn.\u003cbr\\/\u003e\\nupdate test_dbo.t1_6429_generated set updateColumn = privateColumn;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; incorrect.\u003cbr\\/\u003e\\n&#8211; fails because ruth does not have SELECT permission on updateColumn\u003cbr\\/\u003e\\nupdate test_dbo.t1_6429_generated set updateColumn = selectColumn;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; incorrect. should fail because ruth does not have SELECT privilege on updateColumn\u003cbr\\/\u003e\\nupdate test_dbo.t1_6429_generated set updateColumn = 2 * updateColumn;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211;\u003cbr\\/\u003e\\n-- check\u003cbr\\/\u003e\\n&#8211;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; incorrect.\u003cbr\\/\u003e\\n&#8211; fails because ruth does not have UPDATE permission on checkColumn\u003cbr\\/\u003e\\nupdate test_dbo.t1_6429_check set updateColumn = 17;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; incorrect.\u003cbr\\/\u003e\\n&#8211; fails because ruth does not have UPDATE permission on privateColumn\u003cbr\\/\u003e\\nupdate test_dbo.t1_6429_check set updateColumn = privateColumn;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; incorrect.\u003cbr\\/\u003e\\n&#8211; fails because ruth does not have UPDATE permission on selectColumn\u003cbr\\/\u003e\\nupdate test_dbo.t1_6429_check set updateColumn = selectColumn;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211;\u003cbr\\/\u003e\\n-- incorrect.\u003cbr\\/\u003e\\n&#8211; fails because ruth does not have UPDATE permission on checkColumn\u003cbr\\/\u003e\\nupdate test_dbo.t1_6429_check set updateColumn = 2 * updateColumn;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211;\u003cbr\\/\u003e\\n-- foreign\u003cbr\\/\u003e\\n&#8211;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; incorrect.\u003cbr\\/\u003e\\n&#8211; fails because ruth does not have UPDATE permission on foreignColumn\u003cbr\\/\u003e\\nupdate test_dbo.t1_6429_foreign set updateColumn = 17;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; incorrect.\u003cbr\\/\u003e\\n&#8211; fails because ruth does not have UPDATE permission on privateColumn\u003cbr\\/\u003e\\nupdate test_dbo.t1_6429_foreign set updateColumn = privateColumn;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; incorrect.\u003cbr\\/\u003e\\n&#8211; fails because ruth does not have UPDATE permission on selectColumn\u003cbr\\/\u003e\\nupdate test_dbo.t1_6429_foreign set updateColumn = selectColumn;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; incorrect.\u003cbr\\/\u003e\\n&#8211; fails because ruth does not have UPDATE permission on foreignColumn\u003cbr\\/\u003e\\nupdate test_dbo.t1_6429_foreign set updateColumn = 2 * updateColumn;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211;\u003cbr\\/\u003e\\n-- trigger\u003cbr\\/\u003e\\n&#8211;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; incorrect.\u003cbr\\/\u003e\\n&#8211; fails because ruth does not have UPDATE permission on triggerContentColumn\u003cbr\\/\u003e\\nupdate test_dbo.t1_6429_trigger set updateColumn = 17;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; incorrect.\u003cbr\\/\u003e\\n&#8211; fails because ruth does not have UPDATE permission on privateColumn\u003cbr\\/\u003e\\nupdate test_dbo.t1_6429_trigger set updateColumn = privateColumn;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; incorrect.\u003cbr\\/\u003e\\n&#8211; fails because ruth does not have UPDATE permission on selectColumn\u003cbr\\/\u003e\\nupdate test_dbo.t1_6429_trigger set updateColumn = selectColumn;\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; incorrect.\u003cbr\\/\u003e\\n&#8211; fails because ruth does not have UPDATE permission on triggerContentColumn\u003cbr\\/\u003e\\nupdate test_dbo.t1_6429_trigger set updateColumn = 2 * updateColumn;\u003c\\/p\u003e\\n\\n\u003cp\u003eset connection dbo;\u003c\\/p\u003e\\n\\n\u003cp\u003eselect * from t1_6429_plain order by a;\u003cbr\\/\u003e\\nselect * from t1_6429_generated order by a;\u003cbr\\/\u003e\\nselect * from t1_6429_check order by a;\u003cbr\\/\u003e\\nselect * from t1_6429_foreign order by a;\u003cbr\\/\u003e\\nselect * from t1_6429_trigger order by a;\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13844297_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13844297_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Dec\\/13 14:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-10T14:22:35+0000\'\u003e10\\/Dec\\/13 14:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here is a more extensive script, which shows the incorrect permissions behavior of UPDATEs interacting with generated columns, constraints, and triggers. \\n\\n connect \'jdbc:derby:memory:db;user=test_dbo;create=true\'; \\n\\n call syscs_util.syscs_create_user( \'TEST_DBO\', \'test_dbopassword\' ); \\ncall syscs_util.syscs_create_user( \'RUTH\', \'ruthpassword\' ); \\n\\n connect \'jdbc:derby:memory:db;shutdown=true\'; \\n\\n connect \'jdbc:derby:memory:db;user=test_dbo;password=test_dbopassword\' as dbo; \\n\\n create table t2_6429_primary \\n( \\n    key1 int, \\n    key2 int, \\n    primary key( key1, key2 ) \\n); \\n\\n create table t1_6429_plain \\n( \\n    a int primary key, \\n    updateColumn int, \\n    selectColumn int, \\n    privateColumn int \\n); \\n\\n create table t1_6429_generated \\n( \\n    a int primary key, \\n    updateColumn int, \\n    selectColumn int, \\n    privateColumn int, \\n    generatedColumn generated always as ( -updateColumn ) \\n); \\n\\n create table t1_6429_check \\n( \\n    a int primary key, \\n    updateColumn int, \\n    selectColumn int, \\n    privateColumn int, \\n    checkColumn int, \\n    check ( updateColumn &gt; checkColumn ) \\n); \\n\\n create table t1_6429_foreign \\n( \\n    a int primary key, \\n    updateColumn int, \\n    selectColumn int, \\n    privateColumn int, \\n    foreignColumn int, \\n    foreign key ( updateColumn, foreignColumn ) references t2_6429_primary( key1, key2 ) \\n); \\n\\n create table t1_6429_trigger \\n( \\n    a int primary key, \\n    updateColumn int, \\n    selectColumn int, \\n    privateColumn int, \\n    triggerContentColumn int \\n); \\n\\n create procedure addHistoryRow_6429 \\n( \\n    actionString varchar( 20 ), \\n    actionValue int \\n) \\nlanguage java parameter style java reads sql data \\nexternal name \'org.apache.derbyTesting.functionTests.tests.lang.MergeStatementTest.addHistoryRow\'; \\n\\n create trigger t1_6429_upd_before \\nno cascade before update of updateColumn on t1_6429_trigger \\nreferencing old as old \\nfor each row \\ncall addHistoryRow_6429( \'before\', old.triggerContentColumn ); \\n\\n grant update ( updateColumn ) on t1_6429_plain to ruth; \\ngrant select ( selectColumn ) on t1_6429_plain to ruth; \\n\\n grant update ( updateColumn ) on t1_6429_generated to ruth; \\ngrant select ( selectColumn ) on t1_6429_generated to ruth; \\n\\n grant update ( updateColumn ) on t1_6429_check to ruth; \\ngrant select ( selectColumn ) on t1_6429_check to ruth; \\n\\n grant update ( updateColumn ) on t1_6429_foreign to ruth; \\ngrant select ( selectColumn ) on t1_6429_foreign to ruth; \\n\\n grant update ( updateColumn ) on t1_6429_trigger to ruth; \\ngrant select ( selectColumn ) on t1_6429_trigger to ruth; \\ngrant select ( triggerContentColumn ) on t1_6429_trigger to ruth; \\ngrant execute on procedure addHistoryRow_6429 to ruth; \\n\\n insert into t2_6429_primary values ( 100, 1 ), ( 17, 1 ), ( 34, 1 ); \\n\\n insert into t1_6429_plain( a, updateColumn, selectColumn, privateColumn ) values ( 1, 100, 1000, 10000 ); \\ninsert into t1_6429_generated( a, updateColumn, selectColumn, privateColumn ) values ( 1, 100, 1000, 10000 ); \\ninsert into t1_6429_check( a, updateColumn, selectColumn, privateColumn, checkColumn ) values ( 1, 100, 1000, 10000, -1000 ); \\ninsert into t1_6429_foreign( a, updateColumn, selectColumn, privateColumn, foreignColumn ) values ( 1, 100, 1000, 10000, 1 ); \\ninsert into t1_6429_trigger( a, updateColumn, selectColumn, privateColumn, triggerContentColumn ) values ( 1, 100, 1000, 10000, 1 ); \\n\\n connect \'jdbc:derby:memory:db;user=ruth;password=ruthpassword\' as ruth; \\n\\n &#8211; \\n-- plain \\n&#8211; \\n\\n &#8211; correct. succeeds. \\nupdate test_dbo.t1_6429_plain set updateColumn = 17; \\n\\n &#8211; incorrect. \\n&#8211; the error message incorrectly states that the missing privilege \\n&#8211; is UPDATE privilege on privateColumn \\nupdate test_dbo.t1_6429_plain set updateColumn = privateColumn; \\n\\n &#8211; incorrect. \\n&#8211; ruth does have UPDATE privilege on updateColumn \\n&#8211; and SELECT privilege on selectColumn, which should be good enough. \\n&#8211; however, the error message incorrectly states that the missing privilege \\n&#8211; is UPDATE privilege on selectColumn. \\nupdate test_dbo.t1_6429_plain set updateColumn = selectColumn; \\n\\n &#8211; incorrect. should not succeed. ruth does not have SELECT privilege on updateColumn \\nupdate test_dbo.t1_6429_plain set updateColumn = 2 * updateColumn; \\n\\n &#8211; \\n-- generated \\n&#8211; \\n\\n &#8211; incorrect. \\n&#8211; sometimes fails because Derby wants UPDATE priv for generatedColumn. \\n&#8211; sometimes fails because Derby wants SELECT permission on updateColumn. \\nupdate test_dbo.t1_6429_generated set updateColumn = 17; \\n\\n &#8211; incorrect. \\n&#8211; sometimes fails because Derby wants UPDATE priv for generatedColumn. \\n&#8211; sometimes fails because Derby wants SELECT permission on updateColumn. \\nupdate test_dbo.t1_6429_generated set updateColumn = privateColumn; \\n\\n &#8211; incorrect. \\n&#8211; fails because ruth does not have SELECT permission on updateColumn \\nupdate test_dbo.t1_6429_generated set updateColumn = selectColumn; \\n\\n &#8211; incorrect. should fail because ruth does not have SELECT privilege on updateColumn \\nupdate test_dbo.t1_6429_generated set updateColumn = 2 * updateColumn; \\n\\n &#8211; \\n-- check \\n&#8211; \\n\\n &#8211; incorrect. \\n&#8211; fails because ruth does not have UPDATE permission on checkColumn \\nupdate test_dbo.t1_6429_check set updateColumn = 17; \\n\\n &#8211; incorrect. \\n&#8211; fails because ruth does not have UPDATE permission on privateColumn \\nupdate test_dbo.t1_6429_check set updateColumn = privateColumn; \\n\\n &#8211; incorrect. \\n&#8211; fails because ruth does not have UPDATE permission on selectColumn \\nupdate test_dbo.t1_6429_check set updateColumn = selectColumn; \\n\\n &#8211; \\n-- incorrect. \\n&#8211; fails because ruth does not have UPDATE permission on checkColumn \\nupdate test_dbo.t1_6429_check set updateColumn = 2 * updateColumn; \\n\\n &#8211; \\n-- foreign \\n&#8211; \\n\\n &#8211; incorrect. \\n&#8211; fails because ruth does not have UPDATE permission on foreignColumn \\nupdate test_dbo.t1_6429_foreign set updateColumn = 17; \\n\\n &#8211; incorrect. \\n&#8211; fails because ruth does not have UPDATE permission on privateColumn \\nupdate test_dbo.t1_6429_foreign set updateColumn = privateColumn; \\n\\n &#8211; incorrect. \\n&#8211; fails because ruth does not have UPDATE permission on selectColumn \\nupdate test_dbo.t1_6429_foreign set updateColumn = selectColumn; \\n\\n &#8211; incorrect. \\n&#8211; fails because ruth does not have UPDATE permission on foreignColumn \\nupdate test_dbo.t1_6429_foreign set updateColumn = 2 * updateColumn; \\n\\n &#8211; \\n-- trigger \\n&#8211; \\n\\n &#8211; incorrect. \\n&#8211; fails because ruth does not have UPDATE permission on triggerContentColumn \\nupdate test_dbo.t1_6429_trigger set updateColumn = 17; \\n\\n &#8211; incorrect. \\n&#8211; fails because ruth does not have UPDATE permission on privateColumn \\nupdate test_dbo.t1_6429_trigger set updateColumn = privateColumn; \\n\\n &#8211; incorrect. \\n&#8211; fails because ruth does not have UPDATE permission on selectColumn \\nupdate test_dbo.t1_6429_trigger set updateColumn = selectColumn; \\n\\n &#8211; incorrect. \\n&#8211; fails because ruth does not have UPDATE permission on triggerContentColumn \\nupdate test_dbo.t1_6429_trigger set updateColumn = 2 * updateColumn; \\n\\n set connection dbo; \\n\\n select * from t1_6429_plain order by a; \\nselect * from t1_6429_generated order by a; \\nselect * from t1_6429_check order by a; \\nselect * from t1_6429_foreign order by a; \\nselect * from t1_6429_trigger order by a;              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13844457\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13844457&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13844457\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13844457_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13844457_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Dec\\/13 17:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-10T17:44:29+0000\'\u003e10\\/Dec\\/13 17:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere are my thoughts about how foreign keys, generated columns, check constraints, and triggers affect the permissions needed to execute an UPDATE statement. Does anyone have a different opinion?\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks,\u003cbr\\/\u003e\\n-Rick\u003c\\/p\u003e\\n\\n\u003cp\u003e-----------------------------------------\u003c\\/p\u003e\\n\\n\u003cp\u003eForeign Keys\u003c\\/p\u003e\\n\\n\u003cp\u003ePermissions for foreign keys are checked when the foreign key is declared. The owner of the foreign table must have REFERENCES privilege on the referenced columns in the primary key table. See part 2, section 11.8 (referential constraint definition), access rule 1. No further permissions checking is required at execution time. I do not see any language indicating that foreign keys become invalid or un-runnable if the owner of the foreign table later loses REFERENCES privilege on the referenced columns. I do not see any indication that the user issuing the UPDATE statement is required to have SELECT privilege on the referenced columns.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e-----------------------------------------\u003c\\/p\u003e\\n\\n\u003cp\u003eGenerated Columns\u003c\\/p\u003e\\n\\n\u003cp\u003eThere are two kinds of permissions related to generation clauses:\u003c\\/p\u003e\\n\\n\u003cp\u003eG1) SELECT permission on the columns mentioned in the generation clause. I do not see any language in the Standard suggesting that you need explicit SELECT permission on all of the columns mentioned by the generation clause. That permission seems to be implied by the INSERT privilege you enjoy  on the table and the UPDATE privilege you may enjoy on a column mentioned by the generation clause.\u003c\\/p\u003e\\n\\n\u003cp\u003eG2) EXECUTE permission on functions invoked by the generation clause. This is addressed by part 2, section 4.28.3 (Execution of SQL-invoked routines). The user executing the UPDATE statement must enjoy EXECUTE permission on the functions invoked by the generation clause if the generation clause is run as a consequence of UPDATing a column.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e-----------------------------------------\u003c\\/p\u003e\\n\\n\u003cp\u003eCheck Constraints\u003c\\/p\u003e\\n\\n\u003cp\u003eSimilarly, there are two kinds of permissions related to CHECK constraints:\u003c\\/p\u003e\\n\\n\u003cp\u003eC1) SELECT permission on the columns mentioned in the CHECK constraint. I do not see any language in the Standard suggesting that you need explicit SELECT permission on all of the columns mentioned by the CHECK constraint. That permission seems to be implied by the INSERT privilege you enjoy  on the table and the UPDATE privilege you may enjoy on a column mentioned by the CHECK constraint.\u003c\\/p\u003e\\n\\n\u003cp\u003eC2) EXECUTE permission on functions invoked by the CHECK constraint. This is addressed by part 2, section 4.28.3 (Execution of SQL-invoked routines). The user executing the UPDATE statement must enjoy EXECUTE permission on the functions invoked by the CHECK constraint.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e-----------------------------------------\u003c\\/p\u003e\\n\\n\u003cp\u003eTriggers\u003c\\/p\u003e\\n\\n\u003cp\u003eThere are two kinds of permissions related to triggers:\u003c\\/p\u003e\\n\\n\u003cp\u003eT1) The permission to SELECT columns from the source table in order to construct transition variables and transition tables. These permissions are described by part 2 of the Standard, section 11.49 (trigger definition), access rule 3. In order to declare a trigger, the trigger owner must have SELECT privilege on the whole source table if the trigger has transition variables or tables. It is my understanding that the SELECTion of source columns at runtime happens under the original aegis of the trigger owner. Moreover, I don\'t see any language suggesting that the trigger becomes un-runnable if the trigger owner later loses TRIGGER and\\/or SELECT privilege on the source table. \u003c\\/p\u003e\\n\\n\u003cp\u003eT2) The permission to execute the trigger action. I can\'t find any language specifying special treatment of permissions for the trigger action. I believe that the trigger action runs with the privileges of the user who invoked the original, triggering INSERT\\/UPDATE\\/DELETE.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13844457_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13844457_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Dec\\/13 17:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-10T17:44:29+0000\'\u003e10\\/Dec\\/13 17:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here are my thoughts about how foreign keys, generated columns, check constraints, and triggers affect the permissions needed to execute an UPDATE statement. Does anyone have a different opinion? \\n\\n Thanks, \\n-Rick \\n\\n ----------------------------------------- \\n\\n Foreign Keys \\n\\n Permissions for foreign keys are checked when the foreign key is declared. The owner of the foreign table must have REFERENCES privilege on the referenced columns in the primary key table. See part 2, section 11.8 (referential constraint definition), access rule 1. No further permissions checking is required at execution time. I do not see any language indicating that foreign keys become invalid or un-runnable if the owner of the foreign table later loses REFERENCES privilege on the referenced columns. I do not see any indication that the user issuing the UPDATE statement is required to have SELECT privilege on the referenced columns. \\n\\n\\n ----------------------------------------- \\n\\n Generated Columns \\n\\n There are two kinds of permissions related to generation clauses: \\n\\n G1) SELECT permission on the columns mentioned in the generation clause. I do not see any language in the Standard suggesting that you need explicit SELECT permission on all of the columns mentioned by the generation clause. That permission seems to be implied by the INSERT privilege you enjoy  on the table and the UPDATE privilege you may enjoy on a column mentioned by the generation clause. \\n\\n G2) EXECUTE permission on functions invoked by the generation clause. This is addressed by part 2, section 4.28.3 (Execution of SQL-invoked routines). The user executing the UPDATE statement must enjoy EXECUTE permission on the functions invoked by the generation clause if the generation clause is run as a consequence of UPDATing a column. \\n\\n\\n ----------------------------------------- \\n\\n Check Constraints \\n\\n Similarly, there are two kinds of permissions related to CHECK constraints: \\n\\n C1) SELECT permission on the columns mentioned in the CHECK constraint. I do not see any language in the Standard suggesting that you need explicit SELECT permission on all of the columns mentioned by the CHECK constraint. That permission seems to be implied by the INSERT privilege you enjoy  on the table and the UPDATE privilege you may enjoy on a column mentioned by the CHECK constraint. \\n\\n C2) EXECUTE permission on functions invoked by the CHECK constraint. This is addressed by part 2, section 4.28.3 (Execution of SQL-invoked routines). The user executing the UPDATE statement must enjoy EXECUTE permission on the functions invoked by the CHECK constraint. \\n\\n\\n ----------------------------------------- \\n\\n Triggers \\n\\n There are two kinds of permissions related to triggers: \\n\\n T1) The permission to SELECT columns from the source table in order to construct transition variables and transition tables. These permissions are described by part 2 of the Standard, section 11.49 (trigger definition), access rule 3. In order to declare a trigger, the trigger owner must have SELECT privilege on the whole source table if the trigger has transition variables or tables. It is my understanding that the SELECTion of source columns at runtime happens under the original aegis of the trigger owner. Moreover, I don\'t see any language suggesting that the trigger becomes un-runnable if the trigger owner later loses TRIGGER and\\/or SELECT privilege on the source table.  \\n\\n T2) The permission to execute the trigger action. I can\'t find any language specifying special treatment of permissions for the trigger action. I believe that the trigger action runs with the privileges of the user who invoked the original, triggering INSERT\\/UPDATE\\/DELETE.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13844677\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13844677&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13844677\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_13844677_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13844677_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Dec\\/13 21:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-10T21:15:24+0000\'\u003e10\\/Dec\\/13 21:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt; -----------------------------------------\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; Foreign Keys\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; Permissions for foreign keys are checked when the foreign key is\u003cbr\\/\u003e\\n&gt; declared. The owner of the foreign table must have REFERENCES\u003cbr\\/\u003e\\n&gt; privilege on the referenced columns in the primary key table. \u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"have\\\" meaning have a privilege granted (to user of PUBLIC), or\u003cbr\\/\u003e\\ngranted to the current role, right?\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; See part 2, section 11.8 (referential constraint definition), access\u003cbr\\/\u003e\\n&gt; rule 1. No further permissions checking is required at execution\u003cbr\\/\u003e\\n&gt; time. I do not see any language indicating that foreign keys become\u003cbr\\/\u003e\\n&gt; invalid or un-runnable if the owner of the foreign table later loses\u003cbr\\/\u003e\\n&gt; REFERENCES privilege on the referenced columns. \u003c\\/p\u003e\\n\\n\u003cp\u003eHmm.. this seems wrong to me. I\'d expect this dependency to be\u003cbr\\/\u003e\\ntracked, and Derby to barf (with RESTRICT semantics by default) when\u003cbr\\/\u003e\\nthat privilege was revoked (or cascades as the case might be)...\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; I do not see any\u003cbr\\/\u003e\\n&gt; indication that the user issuing the UPDATE statement is required to\u003cbr\\/\u003e\\n&gt; have SELECT privilege on the referenced columns.\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; -----------------------------------------\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; Generated Columns\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; There are two kinds of permissions related to generation clauses:\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; G1) SELECT permission on the columns mentioned in the generation\u003cbr\\/\u003e\\n&gt; clause. I do not see any language in the Standard suggesting that you\u003cbr\\/\u003e\\n&gt; need explicit SELECT permission on all of the columns mentioned by the\u003cbr\\/\u003e\\n&gt; generation clause. That permission seems to be implied by the INSERT\u003cbr\\/\u003e\\n&gt; privilege you enjoy on the table and the UPDATE privilege you may\u003cbr\\/\u003e\\n&gt; enjoy on a column mentioned by the generation clause.\u003c\\/p\u003e\\n\\n\u003cp\u003eMakes sense to me.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; G2) EXECUTE permission on functions invoked by the generation\u003cbr\\/\u003e\\n&gt; clause. This is addressed by part 2, section 4.28.3 (Execution of\u003cbr\\/\u003e\\n&gt; SQL-invoked routines). The user executing the UPDATE statement must\u003cbr\\/\u003e\\n&gt; enjoy EXECUTE permission on thes functions invoked by the generation\u003cbr\\/\u003e\\n&gt; clause if the generation clause is run as a consequence of UPDATing a\u003cbr\\/\u003e\\n&gt; column.\u003c\\/p\u003e\\n\\n\u003cp\u003eHmm.. this doesn\'t seem right to me. I would have thought the\u003cbr\\/\u003e\\ndefiner\\/owner of the table containing the generation clause would\u003cbr\\/\u003e\\ncarry that burden alone. In section 10.4 6 SR 6 a), the wording is \u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"If RI is contained in an &lt;SQL schema statement&gt;, then an SQL-invoked\u003cbr\\/\u003e\\nroutine R is an executable routine if and only if R is a possibly\u003cbr\\/\u003e\\ncandidate routine and the applicable privileges for the &lt;authorization\u003cbr\\/\u003e\\nidentifier&gt; that owns the containing schema include EXECUTE on R.\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eA create table statement is a SQL schema statement, so I think the\u003cbr\\/\u003e\\nabove will apply?\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e&gt; \u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; -----------------------------------------\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; Check Constraints\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; Similarly, there are two kinds of permissions related to CHECK constraints:\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; C1) SELECT permission on the columns mentioned in the CHECK\u003cbr\\/\u003e\\n&gt; constraint. I do not see any language in the Standard suggesting\u003cbr\\/\u003e\\n&gt; that you need explicit SELECT permission on all of the columns\u003cbr\\/\u003e\\n&gt; mentioned by the CHECK constraint. That permission seems to be\u003cbr\\/\u003e\\n&gt; implied by the INSERT privilege you enjoy on the table and the\u003cbr\\/\u003e\\n&gt; UPDATE privilege you may enjoy on a column mentioned by the CHECK\u003cbr\\/\u003e\\n&gt; constraint.\u003c\\/p\u003e\\n\\n\u003cp\u003eAgain, makes sense.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; \u003cbr\\/\u003e\\n&gt; C2) EXECUTE permission on functions invoked by the CHECK\u003cbr\\/\u003e\\n&gt; constraint. This is addressed by part 2, section 4.28.3 (Execution\u003cbr\\/\u003e\\n&gt; of SQL-invoked routines). The user executing the UPDATE statement\u003cbr\\/\u003e\\n&gt; must enjoy EXECUTE permission on the functions invoked by the CHECK\u003cbr\\/\u003e\\n&gt; constraint.\u003c\\/p\u003e\\n\\n\u003cp\u003eSame objection as above for generation clause.\u003c\\/p\u003e\\n\\n\\n\\n\u003cp\u003e&gt; -----------------------------------------\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; Triggers\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; There are two kinds of permissions related to triggers:\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; T1) The permission to SELECT columns from the source table in order\u003cbr\\/\u003e\\n&gt; to construct transition variables and transition tables. These\u003cbr\\/\u003e\\n&gt; permissions are described by part 2 of the Standard, section 11.49\u003cbr\\/\u003e\\n&gt; (trigger definition), access rule 3. In order to declare a trigger,\u003cbr\\/\u003e\\n&gt; the trigger owner must have SELECT privilege on the whole source\u003cbr\\/\u003e\\n&gt; table if the trigger has transition variables or tables. It is my\u003cbr\\/\u003e\\n&gt; understanding that the SELECTion of source columns at runtime\u003cbr\\/\u003e\\n&gt; happens under the original aegis of the trigger owner. Moreover, I\u003cbr\\/\u003e\\n&gt; don\'t see any language suggesting that the trigger becomes\u003cbr\\/\u003e\\n&gt; un-runnable if the trigger owner later loses TRIGGER and\\/or SELECT\u003cbr\\/\u003e\\n&gt; privilege on the source table.\u003c\\/p\u003e\\n\\n\u003cp\u003eAgain, I\'d expect a revoke to barf in this case unless we have drop\u003cbr\\/\u003e\\ncascading...\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; \u003cbr\\/\u003e\\n&gt; T2) The permission to execute the trigger action. I can\'t find any\u003cbr\\/\u003e\\n&gt; language specifying special treatment of permissions for the trigger\u003cbr\\/\u003e\\n&gt; action. I believe that the trigger action runs with the privileges\u003cbr\\/\u003e\\n&gt; of the user who invoked the original, triggering\u003cbr\\/\u003e\\n&gt; INSERT\\/UPDATE\\/DELETE.\u003c\\/p\u003e\\n\\n\u003cp\u003eYes, that is my understanding, too.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_13844677_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13844677_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Dec\\/13 21:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-10T21:15:24+0000\'\u003e10\\/Dec\\/13 21:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt; ----------------------------------------- \\n&gt;  \\n&gt; Foreign Keys \\n&gt;  \\n&gt; Permissions for foreign keys are checked when the foreign key is \\n&gt; declared. The owner of the foreign table must have REFERENCES \\n&gt; privilege on the referenced columns in the primary key table.  \\n\\n \\\"have\\\" meaning have a privilege granted (to user of PUBLIC), or \\ngranted to the current role, right? \\n\\n &gt; See part 2, section 11.8 (referential constraint definition), access \\n&gt; rule 1. No further permissions checking is required at execution \\n&gt; time. I do not see any language indicating that foreign keys become \\n&gt; invalid or un-runnable if the owner of the foreign table later loses \\n&gt; REFERENCES privilege on the referenced columns.  \\n\\n Hmm.. this seems wrong to me. I\'d expect this dependency to be \\ntracked, and Derby to barf (with RESTRICT semantics by default) when \\nthat privilege was revoked (or cascades as the case might be)... \\n\\n &gt; I do not see any \\n&gt; indication that the user issuing the UPDATE statement is required to \\n&gt; have SELECT privilege on the referenced columns. \\n&gt;  \\n&gt;  \\n&gt; ----------------------------------------- \\n&gt;  \\n&gt; Generated Columns \\n&gt;  \\n&gt; There are two kinds of permissions related to generation clauses: \\n&gt;  \\n&gt; G1) SELECT permission on the columns mentioned in the generation \\n&gt; clause. I do not see any language in the Standard suggesting that you \\n&gt; need explicit SELECT permission on all of the columns mentioned by the \\n&gt; generation clause. That permission seems to be implied by the INSERT \\n&gt; privilege you enjoy on the table and the UPDATE privilege you may \\n&gt; enjoy on a column mentioned by the generation clause. \\n\\n Makes sense to me. \\n\\n &gt; G2) EXECUTE permission on functions invoked by the generation \\n&gt; clause. This is addressed by part 2, section 4.28.3 (Execution of \\n&gt; SQL-invoked routines). The user executing the UPDATE statement must \\n&gt; enjoy EXECUTE permission on thes functions invoked by the generation \\n&gt; clause if the generation clause is run as a consequence of UPDATing a \\n&gt; column. \\n\\n Hmm.. this doesn\'t seem right to me. I would have thought the \\ndefiner\\/owner of the table containing the generation clause would \\ncarry that burden alone. In section 10.4 6 SR 6 a), the wording is  \\n\\n \\\"If RI is contained in an &lt;SQL schema statement&gt;, then an SQL-invoked \\nroutine R is an executable routine if and only if R is a possibly \\ncandidate routine and the applicable privileges for the &lt;authorization \\nidentifier&gt; that owns the containing schema include EXECUTE on R.\\\" \\n\\n A create table statement is a SQL schema statement, so I think the \\nabove will apply? \\n\\n\\n &gt;  \\n&gt;  \\n&gt; ----------------------------------------- \\n&gt;  \\n&gt; Check Constraints \\n&gt;  \\n&gt; Similarly, there are two kinds of permissions related to CHECK constraints: \\n&gt;  \\n&gt; C1) SELECT permission on the columns mentioned in the CHECK \\n&gt; constraint. I do not see any language in the Standard suggesting \\n&gt; that you need explicit SELECT permission on all of the columns \\n&gt; mentioned by the CHECK constraint. That permission seems to be \\n&gt; implied by the INSERT privilege you enjoy on the table and the \\n&gt; UPDATE privilege you may enjoy on a column mentioned by the CHECK \\n&gt; constraint. \\n\\n Again, makes sense. \\n\\n &gt;  \\n&gt; C2) EXECUTE permission on functions invoked by the CHECK \\n&gt; constraint. This is addressed by part 2, section 4.28.3 (Execution \\n&gt; of SQL-invoked routines). The user executing the UPDATE statement \\n&gt; must enjoy EXECUTE permission on the functions invoked by the CHECK \\n&gt; constraint. \\n\\n Same objection as above for generation clause. \\n\\n\\n\\n &gt; ----------------------------------------- \\n&gt;  \\n&gt; Triggers \\n&gt;  \\n&gt; There are two kinds of permissions related to triggers: \\n&gt;  \\n&gt; T1) The permission to SELECT columns from the source table in order \\n&gt; to construct transition variables and transition tables. These \\n&gt; permissions are described by part 2 of the Standard, section 11.49 \\n&gt; (trigger definition), access rule 3. In order to declare a trigger, \\n&gt; the trigger owner must have SELECT privilege on the whole source \\n&gt; table if the trigger has transition variables or tables. It is my \\n&gt; understanding that the SELECTion of source columns at runtime \\n&gt; happens under the original aegis of the trigger owner. Moreover, I \\n&gt; don\'t see any language suggesting that the trigger becomes \\n&gt; un-runnable if the trigger owner later loses TRIGGER and\\/or SELECT \\n&gt; privilege on the source table. \\n\\n Again, I\'d expect a revoke to barf in this case unless we have drop \\ncascading... \\n\\n &gt;  \\n&gt; T2) The permission to execute the trigger action. I can\'t find any \\n&gt; language specifying special treatment of permissions for the trigger \\n&gt; action. I believe that the trigger action runs with the privileges \\n&gt; of the user who invoked the original, triggering \\n&gt; INSERT\\/UPDATE\\/DELETE. \\n\\n Yes, that is my understanding, too.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13844813\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13844813&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13844813\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_13844813_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13844813_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Dec\\/13 23:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-10T23:25:15+0000\'\u003e10\\/Dec\\/13 23:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI went through the SQL spec for UPDATE statement with simple columns (ie with no special clause on the columns involved in the SET clause) and the spec interpretation seems right that the column on the left would require UPDATE privilege and column on the right will require SELECT privilege.\u003c\\/p\u003e\\n\\n\u003cp\u003eAs for unique cases for foreign keys,and trigger action, with a quick glance at the spec, from a quick glance at the spec, I was also not able to find information in the spec about what would happen if the REFERENCES or TRIGGER privileges are revoked. It would seem that Derby will\\/should catch the existing dependencies when those privileges are revoked and  revoke would fail.\u003c\\/p\u003e\\n\\n\u003cp\u003eI have question about generated column \\\"permission related to generation clause : SELECT permission on the columns mentioned in the generation clause. I do not see any language in the Standard suggesting that you need explicit SELECT permission on all of the columns mentioned by the generation clause. That permission seems to be implied by the INSERT privilege you enjoy on the table and the UPDATE privilege you may enjoy on a column mentioned by the generation clause. \\\" I don\'t quite understand what you mean by \\\"the UPDATE privilege you may enjoy on a column mentioned by the generation clause.\\\"\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_13844813_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13844813_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Dec\\/13 23:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-10T23:25:15+0000\'\u003e10\\/Dec\\/13 23:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I went through the SQL spec for UPDATE statement with simple columns (ie with no special clause on the columns involved in the SET clause) and the spec interpretation seems right that the column on the left would require UPDATE privilege and column on the right will require SELECT privilege. \\n\\n As for unique cases for foreign keys,and trigger action, with a quick glance at the spec, from a quick glance at the spec, I was also not able to find information in the spec about what would happen if the REFERENCES or TRIGGER privileges are revoked. It would seem that Derby will\\/should catch the existing dependencies when those privileges are revoked and  revoke would fail. \\n\\n I have question about generated column \\\"permission related to generation clause : SELECT permission on the columns mentioned in the generation clause. I do not see any language in the Standard suggesting that you need explicit SELECT permission on all of the columns mentioned by the generation clause. That permission seems to be implied by the INSERT privilege you enjoy on the table and the UPDATE privilege you may enjoy on a column mentioned by the generation clause. \\\" I don\'t quite understand what you mean by \\\"the UPDATE privilege you may enjoy on a column mentioned by the generation clause.\\\"              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13845382\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13845382&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13845382\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13845382_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13845382_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Dec\\/13 13:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-11T13:21:08+0000\'\u003e11\\/Dec\\/13 13:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for the feedback, Dag and Mamta. Dag, I will respond to your comments later.\u003c\\/p\u003e\\n\\n\u003cp\u003eHi Mamta,\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m sorry about that confusing wording. I was trying to say the following:\u003c\\/p\u003e\\n\\n\u003cp\u003eGiven the following definition...\u003c\\/p\u003e\\n\\n\u003cp\u003ecreate table fred.t\u003cbr\\/\u003e\\n(\u003cbr\\/\u003e\\n    a int,\u003cbr\\/\u003e\\n    b int,\u003cbr\\/\u003e\\n    c generated always as ( a + b )\u003cbr\\/\u003e\\n);\u003c\\/p\u003e\\n\\n\u003cp\u003e...RUTH can issue the following UDPATE...\u003c\\/p\u003e\\n\\n\u003cp\u003eupdate fred.t set a = 1;\u003c\\/p\u003e\\n\\n\u003cp\u003e...provided that she enjoys the following GRANT...\u003c\\/p\u003e\\n\\n\u003cp\u003egrant update ( a ) on fred.t to ruth;\u003c\\/p\u003e\\n\\n\u003cp\u003e...and she does not need the following additional GRANTs...\u003c\\/p\u003e\\n\\n\u003cp\u003egrant select ( b ) on fred.t to ruth;\u003cbr\\/\u003e\\ngrant update ( c ) on fred.t to ruth;\u003c\\/p\u003e\\n\\n\u003cp\u003eHope that\'s less confusing.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks,\u003cbr\\/\u003e\\n-Rick\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13845382_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13845382_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Dec\\/13 13:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-11T13:21:08+0000\'\u003e11\\/Dec\\/13 13:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for the feedback, Dag and Mamta. Dag, I will respond to your comments later. \\n\\n Hi Mamta, \\n\\n I\'m sorry about that confusing wording. I was trying to say the following: \\n\\n Given the following definition... \\n\\n create table fred.t \\n( \\n    a int, \\n    b int, \\n    c generated always as ( a + b ) \\n); \\n\\n ...RUTH can issue the following UDPATE... \\n\\n update fred.t set a = 1; \\n\\n ...provided that she enjoys the following GRANT... \\n\\n grant update ( a ) on fred.t to ruth; \\n\\n ...and she does not need the following additional GRANTs... \\n\\n grant select ( b ) on fred.t to ruth; \\ngrant update ( c ) on fred.t to ruth; \\n\\n Hope that\'s less confusing. \\n\\n Thanks, \\n-Rick              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13845426\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13845426&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13845426\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13845426_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13845426_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Dec\\/13 14:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-11T14:18:34+0000\'\u003e11\\/Dec\\/13 14:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks again for the feedback, Dag. Let me continue the discussion of privileges related to foreign keys.\u003c\\/p\u003e\\n\\n\u003cp\u003e-----------------------------\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;&gt; \\\"have\\\" meaning have a privilege granted (to user of PUBLIC), or\u003cbr\\/\u003e\\n&gt;&gt; granted to the current role, right?\u003c\\/p\u003e\\n\\n\u003cp\u003ePart 2, section 11.8 (referential constraint definition), access rule 1 is all I have to go on:\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"The applicable privileges for the owner of T shall include REFERENCES for each referenced column.\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eNote that the Standard is talking about the privileges of the owner of T, not the privileges of the person issuing the DDL. So consider the following statements issued by the DBO:\u003c\\/p\u003e\\n\\n\u003cp\u003ecreate table alice.primaryTable\u003cbr\\/\u003e\\n(\u003cbr\\/\u003e\\n    a int primary key\u003cbr\\/\u003e\\n);\u003c\\/p\u003e\\n\\n\u003cp\u003egrant references ( a ) on table alice.primary to ref_role;\u003c\\/p\u003e\\n\\n\u003cp\u003egrant ref_role to fred;\u003c\\/p\u003e\\n\\n\u003cp\u003eNow suppose that the DBO issues the following statement:\u003c\\/p\u003e\\n\\n\u003cp\u003ecreate table fred.foreignTable\u003cbr\\/\u003e\\n(\u003cbr\\/\u003e\\n    b int references alice.primaryTable( a )\u003cbr\\/\u003e\\n);\u003c\\/p\u003e\\n\\n\u003cp\u003eI don\'t think that FRED has a meaningful default role here which can be used to supplement the privileges needed for this statement. I think that the CREATE TABLE statement should fail. The following GRANT is needed to make it succeed:\u003c\\/p\u003e\\n\\n\u003cp\u003egrant references ( a ) on table alice.primary to fred;\u003c\\/p\u003e\\n\\n\u003cp\u003e-----------------------------\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;&gt; Hmm.. this seems wrong to me. I\'d expect this dependency to be\u003cbr\\/\u003e\\n&gt;&gt; tracked, and Derby to barf (with RESTRICT semantics by default) when\u003cbr\\/\u003e\\n&gt;&gt; that privilege was revoked (or cascades as the case might be)...\u003c\\/p\u003e\\n\\n\u003cp\u003eYes, I agree with you. The following statement will fail...\u003c\\/p\u003e\\n\\n\u003cp\u003erevoke references ( a ) on table alice.primary from fred restrict;\u003c\\/p\u003e\\n\\n\u003cp\u003e...if the foreign key was created. The following statement will drop the foreign key...\u003c\\/p\u003e\\n\\n\u003cp\u003erevoke references ( a ) on table alice.primary from fred cascade;\u003c\\/p\u003e\\n\\n\u003cp\u003eThat, at least, is my reading of the extensive general rules in part 2, section 12.7 (revoke statement).\u003c\\/p\u003e\\n\\n\u003cp\u003eNote that all of this is orthogonal to the privileges required for an UPDATE of fred.foreignTable. If there is a foreign key, it imposes no privilege-checking burden on an UPDATE statement. The UPDATE statement may need to be re-compiled if a foreign key is added or dropped, but the foreign key does not add any privilege checks to the UPDATE statement.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks,\u003cbr\\/\u003e\\n-Rick\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13845426_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13845426_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Dec\\/13 14:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-11T14:18:34+0000\'\u003e11\\/Dec\\/13 14:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks again for the feedback, Dag. Let me continue the discussion of privileges related to foreign keys. \\n\\n ----------------------------- \\n\\n &gt;&gt; \\\"have\\\" meaning have a privilege granted (to user of PUBLIC), or \\n&gt;&gt; granted to the current role, right? \\n\\n Part 2, section 11.8 (referential constraint definition), access rule 1 is all I have to go on: \\n\\n \\\"The applicable privileges for the owner of T shall include REFERENCES for each referenced column.\\\" \\n\\n Note that the Standard is talking about the privileges of the owner of T, not the privileges of the person issuing the DDL. So consider the following statements issued by the DBO: \\n\\n create table alice.primaryTable \\n( \\n    a int primary key \\n); \\n\\n grant references ( a ) on table alice.primary to ref_role; \\n\\n grant ref_role to fred; \\n\\n Now suppose that the DBO issues the following statement: \\n\\n create table fred.foreignTable \\n( \\n    b int references alice.primaryTable( a ) \\n); \\n\\n I don\'t think that FRED has a meaningful default role here which can be used to supplement the privileges needed for this statement. I think that the CREATE TABLE statement should fail. The following GRANT is needed to make it succeed: \\n\\n grant references ( a ) on table alice.primary to fred; \\n\\n ----------------------------- \\n\\n &gt;&gt; Hmm.. this seems wrong to me. I\'d expect this dependency to be \\n&gt;&gt; tracked, and Derby to barf (with RESTRICT semantics by default) when \\n&gt;&gt; that privilege was revoked (or cascades as the case might be)... \\n\\n Yes, I agree with you. The following statement will fail... \\n\\n revoke references ( a ) on table alice.primary from fred restrict; \\n\\n ...if the foreign key was created. The following statement will drop the foreign key... \\n\\n revoke references ( a ) on table alice.primary from fred cascade; \\n\\n That, at least, is my reading of the extensive general rules in part 2, section 12.7 (revoke statement). \\n\\n Note that all of this is orthogonal to the privileges required for an UPDATE of fred.foreignTable. If there is a foreign key, it imposes no privilege-checking burden on an UPDATE statement. The UPDATE statement may need to be re-compiled if a foreign key is added or dropped, but the foreign key does not add any privilege checks to the UPDATE statement. \\n\\n Thanks, \\n-Rick              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13845428\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13845428&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13845428\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13845428_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13845428_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Dec\\/13 14:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-11T14:22:50+0000\'\u003e11\\/Dec\\/13 14:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks again for the feedback, Dag. Let me continue the discussion of privileges related to triggers.\u003c\\/p\u003e\\n\\n\u003cp\u003e-----------------------------\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;&gt; Again, I\'d expect a revoke to barf in this case unless we have drop\u003cbr\\/\u003e\\n&gt;&gt; cascading...\u003c\\/p\u003e\\n\\n\u003cp\u003eYes, I agree with you.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks,\u003cbr\\/\u003e\\n-Rick\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13845428_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13845428_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Dec\\/13 14:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-11T14:22:50+0000\'\u003e11\\/Dec\\/13 14:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks again for the feedback, Dag. Let me continue the discussion of privileges related to triggers. \\n\\n ----------------------------- \\n\\n &gt;&gt; Again, I\'d expect a revoke to barf in this case unless we have drop \\n&gt;&gt; cascading... \\n\\n Yes, I agree with you. \\n\\n Thanks, \\n-Rick              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13846484\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13846484&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13846484\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13846484_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13846484_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/13 17:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-12T17:38:07+0000\'\u003e12\\/Dec\\/13 17:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIn offline conversations with Dag, Knut, Dyre, and Kim, I have come to the conclusion that the authorization context stack (described in the 2011 SQL Standard, part 2, section 4.28.3 (Execution of SQL-invoked routines)) refers to the pushing of a new authorization context AFTER you enter a routine and start executing nested SQL statements inside it. I cannot find any language in the Standard suggesting that the user who issues an INSERT\\/UPDATE\\/MERGE statement must have privilege to run routines invoked by CHECK constraints or generated columns. Those routines execute under the aegis of the table owner. So I agree with Dag that we should strike the privilege restrictions mentioned in C2 and G2 above.\u003c\\/p\u003e\\n\\n\u003cp\u003eI also think we should strike claim T2 above. The SQL Standard explicitly states that triggered actions execute under the aegis of the trigger owner. Here is the relevant language from the 2011 SQL Standard, part 2, section 4.39.1 (General description of triggers):\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"A triggered action is always executed under the authorization of the owner of the schema that includes the trigger.\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eMuch of this is asserted by the Developer\'s Guide section titled \\\"Privileges on views, triggers, and constraints\\\": \u003ca href=\\\"http:\\/\\/db.apache.org\\/derby\\/docs\\/10.10\\/devguide\\/cdevcsecureprivileges.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/db.apache.org\\/derby\\/docs\\/10.10\\/devguide\\/cdevcsecureprivileges.html\u003c\\/a\u003e. That section should be expanded to include generated columns as expressions which execute under the aegis of the table owner.    \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13846484_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13846484_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/13 17:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-12T17:38:07+0000\'\u003e12\\/Dec\\/13 17:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    In offline conversations with Dag, Knut, Dyre, and Kim, I have come to the conclusion that the authorization context stack (described in the 2011 SQL Standard, part 2, section 4.28.3 (Execution of SQL-invoked routines)) refers to the pushing of a new authorization context AFTER you enter a routine and start executing nested SQL statements inside it. I cannot find any language in the Standard suggesting that the user who issues an INSERT\\/UPDATE\\/MERGE statement must have privilege to run routines invoked by CHECK constraints or generated columns. Those routines execute under the aegis of the table owner. So I agree with Dag that we should strike the privilege restrictions mentioned in C2 and G2 above. \\n\\n I also think we should strike claim T2 above. The SQL Standard explicitly states that triggered actions execute under the aegis of the trigger owner. Here is the relevant language from the 2011 SQL Standard, part 2, section 4.39.1 (General description of triggers): \\n\\n \\\"A triggered action is always executed under the authorization of the owner of the schema that includes the trigger.\\\" \\n\\n Much of this is asserted by the Developer\'s Guide section titled \\\"Privileges on views, triggers, and constraints\\\":  http:\\/\\/db.apache.org\\/derby\\/docs\\/10.10\\/devguide\\/cdevcsecureprivileges.html . That section should be expanded to include generated columns as expressions which execute under the aegis of the table owner.                  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13846518\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13846518&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13846518\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13846518_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13846518_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/13 18:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-12T18:06:28+0000\'\u003e12\\/Dec\\/13 18:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Rick Hillegas - 16\\/Dec\\/13 13:19\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAs a result of the discussion over the past couple days, I have come to the conclusion that constraints, generated columns, and triggers do not impose any privilege burdens on INSERT\\/UPDATE\\/DELETE\\/MERGE statements. The privilege burdens related to constraints, generated columns, and triggers are satisfied at DDL time.\u003c\\/p\u003e\\n\\n\u003cp\u003eAs a result, I would revise the privilege requirements for UPDATE statements as follows. Let P be the union of the privileges granted to the current user and the privileges granted to the current role.\u003c\\/p\u003e\\n\\n\u003cp\u003e1) P must contain UPDATE privilege for all columns on the left side of SET operators.\u003c\\/p\u003e\\n\\n\u003cp\u003e2) P must contain all privileges needed to evaluate the right side of SET operators and run the WHERE clause. That includes:\u003c\\/p\u003e\\n\\n\u003cp\u003ea) SELECT privilege on all columns mentioned on the right side of SET operators and by the WHERE clause\u003c\\/p\u003e\\n\\n\u003cp\u003eb) EXECUTE privilege on all functions invoked on the right side of SET operators and by the WHERE clause\u003c\\/p\u003e\\n\\n\u003cp\u003ec) USAGE privilege on all types, sequences, and aggregates mentioned on the right side of SET operators and by the WHERE clause.\u003c\\/p\u003e\\n\\n\u003cp\u003eOther opinions?\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks,\u003cbr\\/\u003e\\n-Rick\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13846518_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13846518_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/13 18:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-12T18:06:28+0000\'\u003e12\\/Dec\\/13 18:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Rick Hillegas - 16\\/Dec\\/13 13:19\\\"\u003eedited\u003c\\/span\u003e                   As a result of the discussion over the past couple days, I have come to the conclusion that constraints, generated columns, and triggers do not impose any privilege burdens on INSERT\\/UPDATE\\/DELETE\\/MERGE statements. The privilege burdens related to constraints, generated columns, and triggers are satisfied at DDL time. \\n\\n As a result, I would revise the privilege requirements for UPDATE statements as follows. Let P be the union of the privileges granted to the current user and the privileges granted to the current role. \\n\\n 1) P must contain UPDATE privilege for all columns on the left side of SET operators. \\n\\n 2) P must contain all privileges needed to evaluate the right side of SET operators and run the WHERE clause. That includes: \\n\\n a) SELECT privilege on all columns mentioned on the right side of SET operators and by the WHERE clause \\n\\n b) EXECUTE privilege on all functions invoked on the right side of SET operators and by the WHERE clause \\n\\n c) USAGE privilege on all types, sequences, and aggregates mentioned on the right side of SET operators and by the WHERE clause. \\n\\n Other opinions? \\n\\n Thanks, \\n-Rick              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13854291\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13854291&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13854291\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13854291_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13854291_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Dec\\/13 17:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-20T17:45:30+0000\'\u003e20\\/Dec\\/13 17:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching derby-6429-01-ab-privilegeFilters.diff. This is a preliminary version of a fix to this bug. I expect that errors will pop up when I run the full regression tests. In addition, I plan to write additional tests. I\'m attaching this preliminary version because I think it is a promising approach.\u003c\\/p\u003e\\n\\n\u003cp\u003eMy first attempt to fix this bug failed. This is what I tried inside UpdateNode.bindStatement():\u003c\\/p\u003e\\n\\n\u003cp\u003e1) Analyze - Collect a list of all the nodes which should give rise to privilege checks.\u003c\\/p\u003e\\n\\n\u003cp\u003e2) Bind - Continue binding as usual.\u003c\\/p\u003e\\n\\n\u003cp\u003e3) Rebind - At the end of UpdateNode.bindStatement(), create a new CompilerContext and rebind just the nodes which were identified in step 1.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis approach failed because step 2 ended up changing the AST in a way which made it impossible to determine the correct permissions during step 3 for certain edge-cases. These cases involved views.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe current patch does something subtler:\u003c\\/p\u003e\\n\\n\u003cp\u003e1\') Analyze - Mark all nodes which should give rise to privilege checks at run time.\u003c\\/p\u003e\\n\\n\u003cp\u003e2\') Bind - Bind as usual. However, only add privilege checks for the nodes marked during step 1\'.\u003c\\/p\u003e\\n\\n\u003cp\u003e3\') Rebind - Rebind UDT references. These can occur on any ValueNode and so can\'t be picked up during step 1\'.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe patch introduces the following abstractions:\u003c\\/p\u003e\\n\\n\u003cp\u003eVisitableFilter - This is a generic filter for qualifying QueryTreeNodes\u003c\\/p\u003e\\n\\n\u003cp\u003eQueryTreeNode tags - QueryTreeNodes can be tagged for various purposes now.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe patch works by tagging QueryTreeNodes during step 1\' and then only compiling privilege checks for nodes which pass a TagFilter during step 2\'.\u003c\\/p\u003e\\n\\n\u003cp\u003eI am hoping that VisitableFilters and QueryTreeNode tags are general tools which may be useful for other purposes.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eTouches the following files:\u003c\\/p\u003e\\n\\n\u003cp\u003e-------------\u003c\\/p\u003e\\n\\n\u003cp\u003eA       java\\/engine\\/org\\/apache\\/derby\\/iapi\\/sql\\/compile\\/TagFilter.java\u003cbr\\/\u003e\\nM       java\\/engine\\/org\\/apache\\/derby\\/iapi\\/sql\\/compile\\/Visitable.java\u003cbr\\/\u003e\\nA       java\\/engine\\/org\\/apache\\/derby\\/iapi\\/sql\\/compile\\/VisitableFilter.java\u003c\\/p\u003e\\n\\n\u003cp\u003eSupport for filtering QueryTreeNodes based on tags.\u003c\\/p\u003e\\n\\n\u003cp\u003e-------------\u003c\\/p\u003e\\n\\n\u003cp\u003eM       java\\/engine\\/org\\/apache\\/derby\\/iapi\\/sql\\/compile\\/CompilerContext.java\u003cbr\\/\u003e\\nM       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/compile\\/CompilerContextImpl.java\u003cbr\\/\u003e\\nM       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/compile\\/QueryTreeNode.java\u003c\\/p\u003e\\n\\n\u003cp\u003eAdds the ability to declare filters for privilege checking.\u003c\\/p\u003e\\n\\n\u003cp\u003e-------------\u003c\\/p\u003e\\n\\n\u003cp\u003eM       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/compile\\/UpdateNode.java\u003cbr\\/\u003e\\nM       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/compile\\/FromBaseTable.java\u003cbr\\/\u003e\\nM       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/compile\\/StaticMethodCallNode.java\u003c\\/p\u003e\\n\\n\u003cp\u003eChanges to limit which QueryTreeNodes give rise to privilege checks for UPDATE statements.\u003c\\/p\u003e\\n\\n\u003cp\u003e-------------\u003c\\/p\u003e\\n\\n\u003cp\u003eM       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/lang\\/GeneratedColumnsHelper.java\u003cbr\\/\u003e\\nM       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/store\\/Derby5234Test.java\u003cbr\\/\u003e\\nM       java\\/testing\\/org\\/apache\\/derbyTesting\\/junit\\/BaseJDBCTestCase.java\u003c\\/p\u003e\\n\\n\u003cp\u003eMoves some helper methods which I\'ve been using for years. I want to use these helper method in other test classes, so I\'m moving the methods up to BaseJDBCTestCase.\u003c\\/p\u003e\\n\\n\u003cp\u003e-------------\u003c\\/p\u003e\\n\\n\u003cp\u003eM       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/lang\\/UDTTest.java\u003cbr\\/\u003e\\nM       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/lang\\/GrantRevokeDDLTest.java\u003c\\/p\u003e\\n\\n\u003cp\u003eNew test for this patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13854291_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13854291_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Dec\\/13 17:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-20T17:45:30+0000\'\u003e20\\/Dec\\/13 17:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching derby-6429-01-ab-privilegeFilters.diff. This is a preliminary version of a fix to this bug. I expect that errors will pop up when I run the full regression tests. In addition, I plan to write additional tests. I\'m attaching this preliminary version because I think it is a promising approach. \\n\\n My first attempt to fix this bug failed. This is what I tried inside UpdateNode.bindStatement(): \\n\\n 1) Analyze - Collect a list of all the nodes which should give rise to privilege checks. \\n\\n 2) Bind - Continue binding as usual. \\n\\n 3) Rebind - At the end of UpdateNode.bindStatement(), create a new CompilerContext and rebind just the nodes which were identified in step 1. \\n\\n This approach failed because step 2 ended up changing the AST in a way which made it impossible to determine the correct permissions during step 3 for certain edge-cases. These cases involved views. \\n\\n The current patch does something subtler: \\n\\n 1\') Analyze - Mark all nodes which should give rise to privilege checks at run time. \\n\\n 2\') Bind - Bind as usual. However, only add privilege checks for the nodes marked during step 1\'. \\n\\n 3\') Rebind - Rebind UDT references. These can occur on any ValueNode and so can\'t be picked up during step 1\'. \\n\\n The patch introduces the following abstractions: \\n\\n VisitableFilter - This is a generic filter for qualifying QueryTreeNodes \\n\\n QueryTreeNode tags - QueryTreeNodes can be tagged for various purposes now. \\n\\n The patch works by tagging QueryTreeNodes during step 1\' and then only compiling privilege checks for nodes which pass a TagFilter during step 2\'. \\n\\n I am hoping that VisitableFilters and QueryTreeNode tags are general tools which may be useful for other purposes. \\n\\n\\n Touches the following files: \\n\\n ------------- \\n\\n A       java\\/engine\\/org\\/apache\\/derby\\/iapi\\/sql\\/compile\\/TagFilter.java \\nM       java\\/engine\\/org\\/apache\\/derby\\/iapi\\/sql\\/compile\\/Visitable.java \\nA       java\\/engine\\/org\\/apache\\/derby\\/iapi\\/sql\\/compile\\/VisitableFilter.java \\n\\n Support for filtering QueryTreeNodes based on tags. \\n\\n ------------- \\n\\n M       java\\/engine\\/org\\/apache\\/derby\\/iapi\\/sql\\/compile\\/CompilerContext.java \\nM       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/compile\\/CompilerContextImpl.java \\nM       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/compile\\/QueryTreeNode.java \\n\\n Adds the ability to declare filters for privilege checking. \\n\\n ------------- \\n\\n M       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/compile\\/UpdateNode.java \\nM       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/compile\\/FromBaseTable.java \\nM       java\\/engine\\/org\\/apache\\/derby\\/impl\\/sql\\/compile\\/StaticMethodCallNode.java \\n\\n Changes to limit which QueryTreeNodes give rise to privilege checks for UPDATE statements. \\n\\n ------------- \\n\\n M       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/lang\\/GeneratedColumnsHelper.java \\nM       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/store\\/Derby5234Test.java \\nM       java\\/testing\\/org\\/apache\\/derbyTesting\\/junit\\/BaseJDBCTestCase.java \\n\\n Moves some helper methods which I\'ve been using for years. I want to use these helper method in other test classes, so I\'m moving the methods up to BaseJDBCTestCase. \\n\\n ------------- \\n\\n M       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/lang\\/UDTTest.java \\nM       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/lang\\/GrantRevokeDDLTest.java \\n\\n New test for this patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13854462\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13854462&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13854462\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13854462_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13854462_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Dec\\/13 19:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-20T19:26:12+0000\'\u003e20\\/Dec\\/13 19:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching derby-6429-01-ac-privilegeFilters.diff. The previous rev of the patch tripped some errors:\u003c\\/p\u003e\\n\\n\u003cp\u003e1) An NPE introduced by the patch\u003c\\/p\u003e\\n\\n\u003cp\u003e2) A number of wrong results which had been canonized in in privilege tests.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe new patch addresses these problems and touches the following additional file:\u003c\\/p\u003e\\n\\n\u003cp\u003eM       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/lang\\/GeneratedColumnsPermsTest.java\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13854462_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13854462_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Dec\\/13 19:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-20T19:26:12+0000\'\u003e20\\/Dec\\/13 19:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching derby-6429-01-ac-privilegeFilters.diff. The previous rev of the patch tripped some errors: \\n\\n 1) An NPE introduced by the patch \\n\\n 2) A number of wrong results which had been canonized in in privilege tests. \\n\\n The new patch addresses these problems and touches the following additional file: \\n\\n M       java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/lang\\/GeneratedColumnsPermsTest.java              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13855607\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13855607&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13855607\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13855607_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855607_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 12:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T12:47:50+0000\'\u003e23\\/Dec\\/13 12:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for looking into this bug, Rick. Your approach sounds good to me.\u003c\\/p\u003e\\n\\n\u003cp\u003eWhen I looked through the patch the first time, I was a little confused by some of the naming. Nothing major, but here\'s what confused me:\u003c\\/p\u003e\\n\\n\u003cp\u003e1) I had a hard time wrapping my head around the new concept of \\\"visitable tags\\\". Until I found out there was no such thing as a \\\"visitable tag\\\". \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e It became much clearer to me when I learnt to read \\\"addVisitableTag\\\" as \\\"add a tag to this visitable\\\" instead of \\\"add a visitable tag\\\". Maybe dropping \\\"visitable\\\" (which is redundant, anyway, since the methods live in the Visitable interface) and calling the new methods \\\"addTag\\\" and \\\"getTags\\\" would be sufficient?\u003c\\/p\u003e\\n\\n\u003cp\u003e2) TagFilter.UPDATE_PRIVS is very similar to Authorizer.UPDATE_PRIV. However, the nodes that get tagged with UPDATE_PRIVS will actually be checked for SELECT_PRIV. Maybe the constant in TagFilter could be called something that more clearly states that it is for privilege checking of the UPDATE statement (as opposed to checking that the UPDATE privilege is granted).\u003c\\/p\u003e\\n\\n\u003cp\u003eSome more nits:\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eTagFilter.accept() could have called visitableTags.contains(_tag) instead of doing it manually in a for loop.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eMaybe it would be a cleaner interface to have\u003cbr\\/\u003e\\n  boolean hasTag(String tag)\u003cbr\\/\u003e\\n  instead of the method that returns the list of tags in the Visitable interface. That would avoid exposing the internal representation through the interface method (which some static code analyzers tend to frown upon and flag as potential security warnings), and it would simplify two of the three callers of getVisitableTags(). (The third caller, StaticMethodCallNode, still needs the list of tags in order to copy it, but this could be done using a package-private method in QTN instead of via the interface.)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13855607_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855607_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 12:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T12:47:50+0000\'\u003e23\\/Dec\\/13 12:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for looking into this bug, Rick. Your approach sounds good to me. \\n\\n When I looked through the patch the first time, I was a little confused by some of the naming. Nothing major, but here\'s what confused me: \\n\\n 1) I had a hard time wrapping my head around the new concept of \\\"visitable tags\\\". Until I found out there was no such thing as a \\\"visitable tag\\\".   It became much clearer to me when I learnt to read \\\"addVisitableTag\\\" as \\\"add a tag to this visitable\\\" instead of \\\"add a visitable tag\\\". Maybe dropping \\\"visitable\\\" (which is redundant, anyway, since the methods live in the Visitable interface) and calling the new methods \\\"addTag\\\" and \\\"getTags\\\" would be sufficient? \\n\\n 2) TagFilter.UPDATE_PRIVS is very similar to Authorizer.UPDATE_PRIV. However, the nodes that get tagged with UPDATE_PRIVS will actually be checked for SELECT_PRIV. Maybe the constant in TagFilter could be called something that more clearly states that it is for privilege checking of the UPDATE statement (as opposed to checking that the UPDATE privilege is granted). \\n\\n Some more nits: \\n\\n \\n\\t TagFilter.accept() could have called visitableTags.contains(_tag) instead of doing it manually in a for loop. \\n \\n\\n\\n \\n\\t Maybe it would be a cleaner interface to have \\n  boolean hasTag(String tag) \\n  instead of the method that returns the list of tags in the Visitable interface. That would avoid exposing the internal representation through the interface method (which some static code analyzers tend to frown upon and flag as potential security warnings), and it would simplify two of the three callers of getVisitableTags(). (The third caller, StaticMethodCallNode, still needs the list of tags in order to copy it, but this could be done using a package-private method in QTN instead of via the interface.) \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13855622\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13855622&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13855622\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13855622_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855622_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 13:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T13:18:28+0000\'\u003e23\\/Dec\\/13 13:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI ran the following test on the patch:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eij version 10.11\\nij&gt; connect \'jdbc:derby:memory:db;create=true;user=dbo\';\\nij&gt; call syscs_util.syscs_set_database_property(\'derby.database.sqlAuthorization\', \'true\');\\n0 rows inserted\\/updated\\/deleted\\nij&gt; connect \'jdbc:derby:memory:db;shutdown=true\';\\nERROR 08006: Database \'memory:db\' shutdown.\\nij&gt; connect \'jdbc:derby:memory:db;user=u1\' as u1;\\nWARNING 01J14: SQL authorization is being used without first enabling authentication.\\nij(U1)&gt; create table t1(x int, y int, z int);\\n0 rows inserted\\/updated\\/deleted\\nij(U1)&gt; grant update on t1 to u2;\\n0 rows inserted\\/updated\\/deleted\\nij(U1)&gt; connect \'jdbc:derby:memory:db;user=u2\' as u2;\\nWARNING 01J14: SQL authorization is being used without first enabling authentication.\\nij(U2)&gt; update u1.t1 set x = y;\\n0 rows inserted\\/updated\\/deleted\\nWARNING 02000: No row was found for FETCH, UPDATE or DELETE; or the result of a query is an empty table.\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eShouldn\'t the UPDATE statement have failed because U2 didn\'t have SELECT permission on U1.T1(Y)?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13855622_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855622_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 13:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T13:18:28+0000\'\u003e23\\/Dec\\/13 13:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I ran the following test on the patch: \\n\\n  \\n ij version 10.11\\nij&gt; connect \'jdbc:derby:memory:db;create=true;user=dbo\';\\nij&gt; call syscs_util.syscs_set_database_property(\'derby.database.sqlAuthorization\', \'true\');\\n0 rows inserted\\/updated\\/deleted\\nij&gt; connect \'jdbc:derby:memory:db;shutdown=true\';\\nERROR 08006: Database \'memory:db\' shutdown.\\nij&gt; connect \'jdbc:derby:memory:db;user=u1\' as u1;\\nWARNING 01J14: SQL authorization is being used without first enabling authentication.\\nij(U1)&gt; create table t1(x int, y int, z int);\\n0 rows inserted\\/updated\\/deleted\\nij(U1)&gt; grant update on t1 to u2;\\n0 rows inserted\\/updated\\/deleted\\nij(U1)&gt; connect \'jdbc:derby:memory:db;user=u2\' as u2;\\nWARNING 01J14: SQL authorization is being used without first enabling authentication.\\nij(U2)&gt; update u1.t1 set x = y;\\n0 rows inserted\\/updated\\/deleted\\nWARNING 02000: No row was found for FETCH, UPDATE or DELETE; or the result of a query is an empty table.\\n \\n  \\n\\n Shouldn\'t the UPDATE statement have failed because U2 didn\'t have SELECT permission on U1.T1(Y)?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13855651\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13855651&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13855651\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13855651_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855651_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 14:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T14:06:06+0000\'\u003e23\\/Dec\\/13 14:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for those excellent suggestions, Knut. Attaching derby-6429-01-ad-privilegeFilters.diff, which makes the following changes:\u003c\\/p\u003e\\n\\n\u003cp\u003e1) Visitable.addVisitableTag() is renamed to addTag()\u003c\\/p\u003e\\n\\n\u003cp\u003e2) Visitable.getVisitableTags() is replaced with taggedWith()\u003c\\/p\u003e\\n\\n\u003cp\u003e3) New copyTagsFrom() method is added to QueryTreeNode\u003c\\/p\u003e\\n\\n\u003cp\u003e4) TagFilter.UPDATE_PRIVS is renamed to NEED_PRIVS_FOR_UPDATE_STMT\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13855651_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855651_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 14:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T14:06:06+0000\'\u003e23\\/Dec\\/13 14:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for those excellent suggestions, Knut. Attaching derby-6429-01-ad-privilegeFilters.diff, which makes the following changes: \\n\\n 1) Visitable.addVisitableTag() is renamed to addTag() \\n\\n 2) Visitable.getVisitableTags() is replaced with taggedWith() \\n\\n 3) New copyTagsFrom() method is added to QueryTreeNode \\n\\n 4) TagFilter.UPDATE_PRIVS is renamed to NEED_PRIVS_FOR_UPDATE_STMT              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13855655\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13855655&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13855655\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13855655_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855655_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 14:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T14:10:57+0000\'\u003e23\\/Dec\\/13 14:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for test-driving this patch, Knut. I am able to reproduce the behavior you are seeing. It\'s wrong. I\'ll look into it. Thanks.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13855655_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855655_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 14:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T14:10:57+0000\'\u003e23\\/Dec\\/13 14:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for test-driving this patch, Knut. I am able to reproduce the behavior you are seeing. It\'s wrong. I\'ll look into it. Thanks.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13855673\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13855673&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13855673\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13855673_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855673_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 15:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T15:01:01+0000\'\u003e23\\/Dec\\/13 15:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching derby-6429-01-ae-privilegeFilters.diff. This patch fixes the bug Knut tripped across.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe problem was that a ColumnReference was being cloned and the tags from the original ColumnReference weren\'t propagated to the clone. I have added a copyTagsFrom() call to ColumnReference.copyFields(). That fixes this bug. I added a regression test case for this problem to GrantRevokeDDLTest.\u003c\\/p\u003e\\n\\n\u003cp\u003eLet me know if you can think of other instances of this bug. The only other parallel to this bug which I found by code inspection was the cloning of ResultColumns. I added a copyTagsFrom() call to ResultColumn.cloneMe().\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks!\u003cbr\\/\u003e\\n-Rick\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13855673_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855673_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 15:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T15:01:01+0000\'\u003e23\\/Dec\\/13 15:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching derby-6429-01-ae-privilegeFilters.diff. This patch fixes the bug Knut tripped across. \\n\\n The problem was that a ColumnReference was being cloned and the tags from the original ColumnReference weren\'t propagated to the clone. I have added a copyTagsFrom() call to ColumnReference.copyFields(). That fixes this bug. I added a regression test case for this problem to GrantRevokeDDLTest. \\n\\n Let me know if you can think of other instances of this bug. The only other parallel to this bug which I found by code inspection was the cloning of ResultColumns. I added a copyTagsFrom() call to ResultColumn.cloneMe(). \\n\\n Thanks! \\n-Rick              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13855732\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13855732&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13855732\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13855732_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855732_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 16:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T16:26:54+0000\'\u003e23\\/Dec\\/13 16:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for making these changes, Rick.\u003c\\/p\u003e\\n\\n\u003cp\u003eI found another anomaly (also seen without the patch):\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eij&gt; connect \'jdbc:derby:memory:db;user=u1\' as u1;\\nWARNING 01J14: SQL authorization is being used without first enabling authentication.\\nij(U1)&gt; create table t1(x int);\\n0 rows inserted\\/updated\\/deleted\\nij(U1)&gt; create table t2(x int);\\n0 rows inserted\\/updated\\/deleted\\nij(U1)&gt; insert into t2 values 1, 2;\\n2 rows inserted\\/updated\\/deleted\\nij(U1)&gt; grant update on t1 to u2;\\n0 rows inserted\\/updated\\/deleted\\nij(U1)&gt; connect \'jdbc:derby:memory:db;user=u2\' as u2;\\nWARNING 01J14: SQL authorization is being used without first enabling authentication.\\nij(U2)&gt; update u1.t1 set x = (select x from u1.t2);\\nERROR 21000: Scalar subquery is only allowed to return a single row.\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eI would have expected the UPDATE statement to fail with a privilege error. Instead, it fails with an error message that reveals that U1.T2 contains more than one row. U2 shouldn\'t be able to get that info without a SELECT privilege on U1.T2, I think.\u003c\\/p\u003e\\n\\n\u003cp\u003eIf U1.T2 is empty or contains only one row, the UPDATE statement fails with the expected permission error.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13855732_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855732_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 16:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T16:26:54+0000\'\u003e23\\/Dec\\/13 16:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for making these changes, Rick. \\n\\n I found another anomaly (also seen without the patch): \\n\\n  \\n ij&gt; connect \'jdbc:derby:memory:db;user=u1\' as u1;\\nWARNING 01J14: SQL authorization is being used without first enabling authentication.\\nij(U1)&gt; create table t1(x int);\\n0 rows inserted\\/updated\\/deleted\\nij(U1)&gt; create table t2(x int);\\n0 rows inserted\\/updated\\/deleted\\nij(U1)&gt; insert into t2 values 1, 2;\\n2 rows inserted\\/updated\\/deleted\\nij(U1)&gt; grant update on t1 to u2;\\n0 rows inserted\\/updated\\/deleted\\nij(U1)&gt; connect \'jdbc:derby:memory:db;user=u2\' as u2;\\nWARNING 01J14: SQL authorization is being used without first enabling authentication.\\nij(U2)&gt; update u1.t1 set x = (select x from u1.t2);\\nERROR 21000: Scalar subquery is only allowed to return a single row.\\n \\n  \\n\\n I would have expected the UPDATE statement to fail with a privilege error. Instead, it fails with an error message that reveals that U1.T2 contains more than one row. U2 shouldn\'t be able to get that info without a SELECT privilege on U1.T2, I think. \\n\\n If U1.T2 is empty or contains only one row, the UPDATE statement fails with the expected permission error.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13855751\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13855751&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13855751\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13855751_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855751_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 16:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T16:53:29+0000\'\u003e23\\/Dec\\/13 16:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for continuing to test-drive this patch, Knut. I am able to reproduce your results. Looking at the stack traces for both experiments (with and without rows in the table in the subquery), here is my theory about what is happening:\u003c\\/p\u003e\\n\\n\u003cp\u003e1) The subquery result is being materialized as a OnceResultSet which runs before the UPDATE runs.\u003c\\/p\u003e\\n\\n\u003cp\u003e2) But all of the permissions attached to the statement are checked just before the UpdateResultSet executes.\u003c\\/p\u003e\\n\\n\u003cp\u003e3) If the OnceResultSet contains more than one row, then it raises the \\\"Scalar subquery is only allowed to return a single row\\\" error before the permissions associated with the UpdateResultSet are checked.\u003c\\/p\u003e\\n\\n\u003cp\u003eFixing this may required some thought. The permissions are attached to the CompilerContext during the bind() phase. They are not attached to individual query blocks. I think that the decision to materialize the subquery is made during the pre-processing phase of optimization. By that time, we have lost all memory of which query block the permissions came from.\u003c\\/p\u003e\\n\\n\u003cp\u003eI would tend to regard this as another bug with privilege management, which deserves its own JIRA. What are your thoughts?\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks,\u003cbr\\/\u003e\\n-Rick\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13855751_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855751_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 16:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T16:53:29+0000\'\u003e23\\/Dec\\/13 16:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for continuing to test-drive this patch, Knut. I am able to reproduce your results. Looking at the stack traces for both experiments (with and without rows in the table in the subquery), here is my theory about what is happening: \\n\\n 1) The subquery result is being materialized as a OnceResultSet which runs before the UPDATE runs. \\n\\n 2) But all of the permissions attached to the statement are checked just before the UpdateResultSet executes. \\n\\n 3) If the OnceResultSet contains more than one row, then it raises the \\\"Scalar subquery is only allowed to return a single row\\\" error before the permissions associated with the UpdateResultSet are checked. \\n\\n Fixing this may required some thought. The permissions are attached to the CompilerContext during the bind() phase. They are not attached to individual query blocks. I think that the decision to materialize the subquery is made during the pre-processing phase of optimization. By that time, we have lost all memory of which query block the permissions came from. \\n\\n I would tend to regard this as another bug with privilege management, which deserves its own JIRA. What are your thoughts? \\n\\n Thanks, \\n-Rick              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13855761\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13855761&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13855761\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13855761_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855761_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 16:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T16:59:42+0000\'\u003e23\\/Dec\\/13 16:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMaybe we don\'t have to change the compiler much in order to fix this new issue you\'ve found. The fix may be as simple as performing the runtime privilege checks on the first ResultSet that is materialized. Authorization checks are performed by GenericResultSetFactory.getUpdateResultSet() but not by GenericResultSetFactory.getOnceResultSet().\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13855761_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855761_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 16:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T16:59:42+0000\'\u003e23\\/Dec\\/13 16:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Maybe we don\'t have to change the compiler much in order to fix this new issue you\'ve found. The fix may be as simple as performing the runtime privilege checks on the first ResultSet that is materialized. Authorization checks are performed by GenericResultSetFactory.getUpdateResultSet() but not by GenericResultSetFactory.getOnceResultSet().              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13855781\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13855781&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13855781\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13855781_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855781_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 17:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T17:20:18+0000\'\u003e23\\/Dec\\/13 17:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIt sounds reasonable to handle it as a separate bug, as it can also be seen outside of UPDATE:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eij(U2)&gt; values (select x from u1.s);\\nERROR 21000: Scalar subquery is only allowed to return a single row.\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eI\'ve filed \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-6439\\\" title=\\\"Privileges not checked before scalar subquery is materialized\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-6439\\\"\u003eDERBY-6439\u003c\\/a\u003e.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13855781_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855781_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 17:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T17:20:18+0000\'\u003e23\\/Dec\\/13 17:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    It sounds reasonable to handle it as a separate bug, as it can also be seen outside of UPDATE: \\n\\n  \\n ij(U2)&gt; values (select x from u1.s);\\nERROR 21000: Scalar subquery is only allowed to return a single row.\\n \\n  \\n\\n I\'ve filed  DERBY-6439 .              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13855811\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13855811&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13855811\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13855811_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855811_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 18:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T18:12:43+0000\'\u003e23\\/Dec\\/13 18:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching derby-6429-01-af-privilegeFilters.diff. This patch adds some more test cases. I am running regression tests now.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis patch adds tests for cases when views and table functions appear in the WHERE clause and on the right side of SET operators.\u003c\\/p\u003e\\n\\n\u003cp\u003eTouches the same files as the previous versions of the patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13855811_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855811_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 18:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T18:12:43+0000\'\u003e23\\/Dec\\/13 18:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching derby-6429-01-af-privilegeFilters.diff. This patch adds some more test cases. I am running regression tests now. \\n\\n This patch adds tests for cases when views and table functions appear in the WHERE clause and on the right side of SET operators. \\n\\n Touches the same files as the previous versions of the patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13855895\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13855895&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13855895\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_13855895_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855895_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 20:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T20:07:45+0000\'\u003e23\\/Dec\\/13 20:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1553197 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\" class=\\\"user-hover\\\" rel=\\\"rhillegas\\\"\u003eRick Hillegas\u003c\\/a\u003e in branch \'code\\/trunk\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1553197\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1553197\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-6429\\\" title=\\\"Privilege checks for UPDATE statements are wrong.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-6429\\\"\u003e\u003cdel\u003eDERBY-6429\u003c\\/del\u003e\u003c\\/a\u003e: Bring privilege checks on UPDATE statements into closer alignment with the SQL Standard; tests passed cleanly on derby-6429-01-af-privilegeFilters.diff.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_13855895_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13855895_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Dec\\/13 20:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-23T20:07:45+0000\'\u003e23\\/Dec\\/13 20:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1553197 from  Rick Hillegas  in branch \'code\\/trunk\' \\n[  https:\\/\\/svn.apache.org\\/r1553197  ] \\n\\n   DERBY-6429  : Bring privilege checks on UPDATE statements into closer alignment with the SQL Standard; tests passed cleanly on derby-6429-01-af-privilegeFilters.diff.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13864809\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13864809&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13864809\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_13864809_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13864809_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jan\\/14 22:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-07T22:43:49+0000\'\u003e07\\/Jan\\/14 22:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIt seems like we should mark this jira as not suitable for backport because of compatibility reasons. The privileges required for UPDATE statement with this fix will now be different than those required by previous releases.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_13864809_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13864809_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jan\\/14 22:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-07T22:43:49+0000\'\u003e07\\/Jan\\/14 22:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    It seems like we should mark this jira as not suitable for backport because of compatibility reasons. The privileges required for UPDATE statement with this fix will now be different than those required by previous releases.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13865418\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13865418&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13865418\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13865418_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13865418_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jan\\/14 13:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-08T13:35:46+0000\'\u003e08\\/Jan\\/14 13:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThat sounds like a reasonable suggestion, Mamta. This bugfix might be especially disruptive. Your question prompted me to mark this issue as needing a release note. How are we tagging issues which are unsuitable for backport? I didn\'t see an appropriate label, but maybe I need another cup of coffee this morning. Thanks.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13865418_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13865418_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jan\\/14 13:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-08T13:35:46+0000\'\u003e08\\/Jan\\/14 13:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    That sounds like a reasonable suggestion, Mamta. This bugfix might be especially disruptive. Your question prompted me to mark this issue as needing a release note. How are we tagging issues which are unsuitable for backport? I didn\'t see an appropriate label, but maybe I need another cup of coffee this morning. Thanks.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13866871\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13866871&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13866871\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_13866871_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13866871_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/14 18:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-09T18:17:29+0000\'\u003e09\\/Jan\\/14 18:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eRick, I just put a new label \\\"backport_reject_10_10\\\" in the label field. Hope that is the right way to mark it reject for backport to 10.10 and prior releases.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_13866871_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13866871_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/14 18:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-09T18:17:29+0000\'\u003e09\\/Jan\\/14 18:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Rick, I just put a new label \\\"backport_reject_10_10\\\" in the label field. Hope that is the right way to mark it reject for backport to 10.10 and prior releases.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13866872\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13866872&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13866872\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_13866872_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13866872_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/14 18:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-09T18:19:04+0000\'\u003e09\\/Jan\\/14 18:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAlso, there were number of privileges related jira that were created while researching on this jira. I am wondering if those should be marked reject for backport and release note required as well. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_13866872_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13866872_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/14 18:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-09T18:19:04+0000\'\u003e09\\/Jan\\/14 18:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Also, there were number of privileges related jira that were created while researching on this jira. I am wondering if those should be marked reject for backport and release note required as well.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13866875\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13866875&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13866875\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13866875_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13866875_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/14 18:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-09T18:22:45+0000\'\u003e09\\/Jan\\/14 18:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Rick Hillegas - 09\\/Jan\\/14 18:23\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks, Mamta. I have added the backport_reject_10_10 label to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3434\\\" title=\\\"Send master database to the slave location using the replication network\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3434\\\"\u003eDERBY-3434\u003c\\/a\u003e. That\'s where I\'m doing the corresponding work for INSERTs and DELETEs. I\'ve already flagged that it needs a release note. I think that should be good enough for the moment. Thanks.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13866875_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13866875_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/14 18:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-09T18:22:45+0000\'\u003e09\\/Jan\\/14 18:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Rick Hillegas - 09\\/Jan\\/14 18:23\\\"\u003eedited\u003c\\/span\u003e                   Thanks, Mamta. I have added the backport_reject_10_10 label to  DERBY-3434 . That\'s where I\'m doing the corresponding work for INSERTs and DELETEs. I\'ve already flagged that it needs a release note. I think that should be good enough for the moment. Thanks.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13872580\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13872580&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13872580\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13872580_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13872580_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jan\\/14 20:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-15T20:56:22+0000\'\u003e15\\/Jan\\/14 20:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching a first draft of a release note for this issue.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13872580_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13872580_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jan\\/14 20:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-15T20:56:22+0000\'\u003e15\\/Jan\\/14 20:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching a first draft of a release note for this issue.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13873520\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13873520&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13873520\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13873520_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13873520_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/14 15:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-16T15:50:54+0000\'\u003e16\\/Jan\\/14 15:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI believe that I am done with the changes which I intend to make for this issue.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13873520_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13873520_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/14 15:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-16T15:50:54+0000\'\u003e16\\/Jan\\/14 15:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I believe that I am done with the changes which I intend to make for this issue.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13873542\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=13873542&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13873542\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13873542_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13873542_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/14 16:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-16T16:08:42+0000\'\u003e16\\/Jan\\/14 16:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching a second rev of the release note (corrected a typo).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_13873542_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13873542_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/14 16:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-16T16:08:42+0000\'\u003e16\\/Jan\\/14 16:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching a second rev of the release note (corrected a typo).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14284879\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-6429?focusedCommentId=14284879&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14284879\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"myrna\\\" id=\\\"commentauthor_14284879_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=myrna\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"myrna\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Myrna van Lunteren\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14284879_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/15 00:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-21T00:23:52+0000\'\u003e21\\/Jan\\/15 00:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ebulk change to close all issues resolved but not closed and not changed since June 1, 2014.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"myrna\\\" id=\\\"commentauthor_14284879_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=myrna\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"myrna\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Myrna van Lunteren\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14284879_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/15 00:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-21T00:23:52+0000\'\u003e21\\/Jan\\/15 00:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    bulk change to close all issues resolved but not closed and not changed since June 1, 2014.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="10594";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=10594&amp;avatarId=10122\\\" alt=\\\"Derby\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\"\u003eDerby\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520240862699"> 
    <input type="hidden" title="jira.request.server.time" value="289"> 
    <input type="hidden" title="jira.request.id" value="547x94441565x4"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="9"> 
    <input type="hidden" title="db.reads.time.in.ms" value="53"> 
    <input type="hidden" title="db.conns.time.in.ms" value="61"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 547x94441565x4
	          REQUEST TIMESTAMP : [05/Mar/2018:09:07:42 +0000]
	               REQUEST TIME : 0.2890
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 9

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=39, elapsedTotal=53687684, elapsedMin=456061, elapsedMax=9691400, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=43, elapsedTotal=61152953, elapsedMin=472625, elapsedMax=9788494, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>